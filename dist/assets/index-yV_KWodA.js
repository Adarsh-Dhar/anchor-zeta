var Qx=Object.defineProperty;var Xx=(t,e,n)=>e in t?Qx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Nt=(t,e,n)=>Xx(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var _r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function no(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ro(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var TE={exports:{}},qf={},kE={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gc=Symbol.for("react.element"),Jx=Symbol.for("react.portal"),eT=Symbol.for("react.fragment"),tT=Symbol.for("react.strict_mode"),nT=Symbol.for("react.profiler"),rT=Symbol.for("react.provider"),iT=Symbol.for("react.context"),oT=Symbol.for("react.forward_ref"),sT=Symbol.for("react.suspense"),aT=Symbol.for("react.memo"),lT=Symbol.for("react.lazy"),l1=Symbol.iterator;function cT(t){return t===null||typeof t!="object"?null:(t=l1&&t[l1]||t["@@iterator"],typeof t=="function"?t:null)}var CE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ME=Object.assign,OE={};function yl(t,e,n){this.props=t,this.context=e,this.refs=OE,this.updater=n||CE}yl.prototype.isReactComponent={};yl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function LE(){}LE.prototype=yl.prototype;function qm(t,e,n){this.props=t,this.context=e,this.refs=OE,this.updater=n||CE}var Ym=qm.prototype=new LE;Ym.constructor=qm;ME(Ym,yl.prototype);Ym.isPureReactComponent=!0;var c1=Array.isArray,BE=Object.prototype.hasOwnProperty,Zm={current:null},PE={key:!0,ref:!0,__self:!0,__source:!0};function DE(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)BE.call(e,r)&&!PE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Gc,type:t,key:o,ref:s,props:i,_owner:Zm.current}}function uT(t,e){return{$$typeof:Gc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gc}function dT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var u1=/\/+/g;function pp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dT(""+t.key):e.toString(36)}function Ju(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Gc:case Jx:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+pp(s,0):r,c1(i)?(n="",t!=null&&(n=t.replace(u1,"$&/")+"/"),Ju(i,e,n,"",function(c){return c})):i!=null&&(Qm(i)&&(i=uT(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(u1,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",c1(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+pp(o,a);s+=Ju(o,e,n,l,i)}else if(l=cT(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+pp(o,a++),s+=Ju(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function yu(t,e,n){if(t==null)return t;var r=[],i=0;return Ju(t,r,"","",function(o){return e.call(n,o,i++)}),r}function fT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vn={current:null},ed={transition:null},hT={ReactCurrentDispatcher:Vn,ReactCurrentBatchConfig:ed,ReactCurrentOwner:Zm};function UE(){throw Error("act(...) is not supported in production builds of React.")}Be.Children={map:yu,forEach:function(t,e,n){yu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yu(t,function(){e++}),e},toArray:function(t){return yu(t,function(e){return e})||[]},only:function(t){if(!Qm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Be.Component=yl;Be.Fragment=eT;Be.Profiler=nT;Be.PureComponent=qm;Be.StrictMode=tT;Be.Suspense=sT;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hT;Be.act=UE;Be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ME({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Zm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)BE.call(e,l)&&!PE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Gc,type:t.type,key:i,ref:o,props:r,_owner:s}};Be.createContext=function(t){return t={$$typeof:iT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rT,_context:t},t.Consumer=t};Be.createElement=DE;Be.createFactory=function(t){var e=DE.bind(null,t);return e.type=t,e};Be.createRef=function(){return{current:null}};Be.forwardRef=function(t){return{$$typeof:oT,render:t}};Be.isValidElement=Qm;Be.lazy=function(t){return{$$typeof:lT,_payload:{_status:-1,_result:t},_init:fT}};Be.memo=function(t,e){return{$$typeof:aT,type:t,compare:e===void 0?null:e}};Be.startTransition=function(t){var e=ed.transition;ed.transition={};try{t()}finally{ed.transition=e}};Be.unstable_act=UE;Be.useCallback=function(t,e){return Vn.current.useCallback(t,e)};Be.useContext=function(t){return Vn.current.useContext(t)};Be.useDebugValue=function(){};Be.useDeferredValue=function(t){return Vn.current.useDeferredValue(t)};Be.useEffect=function(t,e){return Vn.current.useEffect(t,e)};Be.useId=function(){return Vn.current.useId()};Be.useImperativeHandle=function(t,e,n){return Vn.current.useImperativeHandle(t,e,n)};Be.useInsertionEffect=function(t,e){return Vn.current.useInsertionEffect(t,e)};Be.useLayoutEffect=function(t,e){return Vn.current.useLayoutEffect(t,e)};Be.useMemo=function(t,e){return Vn.current.useMemo(t,e)};Be.useReducer=function(t,e,n){return Vn.current.useReducer(t,e,n)};Be.useRef=function(t){return Vn.current.useRef(t)};Be.useState=function(t){return Vn.current.useState(t)};Be.useSyncExternalStore=function(t,e,n){return Vn.current.useSyncExternalStore(t,e,n)};Be.useTransition=function(){return Vn.current.useTransition()};Be.version="18.3.1";kE.exports=Be;var te=kE.exports;const re=no(te);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pT=te,gT=Symbol.for("react.element"),mT=Symbol.for("react.fragment"),yT=Object.prototype.hasOwnProperty,wT=pT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vT={key:!0,ref:!0,__self:!0,__source:!0};function zE(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)yT.call(e,r)&&!vT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:gT,type:t,key:o,ref:s,props:i,_owner:wT.current}}qf.Fragment=mT;qf.jsx=zE;qf.jsxs=zE;TE.exports=qf;var F=TE.exports,D0={},jE={exports:{}},br={},WE={exports:{}},FE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(x,M){var z=x.length;x.push(M);e:for(;0<z;){var C=z-1>>>1,y=x[C];if(0<i(y,M))x[C]=M,x[z]=y,z=C;else break e}}function n(x){return x.length===0?null:x[0]}function r(x){if(x.length===0)return null;var M=x[0],z=x.pop();if(z!==M){x[0]=z;e:for(var C=0,y=x.length,D=y>>>1;C<D;){var Z=2*(C+1)-1,ee=x[Z],ae=Z+1,ve=x[ae];if(0>i(ee,z))ae<y&&0>i(ve,ee)?(x[C]=ve,x[ae]=z,C=ae):(x[C]=ee,x[Z]=z,C=Z);else if(ae<y&&0>i(ve,z))x[C]=ve,x[ae]=z,C=ae;else break e}}return M}function i(x,M){var z=x.sortIndex-M.sortIndex;return z!==0?z:x.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],d=1,g=null,p=3,f=!1,m=!1,R=!1,I=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(x){for(var M=n(c);M!==null;){if(M.callback===null)r(c);else if(M.startTime<=x)r(c),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(c)}}function N(x){if(R=!1,_(x),!m)if(n(l)!==null)m=!0,S(L);else{var M=n(c);M!==null&&T(N,M.startTime-x)}}function L(x,M){m=!1,R&&(R=!1,w(U),U=-1),f=!0;var z=p;try{for(_(M),g=n(l);g!==null&&(!(g.expirationTime>M)||x&&!$());){var C=g.callback;if(typeof C=="function"){g.callback=null,p=g.priorityLevel;var y=C(g.expirationTime<=M);M=t.unstable_now(),typeof y=="function"?g.callback=y:g===n(l)&&r(l),_(M)}else r(l);g=n(l)}if(g!==null)var D=!0;else{var Z=n(c);Z!==null&&T(N,Z.startTime-M),D=!1}return D}finally{g=null,p=z,f=!1}}var j=!1,O=null,U=-1,P=5,W=-1;function $(){return!(t.unstable_now()-W<P)}function H(){if(O!==null){var x=t.unstable_now();W=x;var M=!0;try{M=O(!0,x)}finally{M?A():(j=!1,O=null)}}else j=!1}var A;if(typeof b=="function")A=function(){b(H)};else if(typeof MessageChannel<"u"){var u=new MessageChannel,h=u.port2;u.port1.onmessage=H,A=function(){h.postMessage(null)}}else A=function(){I(H,0)};function S(x){O=x,j||(j=!0,A())}function T(x,M){U=I(function(){x(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(x){x.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,S(L))},t.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<x?Math.floor(1e3/x):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(x){switch(p){case 1:case 2:case 3:var M=3;break;default:M=p}var z=p;p=M;try{return x()}finally{p=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(x,M){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var z=p;p=x;try{return M()}finally{p=z}},t.unstable_scheduleCallback=function(x,M,z){var C=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?C+z:C):z=C,x){case 1:var y=-1;break;case 2:y=250;break;case 5:y=1073741823;break;case 4:y=1e4;break;default:y=5e3}return y=z+y,x={id:d++,callback:M,priorityLevel:x,startTime:z,expirationTime:y,sortIndex:-1},z>C?(x.sortIndex=z,e(c,x),n(l)===null&&x===n(c)&&(R?(w(U),U=-1):R=!0,T(N,z-C))):(x.sortIndex=y,e(l,x),m||f||(m=!0,S(L))),x},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(x){var M=p;return function(){var z=p;p=M;try{return x.apply(this,arguments)}finally{p=z}}}})(FE);WE.exports=FE;var _T=WE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ET=te,Er=_T;function ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $E=new Set,vc={};function Fs(t,e){Ga(t,e),Ga(t+"Capture",e)}function Ga(t,e){for(vc[t]=e,t=0;t<e.length;t++)$E.add(e[t])}var Qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),U0=Object.prototype.hasOwnProperty,bT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d1={},f1={};function ST(t){return U0.call(f1,t)?!0:U0.call(d1,t)?!1:bT.test(t)?f1[t]=!0:(d1[t]=!0,!1)}function AT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function RT(t,e,n,r){if(e===null||typeof e>"u"||AT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nn[t]=new Gn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nn[e]=new Gn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nn[t]=new Gn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nn[t]=new Gn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nn[t]=new Gn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nn[t]=new Gn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nn[t]=new Gn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nn[t]=new Gn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nn[t]=new Gn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xm=/[\-:]([a-z])/g;function Jm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xm,Jm);Nn[e]=new Gn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xm,Jm);Nn[e]=new Gn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xm,Jm);Nn[e]=new Gn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nn[t]=new Gn(t,1,!1,t.toLowerCase(),null,!1,!1)});Nn.xlinkHref=new Gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nn[t]=new Gn(t,1,!1,t.toLowerCase(),null,!0,!0)});function ey(t,e,n,r){var i=Nn.hasOwnProperty(e)?Nn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(RT(e,n,i,r)&&(n=null),r||i===null?ST(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var io=ET.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wu=Symbol.for("react.element"),va=Symbol.for("react.portal"),_a=Symbol.for("react.fragment"),ty=Symbol.for("react.strict_mode"),z0=Symbol.for("react.profiler"),HE=Symbol.for("react.provider"),KE=Symbol.for("react.context"),ny=Symbol.for("react.forward_ref"),j0=Symbol.for("react.suspense"),W0=Symbol.for("react.suspense_list"),ry=Symbol.for("react.memo"),vo=Symbol.for("react.lazy"),VE=Symbol.for("react.offscreen"),h1=Symbol.iterator;function xl(t){return t===null||typeof t!="object"?null:(t=h1&&t[h1]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Object.assign,gp;function Wl(t){if(gp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gp=e&&e[1]||""}return`
`+gp+t}var mp=!1;function yp(t,e){if(!t||mp)return"";mp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{mp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Wl(t):""}function IT(t){switch(t.tag){case 5:return Wl(t.type);case 16:return Wl("Lazy");case 13:return Wl("Suspense");case 19:return Wl("SuspenseList");case 0:case 2:case 15:return t=yp(t.type,!1),t;case 11:return t=yp(t.type.render,!1),t;case 1:return t=yp(t.type,!0),t;default:return""}}function F0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _a:return"Fragment";case va:return"Portal";case z0:return"Profiler";case ty:return"StrictMode";case j0:return"Suspense";case W0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case KE:return(t.displayName||"Context")+".Consumer";case HE:return(t._context.displayName||"Context")+".Provider";case ny:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ry:return e=t.displayName||null,e!==null?e:F0(t.type)||"Memo";case vo:e=t._payload,t=t._init;try{return F0(t(e))}catch{}}return null}function NT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F0(e);case 8:return e===ty?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ko(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function GE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xT(t){var e=GE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vu(t){t._valueTracker||(t._valueTracker=xT(t))}function qE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=GE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Gd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $0(t,e){var n=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function p1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ko(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function YE(t,e){e=e.checked,e!=null&&ey(t,"checked",e,!1)}function H0(t,e){YE(t,e);var n=Ko(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?K0(t,e.type,n):e.hasOwnProperty("defaultValue")&&K0(t,e.type,Ko(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function g1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function K0(t,e,n){(e!=="number"||Gd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fl=Array.isArray;function Ba(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ko(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function V0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ie(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function m1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ie(92));if(Fl(n)){if(1<n.length)throw Error(ie(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ko(n)}}function ZE(t,e){var n=Ko(e.value),r=Ko(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function y1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function QE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function G0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?QE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _u,XE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_u=_u||document.createElement("div"),_u.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_u.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _c(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var nc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TT=["Webkit","ms","Moz","O"];Object.keys(nc).forEach(function(t){TT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nc[e]=nc[t]})});function JE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||nc.hasOwnProperty(t)&&nc[t]?(""+e).trim():e+"px"}function eb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=JE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var kT=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function q0(t,e){if(e){if(kT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ie(62))}}function Y0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Z0=null;function iy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Q0=null,Pa=null,Da=null;function w1(t){if(t=Zc(t)){if(typeof Q0!="function")throw Error(ie(280));var e=t.stateNode;e&&(e=Jf(e),Q0(t.stateNode,t.type,e))}}function tb(t){Pa?Da?Da.push(t):Da=[t]:Pa=t}function nb(){if(Pa){var t=Pa,e=Da;if(Da=Pa=null,w1(t),e)for(t=0;t<e.length;t++)w1(e[t])}}function rb(t,e){return t(e)}function ib(){}var wp=!1;function ob(t,e,n){if(wp)return t(e,n);wp=!0;try{return rb(t,e,n)}finally{wp=!1,(Pa!==null||Da!==null)&&(ib(),nb())}}function Ec(t,e){var n=t.stateNode;if(n===null)return null;var r=Jf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ie(231,e,typeof n));return n}var X0=!1;if(Qi)try{var Tl={};Object.defineProperty(Tl,"passive",{get:function(){X0=!0}}),window.addEventListener("test",Tl,Tl),window.removeEventListener("test",Tl,Tl)}catch{X0=!1}function CT(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var rc=!1,qd=null,Yd=!1,J0=null,MT={onError:function(t){rc=!0,qd=t}};function OT(t,e,n,r,i,o,s,a,l){rc=!1,qd=null,CT.apply(MT,arguments)}function LT(t,e,n,r,i,o,s,a,l){if(OT.apply(this,arguments),rc){if(rc){var c=qd;rc=!1,qd=null}else throw Error(ie(198));Yd||(Yd=!0,J0=c)}}function $s(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function v1(t){if($s(t)!==t)throw Error(ie(188))}function BT(t){var e=t.alternate;if(!e){if(e=$s(t),e===null)throw Error(ie(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return v1(i),t;if(o===r)return v1(i),e;o=o.sibling}throw Error(ie(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ie(189))}}if(n.alternate!==r)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?t:e}function ab(t){return t=BT(t),t!==null?lb(t):null}function lb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lb(t);if(e!==null)return e;t=t.sibling}return null}var cb=Er.unstable_scheduleCallback,_1=Er.unstable_cancelCallback,PT=Er.unstable_shouldYield,DT=Er.unstable_requestPaint,Ot=Er.unstable_now,UT=Er.unstable_getCurrentPriorityLevel,oy=Er.unstable_ImmediatePriority,ub=Er.unstable_UserBlockingPriority,Zd=Er.unstable_NormalPriority,zT=Er.unstable_LowPriority,db=Er.unstable_IdlePriority,Yf=null,mi=null;function jT(t){if(mi&&typeof mi.onCommitFiberRoot=="function")try{mi.onCommitFiberRoot(Yf,t,void 0,(t.current.flags&128)===128)}catch{}}var Qr=Math.clz32?Math.clz32:$T,WT=Math.log,FT=Math.LN2;function $T(t){return t>>>=0,t===0?32:31-(WT(t)/FT|0)|0}var Eu=64,bu=4194304;function $l(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=$l(a):(o&=s,o!==0&&(r=$l(o)))}else s=n&~i,s!==0?r=$l(s):o!==0&&(r=$l(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qr(e),i=1<<n,r|=t[n],e&=~i;return r}function HT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function KT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Qr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=HT(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function eg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fb(){var t=Eu;return Eu<<=1,!(Eu&4194240)&&(Eu=64),t}function vp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qr(e),t[e]=n}function VT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Qr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function sy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ge=0;function hb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pb,ay,gb,mb,yb,tg=!1,Su=[],Oo=null,Lo=null,Bo=null,bc=new Map,Sc=new Map,So=[],GT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function E1(t,e){switch(t){case"focusin":case"focusout":Oo=null;break;case"dragenter":case"dragleave":Lo=null;break;case"mouseover":case"mouseout":Bo=null;break;case"pointerover":case"pointerout":bc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sc.delete(e.pointerId)}}function kl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Zc(e),e!==null&&ay(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function qT(t,e,n,r,i){switch(e){case"focusin":return Oo=kl(Oo,t,e,n,r,i),!0;case"dragenter":return Lo=kl(Lo,t,e,n,r,i),!0;case"mouseover":return Bo=kl(Bo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return bc.set(o,kl(bc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Sc.set(o,kl(Sc.get(o)||null,t,e,n,r,i)),!0}return!1}function wb(t){var e=ps(t.target);if(e!==null){var n=$s(e);if(n!==null){if(e=n.tag,e===13){if(e=sb(n),e!==null){t.blockedOn=e,yb(t.priority,function(){gb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function td(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ng(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Z0=r,n.target.dispatchEvent(r),Z0=null}else return e=Zc(n),e!==null&&ay(e),t.blockedOn=n,!1;e.shift()}return!0}function b1(t,e,n){td(t)&&n.delete(e)}function YT(){tg=!1,Oo!==null&&td(Oo)&&(Oo=null),Lo!==null&&td(Lo)&&(Lo=null),Bo!==null&&td(Bo)&&(Bo=null),bc.forEach(b1),Sc.forEach(b1)}function Cl(t,e){t.blockedOn===e&&(t.blockedOn=null,tg||(tg=!0,Er.unstable_scheduleCallback(Er.unstable_NormalPriority,YT)))}function Ac(t){function e(i){return Cl(i,t)}if(0<Su.length){Cl(Su[0],t);for(var n=1;n<Su.length;n++){var r=Su[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Oo!==null&&Cl(Oo,t),Lo!==null&&Cl(Lo,t),Bo!==null&&Cl(Bo,t),bc.forEach(e),Sc.forEach(e),n=0;n<So.length;n++)r=So[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<So.length&&(n=So[0],n.blockedOn===null);)wb(n),n.blockedOn===null&&So.shift()}var Ua=io.ReactCurrentBatchConfig,Xd=!0;function ZT(t,e,n,r){var i=Ge,o=Ua.transition;Ua.transition=null;try{Ge=1,ly(t,e,n,r)}finally{Ge=i,Ua.transition=o}}function QT(t,e,n,r){var i=Ge,o=Ua.transition;Ua.transition=null;try{Ge=4,ly(t,e,n,r)}finally{Ge=i,Ua.transition=o}}function ly(t,e,n,r){if(Xd){var i=ng(t,e,n,r);if(i===null)Tp(t,e,r,Jd,n),E1(t,r);else if(qT(i,t,e,n,r))r.stopPropagation();else if(E1(t,r),e&4&&-1<GT.indexOf(t)){for(;i!==null;){var o=Zc(i);if(o!==null&&pb(o),o=ng(t,e,n,r),o===null&&Tp(t,e,r,Jd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Tp(t,e,r,null,n)}}var Jd=null;function ng(t,e,n,r){if(Jd=null,t=iy(r),t=ps(t),t!==null)if(e=$s(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jd=t,null}function vb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UT()){case oy:return 1;case ub:return 4;case Zd:case zT:return 16;case db:return 536870912;default:return 16}default:return 16}}var Io=null,cy=null,nd=null;function _b(){if(nd)return nd;var t,e=cy,n=e.length,r,i="value"in Io?Io.value:Io.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return nd=i.slice(t,1<r?1-r:void 0)}function rd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Au(){return!0}function S1(){return!1}function Sr(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Au:S1,this.isPropagationStopped=S1,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Au)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Au)},persist:function(){},isPersistent:Au}),e}var wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uy=Sr(wl),Yc=vt({},wl,{view:0,detail:0}),XT=Sr(Yc),_p,Ep,Ml,Zf=vt({},Yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ml&&(Ml&&t.type==="mousemove"?(_p=t.screenX-Ml.screenX,Ep=t.screenY-Ml.screenY):Ep=_p=0,Ml=t),_p)},movementY:function(t){return"movementY"in t?t.movementY:Ep}}),A1=Sr(Zf),JT=vt({},Zf,{dataTransfer:0}),ek=Sr(JT),tk=vt({},Yc,{relatedTarget:0}),bp=Sr(tk),nk=vt({},wl,{animationName:0,elapsedTime:0,pseudoElement:0}),rk=Sr(nk),ik=vt({},wl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ok=Sr(ik),sk=vt({},wl,{data:0}),R1=Sr(sk),ak={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ck={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ck[t])?!!e[t]:!1}function dy(){return uk}var dk=vt({},Yc,{key:function(t){if(t.key){var e=ak[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dy,charCode:function(t){return t.type==="keypress"?rd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fk=Sr(dk),hk=vt({},Zf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I1=Sr(hk),pk=vt({},Yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dy}),gk=Sr(pk),mk=vt({},wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),yk=Sr(mk),wk=vt({},Zf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vk=Sr(wk),_k=[9,13,27,32],fy=Qi&&"CompositionEvent"in window,ic=null;Qi&&"documentMode"in document&&(ic=document.documentMode);var Ek=Qi&&"TextEvent"in window&&!ic,Eb=Qi&&(!fy||ic&&8<ic&&11>=ic),N1=" ",x1=!1;function bb(t,e){switch(t){case"keyup":return _k.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ea=!1;function bk(t,e){switch(t){case"compositionend":return Sb(e);case"keypress":return e.which!==32?null:(x1=!0,N1);case"textInput":return t=e.data,t===N1&&x1?null:t;default:return null}}function Sk(t,e){if(Ea)return t==="compositionend"||!fy&&bb(t,e)?(t=_b(),nd=cy=Io=null,Ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Eb&&e.locale!=="ko"?null:e.data;default:return null}}var Ak={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ak[t.type]:e==="textarea"}function Ab(t,e,n,r){tb(r),e=ef(e,"onChange"),0<e.length&&(n=new uy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var oc=null,Rc=null;function Rk(t){Bb(t,0)}function Qf(t){var e=Aa(t);if(qE(e))return t}function Ik(t,e){if(t==="change")return e}var Rb=!1;if(Qi){var Sp;if(Qi){var Ap="oninput"in document;if(!Ap){var k1=document.createElement("div");k1.setAttribute("oninput","return;"),Ap=typeof k1.oninput=="function"}Sp=Ap}else Sp=!1;Rb=Sp&&(!document.documentMode||9<document.documentMode)}function C1(){oc&&(oc.detachEvent("onpropertychange",Ib),Rc=oc=null)}function Ib(t){if(t.propertyName==="value"&&Qf(Rc)){var e=[];Ab(e,Rc,t,iy(t)),ob(Rk,e)}}function Nk(t,e,n){t==="focusin"?(C1(),oc=e,Rc=n,oc.attachEvent("onpropertychange",Ib)):t==="focusout"&&C1()}function xk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qf(Rc)}function Tk(t,e){if(t==="click")return Qf(e)}function kk(t,e){if(t==="input"||t==="change")return Qf(e)}function Ck(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ei=typeof Object.is=="function"?Object.is:Ck;function Ic(t,e){if(ei(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!U0.call(e,i)||!ei(t[i],e[i]))return!1}return!0}function M1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function O1(t,e){var n=M1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=M1(n)}}function Nb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Nb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xb(){for(var t=window,e=Gd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Gd(t.document)}return e}function hy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Mk(t){var e=xb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Nb(n.ownerDocument.documentElement,n)){if(r!==null&&hy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=O1(n,o);var s=O1(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ok=Qi&&"documentMode"in document&&11>=document.documentMode,ba=null,rg=null,sc=null,ig=!1;function L1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ig||ba==null||ba!==Gd(r)||(r=ba,"selectionStart"in r&&hy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sc&&Ic(sc,r)||(sc=r,r=ef(rg,"onSelect"),0<r.length&&(e=new uy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ba)))}function Ru(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Sa={animationend:Ru("Animation","AnimationEnd"),animationiteration:Ru("Animation","AnimationIteration"),animationstart:Ru("Animation","AnimationStart"),transitionend:Ru("Transition","TransitionEnd")},Rp={},Tb={};Qi&&(Tb=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Xf(t){if(Rp[t])return Rp[t];if(!Sa[t])return t;var e=Sa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Tb)return Rp[t]=e[n];return t}var kb=Xf("animationend"),Cb=Xf("animationiteration"),Mb=Xf("animationstart"),Ob=Xf("transitionend"),Lb=new Map,B1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zo(t,e){Lb.set(t,e),Fs(e,[t])}for(var Ip=0;Ip<B1.length;Ip++){var Np=B1[Ip],Lk=Np.toLowerCase(),Bk=Np[0].toUpperCase()+Np.slice(1);Zo(Lk,"on"+Bk)}Zo(kb,"onAnimationEnd");Zo(Cb,"onAnimationIteration");Zo(Mb,"onAnimationStart");Zo("dblclick","onDoubleClick");Zo("focusin","onFocus");Zo("focusout","onBlur");Zo(Ob,"onTransitionEnd");Ga("onMouseEnter",["mouseout","mouseover"]);Ga("onMouseLeave",["mouseout","mouseover"]);Ga("onPointerEnter",["pointerout","pointerover"]);Ga("onPointerLeave",["pointerout","pointerover"]);Fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hl));function P1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,LT(r,e,void 0,t),t.currentTarget=null}function Bb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;P1(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;P1(i,a,c),o=l}}}if(Yd)throw t=J0,Yd=!1,J0=null,t}function at(t,e){var n=e[cg];n===void 0&&(n=e[cg]=new Set);var r=t+"__bubble";n.has(r)||(Pb(e,t,2,!1),n.add(r))}function xp(t,e,n){var r=0;e&&(r|=4),Pb(n,t,r,e)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function Nc(t){if(!t[Iu]){t[Iu]=!0,$E.forEach(function(n){n!=="selectionchange"&&(Pk.has(n)||xp(n,!1,t),xp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Iu]||(e[Iu]=!0,xp("selectionchange",!1,e))}}function Pb(t,e,n,r){switch(vb(e)){case 1:var i=ZT;break;case 4:i=QT;break;default:i=ly}n=i.bind(null,e,n,t),i=void 0,!X0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Tp(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ps(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}ob(function(){var c=o,d=iy(n),g=[];e:{var p=Lb.get(t);if(p!==void 0){var f=uy,m=t;switch(t){case"keypress":if(rd(n)===0)break e;case"keydown":case"keyup":f=fk;break;case"focusin":m="focus",f=bp;break;case"focusout":m="blur",f=bp;break;case"beforeblur":case"afterblur":f=bp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=A1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=ek;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=gk;break;case kb:case Cb:case Mb:f=rk;break;case Ob:f=yk;break;case"scroll":f=XT;break;case"wheel":f=vk;break;case"copy":case"cut":case"paste":f=ok;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=I1}var R=(e&4)!==0,I=!R&&t==="scroll",w=R?p!==null?p+"Capture":null:p;R=[];for(var b=c,_;b!==null;){_=b;var N=_.stateNode;if(_.tag===5&&N!==null&&(_=N,w!==null&&(N=Ec(b,w),N!=null&&R.push(xc(b,N,_)))),I)break;b=b.return}0<R.length&&(p=new f(p,m,null,n,d),g.push({event:p,listeners:R}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",p&&n!==Z0&&(m=n.relatedTarget||n.fromElement)&&(ps(m)||m[Xi]))break e;if((f||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=c,m=m?ps(m):null,m!==null&&(I=$s(m),m!==I||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=c),f!==m)){if(R=A1,N="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(R=I1,N="onPointerLeave",w="onPointerEnter",b="pointer"),I=f==null?p:Aa(f),_=m==null?p:Aa(m),p=new R(N,b+"leave",f,n,d),p.target=I,p.relatedTarget=_,N=null,ps(d)===c&&(R=new R(w,b+"enter",m,n,d),R.target=_,R.relatedTarget=I,N=R),I=N,f&&m)t:{for(R=f,w=m,b=0,_=R;_;_=Qs(_))b++;for(_=0,N=w;N;N=Qs(N))_++;for(;0<b-_;)R=Qs(R),b--;for(;0<_-b;)w=Qs(w),_--;for(;b--;){if(R===w||w!==null&&R===w.alternate)break t;R=Qs(R),w=Qs(w)}R=null}else R=null;f!==null&&D1(g,p,f,R,!1),m!==null&&I!==null&&D1(g,I,m,R,!0)}}e:{if(p=c?Aa(c):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var L=Ik;else if(T1(p))if(Rb)L=kk;else{L=xk;var j=Nk}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(L=Tk);if(L&&(L=L(t,c))){Ab(g,L,n,d);break e}j&&j(t,p,c),t==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&K0(p,"number",p.value)}switch(j=c?Aa(c):window,t){case"focusin":(T1(j)||j.contentEditable==="true")&&(ba=j,rg=c,sc=null);break;case"focusout":sc=rg=ba=null;break;case"mousedown":ig=!0;break;case"contextmenu":case"mouseup":case"dragend":ig=!1,L1(g,n,d);break;case"selectionchange":if(Ok)break;case"keydown":case"keyup":L1(g,n,d)}var O;if(fy)e:{switch(t){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Ea?bb(t,n)&&(U="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(Eb&&n.locale!=="ko"&&(Ea||U!=="onCompositionStart"?U==="onCompositionEnd"&&Ea&&(O=_b()):(Io=d,cy="value"in Io?Io.value:Io.textContent,Ea=!0)),j=ef(c,U),0<j.length&&(U=new R1(U,t,null,n,d),g.push({event:U,listeners:j}),O?U.data=O:(O=Sb(n),O!==null&&(U.data=O)))),(O=Ek?bk(t,n):Sk(t,n))&&(c=ef(c,"onBeforeInput"),0<c.length&&(d=new R1("onBeforeInput","beforeinput",null,n,d),g.push({event:d,listeners:c}),d.data=O))}Bb(g,e)})}function xc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ef(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ec(t,n),o!=null&&r.unshift(xc(t,o,i)),o=Ec(t,e),o!=null&&r.push(xc(t,o,i))),t=t.return}return r}function Qs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function D1(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ec(n,o),l!=null&&s.unshift(xc(n,l,a))):i||(l=Ec(n,o),l!=null&&s.push(xc(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var Dk=/\r\n?/g,Uk=/\u0000|\uFFFD/g;function U1(t){return(typeof t=="string"?t:""+t).replace(Dk,`
`).replace(Uk,"")}function Nu(t,e,n){if(e=U1(e),U1(t)!==e&&n)throw Error(ie(425))}function tf(){}var og=null,sg=null;function ag(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lg=typeof setTimeout=="function"?setTimeout:void 0,zk=typeof clearTimeout=="function"?clearTimeout:void 0,z1=typeof Promise=="function"?Promise:void 0,jk=typeof queueMicrotask=="function"?queueMicrotask:typeof z1<"u"?function(t){return z1.resolve(null).then(t).catch(Wk)}:lg;function Wk(t){setTimeout(function(){throw t})}function kp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ac(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ac(e)}function Po(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function j1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var vl=Math.random().toString(36).slice(2),ci="__reactFiber$"+vl,Tc="__reactProps$"+vl,Xi="__reactContainer$"+vl,cg="__reactEvents$"+vl,Fk="__reactListeners$"+vl,$k="__reactHandles$"+vl;function ps(t){var e=t[ci];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xi]||n[ci]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=j1(t);t!==null;){if(n=t[ci])return n;t=j1(t)}return e}t=n,n=t.parentNode}return null}function Zc(t){return t=t[ci]||t[Xi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Aa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ie(33))}function Jf(t){return t[Tc]||null}var ug=[],Ra=-1;function Qo(t){return{current:t}}function ct(t){0>Ra||(t.current=ug[Ra],ug[Ra]=null,Ra--)}function it(t,e){Ra++,ug[Ra]=t.current,t.current=e}var Vo={},Dn=Qo(Vo),ir=Qo(!1),Ms=Vo;function qa(t,e){var n=t.type.contextTypes;if(!n)return Vo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function or(t){return t=t.childContextTypes,t!=null}function nf(){ct(ir),ct(Dn)}function W1(t,e,n){if(Dn.current!==Vo)throw Error(ie(168));it(Dn,e),it(ir,n)}function Db(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ie(108,NT(t)||"Unknown",i));return vt({},n,r)}function rf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vo,Ms=Dn.current,it(Dn,t),it(ir,ir.current),!0}function F1(t,e,n){var r=t.stateNode;if(!r)throw Error(ie(169));n?(t=Db(t,e,Ms),r.__reactInternalMemoizedMergedChildContext=t,ct(ir),ct(Dn),it(Dn,t)):ct(ir),it(ir,n)}var Pi=null,eh=!1,Cp=!1;function Ub(t){Pi===null?Pi=[t]:Pi.push(t)}function Hk(t){eh=!0,Ub(t)}function Xo(){if(!Cp&&Pi!==null){Cp=!0;var t=0,e=Ge;try{var n=Pi;for(Ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pi=null,eh=!1}catch(i){throw Pi!==null&&(Pi=Pi.slice(t+1)),cb(oy,Xo),i}finally{Ge=e,Cp=!1}}return null}var Ia=[],Na=0,of=null,sf=0,kr=[],Cr=0,Os=null,Hi=1,Ki="";function is(t,e){Ia[Na++]=sf,Ia[Na++]=of,of=t,sf=e}function zb(t,e,n){kr[Cr++]=Hi,kr[Cr++]=Ki,kr[Cr++]=Os,Os=t;var r=Hi;t=Ki;var i=32-Qr(r)-1;r&=~(1<<i),n+=1;var o=32-Qr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Hi=1<<32-Qr(e)+i|n<<i|r,Ki=o+t}else Hi=1<<o|n<<i|r,Ki=t}function py(t){t.return!==null&&(is(t,1),zb(t,1,0))}function gy(t){for(;t===of;)of=Ia[--Na],Ia[Na]=null,sf=Ia[--Na],Ia[Na]=null;for(;t===Os;)Os=kr[--Cr],kr[Cr]=null,Ki=kr[--Cr],kr[Cr]=null,Hi=kr[--Cr],kr[Cr]=null}var yr=null,mr=null,ht=!1,Vr=null;function jb(t,e){var n=Or(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yr=t,mr=Po(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yr=t,mr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Os!==null?{id:Hi,overflow:Ki}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Or(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yr=t,mr=null,!0):!1;default:return!1}}function dg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fg(t){if(ht){var e=mr;if(e){var n=e;if(!$1(t,e)){if(dg(t))throw Error(ie(418));e=Po(n.nextSibling);var r=yr;e&&$1(t,e)?jb(r,n):(t.flags=t.flags&-4097|2,ht=!1,yr=t)}}else{if(dg(t))throw Error(ie(418));t.flags=t.flags&-4097|2,ht=!1,yr=t}}}function H1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yr=t}function xu(t){if(t!==yr)return!1;if(!ht)return H1(t),ht=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ag(t.type,t.memoizedProps)),e&&(e=mr)){if(dg(t))throw Wb(),Error(ie(418));for(;e;)jb(t,e),e=Po(e.nextSibling)}if(H1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){mr=Po(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}mr=null}}else mr=yr?Po(t.stateNode.nextSibling):null;return!0}function Wb(){for(var t=mr;t;)t=Po(t.nextSibling)}function Ya(){mr=yr=null,ht=!1}function my(t){Vr===null?Vr=[t]:Vr.push(t)}var Kk=io.ReactCurrentBatchConfig;function Ol(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var r=n.stateNode}if(!r)throw Error(ie(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,t))}return t}function Tu(t,e){throw t=Object.prototype.toString.call(e),Error(ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function K1(t){var e=t._init;return e(t._payload)}function Fb(t){function e(w,b){if(t){var _=w.deletions;_===null?(w.deletions=[b],w.flags|=16):_.push(b)}}function n(w,b){if(!t)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function r(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(w,b){return w=jo(w,b),w.index=0,w.sibling=null,w}function o(w,b,_){return w.index=_,t?(_=w.alternate,_!==null?(_=_.index,_<b?(w.flags|=2,b):_):(w.flags|=2,b)):(w.flags|=1048576,b)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,b,_,N){return b===null||b.tag!==6?(b=Up(_,w.mode,N),b.return=w,b):(b=i(b,_),b.return=w,b)}function l(w,b,_,N){var L=_.type;return L===_a?d(w,b,_.props.children,N,_.key):b!==null&&(b.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===vo&&K1(L)===b.type)?(N=i(b,_.props),N.ref=Ol(w,b,_),N.return=w,N):(N=ud(_.type,_.key,_.props,null,w.mode,N),N.ref=Ol(w,b,_),N.return=w,N)}function c(w,b,_,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=zp(_,w.mode,N),b.return=w,b):(b=i(b,_.children||[]),b.return=w,b)}function d(w,b,_,N,L){return b===null||b.tag!==7?(b=Cs(_,w.mode,N,L),b.return=w,b):(b=i(b,_),b.return=w,b)}function g(w,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Up(""+b,w.mode,_),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case wu:return _=ud(b.type,b.key,b.props,null,w.mode,_),_.ref=Ol(w,null,b),_.return=w,_;case va:return b=zp(b,w.mode,_),b.return=w,b;case vo:var N=b._init;return g(w,N(b._payload),_)}if(Fl(b)||xl(b))return b=Cs(b,w.mode,_,null),b.return=w,b;Tu(w,b)}return null}function p(w,b,_,N){var L=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return L!==null?null:a(w,b,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case wu:return _.key===L?l(w,b,_,N):null;case va:return _.key===L?c(w,b,_,N):null;case vo:return L=_._init,p(w,b,L(_._payload),N)}if(Fl(_)||xl(_))return L!==null?null:d(w,b,_,N,null);Tu(w,_)}return null}function f(w,b,_,N,L){if(typeof N=="string"&&N!==""||typeof N=="number")return w=w.get(_)||null,a(b,w,""+N,L);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case wu:return w=w.get(N.key===null?_:N.key)||null,l(b,w,N,L);case va:return w=w.get(N.key===null?_:N.key)||null,c(b,w,N,L);case vo:var j=N._init;return f(w,b,_,j(N._payload),L)}if(Fl(N)||xl(N))return w=w.get(_)||null,d(b,w,N,L,null);Tu(b,N)}return null}function m(w,b,_,N){for(var L=null,j=null,O=b,U=b=0,P=null;O!==null&&U<_.length;U++){O.index>U?(P=O,O=null):P=O.sibling;var W=p(w,O,_[U],N);if(W===null){O===null&&(O=P);break}t&&O&&W.alternate===null&&e(w,O),b=o(W,b,U),j===null?L=W:j.sibling=W,j=W,O=P}if(U===_.length)return n(w,O),ht&&is(w,U),L;if(O===null){for(;U<_.length;U++)O=g(w,_[U],N),O!==null&&(b=o(O,b,U),j===null?L=O:j.sibling=O,j=O);return ht&&is(w,U),L}for(O=r(w,O);U<_.length;U++)P=f(O,w,U,_[U],N),P!==null&&(t&&P.alternate!==null&&O.delete(P.key===null?U:P.key),b=o(P,b,U),j===null?L=P:j.sibling=P,j=P);return t&&O.forEach(function($){return e(w,$)}),ht&&is(w,U),L}function R(w,b,_,N){var L=xl(_);if(typeof L!="function")throw Error(ie(150));if(_=L.call(_),_==null)throw Error(ie(151));for(var j=L=null,O=b,U=b=0,P=null,W=_.next();O!==null&&!W.done;U++,W=_.next()){O.index>U?(P=O,O=null):P=O.sibling;var $=p(w,O,W.value,N);if($===null){O===null&&(O=P);break}t&&O&&$.alternate===null&&e(w,O),b=o($,b,U),j===null?L=$:j.sibling=$,j=$,O=P}if(W.done)return n(w,O),ht&&is(w,U),L;if(O===null){for(;!W.done;U++,W=_.next())W=g(w,W.value,N),W!==null&&(b=o(W,b,U),j===null?L=W:j.sibling=W,j=W);return ht&&is(w,U),L}for(O=r(w,O);!W.done;U++,W=_.next())W=f(O,w,U,W.value,N),W!==null&&(t&&W.alternate!==null&&O.delete(W.key===null?U:W.key),b=o(W,b,U),j===null?L=W:j.sibling=W,j=W);return t&&O.forEach(function(H){return e(w,H)}),ht&&is(w,U),L}function I(w,b,_,N){if(typeof _=="object"&&_!==null&&_.type===_a&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case wu:e:{for(var L=_.key,j=b;j!==null;){if(j.key===L){if(L=_.type,L===_a){if(j.tag===7){n(w,j.sibling),b=i(j,_.props.children),b.return=w,w=b;break e}}else if(j.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===vo&&K1(L)===j.type){n(w,j.sibling),b=i(j,_.props),b.ref=Ol(w,j,_),b.return=w,w=b;break e}n(w,j);break}else e(w,j);j=j.sibling}_.type===_a?(b=Cs(_.props.children,w.mode,N,_.key),b.return=w,w=b):(N=ud(_.type,_.key,_.props,null,w.mode,N),N.ref=Ol(w,b,_),N.return=w,w=N)}return s(w);case va:e:{for(j=_.key;b!==null;){if(b.key===j)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){n(w,b.sibling),b=i(b,_.children||[]),b.return=w,w=b;break e}else{n(w,b);break}else e(w,b);b=b.sibling}b=zp(_,w.mode,N),b.return=w,w=b}return s(w);case vo:return j=_._init,I(w,b,j(_._payload),N)}if(Fl(_))return m(w,b,_,N);if(xl(_))return R(w,b,_,N);Tu(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(n(w,b.sibling),b=i(b,_),b.return=w,w=b):(n(w,b),b=Up(_,w.mode,N),b.return=w,w=b),s(w)):n(w,b)}return I}var Za=Fb(!0),$b=Fb(!1),af=Qo(null),lf=null,xa=null,yy=null;function wy(){yy=xa=lf=null}function vy(t){var e=af.current;ct(af),t._currentValue=e}function hg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function za(t,e){lf=t,yy=xa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tr=!0),t.firstContext=null)}function Pr(t){var e=t._currentValue;if(yy!==t)if(t={context:t,memoizedValue:e,next:null},xa===null){if(lf===null)throw Error(ie(308));xa=t,lf.dependencies={lanes:0,firstContext:t}}else xa=xa.next=t;return e}var gs=null;function _y(t){gs===null?gs=[t]:gs.push(t)}function Hb(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,_y(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ji(t,r)}function Ji(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _o=!1;function Ey(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Do(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ji(t,n)}return i=r.interleaved,i===null?(e.next=e,_y(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ji(t,n)}function id(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sy(t,n)}}function V1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function cf(t,e,n,r){var i=t.updateQueue;_o=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(o!==null){var g=i.baseState;s=0,d=c=l=null,a=o;do{var p=a.lane,f=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,R=a;switch(p=e,f=n,R.tag){case 1:if(m=R.payload,typeof m=="function"){g=m.call(f,g,p);break e}g=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=R.payload,p=typeof m=="function"?m.call(f,g,p):m,p==null)break e;g=vt({},g,p);break e;case 2:_o=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else f={eventTime:f,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=f,l=g):d=d.next=f,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=g),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Bs|=s,t.lanes=s,t.memoizedState=g}}function G1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ie(191,i));i.call(r)}}}var Qc={},yi=Qo(Qc),kc=Qo(Qc),Cc=Qo(Qc);function ms(t){if(t===Qc)throw Error(ie(174));return t}function by(t,e){switch(it(Cc,e),it(kc,t),it(yi,Qc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:G0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=G0(e,t)}ct(yi),it(yi,e)}function Qa(){ct(yi),ct(kc),ct(Cc)}function Vb(t){ms(Cc.current);var e=ms(yi.current),n=G0(e,t.type);e!==n&&(it(kc,t),it(yi,n))}function Sy(t){kc.current===t&&(ct(yi),ct(kc))}var mt=Qo(0);function uf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mp=[];function Ay(){for(var t=0;t<Mp.length;t++)Mp[t]._workInProgressVersionPrimary=null;Mp.length=0}var od=io.ReactCurrentDispatcher,Op=io.ReactCurrentBatchConfig,Ls=0,wt=null,an=null,gn=null,df=!1,ac=!1,Mc=0,Vk=0;function xn(){throw Error(ie(321))}function Ry(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ei(t[n],e[n]))return!1;return!0}function Iy(t,e,n,r,i,o){if(Ls=o,wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,od.current=t===null||t.memoizedState===null?Zk:Qk,t=n(r,i),ac){o=0;do{if(ac=!1,Mc=0,25<=o)throw Error(ie(301));o+=1,gn=an=null,e.updateQueue=null,od.current=Xk,t=n(r,i)}while(ac)}if(od.current=ff,e=an!==null&&an.next!==null,Ls=0,gn=an=wt=null,df=!1,e)throw Error(ie(300));return t}function Ny(){var t=Mc!==0;return Mc=0,t}function ai(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?wt.memoizedState=gn=t:gn=gn.next=t,gn}function Dr(){if(an===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=an.next;var e=gn===null?wt.memoizedState:gn.next;if(e!==null)gn=e,an=t;else{if(t===null)throw Error(ie(310));an=t,t={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},gn===null?wt.memoizedState=gn=t:gn=gn.next=t}return gn}function Oc(t,e){return typeof e=="function"?e(t):e}function Lp(t){var e=Dr(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=an,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var d=c.lane;if((Ls&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var g={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=g,s=r):l=l.next=g,wt.lanes|=d,Bs|=d}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,ei(r,e.memoizedState)||(tr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,wt.lanes|=o,Bs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bp(t){var e=Dr(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);ei(o,e.memoizedState)||(tr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Gb(){}function qb(t,e){var n=wt,r=Dr(),i=e(),o=!ei(r.memoizedState,i);if(o&&(r.memoizedState=i,tr=!0),r=r.queue,xy(Qb.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||gn!==null&&gn.memoizedState.tag&1){if(n.flags|=2048,Lc(9,Zb.bind(null,n,r,i,e),void 0,null),wn===null)throw Error(ie(349));Ls&30||Yb(n,e,i)}return i}function Yb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Zb(t,e,n,r){e.value=n,e.getSnapshot=r,Xb(e)&&Jb(t)}function Qb(t,e,n){return n(function(){Xb(e)&&Jb(t)})}function Xb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ei(t,n)}catch{return!0}}function Jb(t){var e=Ji(t,1);e!==null&&Xr(e,t,1,-1)}function q1(t){var e=ai();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oc,lastRenderedState:t},e.queue=t,t=t.dispatch=Yk.bind(null,wt,t),[e.memoizedState,t]}function Lc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function eS(){return Dr().memoizedState}function sd(t,e,n,r){var i=ai();wt.flags|=t,i.memoizedState=Lc(1|e,n,void 0,r===void 0?null:r)}function th(t,e,n,r){var i=Dr();r=r===void 0?null:r;var o=void 0;if(an!==null){var s=an.memoizedState;if(o=s.destroy,r!==null&&Ry(r,s.deps)){i.memoizedState=Lc(e,n,o,r);return}}wt.flags|=t,i.memoizedState=Lc(1|e,n,o,r)}function Y1(t,e){return sd(8390656,8,t,e)}function xy(t,e){return th(2048,8,t,e)}function tS(t,e){return th(4,2,t,e)}function nS(t,e){return th(4,4,t,e)}function rS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iS(t,e,n){return n=n!=null?n.concat([t]):null,th(4,4,rS.bind(null,e,t),n)}function Ty(){}function oS(t,e){var n=Dr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ry(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sS(t,e){var n=Dr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ry(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function aS(t,e,n){return Ls&21?(ei(n,e)||(n=fb(),wt.lanes|=n,Bs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tr=!0),t.memoizedState=n)}function Gk(t,e){var n=Ge;Ge=n!==0&&4>n?n:4,t(!0);var r=Op.transition;Op.transition={};try{t(!1),e()}finally{Ge=n,Op.transition=r}}function lS(){return Dr().memoizedState}function qk(t,e,n){var r=zo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cS(t))uS(e,n);else if(n=Hb(t,e,n,r),n!==null){var i=$n();Xr(n,t,r,i),dS(n,e,r)}}function Yk(t,e,n){var r=zo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cS(t))uS(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ei(a,s)){var l=e.interleaved;l===null?(i.next=i,_y(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Hb(t,e,i,r),n!==null&&(i=$n(),Xr(n,t,r,i),dS(n,e,r))}}function cS(t){var e=t.alternate;return t===wt||e!==null&&e===wt}function uS(t,e){ac=df=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sy(t,n)}}var ff={readContext:Pr,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},Zk={readContext:Pr,useCallback:function(t,e){return ai().memoizedState=[t,e===void 0?null:e],t},useContext:Pr,useEffect:Y1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,sd(4194308,4,rS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return sd(4194308,4,t,e)},useInsertionEffect:function(t,e){return sd(4,2,t,e)},useMemo:function(t,e){var n=ai();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ai();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=qk.bind(null,wt,t),[r.memoizedState,t]},useRef:function(t){var e=ai();return t={current:t},e.memoizedState=t},useState:q1,useDebugValue:Ty,useDeferredValue:function(t){return ai().memoizedState=t},useTransition:function(){var t=q1(!1),e=t[0];return t=Gk.bind(null,t[1]),ai().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=wt,i=ai();if(ht){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=e(),wn===null)throw Error(ie(349));Ls&30||Yb(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Y1(Qb.bind(null,r,o,t),[t]),r.flags|=2048,Lc(9,Zb.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ai(),e=wn.identifierPrefix;if(ht){var n=Ki,r=Hi;n=(r&~(1<<32-Qr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Mc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Vk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Qk={readContext:Pr,useCallback:oS,useContext:Pr,useEffect:xy,useImperativeHandle:iS,useInsertionEffect:tS,useLayoutEffect:nS,useMemo:sS,useReducer:Lp,useRef:eS,useState:function(){return Lp(Oc)},useDebugValue:Ty,useDeferredValue:function(t){var e=Dr();return aS(e,an.memoizedState,t)},useTransition:function(){var t=Lp(Oc)[0],e=Dr().memoizedState;return[t,e]},useMutableSource:Gb,useSyncExternalStore:qb,useId:lS,unstable_isNewReconciler:!1},Xk={readContext:Pr,useCallback:oS,useContext:Pr,useEffect:xy,useImperativeHandle:iS,useInsertionEffect:tS,useLayoutEffect:nS,useMemo:sS,useReducer:Bp,useRef:eS,useState:function(){return Bp(Oc)},useDebugValue:Ty,useDeferredValue:function(t){var e=Dr();return an===null?e.memoizedState=t:aS(e,an.memoizedState,t)},useTransition:function(){var t=Bp(Oc)[0],e=Dr().memoizedState;return[t,e]},useMutableSource:Gb,useSyncExternalStore:qb,useId:lS,unstable_isNewReconciler:!1};function $r(t,e){if(t&&t.defaultProps){e=vt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function pg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:vt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nh={isMounted:function(t){return(t=t._reactInternals)?$s(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=$n(),i=zo(t),o=Yi(r,i);o.payload=e,n!=null&&(o.callback=n),e=Do(t,o,i),e!==null&&(Xr(e,t,i,r),id(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=$n(),i=zo(t),o=Yi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Do(t,o,i),e!==null&&(Xr(e,t,i,r),id(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$n(),r=zo(t),i=Yi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Do(t,i,r),e!==null&&(Xr(e,t,r,n),id(e,t,r))}};function Z1(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ic(n,r)||!Ic(i,o):!0}function fS(t,e,n){var r=!1,i=Vo,o=e.contextType;return typeof o=="object"&&o!==null?o=Pr(o):(i=or(e)?Ms:Dn.current,r=e.contextTypes,o=(r=r!=null)?qa(t,i):Vo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Q1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nh.enqueueReplaceState(e,e.state,null)}function gg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ey(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Pr(o):(o=or(e)?Ms:Dn.current,i.context=qa(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(pg(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nh.enqueueReplaceState(i,i.state,null),cf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Xa(t,e){try{var n="",r=e;do n+=IT(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Pp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function mg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Jk=typeof WeakMap=="function"?WeakMap:Map;function hS(t,e,n){n=Yi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){pf||(pf=!0,Ig=r),mg(t,e)},n}function pS(t,e,n){n=Yi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){mg(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){mg(t,e),typeof r!="function"&&(Uo===null?Uo=new Set([this]):Uo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function X1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Jk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=hC.bind(null,t,e,n),e.then(t,t))}function J1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ev(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Yi(-1,1),e.tag=2,Do(n,e,1))),n.lanes|=1),t)}var eC=io.ReactCurrentOwner,tr=!1;function jn(t,e,n,r){e.child=t===null?$b(e,null,n,r):Za(e,t.child,n,r)}function tv(t,e,n,r,i){n=n.render;var o=e.ref;return za(e,i),r=Iy(t,e,n,r,o,i),n=Ny(),t!==null&&!tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,eo(t,e,i)):(ht&&n&&py(e),e.flags|=1,jn(t,e,r,i),e.child)}function nv(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Dy(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,gS(t,e,o,r,i)):(t=ud(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ic,n(s,r)&&t.ref===e.ref)return eo(t,e,i)}return e.flags|=1,t=jo(o,r),t.ref=e.ref,t.return=e,e.child=t}function gS(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ic(o,r)&&t.ref===e.ref)if(tr=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(tr=!0);else return e.lanes=t.lanes,eo(t,e,i)}return yg(t,e,n,r,i)}function mS(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(ka,dr),dr|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,it(ka,dr),dr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,it(ka,dr),dr|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,it(ka,dr),dr|=r;return jn(t,e,i,n),e.child}function yS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function yg(t,e,n,r,i){var o=or(n)?Ms:Dn.current;return o=qa(e,o),za(e,i),n=Iy(t,e,n,r,o,i),r=Ny(),t!==null&&!tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,eo(t,e,i)):(ht&&r&&py(e),e.flags|=1,jn(t,e,n,i),e.child)}function rv(t,e,n,r,i){if(or(n)){var o=!0;rf(e)}else o=!1;if(za(e,i),e.stateNode===null)ad(t,e),fS(e,n,r),gg(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Pr(c):(c=or(n)?Ms:Dn.current,c=qa(e,c));var d=n.getDerivedStateFromProps,g=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";g||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Q1(e,s,r,c),_o=!1;var p=e.memoizedState;s.state=p,cf(e,r,s,i),l=e.memoizedState,a!==r||p!==l||ir.current||_o?(typeof d=="function"&&(pg(e,n,d,r),l=e.memoizedState),(a=_o||Z1(e,n,a,r,p,l,c))?(g||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Kb(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:$r(e.type,a),s.props=c,g=e.pendingProps,p=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Pr(l):(l=or(n)?Ms:Dn.current,l=qa(e,l));var f=n.getDerivedStateFromProps;(d=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==g||p!==l)&&Q1(e,s,r,l),_o=!1,p=e.memoizedState,s.state=p,cf(e,r,s,i);var m=e.memoizedState;a!==g||p!==m||ir.current||_o?(typeof f=="function"&&(pg(e,n,f,r),m=e.memoizedState),(c=_o||Z1(e,n,c,r,p,m,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return wg(t,e,n,r,o,i)}function wg(t,e,n,r,i,o){yS(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&F1(e,n,!1),eo(t,e,o);r=e.stateNode,eC.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Za(e,t.child,null,o),e.child=Za(e,null,a,o)):jn(t,e,a,o),e.memoizedState=r.state,i&&F1(e,n,!0),e.child}function wS(t){var e=t.stateNode;e.pendingContext?W1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&W1(t,e.context,!1),by(t,e.containerInfo)}function iv(t,e,n,r,i){return Ya(),my(i),e.flags|=256,jn(t,e,n,r),e.child}var vg={dehydrated:null,treeContext:null,retryLane:0};function _g(t){return{baseLanes:t,cachePool:null,transitions:null}}function vS(t,e,n){var r=e.pendingProps,i=mt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),it(mt,i&1),t===null)return fg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=oh(s,r,0,null),t=Cs(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=_g(n),e.memoizedState=vg,t):ky(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return tC(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=jo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=jo(a,o):(o=Cs(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?_g(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=vg,r}return o=t.child,t=o.sibling,r=jo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ky(t,e){return e=oh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ku(t,e,n,r){return r!==null&&my(r),Za(e,t.child,null,n),t=ky(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tC(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Pp(Error(ie(422))),ku(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=oh({mode:"visible",children:r.children},i,0,null),o=Cs(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Za(e,t.child,null,s),e.child.memoizedState=_g(s),e.memoizedState=vg,o);if(!(e.mode&1))return ku(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ie(419)),r=Pp(o,r,void 0),ku(t,e,s,r)}if(a=(s&t.childLanes)!==0,tr||a){if(r=wn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ji(t,i),Xr(r,t,i,-1))}return Py(),r=Pp(Error(ie(421))),ku(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=pC.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,mr=Po(i.nextSibling),yr=e,ht=!0,Vr=null,t!==null&&(kr[Cr++]=Hi,kr[Cr++]=Ki,kr[Cr++]=Os,Hi=t.id,Ki=t.overflow,Os=e),e=ky(e,r.children),e.flags|=4096,e)}function ov(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),hg(t.return,e,n)}function Dp(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function _S(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(jn(t,e,r.children,n),r=mt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ov(t,n,e);else if(t.tag===19)ov(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(it(mt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&uf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Dp(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&uf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Dp(e,!0,n,null,o);break;case"together":Dp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ad(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function eo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Bs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ie(153));if(e.child!==null){for(t=e.child,n=jo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=jo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nC(t,e,n){switch(e.tag){case 3:wS(e),Ya();break;case 5:Vb(e);break;case 1:or(e.type)&&rf(e);break;case 4:by(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;it(af,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(it(mt,mt.current&1),e.flags|=128,null):n&e.child.childLanes?vS(t,e,n):(it(mt,mt.current&1),t=eo(t,e,n),t!==null?t.sibling:null);it(mt,mt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _S(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),it(mt,mt.current),r)break;return null;case 22:case 23:return e.lanes=0,mS(t,e,n)}return eo(t,e,n)}var ES,Eg,bS,SS;ES=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Eg=function(){};bS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ms(yi.current);var o=null;switch(n){case"input":i=$0(t,i),r=$0(t,r),o=[];break;case"select":i=vt({},i,{value:void 0}),r=vt({},r,{value:void 0}),o=[];break;case"textarea":i=V0(t,i),r=V0(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=tf)}q0(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(vc.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(vc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&at("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};SS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ll(t,e){if(!ht)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function rC(t,e,n){var r=e.pendingProps;switch(gy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(e),null;case 1:return or(e.type)&&nf(),Tn(e),null;case 3:return r=e.stateNode,Qa(),ct(ir),ct(Dn),Ay(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vr!==null&&(Tg(Vr),Vr=null))),Eg(t,e),Tn(e),null;case 5:Sy(e);var i=ms(Cc.current);if(n=e.type,t!==null&&e.stateNode!=null)bS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ie(166));return Tn(e),null}if(t=ms(yi.current),xu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ci]=e,r[Tc]=o,t=(e.mode&1)!==0,n){case"dialog":at("cancel",r),at("close",r);break;case"iframe":case"object":case"embed":at("load",r);break;case"video":case"audio":for(i=0;i<Hl.length;i++)at(Hl[i],r);break;case"source":at("error",r);break;case"img":case"image":case"link":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"input":p1(r,o),at("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},at("invalid",r);break;case"textarea":m1(r,o),at("invalid",r)}q0(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Nu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Nu(r.textContent,a,t),i=["children",""+a]):vc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&at("scroll",r)}switch(n){case"input":vu(r),g1(r,o,!0);break;case"textarea":vu(r),y1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=tf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=QE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[ci]=e,t[Tc]=r,ES(t,e,!1,!1),e.stateNode=t;e:{switch(s=Y0(n,r),n){case"dialog":at("cancel",t),at("close",t),i=r;break;case"iframe":case"object":case"embed":at("load",t),i=r;break;case"video":case"audio":for(i=0;i<Hl.length;i++)at(Hl[i],t);i=r;break;case"source":at("error",t),i=r;break;case"img":case"image":case"link":at("error",t),at("load",t),i=r;break;case"details":at("toggle",t),i=r;break;case"input":p1(t,r),i=$0(t,r),at("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=vt({},r,{value:void 0}),at("invalid",t);break;case"textarea":m1(t,r),i=V0(t,r),at("invalid",t);break;default:i=r}q0(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?eb(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&XE(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_c(t,l):typeof l=="number"&&_c(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(vc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&at("scroll",t):l!=null&&ey(t,o,l,s))}switch(n){case"input":vu(t),g1(t,r,!1);break;case"textarea":vu(t),y1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ko(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ba(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ba(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=tf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tn(e),null;case 6:if(t&&e.stateNode!=null)SS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ie(166));if(n=ms(Cc.current),ms(yi.current),xu(e)){if(r=e.stateNode,n=e.memoizedProps,r[ci]=e,(o=r.nodeValue!==n)&&(t=yr,t!==null))switch(t.tag){case 3:Nu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Nu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ci]=e,e.stateNode=r}return Tn(e),null;case 13:if(ct(mt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ht&&mr!==null&&e.mode&1&&!(e.flags&128))Wb(),Ya(),e.flags|=98560,o=!1;else if(o=xu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ie(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ie(317));o[ci]=e}else Ya(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tn(e),o=!1}else Vr!==null&&(Tg(Vr),Vr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||mt.current&1?cn===0&&(cn=3):Py())),e.updateQueue!==null&&(e.flags|=4),Tn(e),null);case 4:return Qa(),Eg(t,e),t===null&&Nc(e.stateNode.containerInfo),Tn(e),null;case 10:return vy(e.type._context),Tn(e),null;case 17:return or(e.type)&&nf(),Tn(e),null;case 19:if(ct(mt),o=e.memoizedState,o===null)return Tn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Ll(o,!1);else{if(cn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=uf(t),s!==null){for(e.flags|=128,Ll(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return it(mt,mt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ot()>Ja&&(e.flags|=128,r=!0,Ll(o,!1),e.lanes=4194304)}else{if(!r)if(t=uf(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ll(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ht)return Tn(e),null}else 2*Ot()-o.renderingStartTime>Ja&&n!==1073741824&&(e.flags|=128,r=!0,Ll(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ot(),e.sibling=null,n=mt.current,it(mt,r?n&1|2:n&1),e):(Tn(e),null);case 22:case 23:return By(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?dr&1073741824&&(Tn(e),e.subtreeFlags&6&&(e.flags|=8192)):Tn(e),null;case 24:return null;case 25:return null}throw Error(ie(156,e.tag))}function iC(t,e){switch(gy(e),e.tag){case 1:return or(e.type)&&nf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qa(),ct(ir),ct(Dn),Ay(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sy(e),null;case 13:if(ct(mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ie(340));Ya()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ct(mt),null;case 4:return Qa(),null;case 10:return vy(e.type._context),null;case 22:case 23:return By(),null;case 24:return null;default:return null}}var Cu=!1,Pn=!1,oC=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Ta(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){kt(t,e,r)}else n.current=null}function bg(t,e,n){try{n()}catch(r){kt(t,e,r)}}var sv=!1;function sC(t,e){if(og=Xd,t=xb(),hy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,d=0,g=t,p=null;t:for(;;){for(var f;g!==n||i!==0&&g.nodeType!==3||(a=s+i),g!==o||r!==0&&g.nodeType!==3||(l=s+r),g.nodeType===3&&(s+=g.nodeValue.length),(f=g.firstChild)!==null;)p=g,g=f;for(;;){if(g===t)break t;if(p===n&&++c===i&&(a=s),p===o&&++d===r&&(l=s),(f=g.nextSibling)!==null)break;g=p,p=g.parentNode}g=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(sg={focusedElem:t,selectionRange:n},Xd=!1,pe=e;pe!==null;)if(e=pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pe=t;else for(;pe!==null;){e=pe;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var R=m.memoizedProps,I=m.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?R:$r(e.type,R),I);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(N){kt(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,pe=t;break}pe=e.return}return m=sv,sv=!1,m}function lc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&bg(e,n,o)}i=i.next}while(i!==r)}}function rh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Sg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function AS(t){var e=t.alternate;e!==null&&(t.alternate=null,AS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ci],delete e[Tc],delete e[cg],delete e[Fk],delete e[$k])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function RS(t){return t.tag===5||t.tag===3||t.tag===4}function av(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||RS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ag(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=tf));else if(r!==4&&(t=t.child,t!==null))for(Ag(t,e,n),t=t.sibling;t!==null;)Ag(t,e,n),t=t.sibling}function Rg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Rg(t,e,n),t=t.sibling;t!==null;)Rg(t,e,n),t=t.sibling}var En=null,Kr=!1;function so(t,e,n){for(n=n.child;n!==null;)IS(t,e,n),n=n.sibling}function IS(t,e,n){if(mi&&typeof mi.onCommitFiberUnmount=="function")try{mi.onCommitFiberUnmount(Yf,n)}catch{}switch(n.tag){case 5:Pn||Ta(n,e);case 6:var r=En,i=Kr;En=null,so(t,e,n),En=r,Kr=i,En!==null&&(Kr?(t=En,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):En.removeChild(n.stateNode));break;case 18:En!==null&&(Kr?(t=En,n=n.stateNode,t.nodeType===8?kp(t.parentNode,n):t.nodeType===1&&kp(t,n),Ac(t)):kp(En,n.stateNode));break;case 4:r=En,i=Kr,En=n.stateNode.containerInfo,Kr=!0,so(t,e,n),En=r,Kr=i;break;case 0:case 11:case 14:case 15:if(!Pn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&bg(n,e,s),i=i.next}while(i!==r)}so(t,e,n);break;case 1:if(!Pn&&(Ta(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kt(n,e,a)}so(t,e,n);break;case 21:so(t,e,n);break;case 22:n.mode&1?(Pn=(r=Pn)||n.memoizedState!==null,so(t,e,n),Pn=r):so(t,e,n);break;default:so(t,e,n)}}function lv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new oC),e.forEach(function(r){var i=gC.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Wr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:En=a.stateNode,Kr=!1;break e;case 3:En=a.stateNode.containerInfo,Kr=!0;break e;case 4:En=a.stateNode.containerInfo,Kr=!0;break e}a=a.return}if(En===null)throw Error(ie(160));IS(o,s,i),En=null,Kr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){kt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)NS(e,t),e=e.sibling}function NS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wr(e,t),ri(t),r&4){try{lc(3,t,t.return),rh(3,t)}catch(R){kt(t,t.return,R)}try{lc(5,t,t.return)}catch(R){kt(t,t.return,R)}}break;case 1:Wr(e,t),ri(t),r&512&&n!==null&&Ta(n,n.return);break;case 5:if(Wr(e,t),ri(t),r&512&&n!==null&&Ta(n,n.return),t.flags&32){var i=t.stateNode;try{_c(i,"")}catch(R){kt(t,t.return,R)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&YE(i,o),Y0(a,s);var c=Y0(a,o);for(s=0;s<l.length;s+=2){var d=l[s],g=l[s+1];d==="style"?eb(i,g):d==="dangerouslySetInnerHTML"?XE(i,g):d==="children"?_c(i,g):ey(i,d,g,c)}switch(a){case"input":H0(i,o);break;case"textarea":ZE(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?Ba(i,!!o.multiple,f,!1):p!==!!o.multiple&&(o.defaultValue!=null?Ba(i,!!o.multiple,o.defaultValue,!0):Ba(i,!!o.multiple,o.multiple?[]:"",!1))}i[Tc]=o}catch(R){kt(t,t.return,R)}}break;case 6:if(Wr(e,t),ri(t),r&4){if(t.stateNode===null)throw Error(ie(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(R){kt(t,t.return,R)}}break;case 3:if(Wr(e,t),ri(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ac(e.containerInfo)}catch(R){kt(t,t.return,R)}break;case 4:Wr(e,t),ri(t);break;case 13:Wr(e,t),ri(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Oy=Ot())),r&4&&lv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Pn=(c=Pn)||d,Wr(e,t),Pn=c):Wr(e,t),ri(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(pe=t,d=t.child;d!==null;){for(g=pe=d;pe!==null;){switch(p=pe,f=p.child,p.tag){case 0:case 11:case 14:case 15:lc(4,p,p.return);break;case 1:Ta(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(R){kt(r,n,R)}}break;case 5:Ta(p,p.return);break;case 22:if(p.memoizedState!==null){uv(g);continue}}f!==null?(f.return=p,pe=f):uv(g)}d=d.sibling}e:for(d=null,g=t;;){if(g.tag===5){if(d===null){d=g;try{i=g.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=g.stateNode,l=g.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=JE("display",s))}catch(R){kt(t,t.return,R)}}}else if(g.tag===6){if(d===null)try{g.stateNode.nodeValue=c?"":g.memoizedProps}catch(R){kt(t,t.return,R)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;d===g&&(d=null),g=g.return}d===g&&(d=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Wr(e,t),ri(t),r&4&&lv(t);break;case 21:break;default:Wr(e,t),ri(t)}}function ri(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(RS(n)){var r=n;break e}n=n.return}throw Error(ie(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_c(i,""),r.flags&=-33);var o=av(t);Rg(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=av(t);Ag(t,a,s);break;default:throw Error(ie(161))}}catch(l){kt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function aC(t,e,n){pe=t,xS(t)}function xS(t,e,n){for(var r=(t.mode&1)!==0;pe!==null;){var i=pe,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Cu;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Pn;a=Cu;var c=Pn;if(Cu=s,(Pn=l)&&!c)for(pe=i;pe!==null;)s=pe,l=s.child,s.tag===22&&s.memoizedState!==null?dv(i):l!==null?(l.return=s,pe=l):dv(i);for(;o!==null;)pe=o,xS(o),o=o.sibling;pe=i,Cu=a,Pn=c}cv(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,pe=o):cv(t)}}function cv(t){for(;pe!==null;){var e=pe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pn||rh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:$r(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&G1(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}G1(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var g=d.dehydrated;g!==null&&Ac(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}Pn||e.flags&512&&Sg(e)}catch(p){kt(e,e.return,p)}}if(e===t){pe=null;break}if(n=e.sibling,n!==null){n.return=e.return,pe=n;break}pe=e.return}}function uv(t){for(;pe!==null;){var e=pe;if(e===t){pe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,pe=n;break}pe=e.return}}function dv(t){for(;pe!==null;){var e=pe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rh(4,e)}catch(l){kt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){kt(e,i,l)}}var o=e.return;try{Sg(e)}catch(l){kt(e,o,l)}break;case 5:var s=e.return;try{Sg(e)}catch(l){kt(e,s,l)}}}catch(l){kt(e,e.return,l)}if(e===t){pe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,pe=a;break}pe=e.return}}var lC=Math.ceil,hf=io.ReactCurrentDispatcher,Cy=io.ReactCurrentOwner,Lr=io.ReactCurrentBatchConfig,Ue=0,wn=null,nn=null,Rn=0,dr=0,ka=Qo(0),cn=0,Bc=null,Bs=0,ih=0,My=0,cc=null,Qn=null,Oy=0,Ja=1/0,Bi=null,pf=!1,Ig=null,Uo=null,Mu=!1,No=null,gf=0,uc=0,Ng=null,ld=-1,cd=0;function $n(){return Ue&6?Ot():ld!==-1?ld:ld=Ot()}function zo(t){return t.mode&1?Ue&2&&Rn!==0?Rn&-Rn:Kk.transition!==null?(cd===0&&(cd=fb()),cd):(t=Ge,t!==0||(t=window.event,t=t===void 0?16:vb(t.type)),t):1}function Xr(t,e,n,r){if(50<uc)throw uc=0,Ng=null,Error(ie(185));qc(t,n,r),(!(Ue&2)||t!==wn)&&(t===wn&&(!(Ue&2)&&(ih|=n),cn===4&&Ao(t,Rn)),sr(t,r),n===1&&Ue===0&&!(e.mode&1)&&(Ja=Ot()+500,eh&&Xo()))}function sr(t,e){var n=t.callbackNode;KT(t,e);var r=Qd(t,t===wn?Rn:0);if(r===0)n!==null&&_1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_1(n),e===1)t.tag===0?Hk(fv.bind(null,t)):Ub(fv.bind(null,t)),jk(function(){!(Ue&6)&&Xo()}),n=null;else{switch(hb(r)){case 1:n=oy;break;case 4:n=ub;break;case 16:n=Zd;break;case 536870912:n=db;break;default:n=Zd}n=PS(n,TS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function TS(t,e){if(ld=-1,cd=0,Ue&6)throw Error(ie(327));var n=t.callbackNode;if(ja()&&t.callbackNode!==n)return null;var r=Qd(t,t===wn?Rn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=mf(t,r);else{e=r;var i=Ue;Ue|=2;var o=CS();(wn!==t||Rn!==e)&&(Bi=null,Ja=Ot()+500,ks(t,e));do try{dC();break}catch(a){kS(t,a)}while(!0);wy(),hf.current=o,Ue=i,nn!==null?e=0:(wn=null,Rn=0,e=cn)}if(e!==0){if(e===2&&(i=eg(t),i!==0&&(r=i,e=xg(t,i))),e===1)throw n=Bc,ks(t,0),Ao(t,r),sr(t,Ot()),n;if(e===6)Ao(t,r);else{if(i=t.current.alternate,!(r&30)&&!cC(i)&&(e=mf(t,r),e===2&&(o=eg(t),o!==0&&(r=o,e=xg(t,o))),e===1))throw n=Bc,ks(t,0),Ao(t,r),sr(t,Ot()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ie(345));case 2:os(t,Qn,Bi);break;case 3:if(Ao(t,r),(r&130023424)===r&&(e=Oy+500-Ot(),10<e)){if(Qd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){$n(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=lg(os.bind(null,t,Qn,Bi),e);break}os(t,Qn,Bi);break;case 4:if(Ao(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Qr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lC(r/1960))-r,10<r){t.timeoutHandle=lg(os.bind(null,t,Qn,Bi),r);break}os(t,Qn,Bi);break;case 5:os(t,Qn,Bi);break;default:throw Error(ie(329))}}}return sr(t,Ot()),t.callbackNode===n?TS.bind(null,t):null}function xg(t,e){var n=cc;return t.current.memoizedState.isDehydrated&&(ks(t,e).flags|=256),t=mf(t,e),t!==2&&(e=Qn,Qn=n,e!==null&&Tg(e)),t}function Tg(t){Qn===null?Qn=t:Qn.push.apply(Qn,t)}function cC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ei(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ao(t,e){for(e&=~My,e&=~ih,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qr(e),r=1<<n;t[n]=-1,e&=~r}}function fv(t){if(Ue&6)throw Error(ie(327));ja();var e=Qd(t,0);if(!(e&1))return sr(t,Ot()),null;var n=mf(t,e);if(t.tag!==0&&n===2){var r=eg(t);r!==0&&(e=r,n=xg(t,r))}if(n===1)throw n=Bc,ks(t,0),Ao(t,e),sr(t,Ot()),n;if(n===6)throw Error(ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,os(t,Qn,Bi),sr(t,Ot()),null}function Ly(t,e){var n=Ue;Ue|=1;try{return t(e)}finally{Ue=n,Ue===0&&(Ja=Ot()+500,eh&&Xo())}}function Ps(t){No!==null&&No.tag===0&&!(Ue&6)&&ja();var e=Ue;Ue|=1;var n=Lr.transition,r=Ge;try{if(Lr.transition=null,Ge=1,t)return t()}finally{Ge=r,Lr.transition=n,Ue=e,!(Ue&6)&&Xo()}}function By(){dr=ka.current,ct(ka)}function ks(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,zk(n)),nn!==null)for(n=nn.return;n!==null;){var r=n;switch(gy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nf();break;case 3:Qa(),ct(ir),ct(Dn),Ay();break;case 5:Sy(r);break;case 4:Qa();break;case 13:ct(mt);break;case 19:ct(mt);break;case 10:vy(r.type._context);break;case 22:case 23:By()}n=n.return}if(wn=t,nn=t=jo(t.current,null),Rn=dr=e,cn=0,Bc=null,My=ih=Bs=0,Qn=cc=null,gs!==null){for(e=0;e<gs.length;e++)if(n=gs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}gs=null}return t}function kS(t,e){do{var n=nn;try{if(wy(),od.current=ff,df){for(var r=wt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}df=!1}if(Ls=0,gn=an=wt=null,ac=!1,Mc=0,Cy.current=null,n===null||n.return===null){cn=1,Bc=e,nn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Rn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,g=d.tag;if(!(d.mode&1)&&(g===0||g===11||g===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=J1(s);if(f!==null){f.flags&=-257,ev(f,s,a,o,e),f.mode&1&&X1(o,c,e),e=f,l=c;var m=e.updateQueue;if(m===null){var R=new Set;R.add(l),e.updateQueue=R}else m.add(l);break e}else{if(!(e&1)){X1(o,c,e),Py();break e}l=Error(ie(426))}}else if(ht&&a.mode&1){var I=J1(s);if(I!==null){!(I.flags&65536)&&(I.flags|=256),ev(I,s,a,o,e),my(Xa(l,a));break e}}o=l=Xa(l,a),cn!==4&&(cn=2),cc===null?cc=[o]:cc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=hS(o,l,e);V1(o,w);break e;case 1:a=l;var b=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Uo===null||!Uo.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var N=pS(o,a,e);V1(o,N);break e}}o=o.return}while(o!==null)}OS(n)}catch(L){e=L,nn===n&&n!==null&&(nn=n=n.return);continue}break}while(!0)}function CS(){var t=hf.current;return hf.current=ff,t===null?ff:t}function Py(){(cn===0||cn===3||cn===2)&&(cn=4),wn===null||!(Bs&268435455)&&!(ih&268435455)||Ao(wn,Rn)}function mf(t,e){var n=Ue;Ue|=2;var r=CS();(wn!==t||Rn!==e)&&(Bi=null,ks(t,e));do try{uC();break}catch(i){kS(t,i)}while(!0);if(wy(),Ue=n,hf.current=r,nn!==null)throw Error(ie(261));return wn=null,Rn=0,cn}function uC(){for(;nn!==null;)MS(nn)}function dC(){for(;nn!==null&&!PT();)MS(nn)}function MS(t){var e=BS(t.alternate,t,dr);t.memoizedProps=t.pendingProps,e===null?OS(t):nn=e,Cy.current=null}function OS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=iC(n,e),n!==null){n.flags&=32767,nn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{cn=6,nn=null;return}}else if(n=rC(n,e,dr),n!==null){nn=n;return}if(e=e.sibling,e!==null){nn=e;return}nn=e=t}while(e!==null);cn===0&&(cn=5)}function os(t,e,n){var r=Ge,i=Lr.transition;try{Lr.transition=null,Ge=1,fC(t,e,n,r)}finally{Lr.transition=i,Ge=r}return null}function fC(t,e,n,r){do ja();while(No!==null);if(Ue&6)throw Error(ie(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ie(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(VT(t,o),t===wn&&(nn=wn=null,Rn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Mu||(Mu=!0,PS(Zd,function(){return ja(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Lr.transition,Lr.transition=null;var s=Ge;Ge=1;var a=Ue;Ue|=4,Cy.current=null,sC(t,n),NS(n,t),Mk(sg),Xd=!!og,sg=og=null,t.current=n,aC(n),DT(),Ue=a,Ge=s,Lr.transition=o}else t.current=n;if(Mu&&(Mu=!1,No=t,gf=i),o=t.pendingLanes,o===0&&(Uo=null),jT(n.stateNode),sr(t,Ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(pf)throw pf=!1,t=Ig,Ig=null,t;return gf&1&&t.tag!==0&&ja(),o=t.pendingLanes,o&1?t===Ng?uc++:(uc=0,Ng=t):uc=0,Xo(),null}function ja(){if(No!==null){var t=hb(gf),e=Lr.transition,n=Ge;try{if(Lr.transition=null,Ge=16>t?16:t,No===null)var r=!1;else{if(t=No,No=null,gf=0,Ue&6)throw Error(ie(331));var i=Ue;for(Ue|=4,pe=t.current;pe!==null;){var o=pe,s=o.child;if(pe.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(pe=c;pe!==null;){var d=pe;switch(d.tag){case 0:case 11:case 15:lc(8,d,o)}var g=d.child;if(g!==null)g.return=d,pe=g;else for(;pe!==null;){d=pe;var p=d.sibling,f=d.return;if(AS(d),d===c){pe=null;break}if(p!==null){p.return=f,pe=p;break}pe=f}}}var m=o.alternate;if(m!==null){var R=m.child;if(R!==null){m.child=null;do{var I=R.sibling;R.sibling=null,R=I}while(R!==null)}}pe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,pe=s;else e:for(;pe!==null;){if(o=pe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:lc(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,pe=w;break e}pe=o.return}}var b=t.current;for(pe=b;pe!==null;){s=pe;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,pe=_;else e:for(s=b;pe!==null;){if(a=pe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rh(9,a)}}catch(L){kt(a,a.return,L)}if(a===s){pe=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,pe=N;break e}pe=a.return}}if(Ue=i,Xo(),mi&&typeof mi.onPostCommitFiberRoot=="function")try{mi.onPostCommitFiberRoot(Yf,t)}catch{}r=!0}return r}finally{Ge=n,Lr.transition=e}}return!1}function hv(t,e,n){e=Xa(n,e),e=hS(t,e,1),t=Do(t,e,1),e=$n(),t!==null&&(qc(t,1,e),sr(t,e))}function kt(t,e,n){if(t.tag===3)hv(t,t,n);else for(;e!==null;){if(e.tag===3){hv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Uo===null||!Uo.has(r))){t=Xa(n,t),t=pS(e,t,1),e=Do(e,t,1),t=$n(),e!==null&&(qc(e,1,t),sr(e,t));break}}e=e.return}}function hC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=$n(),t.pingedLanes|=t.suspendedLanes&n,wn===t&&(Rn&n)===n&&(cn===4||cn===3&&(Rn&130023424)===Rn&&500>Ot()-Oy?ks(t,0):My|=n),sr(t,e)}function LS(t,e){e===0&&(t.mode&1?(e=bu,bu<<=1,!(bu&130023424)&&(bu=4194304)):e=1);var n=$n();t=Ji(t,e),t!==null&&(qc(t,e,n),sr(t,n))}function pC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),LS(t,n)}function gC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ie(314))}r!==null&&r.delete(e),LS(t,n)}var BS;BS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ir.current)tr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tr=!1,nC(t,e,n);tr=!!(t.flags&131072)}else tr=!1,ht&&e.flags&1048576&&zb(e,sf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ad(t,e),t=e.pendingProps;var i=qa(e,Dn.current);za(e,n),i=Iy(null,e,r,t,i,n);var o=Ny();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,or(r)?(o=!0,rf(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ey(e),i.updater=nh,e.stateNode=i,i._reactInternals=e,gg(e,r,t,n),e=wg(null,e,r,!0,o,n)):(e.tag=0,ht&&o&&py(e),jn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ad(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=yC(r),t=$r(r,t),i){case 0:e=yg(null,e,r,t,n);break e;case 1:e=rv(null,e,r,t,n);break e;case 11:e=tv(null,e,r,t,n);break e;case 14:e=nv(null,e,r,$r(r.type,t),n);break e}throw Error(ie(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$r(r,i),yg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$r(r,i),rv(t,e,r,i,n);case 3:e:{if(wS(e),t===null)throw Error(ie(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Kb(t,e),cf(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Xa(Error(ie(423)),e),e=iv(t,e,r,n,i);break e}else if(r!==i){i=Xa(Error(ie(424)),e),e=iv(t,e,r,n,i);break e}else for(mr=Po(e.stateNode.containerInfo.firstChild),yr=e,ht=!0,Vr=null,n=$b(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ya(),r===i){e=eo(t,e,n);break e}jn(t,e,r,n)}e=e.child}return e;case 5:return Vb(e),t===null&&fg(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,ag(r,i)?s=null:o!==null&&ag(r,o)&&(e.flags|=32),yS(t,e),jn(t,e,s,n),e.child;case 6:return t===null&&fg(e),null;case 13:return vS(t,e,n);case 4:return by(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Za(e,null,r,n):jn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$r(r,i),tv(t,e,r,i,n);case 7:return jn(t,e,e.pendingProps,n),e.child;case 8:return jn(t,e,e.pendingProps.children,n),e.child;case 12:return jn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,it(af,r._currentValue),r._currentValue=s,o!==null)if(ei(o.value,s)){if(o.children===i.children&&!ir.current){e=eo(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Yi(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),hg(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ie(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),hg(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}jn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,za(e,n),i=Pr(i),r=r(i),e.flags|=1,jn(t,e,r,n),e.child;case 14:return r=e.type,i=$r(r,e.pendingProps),i=$r(r.type,i),nv(t,e,r,i,n);case 15:return gS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$r(r,i),ad(t,e),e.tag=1,or(r)?(t=!0,rf(e)):t=!1,za(e,n),fS(e,r,i),gg(e,r,i,n),wg(null,e,r,!0,t,n);case 19:return _S(t,e,n);case 22:return mS(t,e,n)}throw Error(ie(156,e.tag))};function PS(t,e){return cb(t,e)}function mC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(t,e,n,r){return new mC(t,e,n,r)}function Dy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yC(t){if(typeof t=="function")return Dy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ny)return 11;if(t===ry)return 14}return 2}function jo(t,e){var n=t.alternate;return n===null?(n=Or(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ud(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Dy(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case _a:return Cs(n.children,i,o,e);case ty:s=8,i|=8;break;case z0:return t=Or(12,n,e,i|2),t.elementType=z0,t.lanes=o,t;case j0:return t=Or(13,n,e,i),t.elementType=j0,t.lanes=o,t;case W0:return t=Or(19,n,e,i),t.elementType=W0,t.lanes=o,t;case VE:return oh(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case HE:s=10;break e;case KE:s=9;break e;case ny:s=11;break e;case ry:s=14;break e;case vo:s=16,r=null;break e}throw Error(ie(130,t==null?t:typeof t,""))}return e=Or(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Cs(t,e,n,r){return t=Or(7,t,r,e),t.lanes=n,t}function oh(t,e,n,r){return t=Or(22,t,r,e),t.elementType=VE,t.lanes=n,t.stateNode={isHidden:!1},t}function Up(t,e,n){return t=Or(6,t,null,e),t.lanes=n,t}function zp(t,e,n){return e=Or(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wC(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vp(0),this.expirationTimes=vp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uy(t,e,n,r,i,o,s,a,l){return t=new wC(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Or(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ey(o),t}function vC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:va,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function DS(t){if(!t)return Vo;t=t._reactInternals;e:{if($s(t)!==t||t.tag!==1)throw Error(ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(or(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ie(171))}if(t.tag===1){var n=t.type;if(or(n))return Db(t,n,e)}return e}function US(t,e,n,r,i,o,s,a,l){return t=Uy(n,r,!0,t,i,o,s,a,l),t.context=DS(null),n=t.current,r=$n(),i=zo(n),o=Yi(r,i),o.callback=e??null,Do(n,o,i),t.current.lanes=i,qc(t,i,r),sr(t,r),t}function sh(t,e,n,r){var i=e.current,o=$n(),s=zo(i);return n=DS(n),e.context===null?e.context=n:e.pendingContext=n,e=Yi(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Do(i,e,s),t!==null&&(Xr(t,i,s,o),id(t,i,s)),s}function yf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function pv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function zy(t,e){pv(t,e),(t=t.alternate)&&pv(t,e)}function _C(){return null}var zS=typeof reportError=="function"?reportError:function(t){console.error(t)};function jy(t){this._internalRoot=t}ah.prototype.render=jy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ie(409));sh(t,e,null,null)};ah.prototype.unmount=jy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ps(function(){sh(null,t,null,null)}),e[Xi]=null}};function ah(t){this._internalRoot=t}ah.prototype.unstable_scheduleHydration=function(t){if(t){var e=mb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<So.length&&e!==0&&e<So[n].priority;n++);So.splice(n,0,t),n===0&&wb(t)}};function Wy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gv(){}function EC(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=yf(s);o.call(c)}}var s=US(e,r,t,0,null,!1,!1,"",gv);return t._reactRootContainer=s,t[Xi]=s.current,Nc(t.nodeType===8?t.parentNode:t),Ps(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=yf(l);a.call(c)}}var l=Uy(t,0,!1,null,null,!1,!1,"",gv);return t._reactRootContainer=l,t[Xi]=l.current,Nc(t.nodeType===8?t.parentNode:t),Ps(function(){sh(e,l,n,r)}),l}function ch(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=yf(s);a.call(l)}}sh(e,s,t,i)}else s=EC(n,e,t,i,r);return yf(s)}pb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$l(e.pendingLanes);n!==0&&(sy(e,n|1),sr(e,Ot()),!(Ue&6)&&(Ja=Ot()+500,Xo()))}break;case 13:Ps(function(){var r=Ji(t,1);if(r!==null){var i=$n();Xr(r,t,1,i)}}),zy(t,1)}};ay=function(t){if(t.tag===13){var e=Ji(t,134217728);if(e!==null){var n=$n();Xr(e,t,134217728,n)}zy(t,134217728)}};gb=function(t){if(t.tag===13){var e=zo(t),n=Ji(t,e);if(n!==null){var r=$n();Xr(n,t,e,r)}zy(t,e)}};mb=function(){return Ge};yb=function(t,e){var n=Ge;try{return Ge=t,e()}finally{Ge=n}};Q0=function(t,e,n){switch(e){case"input":if(H0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Jf(r);if(!i)throw Error(ie(90));qE(r),H0(r,i)}}}break;case"textarea":ZE(t,n);break;case"select":e=n.value,e!=null&&Ba(t,!!n.multiple,e,!1)}};rb=Ly;ib=Ps;var bC={usingClientEntryPoint:!1,Events:[Zc,Aa,Jf,tb,nb,Ly]},Bl={findFiberByHostInstance:ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SC={bundleType:Bl.bundleType,version:Bl.version,rendererPackageName:Bl.rendererPackageName,rendererConfig:Bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:io.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ab(t),t===null?null:t.stateNode},findFiberByHostInstance:Bl.findFiberByHostInstance||_C,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ou.isDisabled&&Ou.supportsFiber)try{Yf=Ou.inject(SC),mi=Ou}catch{}}br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bC;br.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wy(e))throw Error(ie(200));return vC(t,e,null,n)};br.createRoot=function(t,e){if(!Wy(t))throw Error(ie(299));var n=!1,r="",i=zS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Uy(t,1,!1,null,null,n,!1,r,i),t[Xi]=e.current,Nc(t.nodeType===8?t.parentNode:t),new jy(e)};br.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ie(188)):(t=Object.keys(t).join(","),Error(ie(268,t)));return t=ab(e),t=t===null?null:t.stateNode,t};br.flushSync=function(t){return Ps(t)};br.hydrate=function(t,e,n){if(!lh(e))throw Error(ie(200));return ch(null,t,e,!0,n)};br.hydrateRoot=function(t,e,n){if(!Wy(t))throw Error(ie(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=zS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=US(e,null,t,1,n??null,i,!1,o,s),t[Xi]=e.current,Nc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ah(e)};br.render=function(t,e,n){if(!lh(e))throw Error(ie(200));return ch(null,t,e,!1,n)};br.unmountComponentAtNode=function(t){if(!lh(t))throw Error(ie(40));return t._reactRootContainer?(Ps(function(){ch(null,null,t,!1,function(){t._reactRootContainer=null,t[Xi]=null})}),!0):!1};br.unstable_batchedUpdates=Ly;br.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!lh(n))throw Error(ie(200));if(t==null||t._reactInternals===void 0)throw Error(ie(38));return ch(t,e,n,!1,r)};br.version="18.3.1-next-f1338f8080-20240426";function jS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jS)}catch(t){console.error(t)}}jS(),jE.exports=br;var WS=jE.exports,mv=WS;D0.createRoot=mv.createRoot,D0.hydrateRoot=mv.hydrateRoot;var ge={},uh={};uh.byteLength=IC;uh.toByteArray=xC;uh.fromByteArray=CC;var ui=[],Tr=[],AC=typeof Uint8Array<"u"?Uint8Array:Array,jp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Xs=0,RC=jp.length;Xs<RC;++Xs)ui[Xs]=jp[Xs],Tr[jp.charCodeAt(Xs)]=Xs;Tr[45]=62;Tr[95]=63;function FS(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function IC(t){var e=FS(t),n=e[0],r=e[1];return(n+r)*3/4-r}function NC(t,e,n){return(e+n)*3/4-n}function xC(t){var e,n=FS(t),r=n[0],i=n[1],o=new AC(NC(t,r,i)),s=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=Tr[t.charCodeAt(l)]<<18|Tr[t.charCodeAt(l+1)]<<12|Tr[t.charCodeAt(l+2)]<<6|Tr[t.charCodeAt(l+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=Tr[t.charCodeAt(l)]<<2|Tr[t.charCodeAt(l+1)]>>4,o[s++]=e&255),i===1&&(e=Tr[t.charCodeAt(l)]<<10|Tr[t.charCodeAt(l+1)]<<4|Tr[t.charCodeAt(l+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function TC(t){return ui[t>>18&63]+ui[t>>12&63]+ui[t>>6&63]+ui[t&63]}function kC(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(TC(r));return i.join("")}function CC(t){for(var e,n=t.length,r=n%3,i=[],o=16383,s=0,a=n-r;s<a;s+=o)i.push(kC(t,s,s+o>a?a:s+o));return r===1?(e=t[n-1],i.push(ui[e>>2]+ui[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(ui[e>>10]+ui[e>>4&63]+ui[e<<2&63]+"=")),i.join("")}var Fy={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Fy.read=function(t,e,n,r,i){var o,s,a=i*8-r-1,l=(1<<a)-1,c=l>>1,d=-7,g=n?i-1:0,p=n?-1:1,f=t[e+g];for(g+=p,o=f&(1<<-d)-1,f>>=-d,d+=a;d>0;o=o*256+t[e+g],g+=p,d-=8);for(s=o&(1<<-d)-1,o>>=-d,d+=r;d>0;s=s*256+t[e+g],g+=p,d-=8);if(o===0)o=1-c;else{if(o===l)return s?NaN:(f?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-c}return(f?-1:1)*s*Math.pow(2,o-r)};Fy.write=function(t,e,n,r,i,o){var s,a,l,c=o*8-i-1,d=(1<<c)-1,g=d>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,m=r?1:-1,R=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=d):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+g>=1?e+=p/l:e+=p*Math.pow(2,1-g),e*l>=2&&(s++,l/=2),s+g>=d?(a=0,s=d):s+g>=1?(a=(e*l-1)*Math.pow(2,i),s=s+g):(a=e*Math.pow(2,g-1)*Math.pow(2,i),s=0));i>=8;t[n+f]=a&255,f+=m,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+f]=s&255,f+=m,s/=256,c-=8);t[n+f-m]|=R*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=uh,n=Fy,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const k=new Uint8Array(1),v={foo:function(){return 42}};return Object.setPrototypeOf(v,Uint8Array.prototype),Object.setPrototypeOf(k,v),k.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(k){if(k>i)throw new RangeError('The value "'+k+'" is invalid for option "size"');const v=new Uint8Array(k);return Object.setPrototypeOf(v,a.prototype),v}function a(k,v,E){if(typeof k=="number"){if(typeof v=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(k)}return l(k,v,E)}a.poolSize=8192;function l(k,v,E){if(typeof k=="string")return p(k,v);if(ArrayBuffer.isView(k))return m(k);if(k==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k);if(lr(k,ArrayBuffer)||k&&lr(k.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(lr(k,SharedArrayBuffer)||k&&lr(k.buffer,SharedArrayBuffer)))return R(k,v,E);if(typeof k=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const B=k.valueOf&&k.valueOf();if(B!=null&&B!==k)return a.from(B,v,E);const K=I(k);if(K)return K;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof k[Symbol.toPrimitive]=="function")return a.from(k[Symbol.toPrimitive]("string"),v,E);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k)}a.from=function(k,v,E){return l(k,v,E)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(k){if(typeof k!="number")throw new TypeError('"size" argument must be of type number');if(k<0)throw new RangeError('The value "'+k+'" is invalid for option "size"')}function d(k,v,E){return c(k),k<=0?s(k):v!==void 0?typeof E=="string"?s(k).fill(v,E):s(k).fill(v):s(k)}a.alloc=function(k,v,E){return d(k,v,E)};function g(k){return c(k),s(k<0?0:w(k)|0)}a.allocUnsafe=function(k){return g(k)},a.allocUnsafeSlow=function(k){return g(k)};function p(k,v){if((typeof v!="string"||v==="")&&(v="utf8"),!a.isEncoding(v))throw new TypeError("Unknown encoding: "+v);const E=_(k,v)|0;let B=s(E);const K=B.write(k,v);return K!==E&&(B=B.slice(0,K)),B}function f(k){const v=k.length<0?0:w(k.length)|0,E=s(v);for(let B=0;B<v;B+=1)E[B]=k[B]&255;return E}function m(k){if(lr(k,Uint8Array)){const v=new Uint8Array(k);return R(v.buffer,v.byteOffset,v.byteLength)}return f(k)}function R(k,v,E){if(v<0||k.byteLength<v)throw new RangeError('"offset" is outside of buffer bounds');if(k.byteLength<v+(E||0))throw new RangeError('"length" is outside of buffer bounds');let B;return v===void 0&&E===void 0?B=new Uint8Array(k):E===void 0?B=new Uint8Array(k,v):B=new Uint8Array(k,v,E),Object.setPrototypeOf(B,a.prototype),B}function I(k){if(a.isBuffer(k)){const v=w(k.length)|0,E=s(v);return E.length===0||k.copy(E,0,0,v),E}if(k.length!==void 0)return typeof k.length!="number"||dt(k.length)?s(0):f(k);if(k.type==="Buffer"&&Array.isArray(k.data))return f(k.data)}function w(k){if(k>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return k|0}function b(k){return+k!=k&&(k=0),a.alloc(+k)}a.isBuffer=function(v){return v!=null&&v._isBuffer===!0&&v!==a.prototype},a.compare=function(v,E){if(lr(v,Uint8Array)&&(v=a.from(v,v.offset,v.byteLength)),lr(E,Uint8Array)&&(E=a.from(E,E.offset,E.byteLength)),!a.isBuffer(v)||!a.isBuffer(E))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===E)return 0;let B=v.length,K=E.length;for(let G=0,X=Math.min(B,K);G<X;++G)if(v[G]!==E[G]){B=v[G],K=E[G];break}return B<K?-1:K<B?1:0},a.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(v,E){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return a.alloc(0);let B;if(E===void 0)for(E=0,B=0;B<v.length;++B)E+=v[B].length;const K=a.allocUnsafe(E);let G=0;for(B=0;B<v.length;++B){let X=v[B];if(lr(X,Uint8Array))G+X.length>K.length?(a.isBuffer(X)||(X=a.from(X)),X.copy(K,G)):Uint8Array.prototype.set.call(K,X,G);else if(a.isBuffer(X))X.copy(K,G);else throw new TypeError('"list" argument must be an Array of Buffers');G+=X.length}return K};function _(k,v){if(a.isBuffer(k))return k.length;if(ArrayBuffer.isView(k)||lr(k,ArrayBuffer))return k.byteLength;if(typeof k!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof k);const E=k.length,B=arguments.length>2&&arguments[2]===!0;if(!B&&E===0)return 0;let K=!1;for(;;)switch(v){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":return ut(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E*2;case"hex":return E>>>1;case"base64":return pt(k).length;default:if(K)return B?-1:ut(k).length;v=(""+v).toLowerCase(),K=!0}}a.byteLength=_;function N(k,v,E){let B=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((E===void 0||E>this.length)&&(E=this.length),E<=0)||(E>>>=0,v>>>=0,E<=v))return"";for(k||(k="utf8");;)switch(k){case"hex":return M(this,v,E);case"utf8":case"utf-8":return u(this,v,E);case"ascii":return T(this,v,E);case"latin1":case"binary":return x(this,v,E);case"base64":return A(this,v,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,v,E);default:if(B)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),B=!0}}a.prototype._isBuffer=!0;function L(k,v,E){const B=k[v];k[v]=k[E],k[E]=B}a.prototype.swap16=function(){const v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let E=0;E<v;E+=2)L(this,E,E+1);return this},a.prototype.swap32=function(){const v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let E=0;E<v;E+=4)L(this,E,E+3),L(this,E+1,E+2);return this},a.prototype.swap64=function(){const v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let E=0;E<v;E+=8)L(this,E,E+7),L(this,E+1,E+6),L(this,E+2,E+5),L(this,E+3,E+4);return this},a.prototype.toString=function(){const v=this.length;return v===0?"":arguments.length===0?u(this,0,v):N.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(v){if(!a.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:a.compare(this,v)===0},a.prototype.inspect=function(){let v="";const E=t.INSPECT_MAX_BYTES;return v=this.toString("hex",0,E).replace(/(.{2})/g,"$1 ").trim(),this.length>E&&(v+=" ... "),"<Buffer "+v+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(v,E,B,K,G){if(lr(v,Uint8Array)&&(v=a.from(v,v.offset,v.byteLength)),!a.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(E===void 0&&(E=0),B===void 0&&(B=v?v.length:0),K===void 0&&(K=0),G===void 0&&(G=this.length),E<0||B>v.length||K<0||G>this.length)throw new RangeError("out of range index");if(K>=G&&E>=B)return 0;if(K>=G)return-1;if(E>=B)return 1;if(E>>>=0,B>>>=0,K>>>=0,G>>>=0,this===v)return 0;let X=G-K,Te=B-E;const Ne=Math.min(X,Te),Ae=this.slice(K,G),st=v.slice(E,B);for(let be=0;be<Ne;++be)if(Ae[be]!==st[be]){X=Ae[be],Te=st[be];break}return X<Te?-1:Te<X?1:0};function j(k,v,E,B,K){if(k.length===0)return-1;if(typeof E=="string"?(B=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),E=+E,dt(E)&&(E=K?0:k.length-1),E<0&&(E=k.length+E),E>=k.length){if(K)return-1;E=k.length-1}else if(E<0)if(K)E=0;else return-1;if(typeof v=="string"&&(v=a.from(v,B)),a.isBuffer(v))return v.length===0?-1:O(k,v,E,B,K);if(typeof v=="number")return v=v&255,typeof Uint8Array.prototype.indexOf=="function"?K?Uint8Array.prototype.indexOf.call(k,v,E):Uint8Array.prototype.lastIndexOf.call(k,v,E):O(k,[v],E,B,K);throw new TypeError("val must be string, number or Buffer")}function O(k,v,E,B,K){let G=1,X=k.length,Te=v.length;if(B!==void 0&&(B=String(B).toLowerCase(),B==="ucs2"||B==="ucs-2"||B==="utf16le"||B==="utf-16le")){if(k.length<2||v.length<2)return-1;G=2,X/=2,Te/=2,E/=2}function Ne(st,be){return G===1?st[be]:st.readUInt16BE(be*G)}let Ae;if(K){let st=-1;for(Ae=E;Ae<X;Ae++)if(Ne(k,Ae)===Ne(v,st===-1?0:Ae-st)){if(st===-1&&(st=Ae),Ae-st+1===Te)return st*G}else st!==-1&&(Ae-=Ae-st),st=-1}else for(E+Te>X&&(E=X-Te),Ae=E;Ae>=0;Ae--){let st=!0;for(let be=0;be<Te;be++)if(Ne(k,Ae+be)!==Ne(v,be)){st=!1;break}if(st)return Ae}return-1}a.prototype.includes=function(v,E,B){return this.indexOf(v,E,B)!==-1},a.prototype.indexOf=function(v,E,B){return j(this,v,E,B,!0)},a.prototype.lastIndexOf=function(v,E,B){return j(this,v,E,B,!1)};function U(k,v,E,B){E=Number(E)||0;const K=k.length-E;B?(B=Number(B),B>K&&(B=K)):B=K;const G=v.length;B>G/2&&(B=G/2);let X;for(X=0;X<B;++X){const Te=parseInt(v.substr(X*2,2),16);if(dt(Te))return X;k[E+X]=Te}return X}function P(k,v,E,B){return ot(ut(v,k.length-E),k,E,B)}function W(k,v,E,B){return ot(At(v),k,E,B)}function $(k,v,E,B){return ot(pt(v),k,E,B)}function H(k,v,E,B){return ot(mu(v,k.length-E),k,E,B)}a.prototype.write=function(v,E,B,K){if(E===void 0)K="utf8",B=this.length,E=0;else if(B===void 0&&typeof E=="string")K=E,B=this.length,E=0;else if(isFinite(E))E=E>>>0,isFinite(B)?(B=B>>>0,K===void 0&&(K="utf8")):(K=B,B=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const G=this.length-E;if((B===void 0||B>G)&&(B=G),v.length>0&&(B<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");K||(K="utf8");let X=!1;for(;;)switch(K){case"hex":return U(this,v,E,B);case"utf8":case"utf-8":return P(this,v,E,B);case"ascii":case"latin1":case"binary":return W(this,v,E,B);case"base64":return $(this,v,E,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,v,E,B);default:if(X)throw new TypeError("Unknown encoding: "+K);K=(""+K).toLowerCase(),X=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(k,v,E){return v===0&&E===k.length?e.fromByteArray(k):e.fromByteArray(k.slice(v,E))}function u(k,v,E){E=Math.min(k.length,E);const B=[];let K=v;for(;K<E;){const G=k[K];let X=null,Te=G>239?4:G>223?3:G>191?2:1;if(K+Te<=E){let Ne,Ae,st,be;switch(Te){case 1:G<128&&(X=G);break;case 2:Ne=k[K+1],(Ne&192)===128&&(be=(G&31)<<6|Ne&63,be>127&&(X=be));break;case 3:Ne=k[K+1],Ae=k[K+2],(Ne&192)===128&&(Ae&192)===128&&(be=(G&15)<<12|(Ne&63)<<6|Ae&63,be>2047&&(be<55296||be>57343)&&(X=be));break;case 4:Ne=k[K+1],Ae=k[K+2],st=k[K+3],(Ne&192)===128&&(Ae&192)===128&&(st&192)===128&&(be=(G&15)<<18|(Ne&63)<<12|(Ae&63)<<6|st&63,be>65535&&be<1114112&&(X=be))}}X===null?(X=65533,Te=1):X>65535&&(X-=65536,B.push(X>>>10&1023|55296),X=56320|X&1023),B.push(X),K+=Te}return S(B)}const h=4096;function S(k){const v=k.length;if(v<=h)return String.fromCharCode.apply(String,k);let E="",B=0;for(;B<v;)E+=String.fromCharCode.apply(String,k.slice(B,B+=h));return E}function T(k,v,E){let B="";E=Math.min(k.length,E);for(let K=v;K<E;++K)B+=String.fromCharCode(k[K]&127);return B}function x(k,v,E){let B="";E=Math.min(k.length,E);for(let K=v;K<E;++K)B+=String.fromCharCode(k[K]);return B}function M(k,v,E){const B=k.length;(!v||v<0)&&(v=0),(!E||E<0||E>B)&&(E=B);let K="";for(let G=v;G<E;++G)K+=Rt[k[G]];return K}function z(k,v,E){const B=k.slice(v,E);let K="";for(let G=0;G<B.length-1;G+=2)K+=String.fromCharCode(B[G]+B[G+1]*256);return K}a.prototype.slice=function(v,E){const B=this.length;v=~~v,E=E===void 0?B:~~E,v<0?(v+=B,v<0&&(v=0)):v>B&&(v=B),E<0?(E+=B,E<0&&(E=0)):E>B&&(E=B),E<v&&(E=v);const K=this.subarray(v,E);return Object.setPrototypeOf(K,a.prototype),K};function C(k,v,E){if(k%1!==0||k<0)throw new RangeError("offset is not uint");if(k+v>E)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(v,E,B){v=v>>>0,E=E>>>0,B||C(v,E,this.length);let K=this[v],G=1,X=0;for(;++X<E&&(G*=256);)K+=this[v+X]*G;return K},a.prototype.readUintBE=a.prototype.readUIntBE=function(v,E,B){v=v>>>0,E=E>>>0,B||C(v,E,this.length);let K=this[v+--E],G=1;for(;E>0&&(G*=256);)K+=this[v+--E]*G;return K},a.prototype.readUint8=a.prototype.readUInt8=function(v,E){return v=v>>>0,E||C(v,1,this.length),this[v]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(v,E){return v=v>>>0,E||C(v,2,this.length),this[v]|this[v+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(v,E){return v=v>>>0,E||C(v,2,this.length),this[v]<<8|this[v+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(v,E){return v=v>>>0,E||C(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(v,E){return v=v>>>0,E||C(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},a.prototype.readBigUInt64LE=jr(function(v){v=v>>>0,Nr(v,"offset");const E=this[v],B=this[v+7];(E===void 0||B===void 0)&&tt(v,this.length-8);const K=E+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24,G=this[++v]+this[++v]*2**8+this[++v]*2**16+B*2**24;return BigInt(K)+(BigInt(G)<<BigInt(32))}),a.prototype.readBigUInt64BE=jr(function(v){v=v>>>0,Nr(v,"offset");const E=this[v],B=this[v+7];(E===void 0||B===void 0)&&tt(v,this.length-8);const K=E*2**24+this[++v]*2**16+this[++v]*2**8+this[++v],G=this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+B;return(BigInt(K)<<BigInt(32))+BigInt(G)}),a.prototype.readIntLE=function(v,E,B){v=v>>>0,E=E>>>0,B||C(v,E,this.length);let K=this[v],G=1,X=0;for(;++X<E&&(G*=256);)K+=this[v+X]*G;return G*=128,K>=G&&(K-=Math.pow(2,8*E)),K},a.prototype.readIntBE=function(v,E,B){v=v>>>0,E=E>>>0,B||C(v,E,this.length);let K=E,G=1,X=this[v+--K];for(;K>0&&(G*=256);)X+=this[v+--K]*G;return G*=128,X>=G&&(X-=Math.pow(2,8*E)),X},a.prototype.readInt8=function(v,E){return v=v>>>0,E||C(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},a.prototype.readInt16LE=function(v,E){v=v>>>0,E||C(v,2,this.length);const B=this[v]|this[v+1]<<8;return B&32768?B|4294901760:B},a.prototype.readInt16BE=function(v,E){v=v>>>0,E||C(v,2,this.length);const B=this[v+1]|this[v]<<8;return B&32768?B|4294901760:B},a.prototype.readInt32LE=function(v,E){return v=v>>>0,E||C(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},a.prototype.readInt32BE=function(v,E){return v=v>>>0,E||C(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},a.prototype.readBigInt64LE=jr(function(v){v=v>>>0,Nr(v,"offset");const E=this[v],B=this[v+7];(E===void 0||B===void 0)&&tt(v,this.length-8);const K=this[v+4]+this[v+5]*2**8+this[v+6]*2**16+(B<<24);return(BigInt(K)<<BigInt(32))+BigInt(E+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24)}),a.prototype.readBigInt64BE=jr(function(v){v=v>>>0,Nr(v,"offset");const E=this[v],B=this[v+7];(E===void 0||B===void 0)&&tt(v,this.length-8);const K=(E<<24)+this[++v]*2**16+this[++v]*2**8+this[++v];return(BigInt(K)<<BigInt(32))+BigInt(this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+B)}),a.prototype.readFloatLE=function(v,E){return v=v>>>0,E||C(v,4,this.length),n.read(this,v,!0,23,4)},a.prototype.readFloatBE=function(v,E){return v=v>>>0,E||C(v,4,this.length),n.read(this,v,!1,23,4)},a.prototype.readDoubleLE=function(v,E){return v=v>>>0,E||C(v,8,this.length),n.read(this,v,!0,52,8)},a.prototype.readDoubleBE=function(v,E){return v=v>>>0,E||C(v,8,this.length),n.read(this,v,!1,52,8)};function y(k,v,E,B,K,G){if(!a.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>K||v<G)throw new RangeError('"value" argument is out of bounds');if(E+B>k.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(v,E,B,K){if(v=+v,E=E>>>0,B=B>>>0,!K){const Te=Math.pow(2,8*B)-1;y(this,v,E,B,Te,0)}let G=1,X=0;for(this[E]=v&255;++X<B&&(G*=256);)this[E+X]=v/G&255;return E+B},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(v,E,B,K){if(v=+v,E=E>>>0,B=B>>>0,!K){const Te=Math.pow(2,8*B)-1;y(this,v,E,B,Te,0)}let G=B-1,X=1;for(this[E+G]=v&255;--G>=0&&(X*=256);)this[E+G]=v/X&255;return E+B},a.prototype.writeUint8=a.prototype.writeUInt8=function(v,E,B){return v=+v,E=E>>>0,B||y(this,v,E,1,255,0),this[E]=v&255,E+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(v,E,B){return v=+v,E=E>>>0,B||y(this,v,E,2,65535,0),this[E]=v&255,this[E+1]=v>>>8,E+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(v,E,B){return v=+v,E=E>>>0,B||y(this,v,E,2,65535,0),this[E]=v>>>8,this[E+1]=v&255,E+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(v,E,B){return v=+v,E=E>>>0,B||y(this,v,E,4,4294967295,0),this[E+3]=v>>>24,this[E+2]=v>>>16,this[E+1]=v>>>8,this[E]=v&255,E+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(v,E,B){return v=+v,E=E>>>0,B||y(this,v,E,4,4294967295,0),this[E]=v>>>24,this[E+1]=v>>>16,this[E+2]=v>>>8,this[E+3]=v&255,E+4};function D(k,v,E,B,K){et(v,B,K,k,E,7);let G=Number(v&BigInt(4294967295));k[E++]=G,G=G>>8,k[E++]=G,G=G>>8,k[E++]=G,G=G>>8,k[E++]=G;let X=Number(v>>BigInt(32)&BigInt(4294967295));return k[E++]=X,X=X>>8,k[E++]=X,X=X>>8,k[E++]=X,X=X>>8,k[E++]=X,E}function Z(k,v,E,B,K){et(v,B,K,k,E,7);let G=Number(v&BigInt(4294967295));k[E+7]=G,G=G>>8,k[E+6]=G,G=G>>8,k[E+5]=G,G=G>>8,k[E+4]=G;let X=Number(v>>BigInt(32)&BigInt(4294967295));return k[E+3]=X,X=X>>8,k[E+2]=X,X=X>>8,k[E+1]=X,X=X>>8,k[E]=X,E+8}a.prototype.writeBigUInt64LE=jr(function(v,E=0){return D(this,v,E,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=jr(function(v,E=0){return Z(this,v,E,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(v,E,B,K){if(v=+v,E=E>>>0,!K){const Ne=Math.pow(2,8*B-1);y(this,v,E,B,Ne-1,-Ne)}let G=0,X=1,Te=0;for(this[E]=v&255;++G<B&&(X*=256);)v<0&&Te===0&&this[E+G-1]!==0&&(Te=1),this[E+G]=(v/X>>0)-Te&255;return E+B},a.prototype.writeIntBE=function(v,E,B,K){if(v=+v,E=E>>>0,!K){const Ne=Math.pow(2,8*B-1);y(this,v,E,B,Ne-1,-Ne)}let G=B-1,X=1,Te=0;for(this[E+G]=v&255;--G>=0&&(X*=256);)v<0&&Te===0&&this[E+G+1]!==0&&(Te=1),this[E+G]=(v/X>>0)-Te&255;return E+B},a.prototype.writeInt8=function(v,E,B){return v=+v,E=E>>>0,B||y(this,v,E,1,127,-128),v<0&&(v=255+v+1),this[E]=v&255,E+1},a.prototype.writeInt16LE=function(v,E,B){return v=+v,E=E>>>0,B||y(this,v,E,2,32767,-32768),this[E]=v&255,this[E+1]=v>>>8,E+2},a.prototype.writeInt16BE=function(v,E,B){return v=+v,E=E>>>0,B||y(this,v,E,2,32767,-32768),this[E]=v>>>8,this[E+1]=v&255,E+2},a.prototype.writeInt32LE=function(v,E,B){return v=+v,E=E>>>0,B||y(this,v,E,4,2147483647,-2147483648),this[E]=v&255,this[E+1]=v>>>8,this[E+2]=v>>>16,this[E+3]=v>>>24,E+4},a.prototype.writeInt32BE=function(v,E,B){return v=+v,E=E>>>0,B||y(this,v,E,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[E]=v>>>24,this[E+1]=v>>>16,this[E+2]=v>>>8,this[E+3]=v&255,E+4},a.prototype.writeBigInt64LE=jr(function(v,E=0){return D(this,v,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=jr(function(v,E=0){return Z(this,v,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ee(k,v,E,B,K,G){if(E+B>k.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function ae(k,v,E,B,K){return v=+v,E=E>>>0,K||ee(k,v,E,4),n.write(k,v,E,B,23,4),E+4}a.prototype.writeFloatLE=function(v,E,B){return ae(this,v,E,!0,B)},a.prototype.writeFloatBE=function(v,E,B){return ae(this,v,E,!1,B)};function ve(k,v,E,B,K){return v=+v,E=E>>>0,K||ee(k,v,E,8),n.write(k,v,E,B,52,8),E+8}a.prototype.writeDoubleLE=function(v,E,B){return ve(this,v,E,!0,B)},a.prototype.writeDoubleBE=function(v,E,B){return ve(this,v,E,!1,B)},a.prototype.copy=function(v,E,B,K){if(!a.isBuffer(v))throw new TypeError("argument should be a Buffer");if(B||(B=0),!K&&K!==0&&(K=this.length),E>=v.length&&(E=v.length),E||(E=0),K>0&&K<B&&(K=B),K===B||v.length===0||this.length===0)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(B<0||B>=this.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("sourceEnd out of bounds");K>this.length&&(K=this.length),v.length-E<K-B&&(K=v.length-E+B);const G=K-B;return this===v&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(E,B,K):Uint8Array.prototype.set.call(v,this.subarray(B,K),E),G},a.prototype.fill=function(v,E,B,K){if(typeof v=="string"){if(typeof E=="string"?(K=E,E=0,B=this.length):typeof B=="string"&&(K=B,B=this.length),K!==void 0&&typeof K!="string")throw new TypeError("encoding must be a string");if(typeof K=="string"&&!a.isEncoding(K))throw new TypeError("Unknown encoding: "+K);if(v.length===1){const X=v.charCodeAt(0);(K==="utf8"&&X<128||K==="latin1")&&(v=X)}}else typeof v=="number"?v=v&255:typeof v=="boolean"&&(v=Number(v));if(E<0||this.length<E||this.length<B)throw new RangeError("Out of range index");if(B<=E)return this;E=E>>>0,B=B===void 0?this.length:B>>>0,v||(v=0);let G;if(typeof v=="number")for(G=E;G<B;++G)this[G]=v;else{const X=a.isBuffer(v)?v:a.from(v,K),Te=X.length;if(Te===0)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for(G=0;G<B-E;++G)this[G+E]=X[G%Te]}return this};const Se={};function Ee(k,v,E){Se[k]=class extends E{constructor(){super(),Object.defineProperty(this,"message",{value:v.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${k}]`,this.stack,delete this.name}get code(){return k}set code(K){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:K,writable:!0})}toString(){return`${this.name} [${k}]: ${this.message}`}}}Ee("ERR_BUFFER_OUT_OF_BOUNDS",function(k){return k?`${k} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ee("ERR_INVALID_ARG_TYPE",function(k,v){return`The "${k}" argument must be of type number. Received type ${typeof v}`},TypeError),Ee("ERR_OUT_OF_RANGE",function(k,v,E){let B=`The value of "${k}" is out of range.`,K=E;return Number.isInteger(E)&&Math.abs(E)>2**32?K=bt(String(E)):typeof E=="bigint"&&(K=String(E),(E>BigInt(2)**BigInt(32)||E<-(BigInt(2)**BigInt(32)))&&(K=bt(K)),K+="n"),B+=` It must be ${v}. Received ${K}`,B},RangeError);function bt(k){let v="",E=k.length;const B=k[0]==="-"?1:0;for(;E>=B+4;E-=3)v=`_${k.slice(E-3,E)}${v}`;return`${k.slice(0,E)}${v}`}function Je(k,v,E){Nr(v,"offset"),(k[v]===void 0||k[v+E]===void 0)&&tt(v,k.length-(E+1))}function et(k,v,E,B,K,G){if(k>E||k<v){const X=typeof v=="bigint"?"n":"";let Te;throw v===0||v===BigInt(0)?Te=`>= 0${X} and < 2${X} ** ${(G+1)*8}${X}`:Te=`>= -(2${X} ** ${(G+1)*8-1}${X}) and < 2 ** ${(G+1)*8-1}${X}`,new Se.ERR_OUT_OF_RANGE("value",Te,k)}Je(B,K,G)}function Nr(k,v){if(typeof k!="number")throw new Se.ERR_INVALID_ARG_TYPE(v,"number",k)}function tt(k,v,E){throw Math.floor(k)!==k?(Nr(k,E),new Se.ERR_OUT_OF_RANGE("offset","an integer",k)):v<0?new Se.ERR_BUFFER_OUT_OF_BOUNDS:new Se.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${v}`,k)}const St=/[^+/0-9A-Za-z-_]/g;function gu(k){if(k=k.split("=")[0],k=k.trim().replace(St,""),k.length<2)return"";for(;k.length%4!==0;)k=k+"=";return k}function ut(k,v){v=v||1/0;let E;const B=k.length;let K=null;const G=[];for(let X=0;X<B;++X){if(E=k.charCodeAt(X),E>55295&&E<57344){if(!K){if(E>56319){(v-=3)>-1&&G.push(239,191,189);continue}else if(X+1===B){(v-=3)>-1&&G.push(239,191,189);continue}K=E;continue}if(E<56320){(v-=3)>-1&&G.push(239,191,189),K=E;continue}E=(K-55296<<10|E-56320)+65536}else K&&(v-=3)>-1&&G.push(239,191,189);if(K=null,E<128){if((v-=1)<0)break;G.push(E)}else if(E<2048){if((v-=2)<0)break;G.push(E>>6|192,E&63|128)}else if(E<65536){if((v-=3)<0)break;G.push(E>>12|224,E>>6&63|128,E&63|128)}else if(E<1114112){if((v-=4)<0)break;G.push(E>>18|240,E>>12&63|128,E>>6&63|128,E&63|128)}else throw new Error("Invalid code point")}return G}function At(k){const v=[];for(let E=0;E<k.length;++E)v.push(k.charCodeAt(E)&255);return v}function mu(k,v){let E,B,K;const G=[];for(let X=0;X<k.length&&!((v-=2)<0);++X)E=k.charCodeAt(X),B=E>>8,K=E%256,G.push(K),G.push(B);return G}function pt(k){return e.toByteArray(gu(k))}function ot(k,v,E,B){let K;for(K=0;K<B&&!(K+E>=v.length||K>=k.length);++K)v[K+E]=k[K];return K}function lr(k,v){return k instanceof v||k!=null&&k.constructor!=null&&k.constructor.name!=null&&k.constructor.name===v.name}function dt(k){return k!==k}const Rt=function(){const k="0123456789abcdef",v=new Array(256);for(let E=0;E<16;++E){const B=E*16;for(let K=0;K<16;++K)v[B+K]=k[E]+k[K]}return v}();function jr(k){return typeof BigInt>"u"?It:k}function It(){throw new Error("BigInt not supported")}})(ge);const Js=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Jo(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function el(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ei(t,...e){if(!Jo(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function $S(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");el(t.outputLen),el(t.blockLen)}function tl(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function HS(t,e){Ei(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function MC(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Go(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Wp(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ii(t,e){return t<<32-e|t>>>e}const OC=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function LC(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function BC(t){for(let e=0;e<t.length;e++)t[e]=LC(t[e]);return t}const yv=OC?t=>t:BC,KS=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",PC=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function wi(t){if(Ei(t),KS)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=PC[t[n]];return e}const ki={_0:48,_9:57,A:65,F:70,a:97,f:102};function wv(t){if(t>=ki._0&&t<=ki._9)return t-ki._0;if(t>=ki.A&&t<=ki.F)return t-(ki.A-10);if(t>=ki.a&&t<=ki.f)return t-(ki.a-10)}function nl(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(KS)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=wv(t.charCodeAt(o)),a=wv(t.charCodeAt(o+1));if(s===void 0||a===void 0){const l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=s*16+a}return r}function DC(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function dh(t){return typeof t=="string"&&(t=DC(t)),Ei(t),t}function Mr(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Ei(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}class $y{}function Hy(t){const e=r=>t().update(dh(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function fh(t=32){if(Js&&typeof Js.getRandomValues=="function")return Js.getRandomValues(new Uint8Array(t));if(Js&&typeof Js.randomBytes=="function")return Uint8Array.from(Js.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function UC(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,c=r?0:4;t.setUint32(e+l,s,r),t.setUint32(e+c,a,r)}function zC(t,e,n){return t&e^~t&n}function jC(t,e,n){return t&e^t&n^e&n}class VS extends $y{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Wp(this.buffer)}update(e){tl(this),e=dh(e),Ei(e);const{view:n,buffer:r,blockLen:i}=this,o=e.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=Wp(e);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){tl(this),HS(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,Go(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(r,0),s=0);for(let g=s;g<i;g++)n[g]=0;UC(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=Wp(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<c;g++)a.setUint32(4*g,d[g],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=o,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const ao=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),kn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Lu=BigInt(2**32-1),vv=BigInt(32);function WC(t,e=!1){return e?{h:Number(t&Lu),l:Number(t>>vv&Lu)}:{h:Number(t>>vv&Lu)|0,l:Number(t&Lu)|0}}function GS(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:s,l:a}=WC(t[o],e);[r[o],i[o]]=[s,a]}return[r,i]}const _v=(t,e,n)=>t>>>n,Ev=(t,e,n)=>t<<32-n|e>>>n,ea=(t,e,n)=>t>>>n|e<<32-n,ta=(t,e,n)=>t<<32-n|e>>>n,Bu=(t,e,n)=>t<<64-n|e>>>n-32,Pu=(t,e,n)=>t>>>n-32|e<<64-n,FC=(t,e,n)=>t<<n|e>>>32-n,$C=(t,e,n)=>e<<n|t>>>32-n,HC=(t,e,n)=>e<<n-32|t>>>64-n,KC=(t,e,n)=>t<<n-32|e>>>64-n;function Ci(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const VC=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),GC=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,qC=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),YC=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,ZC=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),QC=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0,XC=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),lo=new Uint32Array(64);class JC extends VS{constructor(e=32){super(64,e,8,!1),this.A=ao[0]|0,this.B=ao[1]|0,this.C=ao[2]|0,this.D=ao[3]|0,this.E=ao[4]|0,this.F=ao[5]|0,this.G=ao[6]|0,this.H=ao[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[e,n,r,i,o,s,a,l]}set(e,n,r,i,o,s,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(e,n){for(let g=0;g<16;g++,n+=4)lo[g]=e.getUint32(n,!1);for(let g=16;g<64;g++){const p=lo[g-15],f=lo[g-2],m=ii(p,7)^ii(p,18)^p>>>3,R=ii(f,17)^ii(f,19)^f>>>10;lo[g]=R+lo[g-7]+m+lo[g-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:c,H:d}=this;for(let g=0;g<64;g++){const p=ii(a,6)^ii(a,11)^ii(a,25),f=d+p+zC(a,l,c)+XC[g]+lo[g]|0,R=(ii(r,2)^ii(r,13)^ii(r,22))+jC(r,i,o)|0;d=c,c=l,l=a,a=s+f|0,s=o,o=i,i=r,r=f+R|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(r,i,o,s,a,l,c,d)}roundClean(){Go(lo)}destroy(){this.set(0,0,0,0,0,0,0,0),Go(this.buffer)}}const qS=GS(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),eM=qS[0],tM=qS[1],co=new Uint32Array(80),uo=new Uint32Array(80);class nM extends VS{constructor(e=64){super(128,e,16,!1),this.Ah=kn[0]|0,this.Al=kn[1]|0,this.Bh=kn[2]|0,this.Bl=kn[3]|0,this.Ch=kn[4]|0,this.Cl=kn[5]|0,this.Dh=kn[6]|0,this.Dl=kn[7]|0,this.Eh=kn[8]|0,this.El=kn[9]|0,this.Fh=kn[10]|0,this.Fl=kn[11]|0,this.Gh=kn[12]|0,this.Gl=kn[13]|0,this.Hh=kn[14]|0,this.Hl=kn[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:l,Eh:c,El:d,Fh:g,Fl:p,Gh:f,Gl:m,Hh:R,Hl:I}=this;return[e,n,r,i,o,s,a,l,c,d,g,p,f,m,R,I]}set(e,n,r,i,o,s,a,l,c,d,g,p,f,m,R,I){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=d|0,this.Fh=g|0,this.Fl=p|0,this.Gh=f|0,this.Gl=m|0,this.Hh=R|0,this.Hl=I|0}process(e,n){for(let _=0;_<16;_++,n+=4)co[_]=e.getUint32(n),uo[_]=e.getUint32(n+=4);for(let _=16;_<80;_++){const N=co[_-15]|0,L=uo[_-15]|0,j=ea(N,L,1)^ea(N,L,8)^_v(N,L,7),O=ta(N,L,1)^ta(N,L,8)^Ev(N,L,7),U=co[_-2]|0,P=uo[_-2]|0,W=ea(U,P,19)^Bu(U,P,61)^_v(U,P,6),$=ta(U,P,19)^Pu(U,P,61)^Ev(U,P,6),H=qC(O,$,uo[_-7],uo[_-16]),A=YC(H,j,W,co[_-7],co[_-16]);co[_]=A|0,uo[_]=H|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:l,Dh:c,Dl:d,Eh:g,El:p,Fh:f,Fl:m,Gh:R,Gl:I,Hh:w,Hl:b}=this;for(let _=0;_<80;_++){const N=ea(g,p,14)^ea(g,p,18)^Bu(g,p,41),L=ta(g,p,14)^ta(g,p,18)^Pu(g,p,41),j=g&f^~g&R,O=p&m^~p&I,U=ZC(b,L,O,tM[_],uo[_]),P=QC(U,w,N,j,eM[_],co[_]),W=U|0,$=ea(r,i,28)^Bu(r,i,34)^Bu(r,i,39),H=ta(r,i,28)^Pu(r,i,34)^Pu(r,i,39),A=r&o^r&a^o&a,u=i&s^i&l^s&l;w=R|0,b=I|0,R=f|0,I=m|0,f=g|0,m=p|0,{h:g,l:p}=Ci(c|0,d|0,P|0,W|0),c=a|0,d=l|0,a=o|0,l=s|0,o=r|0,s=i|0;const h=VC(W,H,u);r=GC(h,P,$,A),i=h|0}({h:r,l:i}=Ci(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=Ci(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l}=Ci(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:d}=Ci(this.Dh|0,this.Dl|0,c|0,d|0),{h:g,l:p}=Ci(this.Eh|0,this.El|0,g|0,p|0),{h:f,l:m}=Ci(this.Fh|0,this.Fl|0,f|0,m|0),{h:R,l:I}=Ci(this.Gh|0,this.Gl|0,R|0,I|0),{h:w,l:b}=Ci(this.Hh|0,this.Hl|0,w|0,b|0),this.set(r,i,o,s,a,l,c,d,g,p,f,m,R,I,w,b)}roundClean(){Go(co,uo)}destroy(){Go(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const YS=Hy(()=>new JC),ZS=Hy(()=>new nM);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ky=BigInt(0),kg=BigInt(1);function Ds(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function Gr(t,e,n=""){const r=Jo(t),i=t==null?void 0:t.length,o=e!==void 0;if(!r||o&&i!==e){const s=n&&`"${n}" `,a=o?` of length ${e}`:"",l=r?`length=${i}`:`type=${typeof t}`;throw new Error(s+"expected Uint8Array"+a+", got "+l)}return t}function Du(t){const e=t.toString(16);return e.length&1?"0"+e:e}function QS(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Ky:BigInt("0x"+t)}function hh(t){return QS(wi(t))}function Pc(t){return Ei(t),QS(wi(Uint8Array.from(t).reverse()))}function Vy(t,e){return nl(t.toString(16).padStart(e*2,"0"))}function XS(t,e){return Vy(t,e).reverse()}function Tt(t,e,n){let r;if(typeof e=="string")try{r=nl(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(Jo(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function bv(t){return Uint8Array.from(t)}const Fp=t=>typeof t=="bigint"&&Ky<=t;function rM(t,e,n){return Fp(t)&&Fp(e)&&Fp(n)&&e<=t&&t<n}function Cg(t,e,n,r){if(!rM(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function JS(t){let e;for(e=0;t>Ky;t>>=kg,e+=1);return e}const Xc=t=>(kg<<BigInt(t))-kg;function iM(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=f=>new Uint8Array(f),i=f=>Uint8Array.of(f);let o=r(t),s=r(t),a=0;const l=()=>{o.fill(1),s.fill(0),a=0},c=(...f)=>n(s,o,...f),d=(f=r(0))=>{s=c(i(0),f),o=c(),f.length!==0&&(s=c(i(1),f),o=c())},g=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const m=[];for(;f<e;){o=c();const R=o.slice();m.push(R),f+=o.length}return Mr(...m)};return(f,m)=>{l(),d(f);let R;for(;!(R=m(g()));)d();return l(),R}}function Jc(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,o,s){const a=t[i];if(s&&a===void 0)return;const l=typeof a;if(l!==o||a===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${l}`)}Object.entries(e).forEach(([i,o])=>r(i,o,!1)),Object.entries(n).forEach(([i,o])=>r(i,o,!0))}function wf(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const o=t(n,...r);return e.set(n,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nr=BigInt(0),In=BigInt(1),ys=BigInt(2),eA=BigInt(3),tA=BigInt(4),nA=BigInt(5),oM=BigInt(7),rA=BigInt(8),sM=BigInt(9),iA=BigInt(16);function en(t,e){const n=t%e;return n>=nr?n:e+n}function xt(t,e,n){let r=t;for(;e-- >nr;)r*=r,r%=n;return r}function Sv(t,e){if(t===nr)throw new Error("invert: expected non-zero number");if(e<=nr)throw new Error("invert: expected positive modulus, got "+e);let n=en(t,e),r=e,i=nr,o=In;for(;n!==nr;){const a=r/n,l=r%n,c=i-o*a;r=n,n=l,i=o,o=c}if(r!==In)throw new Error("invert: does not exist");return en(i,e)}function Gy(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function oA(t,e){const n=(t.ORDER+In)/tA,r=t.pow(e,n);return Gy(t,r,e),r}function aM(t,e){const n=(t.ORDER-nA)/rA,r=t.mul(e,ys),i=t.pow(r,n),o=t.mul(e,i),s=t.mul(t.mul(o,ys),i),a=t.mul(o,t.sub(s,t.ONE));return Gy(t,a,e),a}function lM(t){const e=Hs(t),n=sA(t),r=n(e,e.neg(e.ONE)),i=n(e,r),o=n(e,e.neg(r)),s=(t+oM)/iA;return(a,l)=>{let c=a.pow(l,s),d=a.mul(c,r);const g=a.mul(c,i),p=a.mul(c,o),f=a.eql(a.sqr(d),l),m=a.eql(a.sqr(g),l);c=a.cmov(c,d,f),d=a.cmov(p,g,m);const R=a.eql(a.sqr(d),l),I=a.cmov(c,d,R);return Gy(a,I,l),I}}function sA(t){if(t<eA)throw new Error("sqrt is not defined for small field");let e=t-In,n=0;for(;e%ys===nr;)e/=ys,n++;let r=ys;const i=Hs(t);for(;Av(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return oA;let o=i.pow(r,e);const s=(e+In)/ys;return function(l,c){if(l.is0(c))return c;if(Av(l,c)!==1)throw new Error("Cannot find square root");let d=n,g=l.mul(l.ONE,o),p=l.pow(c,e),f=l.pow(c,s);for(;!l.eql(p,l.ONE);){if(l.is0(p))return l.ZERO;let m=1,R=l.sqr(p);for(;!l.eql(R,l.ONE);)if(m++,R=l.sqr(R),m===d)throw new Error("Cannot find square root");const I=In<<BigInt(d-m-1),w=l.pow(g,I);d=m,g=l.sqr(w),p=l.mul(p,g),f=l.mul(f,w)}return f}}function cM(t){return t%tA===eA?oA:t%rA===nA?aM:t%iA===sM?lM(t):sA(t)}const uM=(t,e)=>(en(t,e)&In)===In,dM=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function fM(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=dM.reduce((r,i)=>(r[i]="function",r),e);return Jc(t,n),t}function hM(t,e,n){if(n<nr)throw new Error("invalid exponent, negatives unsupported");if(n===nr)return t.ONE;if(n===In)return e;let r=t.ONE,i=e;for(;n>nr;)n&In&&(r=t.mul(r,i)),i=t.sqr(i),n>>=In;return r}function aA(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((s,a,l)=>t.is0(a)?s:(r[l]=s,t.mul(s,a)),t.ONE),o=t.inv(i);return e.reduceRight((s,a,l)=>t.is0(a)?s:(r[l]=t.mul(s,r[l]),t.mul(s,a)),o),r}function Av(t,e){const n=(t.ORDER-In)/ys,r=t.pow(e,n),i=t.eql(r,t.ONE),o=t.eql(r,t.ZERO),s=t.eql(r,t.neg(t.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function lA(t,e){e!==void 0&&el(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Hs(t,e,n=!1,r={}){if(t<=nr)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,o,s=!1,a;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const p=e;p.BITS&&(i=p.BITS),p.sqrt&&(o=p.sqrt),typeof p.isLE=="boolean"&&(n=p.isLE),typeof p.modFromBytes=="boolean"&&(s=p.modFromBytes),a=p.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(o=r.sqrt);const{nBitLength:l,nByteLength:c}=lA(t,i);if(c>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let d;const g=Object.freeze({ORDER:t,isLE:n,BITS:l,BYTES:c,MASK:Xc(l),ZERO:nr,ONE:In,allowedLengths:a,create:p=>en(p,t),isValid:p=>{if(typeof p!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof p);return nr<=p&&p<t},is0:p=>p===nr,isValidNot0:p=>!g.is0(p)&&g.isValid(p),isOdd:p=>(p&In)===In,neg:p=>en(-p,t),eql:(p,f)=>p===f,sqr:p=>en(p*p,t),add:(p,f)=>en(p+f,t),sub:(p,f)=>en(p-f,t),mul:(p,f)=>en(p*f,t),pow:(p,f)=>hM(g,p,f),div:(p,f)=>en(p*Sv(f,t),t),sqrN:p=>p*p,addN:(p,f)=>p+f,subN:(p,f)=>p-f,mulN:(p,f)=>p*f,inv:p=>Sv(p,t),sqrt:o||(p=>(d||(d=cM(t)),d(g,p))),toBytes:p=>n?XS(p,c):Vy(p,c),fromBytes:(p,f=!0)=>{if(a){if(!a.includes(p.length)||p.length>c)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+p.length);const R=new Uint8Array(c);R.set(p,n?0:R.length-p.length),p=R}if(p.length!==c)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+p.length);let m=n?Pc(p):hh(p);if(s&&(m=en(m,t)),!f&&!g.isValid(m))throw new Error("invalid field element: outside of range 0..ORDER");return m},invertBatch:p=>aA(g,p),cmov:(p,f,m)=>m?f:p});return Object.freeze(g)}function cA(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function uA(t){const e=cA(t);return e+Math.ceil(e/2)}function pM(t,e,n=!1){const r=t.length,i=cA(e),o=uA(e);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=n?Pc(t):hh(t),a=en(s,e-In)+In;return n?XS(a,i):Vy(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rl=BigInt(0),ws=BigInt(1);function vf(t,e){const n=e.negate();return t?n:e}function vs(t,e){const n=aA(t.Fp,e.map(r=>r.Z));return e.map((r,i)=>t.fromAffine(r.toAffine(n[i])))}function dA(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function $p(t,e){dA(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,o=Xc(t),s=BigInt(t);return{windows:n,windowSize:r,mask:o,maxNumber:i,shiftBy:s}}function Rv(t,e,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=n;let a=Number(t&i),l=t>>s;a>r&&(a-=o,l+=ws);const c=e*r,d=c+Math.abs(a)-1,g=a===0,p=a<0,f=e%2!==0;return{nextN:l,offset:d,isZero:g,isNeg:p,isNegF:f,offsetF:c}}function gM(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function mM(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Hp=new WeakMap,fA=new WeakMap;function Kp(t){return fA.get(t)||1}function Iv(t){if(t!==rl)throw new Error("invalid wNAF")}let hA=class{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let i=e;for(;n>rl;)n&ws&&(r=r.add(i)),i=i.double(),n>>=ws;return r}precomputeWindow(e,n){const{windows:r,windowSize:i}=$p(n,this.bits),o=[];let s=e,a=s;for(let l=0;l<r;l++){a=s,o.push(a);for(let c=1;c<i;c++)a=a.add(s),o.push(a);s=a.double()}return o}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,o=this.BASE;const s=$p(e,this.bits);for(let a=0;a<s.windows;a++){const{nextN:l,offset:c,isZero:d,isNeg:g,isNegF:p,offsetF:f}=Rv(r,a,s);r=l,d?o=o.add(vf(p,n[f])):i=i.add(vf(g,n[c]))}return Iv(r),{p:i,f:o}}wNAFUnsafe(e,n,r,i=this.ZERO){const o=$p(e,this.bits);for(let s=0;s<o.windows&&r!==rl;s++){const{nextN:a,offset:l,isZero:c,isNeg:d}=Rv(r,s,o);if(r=a,!c){const g=n[l];i=i.add(d?g.negate():g)}}return Iv(r),i}getPrecomputes(e,n,r){let i=Hp.get(n);return i||(i=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(i=r(i)),Hp.set(n,i))),i}cached(e,n,r){const i=Kp(e);return this.wNAF(i,this.getPrecomputes(i,e,r),n)}unsafe(e,n,r,i){const o=Kp(e);return o===1?this._unsafeLadder(e,n,i):this.wNAFUnsafe(o,this.getPrecomputes(o,e,r),n,i)}createCache(e,n){dA(n,this.bits),fA.set(e,n),Hp.delete(e)}hasCache(e){return Kp(e)!==1}};function yM(t,e,n,r){let i=e,o=t.ZERO,s=t.ZERO;for(;n>rl||r>rl;)n&ws&&(o=o.add(i)),r&ws&&(s=s.add(i)),i=i.double(),n>>=ws,r>>=ws;return{p1:o,p2:s}}function pA(t,e,n,r){gM(n,t),mM(r,e);const i=n.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,a=JS(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=Xc(l),d=new Array(Number(c)+1).fill(s),g=Math.floor((e.BITS-1)/l)*l;let p=s;for(let f=g;f>=0;f-=l){d.fill(s);for(let R=0;R<o;R++){const I=r[R],w=Number(I>>BigInt(f)&c);d[w]=d[w].add(n[R])}let m=s;for(let R=d.length-1,I=s;R>0;R--)I=I.add(d[R]),m=m.add(I);if(p=p.add(m),f!==0)for(let R=0;R<l;R++)p=p.double()}return p}function Nv(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return fM(e),e}else return Hs(t,{isLE:n})}function gA(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const l of["p","n","h"]){const c=e[l];if(!(typeof c=="bigint"&&c>rl))throw new Error(`CURVE.${l} must be positive bigint`)}const i=Nv(e.p,n.Fp,r),o=Nv(e.n,n.Fn,r),a=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(const l of a)if(!i.isValid(e[l]))throw new Error(`CURVE.${l} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fo=BigInt(0),fn=BigInt(1),Vp=BigInt(2),wM=BigInt(8);function vM(t,e,n,r){const i=t.sqr(n),o=t.sqr(r),s=t.add(t.mul(e.a,i),o),a=t.add(t.ONE,t.mul(e.d,t.mul(i,o)));return t.eql(s,a)}function _M(t,e={}){const n=gA("edwards",t,e,e.FpFnLE),{Fp:r,Fn:i}=n;let o=n.CURVE;const{h:s}=o;Jc(e,{},{uvRatio:"function"});const a=Vp<<BigInt(i.BYTES*8)-fn,l=I=>r.create(I),c=e.uvRatio||((I,w)=>{try{return{isValid:!0,value:r.sqrt(r.div(I,w))}}catch{return{isValid:!1,value:fo}}});if(!vM(r,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function d(I,w,b=!1){const _=b?fn:fo;return Cg("coordinate "+I,w,_,a),w}function g(I){if(!(I instanceof m))throw new Error("ExtendedPoint expected")}const p=wf((I,w)=>{const{X:b,Y:_,Z:N}=I,L=I.is0();w==null&&(w=L?wM:r.inv(N));const j=l(b*w),O=l(_*w),U=r.mul(N,w);if(L)return{x:fo,y:fn};if(U!==fn)throw new Error("invZ was invalid");return{x:j,y:O}}),f=wf(I=>{const{a:w,d:b}=o;if(I.is0())throw new Error("bad point: ZERO");const{X:_,Y:N,Z:L,T:j}=I,O=l(_*_),U=l(N*N),P=l(L*L),W=l(P*P),$=l(O*w),H=l(P*l($+U)),A=l(W+l(b*l(O*U)));if(H!==A)throw new Error("bad point: equation left != right (1)");const u=l(_*N),h=l(L*j);if(u!==h)throw new Error("bad point: equation left != right (2)");return!0});class m{constructor(w,b,_,N){this.X=d("x",w),this.Y=d("y",b),this.Z=d("z",_,!0),this.T=d("t",N),Object.freeze(this)}static CURVE(){return o}static fromAffine(w){if(w instanceof m)throw new Error("extended point not allowed");const{x:b,y:_}=w||{};return d("x",b),d("y",_),new m(b,_,fn,l(b*_))}static fromBytes(w,b=!1){const _=r.BYTES,{a:N,d:L}=o;w=bv(Gr(w,_,"point")),Ds(b,"zip215");const j=bv(w),O=w[_-1];j[_-1]=O&-129;const U=Pc(j),P=b?a:r.ORDER;Cg("point.y",U,fo,P);const W=l(U*U),$=l(W-fn),H=l(L*W-N);let{isValid:A,value:u}=c($,H);if(!A)throw new Error("bad point: invalid y coordinate");const h=(u&fn)===fn,S=(O&128)!==0;if(!b&&u===fo&&S)throw new Error("bad point: x=0 and x_0=1");return S!==h&&(u=l(-u)),m.fromAffine({x:u,y:U})}static fromHex(w,b=!1){return m.fromBytes(Tt("point",w),b)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(w=8,b=!0){return R.createCache(this,w),b||this.multiply(Vp),this}assertValidity(){f(this)}equals(w){g(w);const{X:b,Y:_,Z:N}=this,{X:L,Y:j,Z:O}=w,U=l(b*O),P=l(L*N),W=l(_*O),$=l(j*N);return U===P&&W===$}is0(){return this.equals(m.ZERO)}negate(){return new m(l(-this.X),this.Y,this.Z,l(-this.T))}double(){const{a:w}=o,{X:b,Y:_,Z:N}=this,L=l(b*b),j=l(_*_),O=l(Vp*l(N*N)),U=l(w*L),P=b+_,W=l(l(P*P)-L-j),$=U+j,H=$-O,A=U-j,u=l(W*H),h=l($*A),S=l(W*A),T=l(H*$);return new m(u,h,T,S)}add(w){g(w);const{a:b,d:_}=o,{X:N,Y:L,Z:j,T:O}=this,{X:U,Y:P,Z:W,T:$}=w,H=l(N*U),A=l(L*P),u=l(O*_*$),h=l(j*W),S=l((N+L)*(U+P)-H-A),T=h-u,x=h+u,M=l(A-b*H),z=l(S*T),C=l(x*M),y=l(S*M),D=l(T*x);return new m(z,C,D,y)}subtract(w){return this.add(w.negate())}multiply(w){if(!i.isValidNot0(w))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:b,f:_}=R.cached(this,w,N=>vs(m,N));return vs(m,[b,_])[0]}multiplyUnsafe(w,b=m.ZERO){if(!i.isValid(w))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return w===fo?m.ZERO:this.is0()||w===fn?this:R.unsafe(this,w,_=>vs(m,_),b)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}isTorsionFree(){return R.unsafe(this,o.n).is0()}toAffine(w){return p(this,w)}clearCofactor(){return s===fn?this:this.multiplyUnsafe(s)}toBytes(){const{x:w,y:b}=this.toAffine(),_=r.toBytes(b);return _[_.length-1]|=w&fn?128:0,_}toHex(){return wi(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(w){return vs(m,w)}static msm(w,b){return pA(m,i,w,b)}_setWindowSize(w){this.precompute(w)}toRawBytes(){return this.toBytes()}}m.BASE=new m(o.Gx,o.Gy,fn,l(o.Gx*o.Gy)),m.ZERO=new m(fo,fn,fn,fo),m.Fp=r,m.Fn=i;const R=new hA(m,i.BITS);return m.BASE.precompute(8),m}function EM(t,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');Jc(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:i,Fp:o,Fn:s}=t,a=n.randomBytes||fh,l=n.adjustScalarBytes||(P=>P),c=n.domain||((P,W,$)=>{if(Ds($,"phflag"),W.length||$)throw new Error("Contexts/pre-hash are not supported");return P});function d(P){return s.create(Pc(P))}function g(P){const W=_.secretKey;P=Tt("private key",P,W);const $=Tt("hashed private key",e(P),2*W),H=l($.slice(0,W)),A=$.slice(W,2*W),u=d(H);return{head:H,prefix:A,scalar:u}}function p(P){const{head:W,prefix:$,scalar:H}=g(P),A=i.multiply(H),u=A.toBytes();return{head:W,prefix:$,scalar:H,point:A,pointBytes:u}}function f(P){return p(P).pointBytes}function m(P=Uint8Array.of(),...W){const $=Mr(...W);return d(e(c($,Tt("context",P),!!r)))}function R(P,W,$={}){P=Tt("message",P),r&&(P=r(P));const{prefix:H,scalar:A,pointBytes:u}=p(W),h=m($.context,H,P),S=i.multiply(h).toBytes(),T=m($.context,S,u,P),x=s.create(h+T*A);if(!s.isValid(x))throw new Error("sign failed: invalid s");const M=Mr(S,s.toBytes(x));return Gr(M,_.signature,"result")}const I={zip215:!0};function w(P,W,$,H=I){const{context:A,zip215:u}=H,h=_.signature;P=Tt("signature",P,h),W=Tt("message",W),$=Tt("publicKey",$,_.publicKey),u!==void 0&&Ds(u,"zip215"),r&&(W=r(W));const S=h/2,T=P.subarray(0,S),x=Pc(P.subarray(S,h));let M,z,C;try{M=t.fromBytes($,u),z=t.fromBytes(T,u),C=i.multiplyUnsafe(x)}catch{return!1}if(!u&&M.isSmallOrder())return!1;const y=m(A,z.toBytes(),M.toBytes(),W);return z.add(M.multiplyUnsafe(y)).subtract(C).clearCofactor().is0()}const b=o.BYTES,_={secretKey:b,publicKey:b,signature:2*b,seed:b};function N(P=a(_.seed)){return Gr(P,_.seed,"seed")}function L(P){const W=U.randomSecretKey(P);return{secretKey:W,publicKey:f(W)}}function j(P){return Jo(P)&&P.length===s.BYTES}function O(P,W){try{return!!t.fromBytes(P,W)}catch{return!1}}const U={getExtendedPublicKey:p,randomSecretKey:N,isValidSecretKey:j,isValidPublicKey:O,toMontgomery(P){const{y:W}=t.fromBytes(P),$=_.publicKey,H=$===32;if(!H&&$!==57)throw new Error("only defined for 25519 and 448");const A=H?o.div(fn+W,fn-W):o.div(W-fn,W+fn);return o.toBytes(A)},toMontgomeryPriv(P){const W=_.secretKey;Gr(P,W);const $=e(P.subarray(0,W));return l($).subarray(0,W)},randomPrivateKey:N,precompute(P=8,W=t.BASE){return W.precompute(P,!1)}};return Object.freeze({keygen:L,getPublicKey:f,sign:R,verify:w,utils:U,Point:t,lengths:_})}function bM(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=Hs(e.n,t.nBitLength,!0),i={Fp:n,Fn:r,uvRatio:t.uvRatio},o={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:i,hash:t.hash,eddsaOpts:o}}function SM(t,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:t,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function AM(t){const{CURVE:e,curveOpts:n,hash:r,eddsaOpts:i}=bM(t),o=_M(e,n),s=EM(o,r,i);return SM(t,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const RM=BigInt(1),xv=BigInt(2);BigInt(3);const IM=BigInt(5),NM=BigInt(8),qy=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),mA={p:qy,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:NM,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function xM(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=qy,a=t*t%o*t%o,l=xt(a,xv,o)*a%o,c=xt(l,RM,o)*t%o,d=xt(c,IM,o)*c%o,g=xt(d,e,o)*d%o,p=xt(g,n,o)*g%o,f=xt(p,r,o)*p%o,m=xt(f,i,o)*f%o,R=xt(m,i,o)*f%o,I=xt(R,e,o)*d%o;return{pow_p_5_8:xt(I,xv,o)*t%o,b2:a}}function TM(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const Tv=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function kM(t,e){const n=qy,r=en(e*e*e,n),i=en(r*r*e,n),o=xM(t*i).pow_p_5_8;let s=en(t*r*o,n);const a=en(e*s*s,n),l=s,c=en(s*Tv,n),d=a===t,g=a===en(-t,n),p=a===en(-t*Tv,n);return d&&(s=l),(g||p)&&(s=c),uM(s,n)&&(s=en(-s,n)),{isValid:d||g,value:s}}const CM=Hs(mA.p,{isLE:!0}),MM={...mA,Fp:CM,hash:ZS,adjustScalarBytes:TM,uvRatio:kM},_l=AM(MM);var Yy={exports:{}};const OM={},LM=Object.freeze(Object.defineProperty({__proto__:null,default:OM},Symbol.toStringTag,{value:"Module"})),BM=ro(LM);Yy.exports;(function(t){(function(e,n){function r(A,u){if(!A)throw new Error(u||"Assertion failed")}function i(A,u){A.super_=u;var h=function(){};h.prototype=u.prototype,A.prototype=new h,A.prototype.constructor=A}function o(A,u,h){if(o.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&((u==="le"||u==="be")&&(h=u,u=10),this._init(A||0,u||10,h||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=BM.Buffer}catch{}o.isBN=function(u){return u instanceof o?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===o.wordSize&&Array.isArray(u.words)},o.max=function(u,h){return u.cmp(h)>0?u:h},o.min=function(u,h){return u.cmp(h)<0?u:h},o.prototype._init=function(u,h,S){if(typeof u=="number")return this._initNumber(u,h,S);if(typeof u=="object")return this._initArray(u,h,S);h==="hex"&&(h=16),r(h===(h|0)&&h>=2&&h<=36),u=u.toString().replace(/\s+/g,"");var T=0;u[0]==="-"&&(T++,this.negative=1),T<u.length&&(h===16?this._parseHex(u,T,S):(this._parseBase(u,h,T),S==="le"&&this._initArray(this.toArray(),h,S)))},o.prototype._initNumber=function(u,h,S){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(r(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),h,S)},o.prototype._initArray=function(u,h,S){if(r(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var x,M,z=0;if(S==="be")for(T=u.length-1,x=0;T>=0;T-=3)M=u[T]|u[T-1]<<8|u[T-2]<<16,this.words[x]|=M<<z&67108863,this.words[x+1]=M>>>26-z&67108863,z+=24,z>=26&&(z-=26,x++);else if(S==="le")for(T=0,x=0;T<u.length;T+=3)M=u[T]|u[T+1]<<8|u[T+2]<<16,this.words[x]|=M<<z&67108863,this.words[x+1]=M>>>26-z&67108863,z+=24,z>=26&&(z-=26,x++);return this._strip()};function a(A,u){var h=A.charCodeAt(u);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;r(!1,"Invalid character in "+A)}function l(A,u,h){var S=a(A,h);return h-1>=u&&(S|=a(A,h-1)<<4),S}o.prototype._parseHex=function(u,h,S){this.length=Math.ceil((u.length-h)/6),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var x=0,M=0,z;if(S==="be")for(T=u.length-1;T>=h;T-=2)z=l(u,h,T)<<x,this.words[M]|=z&67108863,x>=18?(x-=18,M+=1,this.words[M]|=z>>>26):x+=8;else{var C=u.length-h;for(T=C%2===0?h+1:h;T<u.length;T+=2)z=l(u,h,T)<<x,this.words[M]|=z&67108863,x>=18?(x-=18,M+=1,this.words[M]|=z>>>26):x+=8}this._strip()};function c(A,u,h,S){for(var T=0,x=0,M=Math.min(A.length,h),z=u;z<M;z++){var C=A.charCodeAt(z)-48;T*=S,C>=49?x=C-49+10:C>=17?x=C-17+10:x=C,r(C>=0&&x<S,"Invalid character"),T+=x}return T}o.prototype._parseBase=function(u,h,S){this.words=[0],this.length=1;for(var T=0,x=1;x<=67108863;x*=h)T++;T--,x=x/h|0;for(var M=u.length-S,z=M%T,C=Math.min(M,M-z)+S,y=0,D=S;D<C;D+=T)y=c(u,D,D+T,h),this.imuln(x),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y);if(z!==0){var Z=1;for(y=c(u,D,u.length,h),D=0;D<z;D++)Z*=h;this.imuln(Z),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y)}this._strip()},o.prototype.copy=function(u){u.words=new Array(this.length);for(var h=0;h<this.length;h++)u.words[h]=this.words[h];u.length=this.length,u.negative=this.negative,u.red=this.red};function d(A,u){A.words=u.words,A.length=u.length,A.negative=u.negative,A.red=u.red}if(o.prototype._move=function(u){d(u,this)},o.prototype.clone=function(){var u=new o(null);return this.copy(u),u},o.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{o.prototype.inspect=g}else o.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(u,h){u=u||10,h=h|0||1;var S;if(u===16||u==="hex"){S="";for(var T=0,x=0,M=0;M<this.length;M++){var z=this.words[M],C=((z<<T|x)&16777215).toString(16);x=z>>>24-T&16777215,T+=2,T>=26&&(T-=26,M--),x!==0||M!==this.length-1?S=p[6-C.length]+C+S:S=C+S}for(x!==0&&(S=x.toString(16)+S);S.length%h!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(u===(u|0)&&u>=2&&u<=36){var y=f[u],D=m[u];S="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var ee=Z.modrn(D).toString(u);Z=Z.idivn(D),Z.isZero()?S=ee+S:S=p[y-ee.length]+ee+S}for(this.isZero()&&(S="0"+S);S.length%h!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(u,h){return this.toArrayLike(s,u,h)}),o.prototype.toArray=function(u,h){return this.toArrayLike(Array,u,h)};var R=function(u,h){return u.allocUnsafe?u.allocUnsafe(h):new u(h)};o.prototype.toArrayLike=function(u,h,S){this._strip();var T=this.byteLength(),x=S||Math.max(1,T);r(T<=x,"byte array longer than desired length"),r(x>0,"Requested array length <= 0");var M=R(u,x),z=h==="le"?"LE":"BE";return this["_toArrayLike"+z](M,T),M},o.prototype._toArrayLikeLE=function(u,h){for(var S=0,T=0,x=0,M=0;x<this.length;x++){var z=this.words[x]<<M|T;u[S++]=z&255,S<u.length&&(u[S++]=z>>8&255),S<u.length&&(u[S++]=z>>16&255),M===6?(S<u.length&&(u[S++]=z>>24&255),T=0,M=0):(T=z>>>24,M+=2)}if(S<u.length)for(u[S++]=T;S<u.length;)u[S++]=0},o.prototype._toArrayLikeBE=function(u,h){for(var S=u.length-1,T=0,x=0,M=0;x<this.length;x++){var z=this.words[x]<<M|T;u[S--]=z&255,S>=0&&(u[S--]=z>>8&255),S>=0&&(u[S--]=z>>16&255),M===6?(S>=0&&(u[S--]=z>>24&255),T=0,M=0):(T=z>>>24,M+=2)}if(S>=0)for(u[S--]=T;S>=0;)u[S--]=0},Math.clz32?o.prototype._countBits=function(u){return 32-Math.clz32(u)}:o.prototype._countBits=function(u){var h=u,S=0;return h>=4096&&(S+=13,h>>>=13),h>=64&&(S+=7,h>>>=7),h>=8&&(S+=4,h>>>=4),h>=2&&(S+=2,h>>>=2),S+h},o.prototype._zeroBits=function(u){if(u===0)return 26;var h=u,S=0;return h&8191||(S+=13,h>>>=13),h&127||(S+=7,h>>>=7),h&15||(S+=4,h>>>=4),h&3||(S+=2,h>>>=2),h&1||S++,S},o.prototype.bitLength=function(){var u=this.words[this.length-1],h=this._countBits(u);return(this.length-1)*26+h};function I(A){for(var u=new Array(A.bitLength()),h=0;h<u.length;h++){var S=h/26|0,T=h%26;u[h]=A.words[S]>>>T&1}return u}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,h=0;h<this.length;h++){var S=this._zeroBits(this.words[h]);if(u+=S,S!==26)break}return u},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},o.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]|u.words[h];return this._strip()},o.prototype.ior=function(u){return r((this.negative|u.negative)===0),this.iuor(u)},o.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},o.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},o.prototype.iuand=function(u){var h;this.length>u.length?h=u:h=this;for(var S=0;S<h.length;S++)this.words[S]=this.words[S]&u.words[S];return this.length=h.length,this._strip()},o.prototype.iand=function(u){return r((this.negative|u.negative)===0),this.iuand(u)},o.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},o.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},o.prototype.iuxor=function(u){var h,S;this.length>u.length?(h=this,S=u):(h=u,S=this);for(var T=0;T<S.length;T++)this.words[T]=h.words[T]^S.words[T];if(this!==h)for(;T<h.length;T++)this.words[T]=h.words[T];return this.length=h.length,this._strip()},o.prototype.ixor=function(u){return r((this.negative|u.negative)===0),this.iuxor(u)},o.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},o.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},o.prototype.inotn=function(u){r(typeof u=="number"&&u>=0);var h=Math.ceil(u/26)|0,S=u%26;this._expand(h),S>0&&h--;for(var T=0;T<h;T++)this.words[T]=~this.words[T]&67108863;return S>0&&(this.words[T]=~this.words[T]&67108863>>26-S),this._strip()},o.prototype.notn=function(u){return this.clone().inotn(u)},o.prototype.setn=function(u,h){r(typeof u=="number"&&u>=0);var S=u/26|0,T=u%26;return this._expand(S+1),h?this.words[S]=this.words[S]|1<<T:this.words[S]=this.words[S]&~(1<<T),this._strip()},o.prototype.iadd=function(u){var h;if(this.negative!==0&&u.negative===0)return this.negative=0,h=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,h=this.isub(u),u.negative=1,h._normSign();var S,T;this.length>u.length?(S=this,T=u):(S=u,T=this);for(var x=0,M=0;M<T.length;M++)h=(S.words[M]|0)+(T.words[M]|0)+x,this.words[M]=h&67108863,x=h>>>26;for(;x!==0&&M<S.length;M++)h=(S.words[M]|0)+x,this.words[M]=h&67108863,x=h>>>26;if(this.length=S.length,x!==0)this.words[this.length]=x,this.length++;else if(S!==this)for(;M<S.length;M++)this.words[M]=S.words[M];return this},o.prototype.add=function(u){var h;return u.negative!==0&&this.negative===0?(u.negative=0,h=this.sub(u),u.negative^=1,h):u.negative===0&&this.negative!==0?(this.negative=0,h=u.sub(this),this.negative=1,h):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},o.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var h=this.iadd(u);return u.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var S=this.cmp(u);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var T,x;S>0?(T=this,x=u):(T=u,x=this);for(var M=0,z=0;z<x.length;z++)h=(T.words[z]|0)-(x.words[z]|0)+M,M=h>>26,this.words[z]=h&67108863;for(;M!==0&&z<T.length;z++)h=(T.words[z]|0)+M,M=h>>26,this.words[z]=h&67108863;if(M===0&&z<T.length&&T!==this)for(;z<T.length;z++)this.words[z]=T.words[z];return this.length=Math.max(this.length,z),T!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(u){return this.clone().isub(u)};function w(A,u,h){h.negative=u.negative^A.negative;var S=A.length+u.length|0;h.length=S,S=S-1|0;var T=A.words[0]|0,x=u.words[0]|0,M=T*x,z=M&67108863,C=M/67108864|0;h.words[0]=z;for(var y=1;y<S;y++){for(var D=C>>>26,Z=C&67108863,ee=Math.min(y,u.length-1),ae=Math.max(0,y-A.length+1);ae<=ee;ae++){var ve=y-ae|0;T=A.words[ve]|0,x=u.words[ae]|0,M=T*x+Z,D+=M/67108864|0,Z=M&67108863}h.words[y]=Z|0,C=D|0}return C!==0?h.words[y]=C|0:h.length--,h._strip()}var b=function(u,h,S){var T=u.words,x=h.words,M=S.words,z=0,C,y,D,Z=T[0]|0,ee=Z&8191,ae=Z>>>13,ve=T[1]|0,Se=ve&8191,Ee=ve>>>13,bt=T[2]|0,Je=bt&8191,et=bt>>>13,Nr=T[3]|0,tt=Nr&8191,St=Nr>>>13,gu=T[4]|0,ut=gu&8191,At=gu>>>13,mu=T[5]|0,pt=mu&8191,ot=mu>>>13,lr=T[6]|0,dt=lr&8191,Rt=lr>>>13,jr=T[7]|0,It=jr&8191,k=jr>>>13,v=T[8]|0,E=v&8191,B=v>>>13,K=T[9]|0,G=K&8191,X=K>>>13,Te=x[0]|0,Ne=Te&8191,Ae=Te>>>13,st=x[1]|0,be=st&8191,Bt=st>>>13,e1=x[2]|0,Pt=e1&8191,Dt=e1>>>13,t1=x[3]|0,Ut=t1&8191,zt=t1>>>13,n1=x[4]|0,jt=n1&8191,Wt=n1>>>13,r1=x[5]|0,Ft=r1&8191,$t=r1>>>13,i1=x[6]|0,Ht=i1&8191,Kt=i1>>>13,o1=x[7]|0,Vt=o1&8191,Gt=o1>>>13,s1=x[8]|0,qt=s1&8191,Yt=s1>>>13,a1=x[9]|0,Zt=a1&8191,Qt=a1>>>13;S.negative=u.negative^h.negative,S.length=19,C=Math.imul(ee,Ne),y=Math.imul(ee,Ae),y=y+Math.imul(ae,Ne)|0,D=Math.imul(ae,Ae);var Yh=(z+C|0)+((y&8191)<<13)|0;z=(D+(y>>>13)|0)+(Yh>>>26)|0,Yh&=67108863,C=Math.imul(Se,Ne),y=Math.imul(Se,Ae),y=y+Math.imul(Ee,Ne)|0,D=Math.imul(Ee,Ae),C=C+Math.imul(ee,be)|0,y=y+Math.imul(ee,Bt)|0,y=y+Math.imul(ae,be)|0,D=D+Math.imul(ae,Bt)|0;var Zh=(z+C|0)+((y&8191)<<13)|0;z=(D+(y>>>13)|0)+(Zh>>>26)|0,Zh&=67108863,C=Math.imul(Je,Ne),y=Math.imul(Je,Ae),y=y+Math.imul(et,Ne)|0,D=Math.imul(et,Ae),C=C+Math.imul(Se,be)|0,y=y+Math.imul(Se,Bt)|0,y=y+Math.imul(Ee,be)|0,D=D+Math.imul(Ee,Bt)|0,C=C+Math.imul(ee,Pt)|0,y=y+Math.imul(ee,Dt)|0,y=y+Math.imul(ae,Pt)|0,D=D+Math.imul(ae,Dt)|0;var Qh=(z+C|0)+((y&8191)<<13)|0;z=(D+(y>>>13)|0)+(Qh>>>26)|0,Qh&=67108863,C=Math.imul(tt,Ne),y=Math.imul(tt,Ae),y=y+Math.imul(St,Ne)|0,D=Math.imul(St,Ae),C=C+Math.imul(Je,be)|0,y=y+Math.imul(Je,Bt)|0,y=y+Math.imul(et,be)|0,D=D+Math.imul(et,Bt)|0,C=C+Math.imul(Se,Pt)|0,y=y+Math.imul(Se,Dt)|0,y=y+Math.imul(Ee,Pt)|0,D=D+Math.imul(Ee,Dt)|0,C=C+Math.imul(ee,Ut)|0,y=y+Math.imul(ee,zt)|0,y=y+Math.imul(ae,Ut)|0,D=D+Math.imul(ae,zt)|0;var Xh=(z+C|0)+((y&8191)<<13)|0;z=(D+(y>>>13)|0)+(Xh>>>26)|0,Xh&=67108863,C=Math.imul(ut,Ne),y=Math.imul(ut,Ae),y=y+Math.imul(At,Ne)|0,D=Math.imul(At,Ae),C=C+Math.imul(tt,be)|0,y=y+Math.imul(tt,Bt)|0,y=y+Math.imul(St,be)|0,D=D+Math.imul(St,Bt)|0,C=C+Math.imul(Je,Pt)|0,y=y+Math.imul(Je,Dt)|0,y=y+Math.imul(et,Pt)|0,D=D+Math.imul(et,Dt)|0,C=C+Math.imul(Se,Ut)|0,y=y+Math.imul(Se,zt)|0,y=y+Math.imul(Ee,Ut)|0,D=D+Math.imul(Ee,zt)|0,C=C+Math.imul(ee,jt)|0,y=y+Math.imul(ee,Wt)|0,y=y+Math.imul(ae,jt)|0,D=D+Math.imul(ae,Wt)|0;var Jh=(z+C|0)+((y&8191)<<13)|0;z=(D+(y>>>13)|0)+(Jh>>>26)|0,Jh&=67108863,C=Math.imul(pt,Ne),y=Math.imul(pt,Ae),y=y+Math.imul(ot,Ne)|0,D=Math.imul(ot,Ae),C=C+Math.imul(ut,be)|0,y=y+Math.imul(ut,Bt)|0,y=y+Math.imul(At,be)|0,D=D+Math.imul(At,Bt)|0,C=C+Math.imul(tt,Pt)|0,y=y+Math.imul(tt,Dt)|0,y=y+Math.imul(St,Pt)|0,D=D+Math.imul(St,Dt)|0,C=C+Math.imul(Je,Ut)|0,y=y+Math.imul(Je,zt)|0,y=y+Math.imul(et,Ut)|0,D=D+Math.imul(et,zt)|0,C=C+Math.imul(Se,jt)|0,y=y+Math.imul(Se,Wt)|0,y=y+Math.imul(Ee,jt)|0,D=D+Math.imul(Ee,Wt)|0,C=C+Math.imul(ee,Ft)|0,y=y+Math.imul(ee,$t)|0,y=y+Math.imul(ae,Ft)|0,D=D+Math.imul(ae,$t)|0;var ep=(z+C|0)+((y&8191)<<13)|0;z=(D+(y>>>13)|0)+(ep>>>26)|0,ep&=67108863,C=Math.imul(dt,Ne),y=Math.imul(dt,Ae),y=y+Math.imul(Rt,Ne)|0,D=Math.imul(Rt,Ae),C=C+Math.imul(pt,be)|0,y=y+Math.imul(pt,Bt)|0,y=y+Math.imul(ot,be)|0,D=D+Math.imul(ot,Bt)|0,C=C+Math.imul(ut,Pt)|0,y=y+Math.imul(ut,Dt)|0,y=y+Math.imul(At,Pt)|0,D=D+Math.imul(At,Dt)|0,C=C+Math.imul(tt,Ut)|0,y=y+Math.imul(tt,zt)|0,y=y+Math.imul(St,Ut)|0,D=D+Math.imul(St,zt)|0,C=C+Math.imul(Je,jt)|0,y=y+Math.imul(Je,Wt)|0,y=y+Math.imul(et,jt)|0,D=D+Math.imul(et,Wt)|0,C=C+Math.imul(Se,Ft)|0,y=y+Math.imul(Se,$t)|0,y=y+Math.imul(Ee,Ft)|0,D=D+Math.imul(Ee,$t)|0,C=C+Math.imul(ee,Ht)|0,y=y+Math.imul(ee,Kt)|0,y=y+Math.imul(ae,Ht)|0,D=D+Math.imul(ae,Kt)|0;var tp=(z+C|0)+((y&8191)<<13)|0;z=(D+(y>>>13)|0)+(tp>>>26)|0,tp&=67108863,C=Math.imul(It,Ne),y=Math.imul(It,Ae),y=y+Math.imul(k,Ne)|0,D=Math.imul(k,Ae),C=C+Math.imul(dt,be)|0,y=y+Math.imul(dt,Bt)|0,y=y+Math.imul(Rt,be)|0,D=D+Math.imul(Rt,Bt)|0,C=C+Math.imul(pt,Pt)|0,y=y+Math.imul(pt,Dt)|0,y=y+Math.imul(ot,Pt)|0,D=D+Math.imul(ot,Dt)|0,C=C+Math.imul(ut,Ut)|0,y=y+Math.imul(ut,zt)|0,y=y+Math.imul(At,Ut)|0,D=D+Math.imul(At,zt)|0,C=C+Math.imul(tt,jt)|0,y=y+Math.imul(tt,Wt)|0,y=y+Math.imul(St,jt)|0,D=D+Math.imul(St,Wt)|0,C=C+Math.imul(Je,Ft)|0,y=y+Math.imul(Je,$t)|0,y=y+Math.imul(et,Ft)|0,D=D+Math.imul(et,$t)|0,C=C+Math.imul(Se,Ht)|0,y=y+Math.imul(Se,Kt)|0,y=y+Math.imul(Ee,Ht)|0,D=D+Math.imul(Ee,Kt)|0,C=C+Math.imul(ee,Vt)|0,y=y+Math.imul(ee,Gt)|0,y=y+Math.imul(ae,Vt)|0,D=D+Math.imul(ae,Gt)|0;var np=(z+C|0)+((y&8191)<<13)|0;z=(D+(y>>>13)|0)+(np>>>26)|0,np&=67108863,C=Math.imul(E,Ne),y=Math.imul(E,Ae),y=y+Math.imul(B,Ne)|0,D=Math.imul(B,Ae),C=C+Math.imul(It,be)|0,y=y+Math.imul(It,Bt)|0,y=y+Math.imul(k,be)|0,D=D+Math.imul(k,Bt)|0,C=C+Math.imul(dt,Pt)|0,y=y+Math.imul(dt,Dt)|0,y=y+Math.imul(Rt,Pt)|0,D=D+Math.imul(Rt,Dt)|0,C=C+Math.imul(pt,Ut)|0,y=y+Math.imul(pt,zt)|0,y=y+Math.imul(ot,Ut)|0,D=D+Math.imul(ot,zt)|0,C=C+Math.imul(ut,jt)|0,y=y+Math.imul(ut,Wt)|0,y=y+Math.imul(At,jt)|0,D=D+Math.imul(At,Wt)|0,C=C+Math.imul(tt,Ft)|0,y=y+Math.imul(tt,$t)|0,y=y+Math.imul(St,Ft)|0,D=D+Math.imul(St,$t)|0,C=C+Math.imul(Je,Ht)|0,y=y+Math.imul(Je,Kt)|0,y=y+Math.imul(et,Ht)|0,D=D+Math.imul(et,Kt)|0,C=C+Math.imul(Se,Vt)|0,y=y+Math.imul(Se,Gt)|0,y=y+Math.imul(Ee,Vt)|0,D=D+Math.imul(Ee,Gt)|0,C=C+Math.imul(ee,qt)|0,y=y+Math.imul(ee,Yt)|0,y=y+Math.imul(ae,qt)|0,D=D+Math.imul(ae,Yt)|0;var rp=(z+C|0)+((y&8191)<<13)|0;z=(D+(y>>>13)|0)+(rp>>>26)|0,rp&=67108863,C=Math.imul(G,Ne),y=Math.imul(G,Ae),y=y+Math.imul(X,Ne)|0,D=Math.imul(X,Ae),C=C+Math.imul(E,be)|0,y=y+Math.imul(E,Bt)|0,y=y+Math.imul(B,be)|0,D=D+Math.imul(B,Bt)|0,C=C+Math.imul(It,Pt)|0,y=y+Math.imul(It,Dt)|0,y=y+Math.imul(k,Pt)|0,D=D+Math.imul(k,Dt)|0,C=C+Math.imul(dt,Ut)|0,y=y+Math.imul(dt,zt)|0,y=y+Math.imul(Rt,Ut)|0,D=D+Math.imul(Rt,zt)|0,C=C+Math.imul(pt,jt)|0,y=y+Math.imul(pt,Wt)|0,y=y+Math.imul(ot,jt)|0,D=D+Math.imul(ot,Wt)|0,C=C+Math.imul(ut,Ft)|0,y=y+Math.imul(ut,$t)|0,y=y+Math.imul(At,Ft)|0,D=D+Math.imul(At,$t)|0,C=C+Math.imul(tt,Ht)|0,y=y+Math.imul(tt,Kt)|0,y=y+Math.imul(St,Ht)|0,D=D+Math.imul(St,Kt)|0,C=C+Math.imul(Je,Vt)|0,y=y+Math.imul(Je,Gt)|0,y=y+Math.imul(et,Vt)|0,D=D+Math.imul(et,Gt)|0,C=C+Math.imul(Se,qt)|0,y=y+Math.imul(Se,Yt)|0,y=y+Math.imul(Ee,qt)|0,D=D+Math.imul(Ee,Yt)|0,C=C+Math.imul(ee,Zt)|0,y=y+Math.imul(ee,Qt)|0,y=y+Math.imul(ae,Zt)|0,D=D+Math.imul(ae,Qt)|0;var ip=(z+C|0)+((y&8191)<<13)|0;z=(D+(y>>>13)|0)+(ip>>>26)|0,ip&=67108863,C=Math.imul(G,be),y=Math.imul(G,Bt),y=y+Math.imul(X,be)|0,D=Math.imul(X,Bt),C=C+Math.imul(E,Pt)|0,y=y+Math.imul(E,Dt)|0,y=y+Math.imul(B,Pt)|0,D=D+Math.imul(B,Dt)|0,C=C+Math.imul(It,Ut)|0,y=y+Math.imul(It,zt)|0,y=y+Math.imul(k,Ut)|0,D=D+Math.imul(k,zt)|0,C=C+Math.imul(dt,jt)|0,y=y+Math.imul(dt,Wt)|0,y=y+Math.imul(Rt,jt)|0,D=D+Math.imul(Rt,Wt)|0,C=C+Math.imul(pt,Ft)|0,y=y+Math.imul(pt,$t)|0,y=y+Math.imul(ot,Ft)|0,D=D+Math.imul(ot,$t)|0,C=C+Math.imul(ut,Ht)|0,y=y+Math.imul(ut,Kt)|0,y=y+Math.imul(At,Ht)|0,D=D+Math.imul(At,Kt)|0,C=C+Math.imul(tt,Vt)|0,y=y+Math.imul(tt,Gt)|0,y=y+Math.imul(St,Vt)|0,D=D+Math.imul(St,Gt)|0,C=C+Math.imul(Je,qt)|0,y=y+Math.imul(Je,Yt)|0,y=y+Math.imul(et,qt)|0,D=D+Math.imul(et,Yt)|0,C=C+Math.imul(Se,Zt)|0,y=y+Math.imul(Se,Qt)|0,y=y+Math.imul(Ee,Zt)|0,D=D+Math.imul(Ee,Qt)|0;var op=(z+C|0)+((y&8191)<<13)|0;z=(D+(y>>>13)|0)+(op>>>26)|0,op&=67108863,C=Math.imul(G,Pt),y=Math.imul(G,Dt),y=y+Math.imul(X,Pt)|0,D=Math.imul(X,Dt),C=C+Math.imul(E,Ut)|0,y=y+Math.imul(E,zt)|0,y=y+Math.imul(B,Ut)|0,D=D+Math.imul(B,zt)|0,C=C+Math.imul(It,jt)|0,y=y+Math.imul(It,Wt)|0,y=y+Math.imul(k,jt)|0,D=D+Math.imul(k,Wt)|0,C=C+Math.imul(dt,Ft)|0,y=y+Math.imul(dt,$t)|0,y=y+Math.imul(Rt,Ft)|0,D=D+Math.imul(Rt,$t)|0,C=C+Math.imul(pt,Ht)|0,y=y+Math.imul(pt,Kt)|0,y=y+Math.imul(ot,Ht)|0,D=D+Math.imul(ot,Kt)|0,C=C+Math.imul(ut,Vt)|0,y=y+Math.imul(ut,Gt)|0,y=y+Math.imul(At,Vt)|0,D=D+Math.imul(At,Gt)|0,C=C+Math.imul(tt,qt)|0,y=y+Math.imul(tt,Yt)|0,y=y+Math.imul(St,qt)|0,D=D+Math.imul(St,Yt)|0,C=C+Math.imul(Je,Zt)|0,y=y+Math.imul(Je,Qt)|0,y=y+Math.imul(et,Zt)|0,D=D+Math.imul(et,Qt)|0;var sp=(z+C|0)+((y&8191)<<13)|0;z=(D+(y>>>13)|0)+(sp>>>26)|0,sp&=67108863,C=Math.imul(G,Ut),y=Math.imul(G,zt),y=y+Math.imul(X,Ut)|0,D=Math.imul(X,zt),C=C+Math.imul(E,jt)|0,y=y+Math.imul(E,Wt)|0,y=y+Math.imul(B,jt)|0,D=D+Math.imul(B,Wt)|0,C=C+Math.imul(It,Ft)|0,y=y+Math.imul(It,$t)|0,y=y+Math.imul(k,Ft)|0,D=D+Math.imul(k,$t)|0,C=C+Math.imul(dt,Ht)|0,y=y+Math.imul(dt,Kt)|0,y=y+Math.imul(Rt,Ht)|0,D=D+Math.imul(Rt,Kt)|0,C=C+Math.imul(pt,Vt)|0,y=y+Math.imul(pt,Gt)|0,y=y+Math.imul(ot,Vt)|0,D=D+Math.imul(ot,Gt)|0,C=C+Math.imul(ut,qt)|0,y=y+Math.imul(ut,Yt)|0,y=y+Math.imul(At,qt)|0,D=D+Math.imul(At,Yt)|0,C=C+Math.imul(tt,Zt)|0,y=y+Math.imul(tt,Qt)|0,y=y+Math.imul(St,Zt)|0,D=D+Math.imul(St,Qt)|0;var ap=(z+C|0)+((y&8191)<<13)|0;z=(D+(y>>>13)|0)+(ap>>>26)|0,ap&=67108863,C=Math.imul(G,jt),y=Math.imul(G,Wt),y=y+Math.imul(X,jt)|0,D=Math.imul(X,Wt),C=C+Math.imul(E,Ft)|0,y=y+Math.imul(E,$t)|0,y=y+Math.imul(B,Ft)|0,D=D+Math.imul(B,$t)|0,C=C+Math.imul(It,Ht)|0,y=y+Math.imul(It,Kt)|0,y=y+Math.imul(k,Ht)|0,D=D+Math.imul(k,Kt)|0,C=C+Math.imul(dt,Vt)|0,y=y+Math.imul(dt,Gt)|0,y=y+Math.imul(Rt,Vt)|0,D=D+Math.imul(Rt,Gt)|0,C=C+Math.imul(pt,qt)|0,y=y+Math.imul(pt,Yt)|0,y=y+Math.imul(ot,qt)|0,D=D+Math.imul(ot,Yt)|0,C=C+Math.imul(ut,Zt)|0,y=y+Math.imul(ut,Qt)|0,y=y+Math.imul(At,Zt)|0,D=D+Math.imul(At,Qt)|0;var lp=(z+C|0)+((y&8191)<<13)|0;z=(D+(y>>>13)|0)+(lp>>>26)|0,lp&=67108863,C=Math.imul(G,Ft),y=Math.imul(G,$t),y=y+Math.imul(X,Ft)|0,D=Math.imul(X,$t),C=C+Math.imul(E,Ht)|0,y=y+Math.imul(E,Kt)|0,y=y+Math.imul(B,Ht)|0,D=D+Math.imul(B,Kt)|0,C=C+Math.imul(It,Vt)|0,y=y+Math.imul(It,Gt)|0,y=y+Math.imul(k,Vt)|0,D=D+Math.imul(k,Gt)|0,C=C+Math.imul(dt,qt)|0,y=y+Math.imul(dt,Yt)|0,y=y+Math.imul(Rt,qt)|0,D=D+Math.imul(Rt,Yt)|0,C=C+Math.imul(pt,Zt)|0,y=y+Math.imul(pt,Qt)|0,y=y+Math.imul(ot,Zt)|0,D=D+Math.imul(ot,Qt)|0;var cp=(z+C|0)+((y&8191)<<13)|0;z=(D+(y>>>13)|0)+(cp>>>26)|0,cp&=67108863,C=Math.imul(G,Ht),y=Math.imul(G,Kt),y=y+Math.imul(X,Ht)|0,D=Math.imul(X,Kt),C=C+Math.imul(E,Vt)|0,y=y+Math.imul(E,Gt)|0,y=y+Math.imul(B,Vt)|0,D=D+Math.imul(B,Gt)|0,C=C+Math.imul(It,qt)|0,y=y+Math.imul(It,Yt)|0,y=y+Math.imul(k,qt)|0,D=D+Math.imul(k,Yt)|0,C=C+Math.imul(dt,Zt)|0,y=y+Math.imul(dt,Qt)|0,y=y+Math.imul(Rt,Zt)|0,D=D+Math.imul(Rt,Qt)|0;var up=(z+C|0)+((y&8191)<<13)|0;z=(D+(y>>>13)|0)+(up>>>26)|0,up&=67108863,C=Math.imul(G,Vt),y=Math.imul(G,Gt),y=y+Math.imul(X,Vt)|0,D=Math.imul(X,Gt),C=C+Math.imul(E,qt)|0,y=y+Math.imul(E,Yt)|0,y=y+Math.imul(B,qt)|0,D=D+Math.imul(B,Yt)|0,C=C+Math.imul(It,Zt)|0,y=y+Math.imul(It,Qt)|0,y=y+Math.imul(k,Zt)|0,D=D+Math.imul(k,Qt)|0;var dp=(z+C|0)+((y&8191)<<13)|0;z=(D+(y>>>13)|0)+(dp>>>26)|0,dp&=67108863,C=Math.imul(G,qt),y=Math.imul(G,Yt),y=y+Math.imul(X,qt)|0,D=Math.imul(X,Yt),C=C+Math.imul(E,Zt)|0,y=y+Math.imul(E,Qt)|0,y=y+Math.imul(B,Zt)|0,D=D+Math.imul(B,Qt)|0;var fp=(z+C|0)+((y&8191)<<13)|0;z=(D+(y>>>13)|0)+(fp>>>26)|0,fp&=67108863,C=Math.imul(G,Zt),y=Math.imul(G,Qt),y=y+Math.imul(X,Zt)|0,D=Math.imul(X,Qt);var hp=(z+C|0)+((y&8191)<<13)|0;return z=(D+(y>>>13)|0)+(hp>>>26)|0,hp&=67108863,M[0]=Yh,M[1]=Zh,M[2]=Qh,M[3]=Xh,M[4]=Jh,M[5]=ep,M[6]=tp,M[7]=np,M[8]=rp,M[9]=ip,M[10]=op,M[11]=sp,M[12]=ap,M[13]=lp,M[14]=cp,M[15]=up,M[16]=dp,M[17]=fp,M[18]=hp,z!==0&&(M[19]=z,S.length++),S};Math.imul||(b=w);function _(A,u,h){h.negative=u.negative^A.negative,h.length=A.length+u.length;for(var S=0,T=0,x=0;x<h.length-1;x++){var M=T;T=0;for(var z=S&67108863,C=Math.min(x,u.length-1),y=Math.max(0,x-A.length+1);y<=C;y++){var D=x-y,Z=A.words[D]|0,ee=u.words[y]|0,ae=Z*ee,ve=ae&67108863;M=M+(ae/67108864|0)|0,ve=ve+z|0,z=ve&67108863,M=M+(ve>>>26)|0,T+=M>>>26,M&=67108863}h.words[x]=z,S=M,M=T}return S!==0?h.words[x]=S:h.length--,h._strip()}function N(A,u,h){return _(A,u,h)}o.prototype.mulTo=function(u,h){var S,T=this.length+u.length;return this.length===10&&u.length===10?S=b(this,u,h):T<63?S=w(this,u,h):T<1024?S=_(this,u,h):S=N(this,u,h),S},o.prototype.mul=function(u){var h=new o(null);return h.words=new Array(this.length+u.length),this.mulTo(u,h)},o.prototype.mulf=function(u){var h=new o(null);return h.words=new Array(this.length+u.length),N(this,u,h)},o.prototype.imul=function(u){return this.clone().mulTo(u,this)},o.prototype.imuln=function(u){var h=u<0;h&&(u=-u),r(typeof u=="number"),r(u<67108864);for(var S=0,T=0;T<this.length;T++){var x=(this.words[T]|0)*u,M=(x&67108863)+(S&67108863);S>>=26,S+=x/67108864|0,S+=M>>>26,this.words[T]=M&67108863}return S!==0&&(this.words[T]=S,this.length++),this.length=u===0?1:this.length,h?this.ineg():this},o.prototype.muln=function(u){return this.clone().imuln(u)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(u){var h=I(u);if(h.length===0)return new o(1);for(var S=this,T=0;T<h.length&&h[T]===0;T++,S=S.sqr());if(++T<h.length)for(var x=S.sqr();T<h.length;T++,x=x.sqr())h[T]!==0&&(S=S.mul(x));return S},o.prototype.iushln=function(u){r(typeof u=="number"&&u>=0);var h=u%26,S=(u-h)/26,T=67108863>>>26-h<<26-h,x;if(h!==0){var M=0;for(x=0;x<this.length;x++){var z=this.words[x]&T,C=(this.words[x]|0)-z<<h;this.words[x]=C|M,M=z>>>26-h}M&&(this.words[x]=M,this.length++)}if(S!==0){for(x=this.length-1;x>=0;x--)this.words[x+S]=this.words[x];for(x=0;x<S;x++)this.words[x]=0;this.length+=S}return this._strip()},o.prototype.ishln=function(u){return r(this.negative===0),this.iushln(u)},o.prototype.iushrn=function(u,h,S){r(typeof u=="number"&&u>=0);var T;h?T=(h-h%26)/26:T=0;var x=u%26,M=Math.min((u-x)/26,this.length),z=67108863^67108863>>>x<<x,C=S;if(T-=M,T=Math.max(0,T),C){for(var y=0;y<M;y++)C.words[y]=this.words[y];C.length=M}if(M!==0)if(this.length>M)for(this.length-=M,y=0;y<this.length;y++)this.words[y]=this.words[y+M];else this.words[0]=0,this.length=1;var D=0;for(y=this.length-1;y>=0&&(D!==0||y>=T);y--){var Z=this.words[y]|0;this.words[y]=D<<26-x|Z>>>x,D=Z&z}return C&&D!==0&&(C.words[C.length++]=D),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(u,h,S){return r(this.negative===0),this.iushrn(u,h,S)},o.prototype.shln=function(u){return this.clone().ishln(u)},o.prototype.ushln=function(u){return this.clone().iushln(u)},o.prototype.shrn=function(u){return this.clone().ishrn(u)},o.prototype.ushrn=function(u){return this.clone().iushrn(u)},o.prototype.testn=function(u){r(typeof u=="number"&&u>=0);var h=u%26,S=(u-h)/26,T=1<<h;if(this.length<=S)return!1;var x=this.words[S];return!!(x&T)},o.prototype.imaskn=function(u){r(typeof u=="number"&&u>=0);var h=u%26,S=(u-h)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(h!==0&&S++,this.length=Math.min(S,this.length),h!==0){var T=67108863^67108863>>>h<<h;this.words[this.length-1]&=T}return this._strip()},o.prototype.maskn=function(u){return this.clone().imaskn(u)},o.prototype.iaddn=function(u){return r(typeof u=="number"),r(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},o.prototype._iaddn=function(u){this.words[0]+=u;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},o.prototype.isubn=function(u){if(r(typeof u=="number"),r(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},o.prototype.addn=function(u){return this.clone().iaddn(u)},o.prototype.subn=function(u){return this.clone().isubn(u)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(u,h,S){var T=u.length+S,x;this._expand(T);var M,z=0;for(x=0;x<u.length;x++){M=(this.words[x+S]|0)+z;var C=(u.words[x]|0)*h;M-=C&67108863,z=(M>>26)-(C/67108864|0),this.words[x+S]=M&67108863}for(;x<this.length-S;x++)M=(this.words[x+S]|0)+z,z=M>>26,this.words[x+S]=M&67108863;if(z===0)return this._strip();for(r(z===-1),z=0,x=0;x<this.length;x++)M=-(this.words[x]|0)+z,z=M>>26,this.words[x]=M&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(u,h){var S=this.length-u.length,T=this.clone(),x=u,M=x.words[x.length-1]|0,z=this._countBits(M);S=26-z,S!==0&&(x=x.ushln(S),T.iushln(S),M=x.words[x.length-1]|0);var C=T.length-x.length,y;if(h!=="mod"){y=new o(null),y.length=C+1,y.words=new Array(y.length);for(var D=0;D<y.length;D++)y.words[D]=0}var Z=T.clone()._ishlnsubmul(x,1,C);Z.negative===0&&(T=Z,y&&(y.words[C]=1));for(var ee=C-1;ee>=0;ee--){var ae=(T.words[x.length+ee]|0)*67108864+(T.words[x.length+ee-1]|0);for(ae=Math.min(ae/M|0,67108863),T._ishlnsubmul(x,ae,ee);T.negative!==0;)ae--,T.negative=0,T._ishlnsubmul(x,1,ee),T.isZero()||(T.negative^=1);y&&(y.words[ee]=ae)}return y&&y._strip(),T._strip(),h!=="div"&&S!==0&&T.iushrn(S),{div:y||null,mod:T}},o.prototype.divmod=function(u,h,S){if(r(!u.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var T,x,M;return this.negative!==0&&u.negative===0?(M=this.neg().divmod(u,h),h!=="mod"&&(T=M.div.neg()),h!=="div"&&(x=M.mod.neg(),S&&x.negative!==0&&x.iadd(u)),{div:T,mod:x}):this.negative===0&&u.negative!==0?(M=this.divmod(u.neg(),h),h!=="mod"&&(T=M.div.neg()),{div:T,mod:M.mod}):this.negative&u.negative?(M=this.neg().divmod(u.neg(),h),h!=="div"&&(x=M.mod.neg(),S&&x.negative!==0&&x.isub(u)),{div:M.div,mod:x}):u.length>this.length||this.cmp(u)<0?{div:new o(0),mod:this}:u.length===1?h==="div"?{div:this.divn(u.words[0]),mod:null}:h==="mod"?{div:null,mod:new o(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new o(this.modrn(u.words[0]))}:this._wordDiv(u,h)},o.prototype.div=function(u){return this.divmod(u,"div",!1).div},o.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},o.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},o.prototype.divRound=function(u){var h=this.divmod(u);if(h.mod.isZero())return h.div;var S=h.div.negative!==0?h.mod.isub(u):h.mod,T=u.ushrn(1),x=u.andln(1),M=S.cmp(T);return M<0||x===1&&M===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},o.prototype.modrn=function(u){var h=u<0;h&&(u=-u),r(u<=67108863);for(var S=(1<<26)%u,T=0,x=this.length-1;x>=0;x--)T=(S*T+(this.words[x]|0))%u;return h?-T:T},o.prototype.modn=function(u){return this.modrn(u)},o.prototype.idivn=function(u){var h=u<0;h&&(u=-u),r(u<=67108863);for(var S=0,T=this.length-1;T>=0;T--){var x=(this.words[T]|0)+S*67108864;this.words[T]=x/u|0,S=x%u}return this._strip(),h?this.ineg():this},o.prototype.divn=function(u){return this.clone().idivn(u)},o.prototype.egcd=function(u){r(u.negative===0),r(!u.isZero());var h=this,S=u.clone();h.negative!==0?h=h.umod(u):h=h.clone();for(var T=new o(1),x=new o(0),M=new o(0),z=new o(1),C=0;h.isEven()&&S.isEven();)h.iushrn(1),S.iushrn(1),++C;for(var y=S.clone(),D=h.clone();!h.isZero();){for(var Z=0,ee=1;!(h.words[0]&ee)&&Z<26;++Z,ee<<=1);if(Z>0)for(h.iushrn(Z);Z-- >0;)(T.isOdd()||x.isOdd())&&(T.iadd(y),x.isub(D)),T.iushrn(1),x.iushrn(1);for(var ae=0,ve=1;!(S.words[0]&ve)&&ae<26;++ae,ve<<=1);if(ae>0)for(S.iushrn(ae);ae-- >0;)(M.isOdd()||z.isOdd())&&(M.iadd(y),z.isub(D)),M.iushrn(1),z.iushrn(1);h.cmp(S)>=0?(h.isub(S),T.isub(M),x.isub(z)):(S.isub(h),M.isub(T),z.isub(x))}return{a:M,b:z,gcd:S.iushln(C)}},o.prototype._invmp=function(u){r(u.negative===0),r(!u.isZero());var h=this,S=u.clone();h.negative!==0?h=h.umod(u):h=h.clone();for(var T=new o(1),x=new o(0),M=S.clone();h.cmpn(1)>0&&S.cmpn(1)>0;){for(var z=0,C=1;!(h.words[0]&C)&&z<26;++z,C<<=1);if(z>0)for(h.iushrn(z);z-- >0;)T.isOdd()&&T.iadd(M),T.iushrn(1);for(var y=0,D=1;!(S.words[0]&D)&&y<26;++y,D<<=1);if(y>0)for(S.iushrn(y);y-- >0;)x.isOdd()&&x.iadd(M),x.iushrn(1);h.cmp(S)>=0?(h.isub(S),T.isub(x)):(S.isub(h),x.isub(T))}var Z;return h.cmpn(1)===0?Z=T:Z=x,Z.cmpn(0)<0&&Z.iadd(u),Z},o.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var h=this.clone(),S=u.clone();h.negative=0,S.negative=0;for(var T=0;h.isEven()&&S.isEven();T++)h.iushrn(1),S.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;S.isEven();)S.iushrn(1);var x=h.cmp(S);if(x<0){var M=h;h=S,S=M}else if(x===0||S.cmpn(1)===0)break;h.isub(S)}while(!0);return S.iushln(T)},o.prototype.invm=function(u){return this.egcd(u).a.umod(u)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(u){return this.words[0]&u},o.prototype.bincn=function(u){r(typeof u=="number");var h=u%26,S=(u-h)/26,T=1<<h;if(this.length<=S)return this._expand(S+1),this.words[S]|=T,this;for(var x=T,M=S;x!==0&&M<this.length;M++){var z=this.words[M]|0;z+=x,x=z>>>26,z&=67108863,this.words[M]=z}return x!==0&&(this.words[M]=x,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(u){var h=u<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var S;if(this.length>1)S=1;else{h&&(u=-u),r(u<=67108863,"Number is too big");var T=this.words[0]|0;S=T===u?0:T<u?-1:1}return this.negative!==0?-S|0:S},o.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var h=this.ucmp(u);return this.negative!==0?-h|0:h},o.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var h=0,S=this.length-1;S>=0;S--){var T=this.words[S]|0,x=u.words[S]|0;if(T!==x){T<x?h=-1:T>x&&(h=1);break}}return h},o.prototype.gtn=function(u){return this.cmpn(u)===1},o.prototype.gt=function(u){return this.cmp(u)===1},o.prototype.gten=function(u){return this.cmpn(u)>=0},o.prototype.gte=function(u){return this.cmp(u)>=0},o.prototype.ltn=function(u){return this.cmpn(u)===-1},o.prototype.lt=function(u){return this.cmp(u)===-1},o.prototype.lten=function(u){return this.cmpn(u)<=0},o.prototype.lte=function(u){return this.cmp(u)<=0},o.prototype.eqn=function(u){return this.cmpn(u)===0},o.prototype.eq=function(u){return this.cmp(u)===0},o.red=function(u){return new $(u)},o.prototype.toRed=function(u){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(u){return this.red=u,this},o.prototype.forceRed=function(u){return r(!this.red,"Already a number in reduction context"),this._forceRed(u)},o.prototype.redAdd=function(u){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},o.prototype.redIAdd=function(u){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},o.prototype.redSub=function(u){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},o.prototype.redISub=function(u){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},o.prototype.redShl=function(u){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},o.prototype.redMul=function(u){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},o.prototype.redIMul=function(u){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(u){return r(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var L={k256:null,p224:null,p192:null,p25519:null};function j(A,u){this.name=A,this.p=new o(u,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}j.prototype._tmp=function(){var u=new o(null);return u.words=new Array(Math.ceil(this.n/13)),u},j.prototype.ireduce=function(u){var h=u,S;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),S=h.bitLength();while(S>this.n);var T=S<this.n?-1:h.ucmp(this.p);return T===0?(h.words[0]=0,h.length=1):T>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},j.prototype.split=function(u,h){u.iushrn(this.n,0,h)},j.prototype.imulK=function(u){return u.imul(this.k)};function O(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(O,j),O.prototype.split=function(u,h){for(var S=4194303,T=Math.min(u.length,9),x=0;x<T;x++)h.words[x]=u.words[x];if(h.length=T,u.length<=9){u.words[0]=0,u.length=1;return}var M=u.words[9];for(h.words[h.length++]=M&S,x=10;x<u.length;x++){var z=u.words[x]|0;u.words[x-10]=(z&S)<<4|M>>>22,M=z}M>>>=22,u.words[x-10]=M,M===0&&u.length>10?u.length-=10:u.length-=9},O.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var h=0,S=0;S<u.length;S++){var T=u.words[S]|0;h+=T*977,u.words[S]=h&67108863,h=T*64+(h/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function U(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(U,j);function P(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(P,j);function W(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(W,j),W.prototype.imulK=function(u){for(var h=0,S=0;S<u.length;S++){var T=(u.words[S]|0)*19+h,x=T&67108863;T>>>=26,u.words[S]=x,h=T}return h!==0&&(u.words[u.length++]=h),u},o._prime=function(u){if(L[u])return L[u];var h;if(u==="k256")h=new O;else if(u==="p224")h=new U;else if(u==="p192")h=new P;else if(u==="p25519")h=new W;else throw new Error("Unknown prime "+u);return L[u]=h,h};function $(A){if(typeof A=="string"){var u=o._prime(A);this.m=u.p,this.prime=u}else r(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}$.prototype._verify1=function(u){r(u.negative===0,"red works only with positives"),r(u.red,"red works only with red numbers")},$.prototype._verify2=function(u,h){r((u.negative|h.negative)===0,"red works only with positives"),r(u.red&&u.red===h.red,"red works only with red numbers")},$.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(d(u,u.umod(this.m)._forceRed(this)),u)},$.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},$.prototype.add=function(u,h){this._verify2(u,h);var S=u.add(h);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},$.prototype.iadd=function(u,h){this._verify2(u,h);var S=u.iadd(h);return S.cmp(this.m)>=0&&S.isub(this.m),S},$.prototype.sub=function(u,h){this._verify2(u,h);var S=u.sub(h);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},$.prototype.isub=function(u,h){this._verify2(u,h);var S=u.isub(h);return S.cmpn(0)<0&&S.iadd(this.m),S},$.prototype.shl=function(u,h){return this._verify1(u),this.imod(u.ushln(h))},$.prototype.imul=function(u,h){return this._verify2(u,h),this.imod(u.imul(h))},$.prototype.mul=function(u,h){return this._verify2(u,h),this.imod(u.mul(h))},$.prototype.isqr=function(u){return this.imul(u,u.clone())},$.prototype.sqr=function(u){return this.mul(u,u)},$.prototype.sqrt=function(u){if(u.isZero())return u.clone();var h=this.m.andln(3);if(r(h%2===1),h===3){var S=this.m.add(new o(1)).iushrn(2);return this.pow(u,S)}for(var T=this.m.subn(1),x=0;!T.isZero()&&T.andln(1)===0;)x++,T.iushrn(1);r(!T.isZero());var M=new o(1).toRed(this),z=M.redNeg(),C=this.m.subn(1).iushrn(1),y=this.m.bitLength();for(y=new o(2*y*y).toRed(this);this.pow(y,C).cmp(z)!==0;)y.redIAdd(z);for(var D=this.pow(y,T),Z=this.pow(u,T.addn(1).iushrn(1)),ee=this.pow(u,T),ae=x;ee.cmp(M)!==0;){for(var ve=ee,Se=0;ve.cmp(M)!==0;Se++)ve=ve.redSqr();r(Se<ae);var Ee=this.pow(D,new o(1).iushln(ae-Se-1));Z=Z.redMul(Ee),D=Ee.redSqr(),ee=ee.redMul(D),ae=Se}return Z},$.prototype.invm=function(u){var h=u._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},$.prototype.pow=function(u,h){if(h.isZero())return new o(1).toRed(this);if(h.cmpn(1)===0)return u.clone();var S=4,T=new Array(1<<S);T[0]=new o(1).toRed(this),T[1]=u;for(var x=2;x<T.length;x++)T[x]=this.mul(T[x-1],u);var M=T[0],z=0,C=0,y=h.bitLength()%26;for(y===0&&(y=26),x=h.length-1;x>=0;x--){for(var D=h.words[x],Z=y-1;Z>=0;Z--){var ee=D>>Z&1;if(M!==T[0]&&(M=this.sqr(M)),ee===0&&z===0){C=0;continue}z<<=1,z|=ee,C++,!(C!==S&&(x!==0||Z!==0))&&(M=this.mul(M,T[z]),C=0,z=0)}y=26}return M},$.prototype.convertTo=function(u){var h=u.umod(this.m);return h===u?h.clone():h},$.prototype.convertFrom=function(u){var h=u.clone();return h.red=null,h},o.mont=function(u){return new H(u)};function H(A){$.call(this,A),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(H,$),H.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},H.prototype.convertFrom=function(u){var h=this.imod(u.mul(this.rinv));return h.red=null,h},H.prototype.imul=function(u,h){if(u.isZero()||h.isZero())return u.words[0]=0,u.length=1,u;var S=u.imul(h),T=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=S.isub(T).iushrn(this.shift),M=x;return x.cmp(this.m)>=0?M=x.isub(this.m):x.cmpn(0)<0&&(M=x.iadd(this.m)),M._forceRed(this)},H.prototype.mul=function(u,h){if(u.isZero()||h.isZero())return new o(0)._forceRed(this);var S=u.mul(h),T=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=S.isub(T).iushrn(this.shift),M=x;return x.cmp(this.m)>=0?M=x.isub(this.m):x.cmpn(0)<0&&(M=x.iadd(this.m)),M._forceRed(this)},H.prototype.invm=function(u){var h=this.imod(u._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(t,_r)})(Yy);var Zy=Yy.exports;const gr=no(Zy);var Mg={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=ge,r=n.Buffer;function i(s,a){for(var l in s)a[l]=s[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=o);function o(s,a,l){return r(s,a,l)}o.prototype=Object.create(r.prototype),i(r,o),o.from=function(s,a,l){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,a,l)},o.alloc=function(s,a,l){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=r(s);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(s)}})(Mg,Mg.exports);var Qy=Mg.exports,Uu=Qy.Buffer;function PM(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function d(f){if((Array.isArray(f)||f instanceof Uint8Array)&&(f=Uu.from(f)),!Uu.isBuffer(f))throw new TypeError("Expected Buffer");if(f.length===0)return"";for(var m=0,R=0,I=0,w=f.length;I!==w&&f[I]===0;)I++,m++;for(var b=(w-I)*c+1>>>0,_=new Uint8Array(b);I!==w;){for(var N=f[I],L=0,j=b-1;(N!==0||L<R)&&j!==-1;j--,L++)N+=256*_[j]>>>0,_[j]=N%s>>>0,N=N/s>>>0;if(N!==0)throw new Error("Non-zero carry");R=L,I++}for(var O=b-R;O!==b&&_[O]===0;)O++;for(var U=a.repeat(m);O<b;++O)U+=t.charAt(_[O]);return U}function g(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return Uu.alloc(0);for(var m=0,R=0,I=0;f[m]===a;)R++,m++;for(var w=(f.length-m)*l+1>>>0,b=new Uint8Array(w);m<f.length;){var _=f.charCodeAt(m);if(_>255)return;var N=e[_];if(N===255)return;for(var L=0,j=w-1;(N!==0||L<I)&&j!==-1;j--,L++)N+=s*b[j]>>>0,b[j]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");I=L,m++}for(var O=w-I;O!==w&&b[O]===0;)O++;var U=Uu.allocUnsafe(R+(w-O));U.fill(0,0,R);for(var P=R;O!==w;)U[P++]=b[O++];return U}function p(f){var m=g(f);if(m)return m;throw new Error("Non-base"+s+" character")}return{encode:d,decodeUnsafe:g,decode:p}}var DM=PM,UM=DM,zM="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",jM=UM(zM);const An=no(jM),kv=YS;var Sn={},zu=Qy.Buffer;function WM(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function d(f){if((Array.isArray(f)||f instanceof Uint8Array)&&(f=zu.from(f)),!zu.isBuffer(f))throw new TypeError("Expected Buffer");if(f.length===0)return"";for(var m=0,R=0,I=0,w=f.length;I!==w&&f[I]===0;)I++,m++;for(var b=(w-I)*c+1>>>0,_=new Uint8Array(b);I!==w;){for(var N=f[I],L=0,j=b-1;(N!==0||L<R)&&j!==-1;j--,L++)N+=256*_[j]>>>0,_[j]=N%s>>>0,N=N/s>>>0;if(N!==0)throw new Error("Non-zero carry");R=L,I++}for(var O=b-R;O!==b&&_[O]===0;)O++;for(var U=a.repeat(m);O<b;++O)U+=t.charAt(_[O]);return U}function g(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return zu.alloc(0);for(var m=0,R=0,I=0;f[m]===a;)R++,m++;for(var w=(f.length-m)*l+1>>>0,b=new Uint8Array(w);m<f.length;){var _=f.charCodeAt(m);if(_>255)return;var N=e[_];if(N===255)return;for(var L=0,j=w-1;(N!==0||L<I)&&j!==-1;j--,L++)N+=s*b[j]>>>0,b[j]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");I=L,m++}for(var O=w-I;O!==w&&b[O]===0;)O++;var U=zu.allocUnsafe(R+(w-O));U.fill(0,0,R);for(var P=R;O!==w;)U[P++]=b[O++];return U}function p(f){var m=g(f);if(m)return m;throw new Error("Non-base"+s+" character")}return{encode:d,decodeUnsafe:g,decode:p}}var FM=WM,$M=FM,HM="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",KM=$M(HM);function ji(t,e,n){return e<=t&&t<=n}function ph(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function VM(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var o=e.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)i.push(65533);else{var s=t.charCodeAt(r+1);if(56320<=s&&s<=57343){var a=o&1023,l=s&1023;i.push(65536+(a<<10)+l),r+=1}else i.push(65533)}r+=1}return i}function GM(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var _f=-1;function Xy(t){this.tokens=[].slice.call(t)}Xy.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():_f},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var il=-1;function Gp(t,e){if(t)throw TypeError("Decoder error");return e||65533}var Ef="utf-8";function bf(t,e){if(!(this instanceof bf))return new bf(t,e);if(t=t!==void 0?String(t).toLowerCase():Ef,t!==Ef)throw new Error("Encoding not supported. Only utf-8 is supported");e=ph(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}bf.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=ph(n),this._streaming||(this._decoder=new qM({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new Xy(r),o=[],s;!i.endOfStream()&&(s=this._decoder.handler(i,i.read()),s!==il);)s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s));if(!this._streaming){do{if(s=this._decoder.handler(i,i.read()),s===il)break;s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s))}while(!i.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),GM(o)}};function Sf(t,e){if(!(this instanceof Sf))return new Sf(t,e);if(t=t!==void 0?String(t).toLowerCase():Ef,t!==Ef)throw new Error("Encoding not supported. Only utf-8 is supported");e=ph(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Sf.prototype={encode:function(e,n){e=e?String(e):"",n=ph(n),this._streaming||(this._encoder=new YM(this._options)),this._streaming=!!n.stream;for(var r=[],i=new Xy(VM(e)),o;!i.endOfStream()&&(o=this._encoder.handler(i,i.read()),o!==il);)Array.isArray(o)?r.push.apply(r,o):r.push(o);if(!this._streaming){for(;o=this._encoder.handler(i,i.read()),o!==il;)Array.isArray(o)?r.push.apply(r,o):r.push(o);this._encoder=null}return new Uint8Array(r)}};function qM(t){var e=t.fatal,n=0,r=0,i=0,o=128,s=191;this.handler=function(a,l){if(l===_f&&i!==0)return i=0,Gp(e);if(l===_f)return il;if(i===0){if(ji(l,0,127))return l;if(ji(l,194,223))i=1,n=l-192;else if(ji(l,224,239))l===224&&(o=160),l===237&&(s=159),i=2,n=l-224;else if(ji(l,240,244))l===240&&(o=144),l===244&&(s=143),i=3,n=l-240;else return Gp(e);return n=n<<6*i,null}if(!ji(l,o,s))return n=i=r=0,o=128,s=191,a.prepend(l),Gp(e);if(o=128,s=191,r+=1,n+=l-128<<6*(i-r),r!==i)return null;var c=n;return n=i=r=0,c}}function YM(t){t.fatal,this.handler=function(e,n){if(n===_f)return il;if(ji(n,0,127))return n;var r,i;ji(n,128,2047)?(r=1,i=192):ji(n,2048,65535)?(r=2,i=224):ji(n,65536,1114111)&&(r=3,i=240);for(var o=[(n>>6*r)+i];r>0;){var s=n>>6*(r-1);o.push(128|s&63),r-=1}return o}}const ZM=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:bf,TextEncoder:Sf},Symbol.toStringTag,{value:"Module"})),QM=ro(ZM);var XM=_r&&_r.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),JM=_r&&_r.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Si=_r&&_r.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},eO=_r&&_r.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&XM(e,t,n);return JM(e,t),e},yA=_r&&_r.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sn,"__esModule",{value:!0});var wA=Sn.deserializeUnchecked=AA=Sn.deserialize=SA=Sn.serialize=Sn.BinaryReader=Sn.BinaryWriter=Sn.BorshError=Sn.baseDecode=Sn.baseEncode=void 0;const xo=yA(Zy),vA=yA(KM),tO=eO(QM),nO=typeof TextDecoder!="function"?tO.TextDecoder:TextDecoder,rO=new nO("utf-8",{fatal:!0});function iO(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),vA.default.encode(Buffer.from(t))}Sn.baseEncode=iO;function oO(t){return Buffer.from(vA.default.decode(t))}Sn.baseDecode=oO;const qp=1024;class Fn extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Sn.BorshError=Fn;class _A{constructor(){this.buf=Buffer.alloc(qp),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(qp)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new xo.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new xo.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new xo.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new xo.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(qp)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}Sn.BinaryWriter=_A;function Ai(t,e,n){const r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(o){if(o instanceof RangeError){const s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new Fn("Reached the end of buffer when deserializing")}throw o}}}class Ar{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new xo.default(e,"le")}readU128(){const e=this.readBuffer(16);return new xo.default(e,"le")}readU256(){const e=this.readBuffer(32);return new xo.default(e,"le")}readU512(){const e=this.readBuffer(64);return new xo.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Fn(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return rO.decode(n)}catch(r){throw new Fn(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(e());return r}}Si([Ai],Ar.prototype,"readU8",null);Si([Ai],Ar.prototype,"readU16",null);Si([Ai],Ar.prototype,"readU32",null);Si([Ai],Ar.prototype,"readU64",null);Si([Ai],Ar.prototype,"readU128",null);Si([Ai],Ar.prototype,"readU256",null);Si([Ai],Ar.prototype,"readU512",null);Si([Ai],Ar.prototype,"readString",null);Si([Ai],Ar.prototype,"readFixedArray",null);Si([Ai],Ar.prototype,"readArray",null);Sn.BinaryReader=Ar;function EA(t){return t.charAt(0).toUpperCase()+t.slice(1)}function cs(t,e,n,r,i){try{if(typeof r=="string")i[`write${EA(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new Fn(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new Fn(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let o=0;o<r[1];o++)cs(t,null,n[o],r[0],i)}else i.writeArray(n,o=>{cs(t,e,o,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),cs(t,e,n,r.type,i));break}case"map":{i.writeU32(n.size),n.forEach((o,s)=>{cs(t,e,s,r.key,i),cs(t,e,o,r.value,i)});break}default:throw new Fn(`FieldType ${r} unrecognized`)}else bA(t,n,i)}catch(o){throw o instanceof Fn&&o.addToFieldPath(e),o}}function bA(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new Fn(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,o])=>{cs(t,i,e[i],o,n)});else if(r.kind==="enum"){const i=e[r.field];for(let o=0;o<r.values.length;++o){const[s,a]=r.values[o];if(s===i){n.writeU8(o),cs(t,s,e[s],a,n);break}}}else throw new Fn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function sO(t,e,n=_A){const r=new n;return bA(t,e,r),r.toArray()}var SA=Sn.serialize=sO;function us(t,e,n,r){try{if(typeof n=="string")return r[`read${EA(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const i=[];for(let o=0;o<n[1];o++)i.push(us(t,null,n[0],r));return i}else return r.readArray(()=>us(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?us(t,e,n.type,r):void 0;if(n.kind==="map"){let i=new Map;const o=r.readU32();for(let s=0;s<o;s++){const a=us(t,e,n.key,r),l=us(t,e,n.value,r);i.set(a,l)}return i}return Jy(t,n,r)}catch(i){throw i instanceof Fn&&i.addToFieldPath(e),i}}function Jy(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new Fn(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[o,s]of t.get(e).fields)i[o]=us(t,o,s,n);return new e(i)}if(r.kind==="enum"){const i=n.readU8();if(i>=r.values.length)throw new Fn(`Enum index: ${i} is out of range`);const[o,s]=r.values[i],a=us(t,o,s,n);return new e({[o]:a})}throw new Fn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function aO(t,e,n,r=Ar){const i=new r(n),o=Jy(t,e,i);if(i.offset<n.length)throw new Fn(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return o}var AA=Sn.deserialize=aO;function lO(t,e,n,r=Ar){const i=new r(n);return Jy(t,e,i)}wA=Sn.deserializeUnchecked=lO;var Q={};Object.defineProperty(Q,"__esModule",{value:!0});var Og=Q.s16=Q.s8=Q.nu64be=Q.u48be=Q.u40be=Q.u32be=Q.u24be=Q.u16be=_n=Q.nu64=Q.u48=Q.u40=fe=Q.u32=Q.u24=hr=Q.u16=Ie=Q.u8=Wo=Q.offset=FA=Q.greedy=Q.Constant=Q.UTF8=Q.CString=Q.Blob=Q.Boolean=Q.BitField=Q.BitStructure=Q.VariantLayout=Q.Union=Q.UnionLayoutDiscriminator=Q.UnionDiscriminator=Q.Structure=Q.Sequence=Q.DoubleBE=Q.Double=Q.FloatBE=Q.Float=Q.NearInt64BE=Q.NearInt64=Q.NearUInt64BE=Q.NearUInt64=Q.IntBE=Q.Int=Q.UIntBE=Q.UInt=Q.OffsetLayout=Q.GreedyCount=Q.ExternalLayout=Q.bindConstructorLayout=Q.nameWithProperty=Q.Layout=Q.uint8ArrayToBuffer=Q.checkUint8Array=void 0;Q.constant=Q.utf8=Q.cstr=Xe=Q.blob=Q.unionLayoutDiscriminator=Q.union=yn=Q.seq=Q.bits=oe=Q.struct=Q.f64be=Q.f64=Q.f32be=Q.f32=Q.ns64be=Q.s48be=Q.s40be=Q.s32be=Q.s24be=Q.s16be=Wn=Q.ns64=Q.s48=Q.s40=Q.s32=Q.s24=void 0;const ew=ge;function El(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Q.checkUint8Array=El;function Fe(t){return El(t),ew.Buffer.from(t.buffer,t.byteOffset,t.length)}Q.uint8ArrayToBuffer=Fe;let qe=class{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}};Q.Layout=qe;function tw(t,e){return e.property?t+"["+e.property+"]":t}Q.nameWithProperty=tw;function cO(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof qe))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}Q.bindConstructorLayout=cO;let Xn=class extends qe{isCount(){throw new Error("ExternalLayout is abstract")}};Q.ExternalLayout=Xn;let RA=class extends Xn{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){El(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}};Q.GreedyCount=RA;let nw=class extends Xn{constructor(e,n=0,r){if(!(e instanceof qe))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Br||this.layout instanceof Jr}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}};Q.OffsetLayout=nw;let Br=class extends qe{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Fe(e).readUIntLE(n,this.span)}encode(e,n,r=0){return Fe(n).writeUIntLE(e,r,this.span),this.span}};Q.UInt=Br;let Jr=class extends qe{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Fe(e).readUIntBE(n,this.span)}encode(e,n,r=0){return Fe(n).writeUIntBE(e,r,this.span),this.span}};Q.UIntBE=Jr;let Ks=class extends qe{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Fe(e).readIntLE(n,this.span)}encode(e,n,r=0){return Fe(n).writeIntLE(e,r,this.span),this.span}};Q.Int=Ks;let bl=class extends qe{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Fe(e).readIntBE(n,this.span)}encode(e,n,r=0){return Fe(n).writeIntBE(e,r,this.span),this.span}};Q.IntBE=bl;const Lg=Math.pow(2,32);function gh(t){const e=Math.floor(t/Lg),n=t-e*Lg;return{hi32:e,lo32:n}}function mh(t,e){return t*Lg+e}let IA=class extends qe{constructor(e){super(8,e)}decode(e,n=0){const r=Fe(e),i=r.readUInt32LE(n),o=r.readUInt32LE(n+4);return mh(o,i)}encode(e,n,r=0){const i=gh(e),o=Fe(n);return o.writeUInt32LE(i.lo32,r),o.writeUInt32LE(i.hi32,r+4),8}};Q.NearUInt64=IA;let NA=class extends qe{constructor(e){super(8,e)}decode(e,n=0){const r=Fe(e),i=r.readUInt32BE(n),o=r.readUInt32BE(n+4);return mh(i,o)}encode(e,n,r=0){const i=gh(e),o=Fe(n);return o.writeUInt32BE(i.hi32,r),o.writeUInt32BE(i.lo32,r+4),8}};Q.NearUInt64BE=NA;let xA=class extends qe{constructor(e){super(8,e)}decode(e,n=0){const r=Fe(e),i=r.readUInt32LE(n),o=r.readInt32LE(n+4);return mh(o,i)}encode(e,n,r=0){const i=gh(e),o=Fe(n);return o.writeUInt32LE(i.lo32,r),o.writeInt32LE(i.hi32,r+4),8}};Q.NearInt64=xA;let TA=class extends qe{constructor(e){super(8,e)}decode(e,n=0){const r=Fe(e),i=r.readInt32BE(n),o=r.readUInt32BE(n+4);return mh(i,o)}encode(e,n,r=0){const i=gh(e),o=Fe(n);return o.writeInt32BE(i.hi32,r),o.writeUInt32BE(i.lo32,r+4),8}};Q.NearInt64BE=TA;let kA=class extends qe{constructor(e){super(4,e)}decode(e,n=0){return Fe(e).readFloatLE(n)}encode(e,n,r=0){return Fe(n).writeFloatLE(e,r),4}};Q.Float=kA;let CA=class extends qe{constructor(e){super(4,e)}decode(e,n=0){return Fe(e).readFloatBE(n)}encode(e,n,r=0){return Fe(n).writeFloatBE(e,r),4}};Q.FloatBE=CA;let MA=class extends qe{constructor(e){super(8,e)}decode(e,n=0){return Fe(e).readDoubleLE(n)}encode(e,n,r=0){return Fe(n).writeDoubleLE(e,r),8}};Q.Double=MA;let OA=class extends qe{constructor(e){super(8,e)}decode(e,n=0){return Fe(e).readDoubleBE(n)}encode(e,n,r=0){return Fe(n).writeDoubleBE(e,r),8}};Q.DoubleBE=OA;let LA=class extends qe{constructor(e,n,r){if(!(e instanceof qe))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof Xn&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof Xn)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof Xn&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let o=0;for(;o<i;)r+=this.elementLayout.getSpan(e,n+r),++o}return r}decode(e,n=0){const r=[];let i=0,o=this.count;for(o instanceof Xn&&(o=o.decode(e,n));i<o;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r=0){const i=this.elementLayout,o=e.reduce((s,a)=>s+i.encode(a,n,r+s),0);return this.count instanceof Xn&&this.count.encode(e.length,n,r),o}};Q.Sequence=LA;let BA=class extends qe{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof qe,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,o)=>{const s=o.getSpan(e,n);return n+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){El(e);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const i=r;let o=0,s=0;for(const a of this.fields){let l=a.span;if(s=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(s=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}o=r,r+=l}return o+s-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}};Q.Structure=BA;let rw=class{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}};Q.UnionDiscriminator=rw;let Af=class extends rw{constructor(e,n){if(!(e instanceof Xn&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}};Q.UnionLayoutDiscriminator=Af;let iw=class extends qe{constructor(e,n,r){let i;if(e instanceof Br||e instanceof Jr)i=new Af(new nw(e));else if(e instanceof Xn&&e.isCount())i=new Af(e);else if(e instanceof rw)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof qe))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let o=-1;n&&(o=n.span,0<=o&&(e instanceof Br||e instanceof Jr)&&(o+=i.layout.span)),super(o,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof Br||e instanceof Jr,this.defaultLayout=n,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const i=this.discriminator,o=i.decode(e,n),s=this.registry[o];if(s===void 0){const a=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),r=this.makeDestinationObject(),r[i.property]=o,r[a.property]=a.decode(e,n+l)}else r=s.decode(e,n);return r}encode(e,n,r=0){const i=this.getSourceVariant(e);if(i===void 0){const o=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],n,r),a+s.encode(e[s.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new PA(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}};Q.Union=iw;let PA=class extends qe{constructor(e,n,r,i){if(!(e instanceof iw))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof qe))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,n+r)),r+i}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let o=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),o+=this.layout.getSpan(n,r+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};Q.VariantLayout=PA;function sa(t){return 0>t&&(t+=4294967296),t}let ow=class extends qe{constructor(e,n,r){if(!(e instanceof Br||e instanceof Jr))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(o){return i=sa(o),this},this._packedGetValue=function(){return i}}decode(e,n=0){const r=this.makeDestinationObject(),i=this.word.decode(e,n);this._packedSetValue(i);for(const o of this.fields)o.property!==void 0&&(r[o.property]=o.decode(e));return r}encode(e,n,r=0){const i=this.word.decode(n,r);this._packedSetValue(i);for(const o of this.fields)if(o.property!==void 0){const s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new sw(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new DA(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}};Q.BitStructure=ow;let sw=class{constructor(e,n,r){if(!(e instanceof ow))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,o=e.fields.reduce((s,a)=>s+a.bits,0);if(n+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-n),this.wordMask=sa(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return sa(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==sa(e&this.valueMask))throw new TypeError(tw("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=sa(e<<this.start);this.container._packedSetValue(sa(n&~this.wordMask)|r)}};Q.BitField=sw;let DA=class extends sw{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};Q.Boolean=DA;let UA=class extends qe{constructor(e,n){if(!(e instanceof Xn&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Xn||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),Fe(e).slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof Xn&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(tw("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>n.length)throw new RangeError("encoding overruns Uint8Array");const o=Fe(e);return Fe(n).write(o.toString("hex"),r,i,"hex"),this.length instanceof Xn&&this.length.encode(i,n,r),i}};Q.Blob=UA;let zA=class extends qe{constructor(e){super(-1,e)}getSpan(e,n=0){El(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return Fe(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=ew.Buffer.from(e,"utf8"),o=i.length;if(r+o>n.length)throw new RangeError("encoding overruns Buffer");const s=Fe(n);return i.copy(s,r),s[r+o]=0,o+1}};Q.CString=zA;let jA=class extends qe{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return El(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return Fe(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=ew.Buffer.from(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(Fe(n),r),o}};Q.UTF8=jA;let WA=class extends qe{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}};Q.Constant=WA;var FA=Q.greedy=(t,e)=>new RA(t,e),Wo=Q.offset=(t,e,n)=>new nw(t,e,n),Ie=Q.u8=t=>new Br(1,t),hr=Q.u16=t=>new Br(2,t);Q.u24=t=>new Br(3,t);var fe=Q.u32=t=>new Br(4,t);Q.u40=t=>new Br(5,t);Q.u48=t=>new Br(6,t);var _n=Q.nu64=t=>new IA(t);Q.u16be=t=>new Jr(2,t);Q.u24be=t=>new Jr(3,t);Q.u32be=t=>new Jr(4,t);Q.u40be=t=>new Jr(5,t);Q.u48be=t=>new Jr(6,t);Q.nu64be=t=>new NA(t);Q.s8=t=>new Ks(1,t);Og=Q.s16=t=>new Ks(2,t);Q.s24=t=>new Ks(3,t);Q.s32=t=>new Ks(4,t);Q.s40=t=>new Ks(5,t);Q.s48=t=>new Ks(6,t);var Wn=Q.ns64=t=>new xA(t);Q.s16be=t=>new bl(2,t);Q.s24be=t=>new bl(3,t);Q.s32be=t=>new bl(4,t);Q.s40be=t=>new bl(5,t);Q.s48be=t=>new bl(6,t);Q.ns64be=t=>new TA(t);Q.f32=t=>new kA(t);Q.f32be=t=>new CA(t);Q.f64=t=>new MA(t);Q.f64be=t=>new OA(t);var oe=Q.struct=(t,e,n)=>new BA(t,e,n);Q.bits=(t,e,n)=>new ow(t,e,n);var yn=Q.seq=(t,e,n)=>new LA(t,e,n);Q.union=(t,e,n)=>new iw(t,e,n);Q.unionLayoutDiscriminator=(t,e)=>new Af(t,e);var Xe=Q.blob=(t,e)=>new UA(t,e);Q.cstr=t=>new zA(t);Q.utf8=(t,e)=>new jA(t,e);Q.constant=(t,e)=>new WA(t,e);var uO=8078e3,dO=8078001,fO=8078004,hO=8078005,pO=8078006,gO=8078011;function $A(t){return Array.isArray(t)?"%5B"+t.map($A).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function mO([t,e]){return`${t}=${$A(e)}`}function yO(t){const e=Object.entries(t).map(mO).join("&");return btoa(e)}function wO(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${yO(e)}'`),`${n}\``}}var Wa=class extends Error{constructor(...[e,n]){let r,i;if(n){const{cause:s,...a}=n;s&&(i={cause:s}),Object.keys(a).length>0&&(r=a)}const o=wO(e,r);super(o,i);Nt(this,"cause",this.cause);Nt(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function vO(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function _O(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(vO(e,t));return t.write(e,n,0),n}})}function EO(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function na(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function bO(t,e){if(na(t)!==na(e))throw new Wa(fO);if(na(t)&&na(e)&&t.fixedSize!==e.fixedSize)throw new Wa(hO,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!na(t)&&!na(e)&&t.maxSize!==e.maxSize)throw new Wa(pO,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function SO(t,e,n=0){if(e.length-n<=0)throw new Wa(uO,{codecDescription:t})}function AO(t,e,n,r=0){const i=n.length-r;if(i<e)throw new Wa(dO,{bytesLength:i,codecDescription:t,expected:e})}function RO(t,e,n,r){if(r<e||r>n)throw new Wa(gO,{codecDescription:t,max:n,min:e,value:r})}function HA(t){return(t==null?void 0:t.endian)!==1}function IO(t){return _O({fixedSize:t.size,write(e,n,r){t.range&&RO(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,HA(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function NO(t){return EO({fixedSize:t.size,read(e,n=0){SO(t.name,e,n),AO(t.name,t.size,e,n);const r=new DataView(xO(e,n,t.size));return[t.get(r,HA(t.config)),n+t.size]}})}function xO(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var KA=(t={})=>IO({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),TO=(t={})=>NO({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),kO=(t={})=>bO(KA(t),TO(t));let CO=class extends TypeError{constructor(e,n){let r;const{message:i,explanation:o,...s}=e,{path:a}=e,l=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??l),o!=null&&(this.cause=l),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}};function MO(t){return eu(t)&&typeof t[Symbol.iterator]=="function"}function eu(t){return typeof t=="object"&&t!=null}function Rf(t){return eu(t)&&!Array.isArray(t)}function ti(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function OO(t){const{done:e,value:n}=t.next();return e?void 0:n}function LO(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:o}=e,{type:s}=n,{refinement:a,message:l=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${ti(r)}\``}=t;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:l}}function*Cv(t,e,n,r){MO(t)||(t=[t]);for(const i of t){const o=LO(i,e,n,r);o&&(yield o)}}function*aw(t,e,n={}){const{path:r=[],branch:i=[t],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i,mask:s};o&&(t=e.coercer(t,a));let l="valid";for(const c of e.validator(t,a))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,d,g]of e.entries(t,a)){const p=aw(d,g,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,d],coerce:o,mask:s,message:n.message});for(const f of p)f[0]?(l=f[0].refinement!=null?"not_refined":"not_valid",yield[f[0],void 0]):o&&(d=f[1],c===void 0?t=d:t instanceof Map?t.set(c,d):t instanceof Set?t.add(d):eu(t)&&(d!==void 0||c in t)&&(t[c]=d))}if(l!=="not_valid")for(const c of e.refiner(t,a))c.explanation=n.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,t])}let Ri=class{constructor(e){const{type:n,schema:r,validator:i,refiner:o,coercer:s=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=s,i?this.validator=(l,c)=>{const d=i(l,c);return Cv(d,c,this,l)}:this.validator=()=>[],o?this.refiner=(l,c)=>{const d=o(l,c);return Cv(d,c,this,l)}:this.refiner=()=>[]}assert(e,n){return VA(e,this,n)}create(e,n){return le(e,this,n)}is(e){return GA(e,this)}mask(e,n){return BO(e,this,n)}validate(e,n={}){return tu(e,this,n)}};function VA(t,e,n){const r=tu(t,e,{message:n});if(r[0])throw r[0]}function le(t,e,n){const r=tu(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function BO(t,e,n){const r=tu(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function GA(t,e){return!tu(t,e)[0]}function tu(t,e,n={}){const r=aw(t,e,n),i=OO(r);return i[0]?[new CO(i[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function Vs(t,e){return new Ri({type:t,schema:null,validator:e})}function PO(){return Vs("any",()=>!0)}function ue(t){return new Ri({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${ti(e)}`}})}function bi(){return Vs("boolean",t=>typeof t=="boolean")}function lw(t){return Vs("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${ti(e)}`)}function yt(t){const e=ti(t),n=typeof t;return new Ri({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${ti(r)}`}})}function DO(){return Vs("never",()=>!1)}function de(t){return new Ri({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function q(){return Vs("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${ti(t)}`)}function we(t){return new Ri({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function qA(t,e){return new Ri({type:"record",schema:null,*entries(n){if(eu(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return Rf(n)||`Expected an object, but received: ${ti(n)}`},coercer(n){return Rf(n)?{...n}:n}})}function se(){return Vs("string",t=>typeof t=="string"||`Expected a string, but received: ${ti(t)}`)}function cw(t){const e=DO();return new Ri({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${ti(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function ne(t){const e=Object.keys(t);return new Ri({type:"type",schema:t,*entries(n){if(eu(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return Rf(n)||`Expected an object, but received: ${ti(n)}`},coercer(n){return Rf(n)?{...n}:n}})}function Kn(t){const e=t.map(n=>n.type).join(" | ");return new Ri({type:"union",schema:null,coercer(n,r){for(const i of t){const[o,s]=i.validate(n,{coerce:!0,mask:r.mask});if(!o)return s}return n},validator(n,r){const i=[];for(const o of t){const[...s]=aw(n,o,r),[a]=s;if(a[0])for(const[l]of s)l&&i.push(l);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${ti(n)}`,...i]}})}function Sl(){return Vs("unknown",()=>!0)}function nu(t,e,n){return new Ri({...t,coercer:(r,i)=>GA(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var ju,UO=new Uint8Array(16);function YA(){if(!ju&&(ju=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ju))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ju(UO)}const zO=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function yh(t){return typeof t=="string"&&zO.test(t)}var vn=[];for(var Yp=0;Yp<256;++Yp)vn.push((Yp+256).toString(16).substr(1));function wh(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(vn[t[e+0]]+vn[t[e+1]]+vn[t[e+2]]+vn[t[e+3]]+"-"+vn[t[e+4]]+vn[t[e+5]]+"-"+vn[t[e+6]]+vn[t[e+7]]+"-"+vn[t[e+8]]+vn[t[e+9]]+"-"+vn[t[e+10]]+vn[t[e+11]]+vn[t[e+12]]+vn[t[e+13]]+vn[t[e+14]]+vn[t[e+15]]).toLowerCase();if(!yh(n))throw TypeError("Stringified UUID is invalid");return n}var Mv,Zp,Qp=0,Xp=0;function jO(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var o=t.node||Mv,s=t.clockseq!==void 0?t.clockseq:Zp;if(o==null||s==null){var a=t.random||(t.rng||YA)();o==null&&(o=Mv=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),s==null&&(s=Zp=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:Xp+1,d=l-Qp+(c-Xp)/1e4;if(d<0&&t.clockseq===void 0&&(s=s+1&16383),(d<0||l>Qp)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Qp=l,Xp=c,Zp=s,l+=122192928e5;var g=((l&268435455)*1e4+c)%4294967296;i[r++]=g>>>24&255,i[r++]=g>>>16&255,i[r++]=g>>>8&255,i[r++]=g&255;var p=l/4294967296*1e4&268435455;i[r++]=p>>>8&255,i[r++]=p&255,i[r++]=p>>>24&15|16,i[r++]=p>>>16&255,i[r++]=s>>>8|128,i[r++]=s&255;for(var f=0;f<6;++f)i[r+f]=o[f];return e||wh(i)}function ZA(t){if(!yh(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function WO(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var FO="6ba7b810-9dad-11d1-80b4-00c04fd430c8",$O="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function QA(t,e,n){function r(i,o,s,a){if(typeof i=="string"&&(i=WO(i)),typeof o=="string"&&(o=ZA(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(o),l.set(i,o.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,s){a=a||0;for(var c=0;c<16;++c)s[a+c]=l[c];return s}return wh(l)}try{r.name=t}catch{}return r.DNS=FO,r.URL=$O,r}function HO(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return KO(VO(GO(t),t.length*8))}function KO(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var o=t[i>>5]>>>i%32&255,s=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);e.push(s)}return e}function XA(t){return(t+64>>>9<<4)+14+1}function VO(t,e){t[e>>5]|=128<<e%32,t[XA(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<t.length;s+=16){var a=n,l=r,c=i,d=o;n=Cn(n,r,i,o,t[s],7,-680876936),o=Cn(o,n,r,i,t[s+1],12,-389564586),i=Cn(i,o,n,r,t[s+2],17,606105819),r=Cn(r,i,o,n,t[s+3],22,-1044525330),n=Cn(n,r,i,o,t[s+4],7,-176418897),o=Cn(o,n,r,i,t[s+5],12,1200080426),i=Cn(i,o,n,r,t[s+6],17,-1473231341),r=Cn(r,i,o,n,t[s+7],22,-45705983),n=Cn(n,r,i,o,t[s+8],7,1770035416),o=Cn(o,n,r,i,t[s+9],12,-1958414417),i=Cn(i,o,n,r,t[s+10],17,-42063),r=Cn(r,i,o,n,t[s+11],22,-1990404162),n=Cn(n,r,i,o,t[s+12],7,1804603682),o=Cn(o,n,r,i,t[s+13],12,-40341101),i=Cn(i,o,n,r,t[s+14],17,-1502002290),r=Cn(r,i,o,n,t[s+15],22,1236535329),n=Mn(n,r,i,o,t[s+1],5,-165796510),o=Mn(o,n,r,i,t[s+6],9,-1069501632),i=Mn(i,o,n,r,t[s+11],14,643717713),r=Mn(r,i,o,n,t[s],20,-373897302),n=Mn(n,r,i,o,t[s+5],5,-701558691),o=Mn(o,n,r,i,t[s+10],9,38016083),i=Mn(i,o,n,r,t[s+15],14,-660478335),r=Mn(r,i,o,n,t[s+4],20,-405537848),n=Mn(n,r,i,o,t[s+9],5,568446438),o=Mn(o,n,r,i,t[s+14],9,-1019803690),i=Mn(i,o,n,r,t[s+3],14,-187363961),r=Mn(r,i,o,n,t[s+8],20,1163531501),n=Mn(n,r,i,o,t[s+13],5,-1444681467),o=Mn(o,n,r,i,t[s+2],9,-51403784),i=Mn(i,o,n,r,t[s+7],14,1735328473),r=Mn(r,i,o,n,t[s+12],20,-1926607734),n=On(n,r,i,o,t[s+5],4,-378558),o=On(o,n,r,i,t[s+8],11,-2022574463),i=On(i,o,n,r,t[s+11],16,1839030562),r=On(r,i,o,n,t[s+14],23,-35309556),n=On(n,r,i,o,t[s+1],4,-1530992060),o=On(o,n,r,i,t[s+4],11,1272893353),i=On(i,o,n,r,t[s+7],16,-155497632),r=On(r,i,o,n,t[s+10],23,-1094730640),n=On(n,r,i,o,t[s+13],4,681279174),o=On(o,n,r,i,t[s],11,-358537222),i=On(i,o,n,r,t[s+3],16,-722521979),r=On(r,i,o,n,t[s+6],23,76029189),n=On(n,r,i,o,t[s+9],4,-640364487),o=On(o,n,r,i,t[s+12],11,-421815835),i=On(i,o,n,r,t[s+15],16,530742520),r=On(r,i,o,n,t[s+2],23,-995338651),n=Ln(n,r,i,o,t[s],6,-198630844),o=Ln(o,n,r,i,t[s+7],10,1126891415),i=Ln(i,o,n,r,t[s+14],15,-1416354905),r=Ln(r,i,o,n,t[s+5],21,-57434055),n=Ln(n,r,i,o,t[s+12],6,1700485571),o=Ln(o,n,r,i,t[s+3],10,-1894986606),i=Ln(i,o,n,r,t[s+10],15,-1051523),r=Ln(r,i,o,n,t[s+1],21,-2054922799),n=Ln(n,r,i,o,t[s+8],6,1873313359),o=Ln(o,n,r,i,t[s+15],10,-30611744),i=Ln(i,o,n,r,t[s+6],15,-1560198380),r=Ln(r,i,o,n,t[s+13],21,1309151649),n=Ln(n,r,i,o,t[s+4],6,-145523070),o=Ln(o,n,r,i,t[s+11],10,-1120210379),i=Ln(i,o,n,r,t[s+2],15,718787259),r=Ln(r,i,o,n,t[s+9],21,-343485551),n=To(n,a),r=To(r,l),i=To(i,c),o=To(o,d)}return[n,r,i,o]}function GO(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(XA(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function To(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function qO(t,e){return t<<e|t>>>32-e}function vh(t,e,n,r,i,o){return To(qO(To(To(e,t),To(r,o)),i),n)}function Cn(t,e,n,r,i,o,s){return vh(e&n|~e&r,t,e,i,o,s)}function Mn(t,e,n,r,i,o,s){return vh(e&r|n&~r,t,e,i,o,s)}function On(t,e,n,r,i,o,s){return vh(e^n^r,t,e,i,o,s)}function Ln(t,e,n,r,i,o,s){return vh(n^(e|~r),t,e,i,o,s)}var YO=QA("v3",48,HO);function ZO(t,e,n){t=t||{};var r=t.random||(t.rng||YA)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return wh(r)}function QO(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function Jp(t,e){return t<<e|t>>>32-e}function XO(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var o=t.length/4+2,s=Math.ceil(o/16),a=new Array(s),l=0;l<s;++l){for(var c=new Uint32Array(16),d=0;d<16;++d)c[d]=t[l*64+d*4]<<24|t[l*64+d*4+1]<<16|t[l*64+d*4+2]<<8|t[l*64+d*4+3];a[l]=c}a[s-1][14]=(t.length-1)*8/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=(t.length-1)*8&4294967295;for(var g=0;g<s;++g){for(var p=new Uint32Array(80),f=0;f<16;++f)p[f]=a[g][f];for(var m=16;m<80;++m)p[m]=Jp(p[m-3]^p[m-8]^p[m-14]^p[m-16],1);for(var R=n[0],I=n[1],w=n[2],b=n[3],_=n[4],N=0;N<80;++N){var L=Math.floor(N/20),j=Jp(R,5)+QO(L,I,w,b)+_+e[L]+p[N]>>>0;_=b,b=w,w=Jp(I,30)>>>0,I=R,R=j}n[0]=n[0]+R>>>0,n[1]=n[1]+I>>>0,n[2]=n[2]+w>>>0,n[3]=n[3]+b>>>0,n[4]=n[4]+_>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var JO=QA("v5",80,XO);const e4="00000000-0000-0000-0000-000000000000";function t4(t){if(!yh(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const n4=Object.freeze(Object.defineProperty({__proto__:null,NIL:e4,parse:ZA,stringify:wh,v1:jO,v3:YO,v4:ZO,v5:JO,validate:yh,version:t4},Symbol.toStringTag,{value:"Module"})),JA=ro(n4),r4=JA.v4,i4=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const o={method:t};if(i===2&&(o.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");o.params=e}if(typeof n>"u"){const s=typeof r.generator=="function"?r.generator:function(){return r4()};o.id=s(o,r)}else i===2&&n===null?r.notificationIdNull&&(o.id=null):o.id=n;return o};var o4=i4;const s4=JA.v4,a4=o4,Dc=function(t,e){if(!(this instanceof Dc))return new Dc(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return s4()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var l4=Dc;Dc.prototype.request=function(t,e,n,r){const i=this;let o=null;const s=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&t&&typeof t=="object"&&typeof e=="function")r=e,o=t;else{typeof n=="function"&&(r=n,n=void 0);const c=typeof r=="function";try{o=a4(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(d){if(c)return r(d);throw d}if(!c)return o}let l;try{l=JSON.stringify(o,this.options.replacer)}catch(c){return r(c)}return this.callServer(l,function(c,d){i._parseResponse(c,d,r)}),o};Dc.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return n(i)}if(n.length===3)if(Array.isArray(r)){const i=function(s){return typeof s.error<"u"},o=function(s){return!i(s)};return n(null,r.filter(i),r.filter(o))}else return n(null,r.error,r.result);n(null,r)};const c4=no(l4);var eR={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,g,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var f=new i(d,g||l,p),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],f]:l._events[m].push(f):(l._events[m]=f,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,g;if(this._eventsCount===0)return c;for(g in d=this._events)e.call(d,g)&&c.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,g=this._events[d];if(!g)return[];if(g.fn)return[g.fn];for(var p=0,f=g.length,m=new Array(f);p<f;p++)m[p]=g[p].fn;return m},a.prototype.listenerCount=function(c){var d=n?n+c:c,g=this._events[d];return g?g.fn?1:g.length:0},a.prototype.emit=function(c,d,g,p,f,m){var R=n?n+c:c;if(!this._events[R])return!1;var I=this._events[R],w=arguments.length,b,_;if(I.fn){switch(I.once&&this.removeListener(c,I.fn,void 0,!0),w){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,d),!0;case 3:return I.fn.call(I.context,d,g),!0;case 4:return I.fn.call(I.context,d,g,p),!0;case 5:return I.fn.call(I.context,d,g,p,f),!0;case 6:return I.fn.call(I.context,d,g,p,f,m),!0}for(_=1,b=new Array(w-1);_<w;_++)b[_-1]=arguments[_];I.fn.apply(I.context,b)}else{var N=I.length,L;for(_=0;_<N;_++)switch(I[_].once&&this.removeListener(c,I[_].fn,void 0,!0),w){case 1:I[_].fn.call(I[_].context);break;case 2:I[_].fn.call(I[_].context,d);break;case 3:I[_].fn.call(I[_].context,d,g);break;case 4:I[_].fn.call(I[_].context,d,g,p);break;default:if(!b)for(L=1,b=new Array(w-1);L<w;L++)b[L-1]=arguments[L];I[_].fn.apply(I[_].context,b)}}return!0},a.prototype.on=function(c,d,g){return o(this,c,d,g,!1)},a.prototype.once=function(c,d,g){return o(this,c,d,g,!0)},a.prototype.removeListener=function(c,d,g,p){var f=n?n+c:c;if(!this._events[f])return this;if(!d)return s(this,f),this;var m=this._events[f];if(m.fn)m.fn===d&&(!p||m.once)&&(!g||m.context===g)&&s(this,f);else{for(var R=0,I=[],w=m.length;R<w;R++)(m[R].fn!==d||p&&!m[R].once||g&&m[R].context!==g)&&I.push(m[R]);I.length?this._events[f]=I.length===1?I[0]:I:s(this,f)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(eR);var u4=eR.exports;const _h=no(u4);var d4=class extends _h{constructor(e,n,r){super();Nt(this,"socket");this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=i=>this.emit("message",i.data),this.socket.onerror=i=>this.emit("error",i),this.socket.onclose=i=>{this.emit("close",i.code,i.reason)}}send(e,n,r){const i=r||n;try{this.socket.send(e),i()}catch(o){i(o)}}close(e,n){this.socket.close(e,n)}addEventListener(e,n,r){this.socket.addEventListener(e,n,r)}};function f4(t,e){return new d4(t,e)}var h4=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},p4=class extends _h{constructor(e,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:i=!0,reconnect_interval:o=1e3,max_reconnects:s=5,...a}={},l,c){super();Nt(this,"address");Nt(this,"rpc_id");Nt(this,"queue");Nt(this,"options");Nt(this,"autoconnect");Nt(this,"ready");Nt(this,"reconnect");Nt(this,"reconnect_timer_id");Nt(this,"reconnect_interval");Nt(this,"max_reconnects");Nt(this,"rest_options");Nt(this,"current_reconnects");Nt(this,"generate_request_id");Nt(this,"socket");Nt(this,"webSocketFactory");Nt(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=s,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=l||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),c?this.dataPack=c:this.dataPack=new h4,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,n,r,i){return!i&&typeof r=="object"&&(i=r,r=null),new Promise((o,s)=>{if(!this.ready)return s(new Error("socket not ready"));const a=this.generate_request_id(e,n),l={jsonrpc:"2.0",method:e,params:n||void 0,id:a};this.socket.send(this.dataPack.encode(l),i,c=>{if(c)return s(c);this.queue[a]={promise:[o,s]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],s(new Error("reply timeout"))},r))})})}async login(e){const n=await this.call("rpc.login",e);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(e,n){return new Promise((r,i)=>{if(!this.ready)return i(new Error("socket not ready"));const o={jsonrpc:"2.0",method:e,params:n};this.socket.send(this.dataPack.encode(o),s=>{if(s)return i(s);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.on",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);return n}async unsubscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.off",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(e,n){this.socket.close(e||1e3,n)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=ge.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const i=[r.notification];if(r.params.constructor===Object)i.push(r.params);else for(let o=0;o<r.params.length;o++)i.push(r.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",r,i),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,n),this.reconnect_interval)))})}};const g4=BigInt(0),Pl=BigInt(1),m4=BigInt(2),y4=BigInt(7),w4=BigInt(256),v4=BigInt(113),tR=[],nR=[],rR=[];for(let t=0,e=Pl,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],tR.push(2*(5*r+n)),nR.push((t+1)*(t+2)/2%64);let i=g4;for(let o=0;o<7;o++)e=(e<<Pl^(e>>y4)*v4)%w4,e&m4&&(i^=Pl<<(Pl<<BigInt(o))-Pl);rR.push(i)}const iR=GS(rR,!0),_4=iR[0],E4=iR[1],Ov=(t,e,n)=>n>32?HC(t,e,n):FC(t,e,n),Lv=(t,e,n)=>n>32?KC(t,e,n):$C(t,e,n);function b4(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,l=(s+2)%10,c=n[l],d=n[l+1],g=Ov(c,d,1)^n[a],p=Lv(c,d,1)^n[a+1];for(let f=0;f<50;f+=10)t[s+f]^=g,t[s+f+1]^=p}let i=t[2],o=t[3];for(let s=0;s<24;s++){const a=nR[s],l=Ov(i,o,a),c=Lv(i,o,a),d=tR[s];i=t[d],o=t[d+1],t[d]=l,t[d+1]=c}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=_4[r],t[1]^=E4[r]}Go(n)}class uw extends $y{constructor(e,n,r,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,el(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=MC(this.state)}clone(){return this._cloneInto()}keccak(){yv(this.state32),b4(this.state32,this.rounds),yv(this.state32),this.posOut=0,this.pos=0}update(e){tl(this),e=dh(e),Ei(e);const{blockLen:n,state:r}=this,i=e.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){tl(this,!1),Ei(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return el(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(HS(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Go(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new uw(n,r,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}const S4=(t,e,n)=>Hy(()=>new uw(e,t,n)),Bv=S4(1,136,256/8);class oR extends $y{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,$S(e);const r=dh(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),Go(o)}update(e){return tl(this),this.iHash.update(e),this}digestInto(e){tl(this),Ei(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const sR=(t,e,n)=>new oR(t,e).update(n).digest();sR.create=(t,e)=>new oR(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pv=(t,e)=>(t+(t>=0?e:-e)/aR)/e;function A4(t,e,n){const[[r,i],[o,s]]=e,a=Pv(s*t,n),l=Pv(-i*t,n);let c=t-a*r-l*o,d=-a*i-l*s;const g=c<Vi,p=d<Vi;g&&(c=-c),p&&(d=-d);const f=Xc(Math.ceil(JS(n)/2))+Fa;if(c<Vi||c>=f||d<Vi||d>=f)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:g,k1:c,k2neg:p,k2:d}}function Bg(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function e0(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return Ds(n.lowS,"lowS"),Ds(n.prehash,"prehash"),n.format!==void 0&&Bg(n.format),n}class R4 extends Error{constructor(e=""){super(e)}}const Di={Err:R4,_tlv:{encode:(t,e)=>{const{Err:n}=Di;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=Du(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Du(i.length/2|128):"";return Du(t)+o+i+e},decode(t,e){const{Err:n}=Di;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],o=!!(i&128);let s=0;if(!o)s=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of c)s=s<<8|d;if(r+=l,s<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+s)}}},_int:{encode(t){const{Err:e}=Di;if(t<Vi)throw new e("integer: negative integers are not allowed");let n=Du(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Di;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return hh(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Di,i=Tt("signature",t),{v:o,l:s}=r.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,o),{v:c,l:d}=r.decode(2,l);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=Di,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),o=r+i;return e.encode(48,o)}},Vi=BigInt(0),Fa=BigInt(1),aR=BigInt(2),Wu=BigInt(3),I4=BigInt(4);function Ca(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let i=Tt("private key",e);try{r=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function N4(t,e={}){const n=gA("weierstrass",t,e),{Fp:r,Fn:i}=n;let o=n.CURVE;const{h:s,n:a}=o;Jc(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:l}=e;if(l&&(!r.is0(o.a)||typeof l.beta!="bigint"||!Array.isArray(l.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const c=cR(r,i);function d(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function g(H,A,u){const{x:h,y:S}=A.toAffine(),T=r.toBytes(h);if(Ds(u,"isCompressed"),u){d();const x=!r.isOdd(S);return Mr(lR(x),T)}else return Mr(Uint8Array.of(4),T,r.toBytes(S))}function p(H){Gr(H,void 0,"Point");const{publicKey:A,publicKeyUncompressed:u}=c,h=H.length,S=H[0],T=H.subarray(1);if(h===A&&(S===2||S===3)){const x=r.fromBytes(T);if(!r.isValid(x))throw new Error("bad point: is not on curve, wrong x");const M=R(x);let z;try{z=r.sqrt(M)}catch(D){const Z=D instanceof Error?": "+D.message:"";throw new Error("bad point: is not on curve, sqrt error"+Z)}d();const C=r.isOdd(z);return(S&1)===1!==C&&(z=r.neg(z)),{x,y:z}}else if(h===u&&S===4){const x=r.BYTES,M=r.fromBytes(T.subarray(0,x)),z=r.fromBytes(T.subarray(x,x*2));if(!I(M,z))throw new Error("bad point: is not on curve");return{x:M,y:z}}else throw new Error(`bad point: got length ${h}, expected compressed=${A} or uncompressed=${u}`)}const f=e.toBytes||g,m=e.fromBytes||p;function R(H){const A=r.sqr(H),u=r.mul(A,H);return r.add(r.add(u,r.mul(H,o.a)),o.b)}function I(H,A){const u=r.sqr(A),h=R(H);return r.eql(u,h)}if(!I(o.Gx,o.Gy))throw new Error("bad curve params: generator point");const w=r.mul(r.pow(o.a,Wu),I4),b=r.mul(r.sqr(o.b),BigInt(27));if(r.is0(r.add(w,b)))throw new Error("bad curve params: a or b");function _(H,A,u=!1){if(!r.isValid(A)||u&&r.is0(A))throw new Error(`bad point coordinate ${H}`);return A}function N(H){if(!(H instanceof P))throw new Error("ProjectivePoint expected")}function L(H){if(!l||!l.basises)throw new Error("no endo");return A4(H,l.basises,i.ORDER)}const j=wf((H,A)=>{const{X:u,Y:h,Z:S}=H;if(r.eql(S,r.ONE))return{x:u,y:h};const T=H.is0();A==null&&(A=T?r.ONE:r.inv(S));const x=r.mul(u,A),M=r.mul(h,A),z=r.mul(S,A);if(T)return{x:r.ZERO,y:r.ZERO};if(!r.eql(z,r.ONE))throw new Error("invZ was invalid");return{x,y:M}}),O=wf(H=>{if(H.is0()){if(e.allowInfinityPoint&&!r.is0(H.Y))return;throw new Error("bad point: ZERO")}const{x:A,y:u}=H.toAffine();if(!r.isValid(A)||!r.isValid(u))throw new Error("bad point: x or y not field elements");if(!I(A,u))throw new Error("bad point: equation left != right");if(!H.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function U(H,A,u,h,S){return u=new P(r.mul(u.X,H),u.Y,u.Z),A=vf(h,A),u=vf(S,u),A.add(u)}class P{constructor(A,u,h){this.X=_("x",A),this.Y=_("y",u,!0),this.Z=_("z",h),Object.freeze(this)}static CURVE(){return o}static fromAffine(A){const{x:u,y:h}=A||{};if(!A||!r.isValid(u)||!r.isValid(h))throw new Error("invalid affine point");if(A instanceof P)throw new Error("projective point not allowed");return r.is0(u)&&r.is0(h)?P.ZERO:new P(u,h,r.ONE)}static fromBytes(A){const u=P.fromAffine(m(Gr(A,void 0,"point")));return u.assertValidity(),u}static fromHex(A){return P.fromBytes(Tt("pointHex",A))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(A=8,u=!0){return $.createCache(this,A),u||this.multiply(Wu),this}assertValidity(){O(this)}hasEvenY(){const{y:A}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(A)}equals(A){N(A);const{X:u,Y:h,Z:S}=this,{X:T,Y:x,Z:M}=A,z=r.eql(r.mul(u,M),r.mul(T,S)),C=r.eql(r.mul(h,M),r.mul(x,S));return z&&C}negate(){return new P(this.X,r.neg(this.Y),this.Z)}double(){const{a:A,b:u}=o,h=r.mul(u,Wu),{X:S,Y:T,Z:x}=this;let M=r.ZERO,z=r.ZERO,C=r.ZERO,y=r.mul(S,S),D=r.mul(T,T),Z=r.mul(x,x),ee=r.mul(S,T);return ee=r.add(ee,ee),C=r.mul(S,x),C=r.add(C,C),M=r.mul(A,C),z=r.mul(h,Z),z=r.add(M,z),M=r.sub(D,z),z=r.add(D,z),z=r.mul(M,z),M=r.mul(ee,M),C=r.mul(h,C),Z=r.mul(A,Z),ee=r.sub(y,Z),ee=r.mul(A,ee),ee=r.add(ee,C),C=r.add(y,y),y=r.add(C,y),y=r.add(y,Z),y=r.mul(y,ee),z=r.add(z,y),Z=r.mul(T,x),Z=r.add(Z,Z),y=r.mul(Z,ee),M=r.sub(M,y),C=r.mul(Z,D),C=r.add(C,C),C=r.add(C,C),new P(M,z,C)}add(A){N(A);const{X:u,Y:h,Z:S}=this,{X:T,Y:x,Z:M}=A;let z=r.ZERO,C=r.ZERO,y=r.ZERO;const D=o.a,Z=r.mul(o.b,Wu);let ee=r.mul(u,T),ae=r.mul(h,x),ve=r.mul(S,M),Se=r.add(u,h),Ee=r.add(T,x);Se=r.mul(Se,Ee),Ee=r.add(ee,ae),Se=r.sub(Se,Ee),Ee=r.add(u,S);let bt=r.add(T,M);return Ee=r.mul(Ee,bt),bt=r.add(ee,ve),Ee=r.sub(Ee,bt),bt=r.add(h,S),z=r.add(x,M),bt=r.mul(bt,z),z=r.add(ae,ve),bt=r.sub(bt,z),y=r.mul(D,Ee),z=r.mul(Z,ve),y=r.add(z,y),z=r.sub(ae,y),y=r.add(ae,y),C=r.mul(z,y),ae=r.add(ee,ee),ae=r.add(ae,ee),ve=r.mul(D,ve),Ee=r.mul(Z,Ee),ae=r.add(ae,ve),ve=r.sub(ee,ve),ve=r.mul(D,ve),Ee=r.add(Ee,ve),ee=r.mul(ae,Ee),C=r.add(C,ee),ee=r.mul(bt,Ee),z=r.mul(Se,z),z=r.sub(z,ee),ee=r.mul(Se,ae),y=r.mul(bt,y),y=r.add(y,ee),new P(z,C,y)}subtract(A){return this.add(A.negate())}is0(){return this.equals(P.ZERO)}multiply(A){const{endo:u}=e;if(!i.isValidNot0(A))throw new Error("invalid scalar: out of range");let h,S;const T=x=>$.cached(this,x,M=>vs(P,M));if(u){const{k1neg:x,k1:M,k2neg:z,k2:C}=L(A),{p:y,f:D}=T(M),{p:Z,f:ee}=T(C);S=D.add(ee),h=U(u.beta,y,Z,x,z)}else{const{p:x,f:M}=T(A);h=x,S=M}return vs(P,[h,S])[0]}multiplyUnsafe(A){const{endo:u}=e,h=this;if(!i.isValid(A))throw new Error("invalid scalar: out of range");if(A===Vi||h.is0())return P.ZERO;if(A===Fa)return h;if($.hasCache(this))return this.multiply(A);if(u){const{k1neg:S,k1:T,k2neg:x,k2:M}=L(A),{p1:z,p2:C}=yM(P,h,T,M);return U(u.beta,z,C,S,x)}else return $.unsafe(h,A)}multiplyAndAddUnsafe(A,u,h){const S=this.multiplyUnsafe(u).add(A.multiplyUnsafe(h));return S.is0()?void 0:S}toAffine(A){return j(this,A)}isTorsionFree(){const{isTorsionFree:A}=e;return s===Fa?!0:A?A(P,this):$.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:A}=e;return s===Fa?this:A?A(P,this):this.multiplyUnsafe(s)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}toBytes(A=!0){return Ds(A,"isCompressed"),this.assertValidity(),f(P,this,A)}toHex(A=!0){return wi(this.toBytes(A))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(A=!0){return this.toBytes(A)}_setWindowSize(A){this.precompute(A)}static normalizeZ(A){return vs(P,A)}static msm(A,u){return pA(P,i,A,u)}static fromPrivateKey(A){return P.BASE.multiply(Ca(i,A))}}P.BASE=new P(o.Gx,o.Gy,r.ONE),P.ZERO=new P(r.ZERO,r.ONE,r.ZERO),P.Fp=r,P.Fn=i;const W=i.BITS,$=new hA(P,e.endo?Math.ceil(W/2):W);return P.BASE.precompute(8),P}function lR(t){return Uint8Array.of(t?2:3)}function cR(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function x4(t,e={}){const{Fn:n}=t,r=e.randomBytes||fh,i=Object.assign(cR(t.Fp,n),{seed:uA(n.ORDER)});function o(f){try{return!!Ca(n,f)}catch{return!1}}function s(f,m){const{publicKey:R,publicKeyUncompressed:I}=i;try{const w=f.length;return m===!0&&w!==R||m===!1&&w!==I?!1:!!t.fromBytes(f)}catch{return!1}}function a(f=r(i.seed)){return pM(Gr(f,i.seed,"seed"),n.ORDER)}function l(f,m=!0){return t.BASE.multiply(Ca(n,f)).toBytes(m)}function c(f){const m=a(f);return{secretKey:m,publicKey:l(m)}}function d(f){if(typeof f=="bigint")return!1;if(f instanceof t)return!0;const{secretKey:m,publicKey:R,publicKeyUncompressed:I}=i;if(n.allowedLengths||m===R)return;const w=Tt("key",f).length;return w===R||w===I}function g(f,m,R=!0){if(d(f)===!0)throw new Error("first arg must be private key");if(d(m)===!1)throw new Error("second arg must be public key");const I=Ca(n,f);return t.fromHex(m).multiply(I).toBytes(R)}return Object.freeze({getPublicKey:l,getSharedSecret:g,keygen:c,Point:t,utils:{isValidSecretKey:o,isValidPublicKey:s,randomSecretKey:a,isValidPrivateKey:o,randomPrivateKey:a,normPrivateKeyToScalar:f=>Ca(n,f),precompute(f=8,m=t.BASE){return m.precompute(f,!1)}},lengths:i})}function T4(t,e,n={}){$S(e),Jc(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||fh,i=n.hmac||((u,...h)=>sR(e,u,Mr(...h))),{Fp:o,Fn:s}=t,{ORDER:a,BITS:l}=s,{keygen:c,getPublicKey:d,getSharedSecret:g,utils:p,lengths:f}=x4(t,n),m={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},R="compact";function I(u){const h=a>>Fa;return u>h}function w(u,h){if(!s.isValidNot0(h))throw new Error(`invalid signature ${u}: out of range 1..Point.Fn.ORDER`);return h}function b(u,h){Bg(h);const S=f.signature,T=h==="compact"?S:h==="recovered"?S+1:void 0;return Gr(u,T,`${h} signature`)}class _{constructor(h,S,T){this.r=w("r",h),this.s=w("s",S),T!=null&&(this.recovery=T),Object.freeze(this)}static fromBytes(h,S=R){b(h,S);let T;if(S==="der"){const{r:C,s:y}=Di.toSig(Gr(h));return new _(C,y)}S==="recovered"&&(T=h[0],S="compact",h=h.subarray(1));const x=s.BYTES,M=h.subarray(0,x),z=h.subarray(x,x*2);return new _(s.fromBytes(M),s.fromBytes(z),T)}static fromHex(h,S){return this.fromBytes(nl(h),S)}addRecoveryBit(h){return new _(this.r,this.s,h)}recoverPublicKey(h){const S=o.ORDER,{r:T,s:x,recovery:M}=this;if(M==null||![0,1,2,3].includes(M))throw new Error("recovery id invalid");if(a*aR<S&&M>1)throw new Error("recovery id is ambiguous for h>1 curve");const C=M===2||M===3?T+a:T;if(!o.isValid(C))throw new Error("recovery id 2 or 3 invalid");const y=o.toBytes(C),D=t.fromBytes(Mr(lR((M&1)===0),y)),Z=s.inv(C),ee=L(Tt("msgHash",h)),ae=s.create(-ee*Z),ve=s.create(x*Z),Se=t.BASE.multiplyUnsafe(ae).add(D.multiplyUnsafe(ve));if(Se.is0())throw new Error("point at infinify");return Se.assertValidity(),Se}hasHighS(){return I(this.s)}toBytes(h=R){if(Bg(h),h==="der")return nl(Di.hexFromSig(this));const S=s.toBytes(this.r),T=s.toBytes(this.s);if(h==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Mr(Uint8Array.of(this.recovery),S,T)}return Mr(S,T)}toHex(h){return wi(this.toBytes(h))}assertValidity(){}static fromCompact(h){return _.fromBytes(Tt("sig",h),"compact")}static fromDER(h){return _.fromBytes(Tt("sig",h),"der")}normalizeS(){return this.hasHighS()?new _(this.r,s.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return wi(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return wi(this.toBytes("compact"))}}const N=n.bits2int||function(h){if(h.length>8192)throw new Error("input is too large");const S=hh(h),T=h.length*8-l;return T>0?S>>BigInt(T):S},L=n.bits2int_modN||function(h){return s.create(N(h))},j=Xc(l);function O(u){return Cg("num < 2^"+l,u,Vi,j),s.toBytes(u)}function U(u,h){return Gr(u,void 0,"message"),h?Gr(e(u),void 0,"prehashed message"):u}function P(u,h,S){if(["recovered","canonical"].some(ae=>ae in S))throw new Error("sign() legacy options not supported");const{lowS:T,prehash:x,extraEntropy:M}=e0(S,m);u=U(u,x);const z=L(u),C=Ca(s,h),y=[O(C),O(z)];if(M!=null&&M!==!1){const ae=M===!0?r(f.secretKey):M;y.push(Tt("extraEntropy",ae))}const D=Mr(...y),Z=z;function ee(ae){const ve=N(ae);if(!s.isValidNot0(ve))return;const Se=s.inv(ve),Ee=t.BASE.multiply(ve).toAffine(),bt=s.create(Ee.x);if(bt===Vi)return;const Je=s.create(Se*s.create(Z+bt*C));if(Je===Vi)return;let et=(Ee.x===bt?0:2)|Number(Ee.y&Fa),Nr=Je;return T&&I(Je)&&(Nr=s.neg(Je),et^=1),new _(bt,Nr,et)}return{seed:D,k2sig:ee}}function W(u,h,S={}){u=Tt("message",u);const{seed:T,k2sig:x}=P(u,h,S);return iM(e.outputLen,s.BYTES,i)(T,x)}function $(u){let h;const S=typeof u=="string"||Jo(u),T=!S&&u!==null&&typeof u=="object"&&typeof u.r=="bigint"&&typeof u.s=="bigint";if(!S&&!T)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(T)h=new _(u.r,u.s);else if(S){try{h=_.fromBytes(Tt("sig",u),"der")}catch(x){if(!(x instanceof Di.Err))throw x}if(!h)try{h=_.fromBytes(Tt("sig",u),"compact")}catch{return!1}}return h||!1}function H(u,h,S,T={}){const{lowS:x,prehash:M,format:z}=e0(T,m);if(S=Tt("publicKey",S),h=U(Tt("message",h),M),"strict"in T)throw new Error("options.strict was renamed to lowS");const C=z===void 0?$(u):_.fromBytes(Tt("sig",u),z);if(C===!1)return!1;try{const y=t.fromBytes(S);if(x&&C.hasHighS())return!1;const{r:D,s:Z}=C,ee=L(h),ae=s.inv(Z),ve=s.create(ee*ae),Se=s.create(D*ae),Ee=t.BASE.multiplyUnsafe(ve).add(y.multiplyUnsafe(Se));return Ee.is0()?!1:s.create(Ee.x)===D}catch{return!1}}function A(u,h,S={}){const{prehash:T}=e0(S,m);return h=U(h,T),_.fromBytes(u,"recovered").recoverPublicKey(h).toBytes()}return Object.freeze({keygen:c,getPublicKey:d,getSharedSecret:g,utils:p,lengths:f,Point:t,sign:W,verify:H,recoverPublicKey:A,Signature:_,hash:e})}function k4(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(s=>Math.ceil(s/2)))):void 0;const i=Hs(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),o={Fp:n,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:o}}function C4(t){const{CURVE:e,curveOpts:n}=k4(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function M4(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,lA(n.Fn.ORDER,n.Fn.BITS))})}function O4(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:i}=C4(t),o=N4(e,n),s=T4(o,r,i);return M4(t,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function L4(t,e){const n=r=>O4({...t,hash:r});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dw={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},B4={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},Dv=BigInt(2);function P4(t){const e=dw.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,d=c*c*t%e,g=xt(d,n,e)*d%e,p=xt(g,n,e)*d%e,f=xt(p,Dv,e)*c%e,m=xt(f,i,e)*f%e,R=xt(m,o,e)*m%e,I=xt(R,a,e)*R%e,w=xt(I,l,e)*I%e,b=xt(w,a,e)*R%e,_=xt(b,n,e)*d%e,N=xt(_,s,e)*m%e,L=xt(N,r,e)*c%e,j=xt(L,Dv,e);if(!Pg.eql(Pg.sqr(j),t))throw new Error("Cannot find square root");return j}const Pg=Hs(dw.p,{sqrt:P4}),fw=L4({...dw,Fp:Pg,lowS:!0,endo:B4},YS),D4=_l.utils.randomPrivateKey,Uv=()=>{const t=_l.utils.randomPrivateKey(),e=If(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),{publicKey:e,secretKey:n}},If=_l.getPublicKey;function zv(t){try{return _l.ExtendedPoint.fromHex(t),!0}catch{return!1}}const hw=(t,e)=>_l.sign(t,e.slice(0,32)),U4=_l.verify,Ce=t=>ge.Buffer.isBuffer(t)?t:t instanceof Uint8Array?ge.Buffer.from(t.buffer,t.byteOffset,t.byteLength):ge.Buffer.from(t);let pw=class{constructor(e){Object.assign(this,e)}encode(){return ge.Buffer.from(SA(dc,this))}static decode(e){return AA(dc,this,e)}static decodeUnchecked(e){return wA(dc,this,e)}};class z4 extends pw{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(n=>{this.enum=n})}}const dc=new Map;var uR;const dR=32,vi=32;function j4(t){return t._bn!==void 0}let jv=1;class J extends pw{constructor(e){if(super({}),this._bn=void 0,j4(e))this._bn=e._bn;else{if(typeof e=="string"){const n=An.decode(e);if(n.length!=vi)throw new Error("Invalid public key input");this._bn=new gr(n)}else this._bn=new gr(e);if(this._bn.byteLength()>vi)throw new Error("Invalid public key input")}}static unique(){const e=new J(jv);return jv+=1,new J(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return An.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(ge.Buffer);if(e.length===vi)return e;const n=ge.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const i=ge.Buffer.concat([e.toBuffer(),ge.Buffer.from(n),r.toBuffer()]),o=kv(i);return new J(o)}static createProgramAddressSync(e,n){let r=ge.Buffer.alloc(0);e.forEach(function(o){if(o.length>dR)throw new TypeError("Max seed length exceeded");r=ge.Buffer.concat([r,Ce(o)])}),r=ge.Buffer.concat([r,n.toBuffer(),ge.Buffer.from("ProgramDerivedAddress")]);const i=kv(r);if(zv(i))throw new Error("Invalid seeds, address must fall off the curve");return new J(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{const o=e.concat(ge.Buffer.from([r]));i=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new J(e);return zv(n.toBytes())}}uR=J;J.default=new uR("11111111111111111111111111111111");dc.set(J,{kind:"struct",fields:[["_bn","u256"]]});class W4{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const n=Ce(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=n.slice(32,64),this._secretKey=n.slice(0,32)}else this._secretKey=Ce(D4()),this._publicKey=Ce(If(this._secretKey))}get publicKey(){return new J(this._publicKey)}get secretKey(){return ge.Buffer.concat([this._secretKey,this._publicKey],64)}}const F4=new J("BPFLoader1111111111111111111111111111111111"),Fo=1232,Eh=127,ol=64;class gw extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(gw.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class mw extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(mw.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Ma extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Ma.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Uc{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,s)=>{r.set(o.toBase58(),s)});const i=o=>{const s=r.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}}const Le=(t="publicKey")=>Xe(32,t),$4=(t="signature")=>Xe(64,t),_s=(t="string")=>{const e=oe([fe("length"),fe("lengthPadding"),Xe(Wo(fe(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(o,s)=>n(o,s).chars.toString(),i.encode=(o,s,a)=>{const l={chars:ge.Buffer.from(o,"utf8")};return r(l,s,a)},i.alloc=o=>fe().span+fe().span+ge.Buffer.from(o,"utf8").length,i},H4=(t="authorized")=>oe([Le("staker"),Le("withdrawer")],t),K4=(t="lockup")=>oe([Wn("unixTimestamp"),Wn("epoch"),Le("custodian")],t),V4=(t="voteInit")=>oe([Le("nodePubkey"),Le("authorizedVoter"),Le("authorizedWithdrawer"),Ie("commission")],t),G4=(t="voteAuthorizeWithSeedArgs")=>oe([fe("voteAuthorizationType"),Le("currentAuthorityDerivedKeyOwnerPubkey"),_s("currentAuthorityDerivedKeySeed"),Le("newAuthorized")],t);function fR(t,e){const n=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const o=e[i.property];if(Array.isArray(o))return o.length*n(i.elementLayout)}else if("fields"in i)return fR({layout:i},e[i.property]);return 0};let r=0;return t.layout.fields.forEach(i=>{r+=n(i)}),r}function Yn(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function pr(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function je(t,e){if(!t)throw new Error(e||"Assertion failed")}class bh{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,i=s=>{const a=s.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},o=i(n);o.isSigner=!0,o.isWritable=!0;for(const s of e){i(s.programId).isInvoked=!0;for(const a of s.keys){const l=i(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new bh(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];je(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,l])=>l.isSigner&&l.isWritable),r=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),o=e.filter(([,l])=>!l.isSigner&&!l.isWritable),s={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{je(n.length>0,"Expected at least one writable signer key");const[l]=n[0];je(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new J(l)),...r.map(([l])=>new J(l)),...i.map(([l])=>new J(l)),...o.map(([l])=>new J(l))];return[s,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(e,n){const r=new Array,i=new Array;for(const[o,s]of this.keyMetaMap.entries())if(n(s)){const a=new J(o),l=e.findIndex(c=>c.equals(a));l>=0&&(je(l<256,"Max lookup table index exceeded"),r.push(l),i.push(a),this.keyMetaMap.delete(o))}return[r,i]}}const hR="Reached end of buffer unexpectedly";function di(t){if(t.length===0)throw new Error(hR);return t.shift()}function Zn(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(hR);return t.splice(...e)}class ni{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new J(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:An.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Uc(this.staticAccountKeys)}static compile(e){const n=bh.compile(e.instructions,e.payerKey),[r,i]=n.getMessageComponents(),s=new Uc(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:An.encode(a.data)}));return new ni({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];pr(n,e);const r=this.instructions.map(g=>{const{accounts:p,programIdIndex:f}=g,m=Array.from(An.decode(g.data));let R=[];pr(R,p.length);let I=[];return pr(I,m.length),{programIdIndex:f,keyIndicesCount:ge.Buffer.from(R),keyIndices:p,dataLength:ge.Buffer.from(I),data:m}});let i=[];pr(i,r.length);let o=ge.Buffer.alloc(Fo);ge.Buffer.from(i).copy(o);let s=i.length;r.forEach(g=>{const f=oe([Ie("programIdIndex"),Xe(g.keyIndicesCount.length,"keyIndicesCount"),yn(Ie("keyIndex"),g.keyIndices.length,"keyIndices"),Xe(g.dataLength.length,"dataLength"),yn(Ie("userdatum"),g.data.length,"data")]).encode(g,o,s);s+=f}),o=o.slice(0,s);const a=oe([Xe(1,"numRequiredSignatures"),Xe(1,"numReadonlySignedAccounts"),Xe(1,"numReadonlyUnsignedAccounts"),Xe(n.length,"keyCount"),yn(Le("key"),e,"keys"),Le("recentBlockhash")]),l={numRequiredSignatures:ge.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:ge.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:ge.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:ge.Buffer.from(n),keys:this.accountKeys.map(g=>Ce(g.toBytes())),recentBlockhash:An.decode(this.recentBlockhash)};let c=ge.Buffer.alloc(2048);const d=a.encode(l,c);return o.copy(c,d),c.slice(0,d+o.length)}static from(e){let n=[...e];const r=di(n);if(r!==(r&Eh))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=di(n),o=di(n),s=Yn(n);let a=[];for(let p=0;p<s;p++){const f=Zn(n,0,vi);a.push(new J(ge.Buffer.from(f)))}const l=Zn(n,0,vi),c=Yn(n);let d=[];for(let p=0;p<c;p++){const f=di(n),m=Yn(n),R=Zn(n,0,m),I=Yn(n),w=Zn(n,0,I),b=An.encode(ge.Buffer.from(w));d.push({programIdIndex:f,accounts:R,data:b})}const g={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:An.encode(ge.Buffer.from(l)),accountKeys:a,instructions:d};return new ni(g)}}class Us{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Uc(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(e>=this.header.numRequiredSignatures){const i=e-n,s=r-n-this.header.numReadonlyUnsignedAccounts;return i<s}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(o=>o.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const o of r.writableIndexes)if(o<i.state.addresses.length)n.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`);for(const o of r.readonlyIndexes)if(o<i.state.addresses.length)n.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=bh.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(const d of o){const g=n.extractTableLookup(d);if(g!==void 0){const[p,{writable:f,readonly:m}]=g;r.push(p),i.writable.push(...f),i.readonly.push(...m)}}const[s,a]=n.getMessageComponents(),c=new Uc(a,i).compileInstructions(e.instructions);return new Us({header:s,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const e=Array();pr(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();pr(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),o=Array();pr(o,this.addressTableLookups.length);const s=oe([Ie("prefix"),oe([Ie("numRequiredSignatures"),Ie("numReadonlySignedAccounts"),Ie("numReadonlyUnsignedAccounts")],"header"),Xe(e.length,"staticAccountKeysLength"),yn(Le(),this.staticAccountKeys.length,"staticAccountKeys"),Le("recentBlockhash"),Xe(r.length,"instructionsLength"),Xe(n.length,"serializedInstructions"),Xe(o.length,"addressTableLookupsLength"),Xe(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(Fo),c=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:An.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,c)}serializeInstructions(){let e=0;const n=new Uint8Array(Fo);for(const r of this.compiledInstructions){const i=Array();pr(i,r.accountKeyIndexes.length);const o=Array();pr(o,r.data.length);const s=oe([Ie("programIdIndex"),Xe(i.length,"encodedAccountKeyIndexesLength"),yn(Ie(),r.accountKeyIndexes.length,"accountKeyIndexes"),Xe(o.length,"encodedDataLength"),Xe(r.data.length,"data")]);e+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(Fo);for(const r of this.addressTableLookups){const i=Array();pr(i,r.writableIndexes.length);const o=Array();pr(o,r.readonlyIndexes.length);const s=oe([Le("accountKey"),Xe(i.length,"encodedWritableIndexesLength"),yn(Ie(),r.writableIndexes.length,"writableIndexes"),Xe(o.length,"encodedReadonlyIndexesLength"),yn(Ie(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=di(n),i=r&Eh;je(r!==i,"Expected versioned message but received legacy message");const o=i;je(o===0,`Expected versioned message with version 0 but found version ${o}`);const s={numRequiredSignatures:di(n),numReadonlySignedAccounts:di(n),numReadonlyUnsignedAccounts:di(n)},a=[],l=Yn(n);for(let m=0;m<l;m++)a.push(new J(Zn(n,0,vi)));const c=An.encode(Zn(n,0,vi)),d=Yn(n),g=[];for(let m=0;m<d;m++){const R=di(n),I=Yn(n),w=Zn(n,0,I),b=Yn(n),_=new Uint8Array(Zn(n,0,b));g.push({programIdIndex:R,accountKeyIndexes:w,data:_})}const p=Yn(n),f=[];for(let m=0;m<p;m++){const R=new J(Zn(n,0,vi)),I=Yn(n),w=Zn(n,0,I),b=Yn(n),_=Zn(n,0,b);f.push({accountKey:R,writableIndexes:w,readonlyIndexes:_})}return new Us({header:s,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:g,addressTableLookups:f})}}const Sh={deserializeMessageVersion(t){const e=t[0],n=e&Eh;return n===e?"legacy":n},deserialize:t=>{const e=Sh.deserializeMessageVersion(t);if(e==="legacy")return ni.from(t);if(e===0)return Us.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Oi=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const q4=ge.Buffer.alloc(ol).fill(0);class $e{constructor(e){this.keys=void 0,this.programId=void 0,this.data=ge.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Oe{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new $e(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let R=0;R<n.length;R++)if(n[R].programId===void 0)throw new Error(`Transaction instruction index ${R} has undefined program id`);const i=[],o=[];n.forEach(R=>{R.keys.forEach(w=>{o.push({...w})});const I=R.programId.toString();i.includes(I)||i.push(I)}),i.forEach(R=>{o.push({pubkey:new J(R),isSigner:!1,isWritable:!1})});const s=[];o.forEach(R=>{const I=R.pubkey.toString(),w=s.findIndex(b=>b.pubkey.toString()===I);w>-1?(s[w].isWritable=s[w].isWritable||R.isWritable,s[w].isSigner=s[w].isSigner||R.isSigner):s.push(R)}),s.sort(function(R,I){if(R.isSigner!==I.isSigner)return R.isSigner?-1:1;if(R.isWritable!==I.isWritable)return R.isWritable?-1:1;const w={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return R.pubkey.toBase58().localeCompare(I.pubkey.toBase58(),"en",w)});const a=s.findIndex(R=>R.pubkey.equals(r));if(a>-1){const[R]=s.splice(a,1);R.isSigner=!0,R.isWritable=!0,s.unshift(R)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const R of this.signatures){const I=s.findIndex(w=>w.pubkey.equals(R.publicKey));if(I>-1)s[I].isSigner||(s[I].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${R.publicKey.toString()}`)}let l=0,c=0,d=0;const g=[],p=[];s.forEach(({pubkey:R,isSigner:I,isWritable:w})=>{I?(g.push(R.toString()),l+=1,w||(c+=1)):(p.push(R.toString()),w||(d+=1))});const f=g.concat(p),m=n.map(R=>{const{data:I,programId:w}=R;return{programIdIndex:f.indexOf(w.toString()),accounts:R.keys.map(b=>f.indexOf(b.pubkey.toString())),data:An.encode(I)}});return m.forEach(R=>{je(R.programIdIndex>=0),R.accounts.forEach(I=>je(I>=0))}),new ni({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:d},accountKeys:f,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,o)=>n[o].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of e){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of e){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(i=>{const o=hw(r,i.secretKey);this._addSignature(i.publicKey,Ce(o))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){je(n.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=ge.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:i,publicKey:o}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(o):U4(i,e,o.toBytes())||(r.invalid||(r.invalid=[])).push(o);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const o=this._getMessageSignednessErrors(i,n);if(o){let s="Signature verification failed.";throw o.invalid&&(s+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(s+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(i)}_serialize(e){const{signatures:n}=this,r=[];pr(r,n.length);const i=r.length+n.length*64+e.length,o=ge.Buffer.alloc(i);return je(n.length<256),ge.Buffer.from(r).copy(o,0),n.forEach(({signature:s},a)=>{s!==null&&(je(s.length===64,"signature has invalid length"),ge.Buffer.from(s).copy(o,r.length+a*64))}),e.copy(o,r.length+n.length*64),je(o.length<=Fo,`Transaction too large: ${o.length} > ${Fo}`),o}get keys(){return je(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return je(this.instructions.length===1),this.instructions[0].programId}get data(){return je(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=Yn(n);let i=[];for(let o=0;o<r;o++){const s=Zn(n,0,ol);i.push(An.encode(ge.Buffer.from(s)))}return Oe.populate(ni.from(n),i)}static populate(e,n=[]){const r=new Oe;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((i,o)=>{const s={signature:i==An.encode(q4)?null:An.decode(i),publicKey:e.accountKeys[o]};r.signatures.push(s)}),e.instructions.forEach(i=>{const o=i.accounts.map(s=>{const a=e.accountKeys[s];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});r.instructions.push(new $e({keys:o,programId:e.accountKeys[i.programIdIndex],data:An.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}class yw{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,n){const{header:r,compiledInstructions:i,recentBlockhash:o}=e,{numRequiredSignatures:s,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:l}=r,c=s-a;je(c>0,"Message header is invalid");const d=e.staticAccountKeys.length-s-l;je(d>=0,"Message header is invalid");const g=e.getAccountKeys(n),p=g.get(0);if(p===void 0)throw new Error("Failed to decompile message because no account keys were found");const f=[];for(const m of i){const R=[];for(const w of m.accountKeyIndexes){const b=g.get(w);if(b===void 0)throw new Error(`Failed to find key for account key index ${w}`);const _=w<s;let N;_?N=w<c:w<g.staticAccountKeys.length?N=w-s<d:N=w-g.staticAccountKeys.length<g.accountKeysFromLookups.writable.length,R.push({pubkey:b,isSigner:w<r.numRequiredSignatures,isWritable:N})}const I=g.get(m.programIdIndex);if(I===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);f.push(new $e({programId:I,data:Ce(m.data),keys:R}))}return new yw({payerKey:p,instructions:f,recentBlockhash:o})}compileToLegacyMessage(){return ni.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Us.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class sl{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)je(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(ol));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();pr(n,this.signatures.length);const r=oe([Xe(n.length,"encodedSignaturesLength"),yn($4(),this.signatures.length,"signatures"),Xe(e.length,"serializedMessage")]),i=new Uint8Array(2048),o=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,o)}static deserialize(e){let n=[...e];const r=[],i=Yn(n);for(let s=0;s<i;s++)r.push(new Uint8Array(Zn(n,0,ol)));const o=Sh.deserialize(new Uint8Array(n));return new sl(o,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const o=r.findIndex(s=>s.equals(i.publicKey));je(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=hw(n,i.secretKey)}}addSignature(e,n){je(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));je(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}}const Y4=160,Z4=64,Q4=Y4/Z4,pR=1e3/Q4,li=new J("SysvarC1ock11111111111111111111111111111111"),X4=new J("SysvarEpochSchedu1e111111111111111111111111"),J4=new J("Sysvar1nstructions1111111111111111111111111"),dd=new J("SysvarRecentB1ockHashes11111111111111111111"),Zi=new J("SysvarRent111111111111111111111111111111111"),e3=new J("SysvarRewards111111111111111111111111111111"),t3=new J("SysvarS1otHashes111111111111111111111111111"),n3=new J("SysvarS1otHistory11111111111111111111111111"),fd=new J("SysvarStakeHistory1111111111111111111111111");class qo extends Error{constructor({action:e,signature:n,transactionMessage:r,logs:i}){const o=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+o+s;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+o+s;break;default:a=`Unknown action '${(l=>l)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const o=i.meta.logMessages;this.transactionLogs=o,n(o)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const r3={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class ye extends Error{constructor({code:e,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function al(t,e,n,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},o=await t.sendTransaction(e,n,i);let s;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)s=(await t.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,l=a.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:l,nonceValue:e.nonceInfo.nonce,signature:o},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(o,r&&r.commitment)).value;if(s.err)throw o!=null?new qo({action:"send",signature:o,transactionMessage:`Status: (${JSON.stringify(s)})`}):new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function ds(t){return new Promise(e=>setTimeout(e,t))}function De(t,e){const n=t.layout.span>=0?t.layout.span:fR(t,e),r=ge.Buffer.alloc(n),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,r),r}function He(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${t.index}`);return n}const gR=_n("lamportsPerSignature"),mR=oe([fe("version"),fe("state"),Le("authorizedPubkey"),Le("nonce"),oe([gR],"feeCalculator")]),Dg=mR.span;class Ah{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=mR.decode(Ce(e),0);return new Ah({authorizedPubkey:new J(n.authorizedPubkey),nonce:new J(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function ll(t){const e=Xe(8,t),n=e.decode.bind(e),r=e.encode.bind(e),i=e,o=kO();return i.decode=(s,a)=>{const l=n(s,a);return o.decode(l)},i.encode=(s,a,l)=>{const c=o.encode(s);return r(c,a,l)},i}class i3{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=fe("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(rt))if(s.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n,space:r,programId:i}=He(rt.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:n,space:r,programId:new J(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n}=He(rt.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:n}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n,seed:r,programId:i}=He(rt.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:n,seed:r,programId:new J(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:n}=He(rt.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:n}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:r,space:i,programId:o}=He(rt.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new J(n),seed:r,space:i,programId:new J(o)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:n}=He(rt.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new J(n)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:r,programId:i}=He(rt.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new J(n),seed:r,programId:new J(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:n,seed:r,lamports:i,space:o,programId:s}=He(rt.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new J(n),seed:r,lamports:i,space:o,programId:new J(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:n}=He(rt.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new J(n)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),He(rt.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=He(rt.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n}=He(rt.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new J(n)}}static checkProgramId(e){if(!e.equals(lt.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const rt=Object.freeze({Create:{index:0,layout:oe([fe("instruction"),Wn("lamports"),Wn("space"),Le("programId")])},Assign:{index:1,layout:oe([fe("instruction"),Le("programId")])},Transfer:{index:2,layout:oe([fe("instruction"),ll("lamports")])},CreateWithSeed:{index:3,layout:oe([fe("instruction"),Le("base"),_s("seed"),Wn("lamports"),Wn("space"),Le("programId")])},AdvanceNonceAccount:{index:4,layout:oe([fe("instruction")])},WithdrawNonceAccount:{index:5,layout:oe([fe("instruction"),Wn("lamports")])},InitializeNonceAccount:{index:6,layout:oe([fe("instruction"),Le("authorized")])},AuthorizeNonceAccount:{index:7,layout:oe([fe("instruction"),Le("authorized")])},Allocate:{index:8,layout:oe([fe("instruction"),Wn("space")])},AllocateWithSeed:{index:9,layout:oe([fe("instruction"),Le("base"),_s("seed"),Wn("space"),Le("programId")])},AssignWithSeed:{index:10,layout:oe([fe("instruction"),Le("base"),_s("seed"),Le("programId")])},TransferWithSeed:{index:11,layout:oe([fe("instruction"),ll("lamports"),_s("seed"),Le("programId")])},UpgradeNonceAccount:{index:12,layout:oe([fe("instruction")])}});class lt{constructor(){}static createAccount(e){const n=rt.Create,r=De(n,{lamports:e.lamports,space:e.space,programId:Ce(e.programId.toBuffer())});return new $e({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){const i=rt.TransferWithSeed;n=De(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Ce(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=rt.Transfer;n=De(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new $e({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){const i=rt.AssignWithSeed;n=De(i,{base:Ce(e.basePubkey.toBuffer()),seed:e.seed,programId:Ce(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=rt.Assign;n=De(i,{programId:Ce(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new $e({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=rt.CreateWithSeed,r=De(n,{base:Ce(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Ce(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new $e({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const n=new Oe;"basePubkey"in e&&"seed"in e?n.add(lt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Dg,programId:this.programId})):n.add(lt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Dg,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){const n=rt.InitializeNonceAccount,r=De(n,{authorized:Ce(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:dd,isSigner:!1,isWritable:!1},{pubkey:Zi,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new $e(i)}static nonceAdvance(e){const n=rt.AdvanceNonceAccount,r=De(n),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:dd,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new $e(i)}static nonceWithdraw(e){const n=rt.WithdrawNonceAccount,r=De(n,{lamports:e.lamports});return new $e({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:dd,isSigner:!1,isWritable:!1},{pubkey:Zi,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const n=rt.AuthorizeNonceAccount,r=De(n,{authorized:Ce(e.newAuthorizedPubkey.toBuffer())});return new $e({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){const i=rt.AllocateWithSeed;n=De(i,{base:Ce(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Ce(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=rt.Allocate;n=De(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new $e({keys:r,programId:this.programId,data:n})}}lt.programId=new J("11111111111111111111111111111111");const o3=Fo-300;class zs{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/zs.chunkSize)+1+1)}static async load(e,n,r,i,o){{const g=await e.getMinimumBalanceForRentExemption(o.length),p=await e.getAccountInfo(r.publicKey,"confirmed");let f=null;if(p!==null){if(p.executable)return console.error("Program load failed, account is already executable"),!1;p.data.length!==o.length&&(f=f||new Oe,f.add(lt.allocate({accountPubkey:r.publicKey,space:o.length}))),p.owner.equals(i)||(f=f||new Oe,f.add(lt.assign({accountPubkey:r.publicKey,programId:i}))),p.lamports<g&&(f=f||new Oe,f.add(lt.transfer({fromPubkey:n.publicKey,toPubkey:r.publicKey,lamports:g-p.lamports})))}else f=new Oe().add(lt.createAccount({fromPubkey:n.publicKey,newAccountPubkey:r.publicKey,lamports:g>0?g:1,space:o.length,programId:i}));f!==null&&await al(e,f,[n,r],{commitment:"confirmed"})}const s=oe([fe("instruction"),fe("offset"),fe("bytesLength"),fe("bytesLengthPadding"),yn(Ie("byte"),Wo(fe(),-8),"bytes")]),a=zs.chunkSize;let l=0,c=o,d=[];for(;c.length>0;){const g=c.slice(0,a),p=ge.Buffer.alloc(a+16);s.encode({instruction:0,offset:l,bytes:g,bytesLength:0,bytesLengthPadding:0},p);const f=new Oe().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:p});d.push(al(e,f,[n,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await ds(1e3/4),l+=a,c=c.slice(a)}await Promise.all(d);{const g=oe([fe("instruction")]),p=ge.Buffer.alloc(g.span);g.encode({instruction:1},p);const f=new Oe().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:Zi,isSigner:!1,isWritable:!1}],programId:i,data:p}),m="processed",R=await e.sendTransaction(f,[n,r],{preflightCommitment:m}),{context:I,value:w}=await e.confirmTransaction({signature:R,lastValidBlockHeight:f.lastValidBlockHeight,blockhash:f.recentBlockhash},m);if(w.err)throw new Error(`Transaction ${R} failed (${JSON.stringify(w)})`);for(;;){try{if(await e.getSlot({commitment:m})>I.slot)break}catch{}await new Promise(b=>setTimeout(b,Math.round(pR/2)))}}return!0}}zs.chunkSize=o3;const s3=new J("BPFLoader2111111111111111111111111111111111");class a3{static getMinNumSignatures(e){return zs.getMinNumSignatures(e)}static load(e,n,r,i,o){return zs.load(e,n,r,o,i)}}function l3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var t0,Wv;function c3(){if(Wv)return t0;Wv=1;var t=Object.prototype.toString,e=Object.keys||function(r){var i=[];for(var o in r)i.push(o);return i};function n(r,i){var o,s,a,l,c,d,g;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),i);if(g=t.call(r),g==="[object Array]"){for(a="[",s=r.length-1,o=0;o<s;o++)a+=n(r[o],!0)+",";return s>-1&&(a+=n(r[o],!0)),a+"]"}else if(g==="[object Object]"){for(l=e(r).sort(),s=l.length,a="",o=0;o<s;)c=l[o],d=n(r[c],!1),d!==void 0&&(a&&(a+=","),a+=JSON.stringify(c)+":"+d),o++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return t0=function(r){var i=n(r,!1);if(i!==void 0)return""+i},t0}var u3=c3(),Fv=l3(u3);const Dl=32;function n0(t){let e=0;for(;t>1;)t/=2,e++;return e}function d3(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class yR{constructor(e,n,r,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=n0(d3(e+Dl+1))-n0(Dl)-1,r=this.getSlotsInEpoch(n),i=e-(r-Dl);return[n,i]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,o=n%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*Dl:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+n0(Dl)):this.slotsPerEpoch}}var f3=globalThis.fetch;class h3 extends p4{constructor(e,n,r){const i=o=>{const s=f4(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,e,n,r),this.underlyingSocket=void 0}call(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function p3(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const $v=56;class Ug{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=p3(g3,e),r=e.length-$v;je(r>=0,"lookup table is invalid"),je(r%32===0,"lookup table is invalid");const i=r/32,{addresses:o}=oe([yn(Le(),i,"addresses")]).decode(e.slice($v));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new J(n.authority[0]):void 0,addresses:o.map(s=>new J(s))}}}const g3={index:1,layout:oe([fe("typeIndex"),ll("deactivationSlot"),_n("lastExtendedSlot"),Ie("lastExtendedStartIndex"),Ie(),yn(Le(),Wo(Ie(),-1),"authority")])},m3=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function y3(t){const e=t.match(m3);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,i,o]=e,s=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),l=a==null?"":`:${a+1}`;return`${s}//${r}${l}${o}`}const _t=nu(lw(J),se(),t=>new J(t)),wR=cw([se(),yt("base64")]),ww=nu(lw(ge.Buffer),wR,t=>ge.Buffer.from(t[0],"base64")),vR=30*1e3;function w3(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function nt(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...i}=t;e=r,n=i}return{commitment:e,config:n}}function Hv(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function _R(t){return Kn([ne({jsonrpc:yt("2.0"),id:se(),result:t}),ne({jsonrpc:yt("2.0"),id:se(),error:ne({code:Sl(),message:se(),data:we(PO())})})])}const v3=_R(Sl());function ke(t){return nu(_R(t),v3,e=>"error"in e?e:{...e,result:le(e.result,t)})}function Mt(t){return ke(ne({context:ne({slot:q()}),value:t}))}function Rh(t){return ne({context:ne({slot:q()}),value:t})}function r0(t,e){return t===0?new Us({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new J(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:An.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new ni(e)}const _3=ne({foundation:q(),foundationTerm:q(),initial:q(),taper:q(),terminal:q()}),E3=ke(ue(de(ne({epoch:q(),effectiveSlot:q(),amount:q(),postBalance:q(),commission:we(de(q()))})))),b3=ue(ne({slot:q(),prioritizationFee:q()})),S3=ne({total:q(),validator:q(),foundation:q(),epoch:q()}),A3=ne({epoch:q(),slotIndex:q(),slotsInEpoch:q(),absoluteSlot:q(),blockHeight:we(q()),transactionCount:we(q())}),R3=ne({slotsPerEpoch:q(),leaderScheduleSlotOffset:q(),warmup:bi(),firstNormalEpoch:q(),firstNormalSlot:q()}),I3=qA(se(),ue(q())),Gs=de(Kn([ne({}),se()])),N3=ne({err:Gs}),x3=yt("receivedSignature"),T3=ne({"solana-core":se(),"feature-set":we(q())}),k3=ne({program:se(),programId:_t,parsed:Sl()}),C3=ne({programId:_t,accounts:ue(_t),data:se()}),Kv=Mt(ne({err:de(Kn([ne({}),se()])),logs:de(ue(se())),accounts:we(de(ue(de(ne({executable:bi(),owner:se(),lamports:q(),data:ue(se()),rentEpoch:we(q())}))))),unitsConsumed:we(q()),returnData:we(de(ne({programId:se(),data:cw([se(),yt("base64")])}))),innerInstructions:we(de(ue(ne({index:q(),instructions:ue(Kn([k3,C3]))}))))})),M3=Mt(ne({byIdentity:qA(se(),ue(q())),range:ne({firstSlot:q(),lastSlot:q()})}));function O3(t,e,n,r,i,o){const s=n||f3;let a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return r&&(l=async(d,g)=>{const p=await new Promise((f,m)=>{try{r(d,g,(R,I)=>f([R,I]))}catch(R){m(R)}});return await s(...p)}),new c4(async(d,g)=>{const p={method:"POST",body:d,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},O6)};try{let f=5,m,R=500;for(;l?m=await l(t,p):m=await s(t,p),!(m.status!==429||i===!0||(f-=1,f===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${R}ms delay...`),await ds(R),R*=2;const I=await m.text();m.ok?g(null,I):g(new Error(`${m.status} ${m.statusText}: ${I}`))}catch(f){f instanceof Error&&g(f)}},{})}function L3(t){return(e,n)=>new Promise((r,i)=>{t.request(e,n,(o,s)=>{if(o){i(o);return}r(s)})})}function B3(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const i=e.map(o=>t.request(o.methodName,o.args));t.request(i,(o,s)=>{if(o){r(o);return}n(s)})})}const P3=ke(_3),D3=ke(S3),U3=ke(b3),z3=ke(A3),j3=ke(R3),W3=ke(I3),F3=ke(q()),$3=Mt(ne({total:q(),circulating:q(),nonCirculating:q(),nonCirculatingAccounts:ue(_t)})),zg=ne({amount:se(),uiAmount:de(q()),decimals:q(),uiAmountString:we(se())}),H3=Mt(ue(ne({address:_t,amount:se(),uiAmount:de(q()),decimals:q(),uiAmountString:we(se())}))),K3=Mt(ue(ne({pubkey:_t,account:ne({executable:bi(),owner:_t,lamports:q(),data:ww,rentEpoch:q()})}))),jg=ne({program:se(),parsed:Sl(),space:q()}),V3=Mt(ue(ne({pubkey:_t,account:ne({executable:bi(),owner:_t,lamports:q(),data:jg,rentEpoch:q()})}))),G3=Mt(ue(ne({lamports:q(),address:_t}))),zc=ne({executable:bi(),owner:_t,lamports:q(),data:ww,rentEpoch:q()}),q3=ne({pubkey:_t,account:zc}),Y3=nu(Kn([lw(ge.Buffer),jg]),Kn([wR,jg]),t=>Array.isArray(t)?le(t,ww):t),Wg=ne({executable:bi(),owner:_t,lamports:q(),data:Y3,rentEpoch:q()}),Z3=ne({pubkey:_t,account:Wg}),Q3=ne({state:Kn([yt("active"),yt("inactive"),yt("activating"),yt("deactivating")]),active:q(),inactive:q()}),X3=ke(ue(ne({signature:se(),slot:q(),err:Gs,memo:de(se()),blockTime:we(de(q()))}))),J3=ke(ue(ne({signature:se(),slot:q(),err:Gs,memo:de(se()),blockTime:we(de(q()))}))),e6=ne({subscription:q(),result:Rh(zc)}),t6=ne({pubkey:_t,account:zc}),n6=ne({subscription:q(),result:Rh(t6)}),r6=ne({parent:q(),slot:q(),root:q()}),i6=ne({subscription:q(),result:r6}),o6=Kn([ne({type:Kn([yt("firstShredReceived"),yt("completed"),yt("optimisticConfirmation"),yt("root")]),slot:q(),timestamp:q()}),ne({type:yt("createdBank"),parent:q(),slot:q(),timestamp:q()}),ne({type:yt("frozen"),slot:q(),timestamp:q(),stats:ne({numTransactionEntries:q(),numSuccessfulTransactions:q(),numFailedTransactions:q(),maxTransactionsPerEntry:q()})}),ne({type:yt("dead"),slot:q(),timestamp:q(),err:se()})]),s6=ne({subscription:q(),result:o6}),a6=ne({subscription:q(),result:Rh(Kn([N3,x3]))}),l6=ne({subscription:q(),result:q()}),c6=ne({pubkey:se(),gossip:de(se()),tpu:de(se()),rpc:de(se()),version:de(se())}),Vv=ne({votePubkey:se(),nodePubkey:se(),activatedStake:q(),epochVoteAccount:bi(),epochCredits:ue(cw([q(),q(),q()])),commission:q(),lastVote:q(),rootSlot:de(q())}),u6=ke(ne({current:ue(Vv),delinquent:ue(Vv)})),d6=Kn([yt("processed"),yt("confirmed"),yt("finalized")]),f6=ne({slot:q(),confirmations:de(q()),err:Gs,confirmationStatus:we(d6)}),h6=Mt(ue(de(f6))),p6=ke(q()),ER=ne({accountKey:_t,writableIndexes:ue(q()),readonlyIndexes:ue(q())}),vw=ne({signatures:ue(se()),message:ne({accountKeys:ue(se()),header:ne({numRequiredSignatures:q(),numReadonlySignedAccounts:q(),numReadonlyUnsignedAccounts:q()}),instructions:ue(ne({accounts:ue(q()),data:se(),programIdIndex:q()})),recentBlockhash:se(),addressTableLookups:we(ue(ER))})}),bR=ne({pubkey:_t,signer:bi(),writable:bi(),source:we(Kn([yt("transaction"),yt("lookupTable")]))}),SR=ne({accountKeys:ue(bR),signatures:ue(se())}),AR=ne({parsed:Sl(),program:se(),programId:_t}),RR=ne({accounts:ue(_t),data:se(),programId:_t}),g6=Kn([RR,AR]),m6=Kn([ne({parsed:Sl(),program:se(),programId:se()}),ne({accounts:ue(se()),data:se(),programId:se()})]),IR=nu(g6,m6,t=>"accounts"in t?le(t,RR):le(t,AR)),NR=ne({signatures:ue(se()),message:ne({accountKeys:ue(bR),instructions:ue(IR),recentBlockhash:se(),addressTableLookups:we(de(ue(ER)))})}),Nf=ne({accountIndex:q(),mint:se(),owner:we(se()),programId:we(se()),uiTokenAmount:zg}),xR=ne({writable:ue(_t),readonly:ue(_t)}),Ih=ne({err:Gs,fee:q(),innerInstructions:we(de(ue(ne({index:q(),instructions:ue(ne({accounts:ue(q()),data:se(),programIdIndex:q()}))})))),preBalances:ue(q()),postBalances:ue(q()),logMessages:we(de(ue(se()))),preTokenBalances:we(de(ue(Nf))),postTokenBalances:we(de(ue(Nf))),loadedAddresses:we(xR),computeUnitsConsumed:we(q()),costUnits:we(q())}),_w=ne({err:Gs,fee:q(),innerInstructions:we(de(ue(ne({index:q(),instructions:ue(IR)})))),preBalances:ue(q()),postBalances:ue(q()),logMessages:we(de(ue(se()))),preTokenBalances:we(de(ue(Nf))),postTokenBalances:we(de(ue(Nf))),loadedAddresses:we(xR),computeUnitsConsumed:we(q()),costUnits:we(q())}),Al=Kn([yt(0),yt("legacy")]),qs=ne({pubkey:se(),lamports:q(),postBalance:de(q()),rewardType:de(se()),commission:we(de(q()))}),y6=ke(de(ne({blockhash:se(),previousBlockhash:se(),parentSlot:q(),transactions:ue(ne({transaction:vw,meta:de(Ih),version:we(Al)})),rewards:we(ue(qs)),blockTime:de(q()),blockHeight:de(q())}))),w6=ke(de(ne({blockhash:se(),previousBlockhash:se(),parentSlot:q(),rewards:we(ue(qs)),blockTime:de(q()),blockHeight:de(q())}))),v6=ke(de(ne({blockhash:se(),previousBlockhash:se(),parentSlot:q(),transactions:ue(ne({transaction:SR,meta:de(Ih),version:we(Al)})),rewards:we(ue(qs)),blockTime:de(q()),blockHeight:de(q())}))),_6=ke(de(ne({blockhash:se(),previousBlockhash:se(),parentSlot:q(),transactions:ue(ne({transaction:NR,meta:de(_w),version:we(Al)})),rewards:we(ue(qs)),blockTime:de(q()),blockHeight:de(q())}))),E6=ke(de(ne({blockhash:se(),previousBlockhash:se(),parentSlot:q(),transactions:ue(ne({transaction:SR,meta:de(_w),version:we(Al)})),rewards:we(ue(qs)),blockTime:de(q()),blockHeight:de(q())}))),b6=ke(de(ne({blockhash:se(),previousBlockhash:se(),parentSlot:q(),rewards:we(ue(qs)),blockTime:de(q()),blockHeight:de(q())}))),S6=ke(de(ne({blockhash:se(),previousBlockhash:se(),parentSlot:q(),transactions:ue(ne({transaction:vw,meta:de(Ih)})),rewards:we(ue(qs)),blockTime:de(q())}))),Gv=ke(de(ne({blockhash:se(),previousBlockhash:se(),parentSlot:q(),signatures:ue(se()),blockTime:de(q())}))),i0=ke(de(ne({slot:q(),meta:de(Ih),blockTime:we(de(q())),transaction:vw,version:we(Al)}))),Fu=ke(de(ne({slot:q(),transaction:NR,meta:de(_w),blockTime:we(de(q())),version:we(Al)}))),A6=Mt(ne({blockhash:se(),lastValidBlockHeight:q()})),R6=Mt(bi()),I6=ne({slot:q(),numTransactions:q(),numSlots:q(),samplePeriodSecs:q()}),N6=ke(ue(I6)),x6=Mt(de(ne({feeCalculator:ne({lamportsPerSignature:q()})}))),T6=ke(se()),k6=ke(se()),C6=ne({err:Gs,logs:ue(se()),signature:se()}),M6=ne({result:Rh(C6),subscription:q()}),O6={"solana-client":"js/1.0.0-maintenance"};class TR{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const c={};return async d=>{const{commitment:g,config:p}=nt(d),f=this._buildArgs([],g,void 0,p),m=Fv(f);return c[m]=c[m]??(async()=>{try{const R=await this._rpcRequest("getBlockHeight",f),I=le(R,ke(q()));if("error"in I)throw new ye(I.error,"failed to get block height information");return I.result}finally{delete c[m]}})(),await c[m]}})();let r,i,o,s,a,l;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,o=n.fetch,s=n.fetchMiddleware,a=n.disableRetryOnRateLimit,l=n.httpAgent),this._rpcEndpoint=w3(e),this._rpcWsEndpoint=r||y3(e),this._rpcClient=O3(e,i,o,s,a,l),this._rpcRequest=L3(this._rpcClient),this._rpcBatchRequest=B3(this._rpcClient),this._rpcWebSocket=new h3(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:i}=nt(n),o=this._buildArgs([e.toBase58()],r,void 0,i),s=await this._rpcRequest("getBalance",o),a=le(s,Mt(q()));if("error"in a)throw new ye(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=le(n,ke(de(q())));if("error"in r)throw new ye(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=le(e,ke(q()));if("error"in n)throw new ye(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=le(e,F3);if("error"in n)throw new ye(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=le(r,$3);if("error"in i)throw new ye(i.error,"failed to get supply");return i.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),o=le(i,Mt(zg));if("error"in o)throw new ye(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),o=le(i,Mt(zg));if("error"in o)throw new ye(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,n,r){const{commitment:i,config:o}=nt(r);let s=[e.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const a=this._buildArgs(s,i,"base64",o),l=await this._rpcRequest("getTokenAccountsByOwner",a),c=le(l,K3);if("error"in c)throw new ye(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(e,n,r){let i=[e.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const o=this._buildArgs(i,r,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),a=le(s,V3);if("error"in a)throw new ye(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),o=le(i,G3);if("error"in o)throw new ye(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),o=le(i,H3);if("error"in o)throw new ye(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:i}=nt(n),o=this._buildArgs([e.toBase58()],r,"base64",i),s=await this._rpcRequest("getAccountInfo",o),a=le(s,Mt(de(zc)));if("error"in a)throw new ye(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,n){const{commitment:r,config:i}=nt(n),o=this._buildArgs([e.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),a=le(s,Mt(de(Wg)));if("error"in a)throw new ye(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:i}=nt(n),o=e.map(c=>c.toBase58()),s=this._buildArgs([o],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",s),l=le(a,Mt(ue(de(Wg))));if("error"in l)throw new ye(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:i}=nt(n),o=e.map(c=>c.toBase58()),s=this._buildArgs([o],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",s),l=le(a,Mt(ue(de(zc))));if("error"in l)throw new ye(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:i,config:o}=nt(n),s=this._buildArgs([e.toBase58()],i,void 0,{...o,epoch:r??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getStakeActivation",s),l=le(a,ke(Q3));if("error"in l)throw new ye(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,n){const{commitment:r,config:i}=nt(n),{encoding:o,...s}=i||{},a=this._buildArgs([e.toBase58()],r,o||"base64",{...s,...s.filters?{filters:Hv(s.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",a),c=ue(q3),d=s.withContext===!0?le(l,Mt(c)):le(l,ke(c));if("error"in d)throw new ye(d.error,`failed to get accounts owned by program ${e.toBase58()}`);return d.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:i}=nt(n),o=this._buildArgs([e.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),a=le(s,ke(ue(Z3)));if("error"in a)throw new ye(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,n){var o;let r;if(typeof e=="string")r=e;else{const s=e;if((o=s.abortSignal)!=null&&o.aborted)return Promise.reject(s.abortSignal.reason);r=s.signature}let i;try{i=An.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return je(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,i,o=!1;const s=new Promise((l,c)=>{try{r=this.onSignature(n,(g,p)=>{r=void 0;const f={context:p,value:g};l({__type:Oi.PROCESSED,response:f})},e);const d=new Promise(g=>{r==null?g():i=this._onSubscriptionStateChange(r,p=>{p==="subscribed"&&g()})});(async()=>{if(await d,o)return;const g=await this.getSignatureStatus(n);if(o||g==null)return;const{context:p,value:f}=g;if(f!=null)if(f!=null&&f.err)c(f.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(f.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(f.confirmationStatus==="processed"||f.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,l({__type:Oi.PROCESSED,response:{context:p,value:f}})}})()}catch(d){c(d)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let o=!1;const s=new Promise(g=>{const p=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let f=await p();if(!o){for(;f<=r;)if(await ds(1e3),o||(f=await p(),o))return;g({__type:Oi.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),c=this.getCancellationPromise(n);let d;try{const g=await Promise.race([c,l,s]);if(g.__type===Oi.PROCESSED)d=g.response;else throw new gw(i)}finally{o=!0,a()}return d}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let a=!1;const l=new Promise(f=>{let m=o,R=null;const I=async()=>{try{const{context:w,value:b}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return R=w.slot,b==null?void 0:b.nonce}catch{return m}};(async()=>{if(m=await I(),!a)for(;;){if(o!==m){f({__type:Oi.NONCE_INVALID,slotInWhichNonceDidAdvance:R});return}if(await ds(2e3),a||(m=await I(),a))return}})()}),{abortConfirmation:c,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),g=this.getCancellationPromise(n);let p;try{const f=await Promise.race([g,d,l]);if(f.__type===Oi.PROCESSED)p=f.response;else{let m;for(;;){const R=await this.getSignatureStatus(s);if(R==null)break;if(R.context.slot<(f.slotInWhichNonceDidAdvance??r)){await ds(400);continue}m=R;break}if(m!=null&&m.value){const R=e||"finalized",{confirmationStatus:I}=m.value;switch(R){case"processed":case"recent":if(I!=="processed"&&I!=="confirmed"&&I!=="finalized")throw new Ma(s);break;case"confirmed":case"single":case"singleGossip":if(I!=="confirmed"&&I!=="finalized")throw new Ma(s);break;case"finalized":case"max":case"root":if(I!=="finalized")throw new Ma(s);break;default:}p={context:m.context,value:{err:m.value.err}}}else throw new Ma(s)}}finally{a=!0,c()}return p}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const i=new Promise(l=>{let c=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{c=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>l({__type:Oi.TIMED_OUT,timeoutMs:c}),c)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let a;try{const l=await Promise.race([s,i]);if(l.__type===Oi.PROCESSED)a=l.response;else throw new mw(n,l.timeoutMs/1e3)}finally{clearTimeout(r),o()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=le(e,ke(ue(c6)));if("error"in n)throw new ye(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),i=le(r,u6);if("error"in i)throw new ye(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:n,config:r}=nt(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlot",i),s=le(o,ke(q()));if("error"in s)throw new ye(s.error,"failed to get slot");return s.result}async getSlotLeader(e){const{commitment:n,config:r}=nt(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlotLeader",i),s=le(o,ke(se()));if("error"in s)throw new ye(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,n){const r=[e,n],i=await this._rpcRequest("getSlotLeaders",r),o=le(i,ke(ue(_t)));if("error"in o)throw new ye(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,n){const{context:r,value:i}=await this.getSignatureStatuses([e],n);je(i.length===1);const o=i[0];return{context:r,value:o}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),o=le(i,h6);if("error"in o)throw new ye(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){const{commitment:n,config:r}=nt(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getTransactionCount",i),s=le(o,ke(q()));if("error"in s)throw new ye(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),i=le(r,P3);if("error"in i)throw new ye(i.error,"failed to get inflation");return i.result}async getInflationReward(e,n,r){const{commitment:i,config:o}=nt(r),s=this._buildArgs([e.map(c=>c.toBase58())],i,void 0,{...o,epoch:n??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getInflationReward",s),l=le(a,E3);if("error"in l)throw new ye(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=le(e,D3);if("error"in n)throw new ye(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=nt(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getEpochInfo",i),s=le(o,z3);if("error"in s)throw new ye(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=le(e,j3);if("error"in n)throw new ye(n.error,"failed to get epoch schedule");const r=n.result;return new yR(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=le(e,W3);if("error"in n)throw new ye(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),o=le(i,p6);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=le(n,N6);if("error"in r)throw new ye(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),o=le(i,x6);if("error"in o)throw new ye(o.error,"failed to get fee calculator");const{context:s,value:a}=o.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,n){const r=Ce(e.serialize()).toString("base64"),i=this._buildArgs([r],n),o=await this._rpcRequest("getFeeForMessage",i),s=le(o,Mt(de(q())));if("error"in s)throw new ye(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentPrioritizationFees(e){var s;const n=(s=e==null?void 0:e.lockedWritableAccounts)==null?void 0:s.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),o=le(i,U3);if("error"in o)throw new ye(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=nt(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getLatestBlockhash",i),s=le(o,A6);if("error"in s)throw new ye(s.error,"failed to get latest blockhash");return s.result}async isBlockhashValid(e,n){const{commitment:r,config:i}=nt(n),o=this._buildArgs([e],r,void 0,i),s=await this._rpcRequest("isBlockhashValid",o),a=le(s,R6);if("error"in a)throw new ye(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=le(e,ke(T3));if("error"in n)throw new ye(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=le(e,ke(se()));if("error"in n)throw new ye(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:i}=nt(n),o=this._buildArgsAtLeastConfirmed([e],r,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=le(s,v6);if("error"in a)throw a.error;return a.result}case"none":{const a=le(s,w6);if("error"in a)throw a.error;return a.result}default:{const a=le(s,y6);if("error"in a)throw a.error;const{result:l}=a;return l?{...l,transactions:l.transactions.map(({transaction:c,meta:d,version:g})=>({meta:d,transaction:{...c,message:r0(g,c.message)},version:g}))}:null}}}catch(a){throw new ye(a,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:i}=nt(n),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=le(s,E6);if("error"in a)throw a.error;return a.result}case"none":{const a=le(s,b6);if("error"in a)throw a.error;return a.result}default:{const a=le(s,_6);if("error"in a)throw a.error;return a.result}}}catch(a){throw new ye(a,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...l}=e;r=a,n=l}const i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getBlockProduction",i),s=le(o,M3);if("error"in s)throw new ye(s.error,"failed to get block production information");return s.result}async getTransaction(e,n){const{commitment:r,config:i}=nt(n),o=this._buildArgsAtLeastConfirmed([e],r,void 0,i),s=await this._rpcRequest("getTransaction",o),a=le(s,i0);if("error"in a)throw new ye(a.error,"failed to get transaction");const l=a.result;return l&&{...l,transaction:{...l.transaction,message:r0(l.version,l.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:i}=nt(n),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),a=le(s,Fu);if("error"in a)throw new ye(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,n){const{commitment:r,config:i}=nt(n),o=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(l=>{const c=le(l,Fu);if("error"in c)throw new ye(c.error,"failed to get transactions");return c.result})}async getTransactions(e,n){const{commitment:r,config:i}=nt(n),o=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,void 0,i)}));return(await this._rpcBatchRequest(o)).map(l=>{const c=le(l,i0);if("error"in c)throw new ye(c.error,"failed to get transactions");const d=c.result;return d&&{...d,transaction:{...d.transaction,message:r0(d.version,d.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getBlock",r),o=le(i,S6);if("error"in o)throw new ye(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");const a={...s,transactions:s.transactions.map(({transaction:l,meta:c})=>{const d=new ni(l.message);return{meta:c,transaction:{...l,message:d}}})};return{...a,transactions:a.transactions.map(({transaction:l,meta:c})=>({meta:c,transaction:Oe.populate(l.message,l.signatures)}))}}async getBlocks(e,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),o=await this._rpcRequest("getBlocks",i),s=le(o,ke(ue(q())));if("error"in s)throw new ye(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=le(i,Gv);if("error"in o)throw new ye(o.error,"failed to get block");const s=o.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=le(i,Gv);if("error"in o)throw new ye(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getTransaction",r),o=le(i,i0);if("error"in o)throw new ye(o.error,"failed to get transaction");const s=o.result;if(!s)return s;const a=new ni(s.transaction.message),l=s.transaction.signatures;return{...s,transaction:Oe.populate(a,l)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),i=await this._rpcRequest("getTransaction",r),o=le(i,Fu);if("error"in o)throw new ye(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,n){const r=e.map(s=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([s],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(s=>{const a=le(s,Fu);if("error"in a)throw new ye(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,n,r){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<o));)try{const l=await this.getConfirmedBlockSignatures(n,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let s=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>s));)try{const l=await this.getConfirmedBlockSignatures(r);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=le(o,X3);if("error"in s)throw new ye(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),o=await this._rpcRequest("getSignaturesForAddress",i),s=le(o,J3);if("error"in s)throw new ye(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let o=null;return i!==null&&(o=new Ug({key:e,state:Ug.deserialize(i.data)})),{context:r,value:o}}async getNonceAndContext(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let o=null;return i!==null&&(o=Ah.fromAccountData(i.data)),{context:r,value:o}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),i=le(r,T6);if("error"in i)throw new ye(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await ds(100);const r=Date.now()-this._blockhashInfo.lastFetch>=vR;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const o=await this.getLatestBlockhash("finalized");if(r!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await ds(pR/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=nt(e),i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=le(o,Mt(q()));if("error"in s)throw new ye(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,n,r){if("message"in e){const R=e.serialize(),I=ge.Buffer.from(R).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const w=n||{};w.encoding="base64","commitment"in w||(w.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(w.innerInstructions=n.innerInstructions);const b=[I,w],_=await this._rpcRequest("simulateTransaction",b),N=le(_,Kv);if("error"in N)throw new Error("failed to simulate transaction: "+N.error.message);return N.result}let i;if(e instanceof Oe){let m=e;i=new Oe,i.feePayer=m.feePayer,i.instructions=e.instructions,i.nonceInfo=m.nonceInfo,i.signatures=m.signatures}else i=Oe.populate(e),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(i.nonceInfo&&o)i.sign(...o);else{let m=this._disableBlockhashCaching;for(;;){const R=await this._blockhashWithExpiryBlockHeight(m);if(i.lastValidBlockHeight=R.lastValidBlockHeight,i.recentBlockhash=R.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");const I=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(I)&&!this._blockhashInfo.transactionSignatures.includes(I)){this._blockhashInfo.simulatedSignatures.push(I);break}else m=!0}}const s=i._compile(),a=s.serialize(),c=i._serialize(a).toString("base64"),d={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:s.nonProgramIds()).map(R=>R.toBase58());d.accounts={encoding:"base64",addresses:m}}o&&(d.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(d.innerInstructions=n.innerInstructions);const g=[c,d],p=await this._rpcRequest("simulateTransaction",g),f=le(p,Kv);if("error"in f){let m;if("data"in f.error&&(m=f.error.data.logs,m&&Array.isArray(m))){const R=`
    `,I=R+m.join(R);console.error(f.error.message,I)}throw new qo({action:"simulate",signature:"",transactionMessage:f.error.message,logs:m})}return f.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const s=e.serialize();return await this.sendRawTransaction(s,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(e.nonceInfo)e.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(s);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))s=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const o=e.serialize();return await this.sendRawTransaction(o,r)}async sendRawTransaction(e,n){const r=Ce(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},i=n&&n.skipPreflight,o=i===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),o&&(r.preflightCommitment=o);const s=[e,r],a=await this._rpcRequest("sendTransaction",s),l=le(a,k6);if("error"in l){let c;throw"data"in l.error&&(c=l.error.data.logs),new qo({action:i?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:c})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const o=this._subscriptionStateChangeCallbacksByHash[e];o&&o.forEach(s=>{try{s(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){var o;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(o=this._subscriptionStateChangeCallbacksByHash)[r]||(o[r]=new Set);return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:s}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(s,o);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${s}\``,{args:o,error:a}),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=le(e,e6);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,i=Fv([e.method,n]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const s=this._subscriptionsByHash[i];je(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),s.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const{commitment:i,config:o}=nt(r),s=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=le(e,n6);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,i){const{commitment:o,config:s}=nt(r),a=this._buildArgs([e.toBase58()],o||this._commitment||"finalized","base64",s||(i?{filters:Hv(i)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=le(e,M6);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=le(e,i6);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=le(e,s6);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,i){const o=n||this._commitment;if(o||r||i){let s={};r&&(s.encoding=r),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),e.push(s)}return e}_buildArgsAtLeastConfirmed(e,n,r,i){const o=n||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,i)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=le(e,a6);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){n(s.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(e,n,r){const{commitment:i,...o}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([e],i,void 0,o),a=this._makeSubscription({callback:(l,c)=>{n(l,c);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=le(e,l6);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class $o{constructor(e){this._keypair=void 0,this._keypair=e??Uv()}static generate(){return new $o(Uv())}static fromSecretKey(e,n){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!n||!n.skipValidation){const i=e.slice(0,32),o=If(i);for(let s=0;s<32;s++)if(r[s]!==o[s])throw new Error("provided secretKey is invalid")}return new $o({publicKey:r,secretKey:e})}static fromSeed(e){const n=If(e),r=new Uint8Array(64);return r.set(e),r.set(n,32),new $o({publicKey:n,secretKey:r})}get publicKey(){return new J(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Wi=Object.freeze({CreateLookupTable:{index:0,layout:oe([fe("instruction"),ll("recentSlot"),Ie("bumpSeed")])},FreezeLookupTable:{index:1,layout:oe([fe("instruction")])},ExtendLookupTable:{index:2,layout:oe([fe("instruction"),ll(),yn(Le(),Wo(fe(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:oe([fe("instruction")])},CloseLookupTable:{index:4,layout:oe([fe("instruction")])}});class L6{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=fe("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(Wi))if(s.index==r){i=o;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:n}=He(Wi.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(n)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:n}=He(Wi.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:n.map(r=>new J(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Ew.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}class Ew{constructor(){}static createLookupTable(e){const[n,r]=J.findProgramAddressSync([e.authority.toBuffer(),KA().encode(e.recentSlot)],this.programId),i=Wi.CreateLookupTable,o=De(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),s=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:lt.programId,isSigner:!1,isWritable:!1}];return[new $e({programId:this.programId,keys:s,data:o}),n]}static freezeLookupTable(e){const n=Wi.FreezeLookupTable,r=De(n),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new $e({programId:this.programId,keys:i,data:r})}static extendLookupTable(e){const n=Wi.ExtendLookupTable,r=De(n,{addresses:e.addresses.map(o=>o.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:lt.programId,isSigner:!1,isWritable:!1}),new $e({programId:this.programId,keys:i,data:r})}static deactivateLookupTable(e){const n=Wi.DeactivateLookupTable,r=De(n),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new $e({programId:this.programId,keys:i,data:r})}static closeLookupTable(e){const n=Wi.CloseLookupTable,r=De(n),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new $e({programId:this.programId,keys:i,data:r})}}Ew.programId=new J("AddressLookupTab1e1111111111111111111111111");class B6{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Ie("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(fi))if(s.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:n,additionalFee:r}=He(fi.RequestUnits,e.data);return{units:n,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:n}=He(fi.RequestHeapFrame,e.data);return{bytes:n}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:n}=He(fi.SetComputeUnitLimit,e.data);return{units:n}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:n}=He(fi.SetComputeUnitPrice,e.data);return{microLamports:n}}static checkProgramId(e){if(!e.equals(bw.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const fi=Object.freeze({RequestUnits:{index:0,layout:oe([Ie("instruction"),fe("units"),fe("additionalFee")])},RequestHeapFrame:{index:1,layout:oe([Ie("instruction"),fe("bytes")])},SetComputeUnitLimit:{index:2,layout:oe([Ie("instruction"),fe("units")])},SetComputeUnitPrice:{index:3,layout:oe([Ie("instruction"),ll("microLamports")])}});class bw{constructor(){}static requestUnits(e){const n=fi.RequestUnits,r=De(n,e);return new $e({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const n=fi.RequestHeapFrame,r=De(n,e);return new $e({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const n=fi.SetComputeUnitLimit,r=De(n,e);return new $e({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const n=fi.SetComputeUnitPrice,r=De(n,{microLamports:BigInt(e.microLamports)});return new $e({keys:[],programId:this.programId,data:r})}}bw.programId=new J("ComputeBudget111111111111111111111111111111");const qv=64,Yv=32,Zv=64,Qv=oe([Ie("numSignatures"),Ie("padding"),hr("signatureOffset"),hr("signatureInstructionIndex"),hr("publicKeyOffset"),hr("publicKeyInstructionIndex"),hr("messageDataOffset"),hr("messageDataSize"),hr("messageInstructionIndex")]);class Nh{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:n,message:r,signature:i,instructionIndex:o}=e;je(n.length===Yv,`Public Key must be ${Yv} bytes but received ${n.length} bytes`),je(i.length===Zv,`Signature must be ${Zv} bytes but received ${i.length} bytes`);const s=Qv.span,a=s+n.length,l=a+i.length,c=1,d=ge.Buffer.alloc(l+r.length),g=o??65535;return Qv.encode({numSignatures:c,padding:0,signatureOffset:a,signatureInstructionIndex:g,publicKeyOffset:s,publicKeyInstructionIndex:g,messageDataOffset:l,messageDataSize:r.length,messageInstructionIndex:g},d),d.fill(n,s),d.fill(i,a),d.fill(r,l),new $e({keys:[],programId:Nh.programId,data:d})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:r,instructionIndex:i}=e;je(n.length===qv,`Private key must be ${qv} bytes but received ${n.length} bytes`);try{const o=$o.fromSecretKey(n),s=o.publicKey.toBytes(),a=hw(r,o.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:a,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}Nh.programId=new J("Ed25519SigVerify111111111111111111111111111");const P6=(t,e)=>{const n=fw.sign(t,e);return[n.toCompactRawBytes(),n.recovery]};fw.utils.isValidPrivateKey;const D6=fw.getPublicKey,Xv=32,o0=20,Jv=64,U6=11,s0=oe([Ie("numSignatures"),hr("signatureOffset"),Ie("signatureInstructionIndex"),hr("ethAddressOffset"),Ie("ethAddressInstructionIndex"),hr("messageDataOffset"),hr("messageDataSize"),Ie("messageInstructionIndex"),Xe(20,"ethAddress"),Xe(64,"signature"),Ie("recoveryId")]);class $a{constructor(){}static publicKeyToEthAddress(e){je(e.length===Jv,`Public key must be ${Jv} bytes but received ${e.length} bytes`);try{return ge.Buffer.from(Bv(Ce(e))).slice(-o0)}catch(n){throw new Error(`Error constructing Ethereum address: ${n}`)}}static createInstructionWithPublicKey(e){const{publicKey:n,message:r,signature:i,recoveryId:o,instructionIndex:s}=e;return $a.createInstructionWithEthAddress({ethAddress:$a.publicKeyToEthAddress(n),message:r,signature:i,recoveryId:o,instructionIndex:s})}static createInstructionWithEthAddress(e){const{ethAddress:n,message:r,signature:i,recoveryId:o,instructionIndex:s=0}=e;let a;typeof n=="string"?n.startsWith("0x")?a=ge.Buffer.from(n.substr(2),"hex"):a=ge.Buffer.from(n,"hex"):a=n,je(a.length===o0,`Address must be ${o0} bytes but received ${a.length} bytes`);const l=1+U6,c=l,d=l+a.length,g=d+i.length+1,p=1,f=ge.Buffer.alloc(s0.span+r.length);return s0.encode({numSignatures:p,signatureOffset:d,signatureInstructionIndex:s,ethAddressOffset:c,ethAddressInstructionIndex:s,messageDataOffset:g,messageDataSize:r.length,messageInstructionIndex:s,signature:Ce(i),ethAddress:Ce(a),recoveryId:o},f),f.fill(Ce(r),s0.span),new $e({keys:[],programId:$a.programId,data:f})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:r,instructionIndex:i}=e;je(n.length===Xv,`Private key must be ${Xv} bytes but received ${n.length} bytes`);try{const o=Ce(n),s=D6(o,!1).slice(1),a=ge.Buffer.from(Bv(Ce(r))),[l,c]=P6(a,o);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:l,recoveryId:c,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}$a.programId=new J("KeccakSecp256k11111111111111111111111111111");var kR;const CR=new J("StakeConfig11111111111111111111111111111111");class MR{constructor(e,n){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=n}}class ru{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}kR=ru;ru.default=new kR(0,0,J.default);class z6{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=fe("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(pn))if(s.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n,lockup:r}=He(pn.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new MR(new J(n.staker),new J(n.withdrawer)),lockup:new ru(r.unixTimestamp,r.epoch,new J(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),He(pn.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,stakeAuthorizationType:r}=He(pn.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new J(n),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:n,stakeAuthorizationType:r,authoritySeed:i,authorityOwner:o}=He(pn.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new J(o),newAuthorizedPubkey:new J(n),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=He(pn.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:n}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),He(pn.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=He(pn.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),He(pn.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(xh.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const pn=Object.freeze({Initialize:{index:0,layout:oe([fe("instruction"),H4(),K4()])},Authorize:{index:1,layout:oe([fe("instruction"),Le("newAuthorized"),fe("stakeAuthorizationType")])},Delegate:{index:2,layout:oe([fe("instruction")])},Split:{index:3,layout:oe([fe("instruction"),Wn("lamports")])},Withdraw:{index:4,layout:oe([fe("instruction"),Wn("lamports")])},Deactivate:{index:5,layout:oe([fe("instruction")])},Merge:{index:7,layout:oe([fe("instruction")])},AuthorizeWithSeed:{index:8,layout:oe([fe("instruction"),Le("newAuthorized"),fe("stakeAuthorizationType"),_s("authoritySeed"),Le("authorityOwner")])}}),j6=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class xh{constructor(){}static initialize(e){const{stakePubkey:n,authorized:r,lockup:i}=e,o=i||ru.default,s=pn.Initialize,a=De(s,{authorized:{staker:Ce(r.staker.toBuffer()),withdrawer:Ce(r.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:Ce(o.custodian.toBuffer())}}),l={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Zi,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new $e(l)}static createAccountWithSeed(e){const n=new Oe;n.add(lt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:o}=e;return n.add(this.initialize({stakePubkey:r,authorized:i,lockup:o}))}static createAccount(e){const n=new Oe;n.add(lt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:o}=e;return n.add(this.initialize({stakePubkey:r,authorized:i,lockup:o}))}static delegate(e){const{stakePubkey:n,authorizedPubkey:r,votePubkey:i}=e,o=pn.Delegate,s=De(o);return new Oe().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:li,isSigner:!1,isWritable:!1},{pubkey:fd,isSigner:!1,isWritable:!1},{pubkey:CR,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){const{stakePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:s}=e,a=pn.Authorize,l=De(a,{newAuthorized:Ce(i.toBuffer()),stakeAuthorizationType:o.index}),c=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:li,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&c.push({pubkey:s,isSigner:!0,isWritable:!1}),new Oe().add({keys:c,programId:this.programId,data:l})}static authorizeWithSeed(e){const{stakePubkey:n,authorityBase:r,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:s,stakeAuthorizationType:a,custodianPubkey:l}=e,c=pn.AuthorizeWithSeed,d=De(c,{newAuthorized:Ce(s.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Ce(o.toBuffer())}),g=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:li,isSigner:!1,isWritable:!1}];return l&&g.push({pubkey:l,isSigner:!0,isWritable:!1}),new Oe().add({keys:g,programId:this.programId,data:d})}static splitInstruction(e){const{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,lamports:o}=e,s=pn.Split,a=De(s,{lamports:o});return new $e({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,n){const r=new Oe;return r.add(lt.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:n,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,n){const{stakePubkey:r,authorizedPubkey:i,splitStakePubkey:o,basePubkey:s,seed:a,lamports:l}=e,c=new Oe;return c.add(lt.allocate({accountPubkey:o,basePubkey:s,seed:a,space:this.space,programId:this.programId})),n&&n>0&&c.add(lt.transfer({fromPubkey:e.authorizedPubkey,toPubkey:o,lamports:n})),c.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:i,splitStakePubkey:o,lamports:l}))}static merge(e){const{stakePubkey:n,sourceStakePubKey:r,authorizedPubkey:i}=e,o=pn.Merge,s=De(o);return new Oe().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:li,isSigner:!1,isWritable:!1},{pubkey:fd,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){const{stakePubkey:n,authorizedPubkey:r,toPubkey:i,lamports:o,custodianPubkey:s}=e,a=pn.Withdraw,l=De(a,{lamports:o}),c=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:li,isSigner:!1,isWritable:!1},{pubkey:fd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&c.push({pubkey:s,isSigner:!0,isWritable:!1}),new Oe().add({keys:c,programId:this.programId,data:l})}static deactivate(e){const{stakePubkey:n,authorizedPubkey:r}=e,i=pn.Deactivate,o=De(i);return new Oe().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:li,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}}xh.programId=new J("Stake11111111111111111111111111111111111111");xh.space=200;class OR{constructor(e,n,r,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=n,this.authorizedWithdrawer=r,this.commission=i}}class W6{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=fe("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(hi))if(s.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:n}=He(hi.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new OR(new J(n.nodePubkey),new J(n.authorizedVoter),new J(n.authorizedWithdrawer),n.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,voteAuthorizationType:r}=He(hi.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new J(n),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorized:i,voteAuthorizationType:o}}=He(hi.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new J(n),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new J(i),voteAuthorizationType:{index:o},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=He(hi.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:n,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Rl.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const hi=Object.freeze({InitializeAccount:{index:0,layout:oe([fe("instruction"),V4()])},Authorize:{index:1,layout:oe([fe("instruction"),Le("newAuthorized"),fe("voteAuthorizationType")])},Withdraw:{index:3,layout:oe([fe("instruction"),Wn("lamports")])},UpdateValidatorIdentity:{index:4,layout:oe([fe("instruction")])},AuthorizeWithSeed:{index:10,layout:oe([fe("instruction"),G4()])}}),F6=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Rl{constructor(){}static initializeAccount(e){const{votePubkey:n,nodePubkey:r,voteInit:i}=e,o=hi.InitializeAccount,s=De(o,{voteInit:{nodePubkey:Ce(i.nodePubkey.toBuffer()),authorizedVoter:Ce(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Ce(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Zi,isSigner:!1,isWritable:!1},{pubkey:li,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new $e(a)}static createAccount(e){const n=new Oe;return n.add(lt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),n.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:o}=e,s=hi.Authorize,a=De(s,{newAuthorized:Ce(i.toBuffer()),voteAuthorizationType:o.index}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:li,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Oe().add({keys:l,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:n,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:s,votePubkey:a}=e,l=hi.AuthorizeWithSeed,c=De(l,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Ce(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Ce(o.toBuffer()),voteAuthorizationType:s.index}}),d=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:li,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Oe().add({keys:d,programId:this.programId,data:c})}static withdraw(e){const{votePubkey:n,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:o}=e,s=hi.Withdraw,a=De(s,{lamports:i}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Oe().add({keys:l,programId:this.programId,data:a})}static safeWithdraw(e,n,r){if(e.lamports>n-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return Rl.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:n,authorizedWithdrawerPubkey:r,nodePubkey:i}=e,o=hi.UpdateValidatorIdentity,s=De(o),a=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Oe().add({keys:a,programId:this.programId,data:s})}}Rl.programId=new J("Vote111111111111111111111111111111111111111");Rl.space=3762;const LR=new J("Va1idator1nfo111111111111111111111111111111"),$6=ne({name:se(),website:we(se()),details:we(se()),iconUrl:we(se()),keybaseUsername:we(se())});class Sw{constructor(e,n){this.key=void 0,this.info=void 0,this.key=e,this.info=n}static fromConfigData(e){let n=[...e];if(Yn(n)!==2)return null;const i=[];for(let o=0;o<2;o++){const s=new J(Zn(n,0,vi)),a=di(n)===1;i.push({publicKey:s,isSigner:a})}if(i[0].publicKey.equals(LR)&&i[1].isSigner){const o=_s().decode(ge.Buffer.from(n)),s=JSON.parse(o);return VA(s,$6),new Sw(i[1].publicKey,s)}return null}}const H6=new J("Vote111111111111111111111111111111111111111"),K6=oe([Le("nodePubkey"),Le("authorizedWithdrawer"),Ie("commission"),_n(),yn(oe([_n("slot"),fe("confirmationCount")]),Wo(fe(),-8),"votes"),Ie("rootSlotValid"),_n("rootSlot"),_n(),yn(oe([_n("epoch"),Le("authorizedVoter")]),Wo(fe(),-8),"authorizedVoters"),oe([yn(oe([Le("authorizedPubkey"),_n("epochOfLastAuthorizedSwitch"),_n("targetEpoch")]),32,"buf"),_n("idx"),Ie("isEmpty")],"priorVoters"),_n(),yn(oe([_n("epoch"),_n("credits"),_n("prevCredits")]),Wo(fe(),-8),"epochCredits"),oe([_n("slot"),_n("timestamp")],"lastTimestamp")]);class Aw{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=K6.decode(Ce(e),4);let i=r.rootSlot;return r.rootSlotValid||(i=null),new Aw({nodePubkey:new J(r.nodePubkey),authorizedWithdrawer:new J(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:i,authorizedVoters:r.authorizedVoters.map(V6),priorVoters:G6(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function V6({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new J(t)}}function e_({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:n}){return{authorizedPubkey:new J(t),epochOfLastAuthorizedSwitch:e,targetEpoch:n}}function G6({buf:t,idx:e,isEmpty:n}){return n?[]:[...t.slice(e+1).map(e_),...t.slice(0,e).map(e_)]}const t_={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function BR(t,e){const n=e===!1?"http":"https";if(!t)return t_[n].devnet;const r=t_[n][t];if(!r)throw new Error(`Unknown ${n} cluster: ${t}`);return r}async function q6(t,e,n,r){let i,o;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(i=n,o=r):o=n;const s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await t.sendRawTransaction(e,s),l=o&&o.commitment,d=(await(i?t.confirmTransaction(i,l):t.confirmTransaction(a,l))).value;if(d.err)throw a!=null?new qo({action:s!=null&&s.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(d)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(d)})`);return a}const Y6=1e9,Z6=Object.freeze(Object.defineProperty({__proto__:null,Account:W4,AddressLookupTableAccount:Ug,AddressLookupTableInstruction:L6,AddressLookupTableProgram:Ew,Authorized:MR,BLOCKHASH_CACHE_TIMEOUT_MS:vR,BPF_LOADER_DEPRECATED_PROGRAM_ID:F4,BPF_LOADER_PROGRAM_ID:s3,BpfLoader:a3,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:fi,ComputeBudgetInstruction:B6,ComputeBudgetProgram:bw,Connection:TR,Ed25519Program:Nh,Enum:z4,EpochSchedule:yR,FeeCalculatorLayout:gR,Keypair:$o,LAMPORTS_PER_SOL:Y6,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Wi,Loader:zs,Lockup:ru,MAX_SEED_LENGTH:dR,Message:ni,MessageAccountKeys:Uc,MessageV0:Us,NONCE_ACCOUNT_LENGTH:Dg,NonceAccount:Ah,PACKET_DATA_SIZE:Fo,PUBLIC_KEY_LENGTH:vi,PublicKey:J,SIGNATURE_LENGTH_IN_BYTES:ol,SOLANA_SCHEMA:dc,STAKE_CONFIG_ID:CR,STAKE_INSTRUCTION_LAYOUTS:pn,SYSTEM_INSTRUCTION_LAYOUTS:rt,SYSVAR_CLOCK_PUBKEY:li,SYSVAR_EPOCH_SCHEDULE_PUBKEY:X4,SYSVAR_INSTRUCTIONS_PUBKEY:J4,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:dd,SYSVAR_RENT_PUBKEY:Zi,SYSVAR_REWARDS_PUBKEY:e3,SYSVAR_SLOT_HASHES_PUBKEY:t3,SYSVAR_SLOT_HISTORY_PUBKEY:n3,SYSVAR_STAKE_HISTORY_PUBKEY:fd,Secp256k1Program:$a,SendTransactionError:qo,SolanaJSONRPCError:ye,SolanaJSONRPCErrorCode:r3,StakeAuthorizationLayout:j6,StakeInstruction:z6,StakeProgram:xh,Struct:pw,SystemInstruction:i3,SystemProgram:lt,Transaction:Oe,TransactionExpiredBlockheightExceededError:gw,TransactionExpiredNonceInvalidError:Ma,TransactionExpiredTimeoutError:mw,TransactionInstruction:$e,TransactionMessage:yw,TransactionStatus:Oi,VALIDATOR_INFO_KEY:LR,VERSION_PREFIX_MASK:Eh,VOTE_PROGRAM_ID:H6,ValidatorInfo:Sw,VersionedMessage:Sh,VersionedTransaction:sl,VoteAccount:Aw,VoteAuthorizationLayout:F6,VoteInit:OR,VoteInstruction:W6,VoteProgram:Rl,clusterApiUrl:BR,sendAndConfirmRawTransaction:q6,sendAndConfirmTransaction:al},Symbol.toStringTag,{value:"Module"})),PR=te.createContext({});function DR(){return te.useContext(PR)}const Q6=({children:t,endpoint:e,config:n={commitment:"confirmed"}})=>{const r=te.useMemo(()=>new TR(e,n),[e,n]);return re.createElement(PR.Provider,{value:{connection:r}},t)};class Et extends Error{constructor(e,n){super(e),this.error=n}}class cl extends Et{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class UR extends Et{constructor(){super(...arguments),this.name="WalletLoadError"}}class Es extends Et{constructor(){super(...arguments),this.name="WalletConfigError"}}class jc extends Et{constructor(){super(...arguments),this.name="WalletConnectionError"}}class Th extends Et{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class kh extends Et{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class ko extends Et{constructor(){super(...arguments),this.name="WalletAccountError"}}class ul extends Et{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class X6 extends Et{constructor(){super(...arguments),this.name="WalletKeypairError"}}class Lt extends Et{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class Gi extends Et{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class qr extends Et{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class Ch extends Et{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class Fg extends Et{constructor(){super(...arguments),this.name="WalletSignInError"}}class J6 extends Et{constructor(){super(...arguments),this.name="WalletTimeoutError"}}class eL extends Et{constructor(){super(...arguments),this.name="WalletWindowBlockedError"}}class tL extends Et{constructor(){super(...arguments),this.name="WalletWindowClosedError"}}var We;(function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"})(We||(We={}));class Rw extends _h{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,n,r={}){const i=this.publicKey;if(!i)throw new Lt;return e.feePayer=e.feePayer||i,e.recentBlockhash=e.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,e}}function Iw(t){if(typeof window>"u"||typeof document>"u")return;const e=[];function n(){if(t())for(const o of e)o()}const r=setInterval(n,1e3);e.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),document.readyState!=="complete"&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}function xf(){if(!navigator)return!1;const t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),n=t.includes("safari");return e&&n}function gi(t){return"version"in t}class zR extends Rw{async sendTransaction(e,n,r={}){let i=!0;try{if(gi(e)){if(!this.supportedTransactionVersions)throw new Gi("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new Gi(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const o=e.serialize();return await n.sendRawTransaction(o,r)}catch(o){throw o instanceof qr?(i=!1,o):new Gi(o==null?void 0:o.message,o)}}else try{const{signers:o,...s}=r;e=await this.prepareTransaction(e,n,s),o!=null&&o.length&&e.partialSign(...o),e=await this.signTransaction(e);const a=e.serialize();return await n.sendRawTransaction(a,s)}catch(o){throw o instanceof qr?(i=!1,o):new Gi(o==null?void 0:o.message,o)}}catch(o){throw i&&this.emit("error",o),o}}async signAllTransactions(e){for(const r of e)if(gi(r)){if(!this.supportedTransactionVersions)throw new qr("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new qr(`Signing transaction version ${r.version} isn't supported by this wallet`)}const n=[];for(const r of e)n.push(await this.signTransaction(r));return n}}class Mh extends zR{}class nL extends Mh{}const pi="solana:signAndSendTransaction",hd="solana:signIn",fs="solana:signMessage",sn="solana:signTransaction",rL="solana:signAndSendAllTransactions",iL=Object.freeze(Object.defineProperty({__proto__:null,SignAndSendAllTransactions:rL,SolanaSignAndSendTransaction:pi,SolanaSignIn:hd,SolanaSignMessage:fs,SolanaSignTransaction:sn},Symbol.toStringTag,{value:"Module"})),iu="standard:connect",oL=iu,Wc="standard:disconnect",sL=Wc,ou="standard:events",aL=ou,lL=Object.freeze(Object.defineProperty({__proto__:null,Connect:oL,Disconnect:sL,Events:aL,StandardConnect:iu,StandardDisconnect:Wc,StandardEvents:ou},Symbol.toStringTag,{value:"Module"}));function jR(t){return iu in t.features&&ou in t.features&&(pi in t.features||sn in t.features)}var Tf;(function(t){t.Mainnet="mainnet-beta",t.Testnet="testnet",t.Devnet="devnet"})(Tf||(Tf={}));const cL=Object.freeze(Object.defineProperty({__proto__:null,BaseMessageSignerWalletAdapter:Mh,BaseSignInMessageSignerWalletAdapter:nL,BaseSignerWalletAdapter:zR,BaseWalletAdapter:Rw,EventEmitter:_h,WalletAccountError:ko,get WalletAdapterNetwork(){return Tf},WalletConfigError:Es,WalletConnectionError:jc,WalletDisconnectedError:Th,WalletDisconnectionError:kh,WalletError:Et,WalletKeypairError:X6,WalletLoadError:UR,WalletNotConnectedError:Lt,WalletNotReadyError:cl,WalletPublicKeyError:ul,get WalletReadyState(){return We},WalletSendTransactionError:Gi,WalletSignInError:Fg,WalletSignMessageError:Ch,WalletSignTransactionError:qr,WalletTimeoutError:J6,WalletWindowBlockedError:eL,WalletWindowClosedError:tL,isIosAndRedirectable:xf,isVersionedTransaction:gi,isWalletAdapterCompatibleStandardWallet:jR,scopePollingDetectionStrategy:Iw},Symbol.toStringTag,{value:"Module"}));class n_ extends Et{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const uL=[],Oh={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){Hr("call","select")},connect(){return Promise.reject(Hr("call","connect"))},disconnect(){return Promise.reject(Hr("call","disconnect"))},sendTransaction(){return Promise.reject(Hr("call","sendTransaction"))},signTransaction(){return Promise.reject(Hr("call","signTransaction"))},signAllTransactions(){return Promise.reject(Hr("call","signAllTransactions"))},signMessage(){return Promise.reject(Hr("call","signMessage"))},signIn(){return Promise.reject(Hr("call","signIn"))}};Object.defineProperty(Oh,"wallets",{get(){return Hr("read","wallets"),uL}});Object.defineProperty(Oh,"wallet",{get(){return Hr("read","wallet"),null}});Object.defineProperty(Oh,"publicKey",{get(){return Hr("read","publicKey"),null}});function Hr(t,e){const n=new Error(`You have tried to ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}const WR=te.createContext(Oh);function Lh(){return te.useContext(WR)}function dL(t,e){const n=te.useState(()=>{try{const o=localStorage.getItem(t);if(o)return JSON.parse(o)}catch(o){typeof window<"u"&&console.error(o)}return e}),r=n[0],i=te.useRef(!0);return te.useEffect(()=>{if(i.current){i.current=!1;return}try{r===null?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(r))}catch(o){typeof window<"u"&&console.error(o)}},[r,t]),n}var es={};const fL=ro(cL),Nw=ro(Z6),FR=ro(iL);var Ii={},su={},hL=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},$R={},Rr={};let xw;const pL=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Rr.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Rr.getSymbolTotalCodewords=function(e){return pL[e]};Rr.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Rr.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');xw=e};Rr.isKanjiModeEnabled=function(){return typeof xw<"u"};Rr.toSJIS=function(e){return xw(e)};var Bh={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(Bh);function HR(){this.buffer=[],this.length=0}HR.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var gL=HR;function au(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}au.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)};au.prototype.get=function(t,e){return this.data[t*this.size+e]};au.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};au.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var mL=au,KR={};(function(t){const e=Rr.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,o=e(r),s=o===145?26:Math.ceil((o-13)/(2*i-2))*2,a=[o-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-s;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],o=t.getRowColCoords(r),s=o.length;for(let a=0;a<s;a++)for(let l=0;l<s;l++)a===0&&l===0||a===0&&l===s-1||a===s-1&&l===0||i.push([o[a],o[l]]);return i}})(KR);var VR={};const yL=Rr.getSymbolSize,r_=7;VR.getPositions=function(e){const n=yL(e);return[[0,0],[n-r_,0],[0,n-r_]]};var GR={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const o=i.size;let s=0,a=0,l=0,c=null,d=null;for(let g=0;g<o;g++){a=l=0,c=d=null;for(let p=0;p<o;p++){let f=i.get(g,p);f===c?a++:(a>=5&&(s+=e.N1+(a-5)),c=f,a=1),f=i.get(p,g),f===d?l++:(l>=5&&(s+=e.N1+(l-5)),d=f,l=1)}a>=5&&(s+=e.N1+(a-5)),l>=5&&(s+=e.N1+(l-5))}return s},t.getPenaltyN2=function(i){const o=i.size;let s=0;for(let a=0;a<o-1;a++)for(let l=0;l<o-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&s++}return s*e.N2},t.getPenaltyN3=function(i){const o=i.size;let s=0,a=0,l=0;for(let c=0;c<o;c++){a=l=0;for(let d=0;d<o;d++)a=a<<1&2047|i.get(c,d),d>=10&&(a===1488||a===93)&&s++,l=l<<1&2047|i.get(d,c),d>=10&&(l===1488||l===93)&&s++}return s*e.N3},t.getPenaltyN4=function(i){let o=0;const s=i.data.length;for(let l=0;l<s;l++)o+=i.data[l];return Math.abs(Math.ceil(o*100/s/5)-10)*e.N4};function n(r,i,o){switch(r){case t.Patterns.PATTERN000:return(i+o)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return o%3===0;case t.Patterns.PATTERN011:return(i+o)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(o/3))%2===0;case t.Patterns.PATTERN101:return i*o%2+i*o%3===0;case t.Patterns.PATTERN110:return(i*o%2+i*o%3)%2===0;case t.Patterns.PATTERN111:return(i*o%3+(i+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,o){const s=o.size;for(let a=0;a<s;a++)for(let l=0;l<s;l++)o.isReserved(l,a)||o.xor(l,a,n(i,l,a))},t.getBestMask=function(i,o){const s=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<s;c++){o(c),t.applyMask(c,i);const d=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(c,i),d<l&&(l=d,a=c)}return a}})(GR);var Ph={};const Co=Bh,$u=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Hu=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Ph.getBlocksCount=function(e,n){switch(n){case Co.L:return $u[(e-1)*4+0];case Co.M:return $u[(e-1)*4+1];case Co.Q:return $u[(e-1)*4+2];case Co.H:return $u[(e-1)*4+3];default:return}};Ph.getTotalCodewordsCount=function(e,n){switch(n){case Co.L:return Hu[(e-1)*4+0];case Co.M:return Hu[(e-1)*4+1];case Co.Q:return Hu[(e-1)*4+2];case Co.H:return Hu[(e-1)*4+3];default:return}};var qR={},Dh={};const fc=new Uint8Array(512),kf=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)fc[n]=e,kf[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)fc[n]=fc[n-255]})();Dh.log=function(e){if(e<1)throw new Error("log("+e+")");return kf[e]};Dh.exp=function(e){return fc[e]};Dh.mul=function(e,n){return e===0||n===0?0:fc[kf[e]+kf[n]]};(function(t){const e=Dh;t.mul=function(r,i){const o=new Uint8Array(r.length+i.length-1);for(let s=0;s<r.length;s++)for(let a=0;a<i.length;a++)o[s+a]^=e.mul(r[s],i[a]);return o},t.mod=function(r,i){let o=new Uint8Array(r);for(;o.length-i.length>=0;){const s=o[0];for(let l=0;l<i.length;l++)o[l]^=e.mul(i[l],s);let a=0;for(;a<o.length&&o[a]===0;)a++;o=o.slice(a)}return o},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let o=0;o<r;o++)i=t.mul(i,new Uint8Array([1,e.exp(o)]));return i}})(qR);const YR=qR;function Tw(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Tw.prototype.initialize=function(e){this.degree=e,this.genPoly=YR.generateECPolynomial(this.degree)};Tw.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=YR.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const o=new Uint8Array(this.degree);return o.set(r,i),o}return r};var wL=Tw,ZR={},ts={},kw={};kw.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Ni={};const QR="[0-9]+",vL="[A-Z $%*+\\-./:]+";let Fc="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Fc=Fc.replace(/u/g,"\\u");const _L="(?:(?![A-Z0-9 $%*+\\-./:]|"+Fc+`)(?:.|[\r
]))+`;Ni.KANJI=new RegExp(Fc,"g");Ni.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Ni.BYTE=new RegExp(_L,"g");Ni.NUMERIC=new RegExp(QR,"g");Ni.ALPHANUMERIC=new RegExp(vL,"g");const EL=new RegExp("^"+Fc+"$"),bL=new RegExp("^"+QR+"$"),SL=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Ni.testKanji=function(e){return EL.test(e)};Ni.testNumeric=function(e){return bL.test(e)};Ni.testAlphanumeric=function(e){return SL.test(e)};(function(t){const e=kw,n=Ni;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(o,s){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?o.ccBits[0]:s<27?o.ccBits[1]:o.ccBits[2]},t.getBestModeForData=function(o){return n.testNumeric(o)?t.NUMERIC:n.testAlphanumeric(o)?t.ALPHANUMERIC:n.testKanji(o)?t.KANJI:t.BYTE},t.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},t.isValid=function(o){return o&&o.bit&&o.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(o,s){if(t.isValid(o))return o;try{return r(o)}catch{return s}}})(ts);(function(t){const e=Rr,n=Ph,r=Bh,i=ts,o=kw,s=7973,a=e.getBCHDigit(s);function l(p,f,m){for(let R=1;R<=40;R++)if(f<=t.getCapacity(R,m,p))return R}function c(p,f){return i.getCharCountIndicator(p,f)+4}function d(p,f){let m=0;return p.forEach(function(R){const I=c(R.mode,f);m+=I+R.getBitsLength()}),m}function g(p,f){for(let m=1;m<=40;m++)if(d(p,m)<=t.getCapacity(m,f,i.MIXED))return m}t.from=function(f,m){return o.isValid(f)?parseInt(f,10):m},t.getCapacity=function(f,m,R){if(!o.isValid(f))throw new Error("Invalid QR Code version");typeof R>"u"&&(R=i.BYTE);const I=e.getSymbolTotalCodewords(f),w=n.getTotalCodewordsCount(f,m),b=(I-w)*8;if(R===i.MIXED)return b;const _=b-c(R,f);switch(R){case i.NUMERIC:return Math.floor(_/10*3);case i.ALPHANUMERIC:return Math.floor(_/11*2);case i.KANJI:return Math.floor(_/13);case i.BYTE:default:return Math.floor(_/8)}},t.getBestVersionForData=function(f,m){let R;const I=r.from(m,r.M);if(Array.isArray(f)){if(f.length>1)return g(f,I);if(f.length===0)return 1;R=f[0]}else R=f;return l(R.mode,R.getLength(),I)},t.getEncodedBits=function(f){if(!o.isValid(f)||f<7)throw new Error("Invalid QR Code version");let m=f<<12;for(;e.getBCHDigit(m)-a>=0;)m^=s<<e.getBCHDigit(m)-a;return f<<12|m}})(ZR);var XR={};const $g=Rr,JR=1335,AL=21522,i_=$g.getBCHDigit(JR);XR.getEncodedBits=function(e,n){const r=e.bit<<3|n;let i=r<<10;for(;$g.getBCHDigit(i)-i_>=0;)i^=JR<<$g.getBCHDigit(i)-i_;return(r<<10|i)^AL};var e2={};const RL=ts;function dl(t){this.mode=RL.NUMERIC,this.data=t.toString()}dl.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};dl.prototype.getLength=function(){return this.data.length};dl.prototype.getBitsLength=function(){return dl.getBitsLength(this.data.length)};dl.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);const o=this.data.length-n;o>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,o*3+1))};var IL=dl;const NL=ts,a0=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function fl(t){this.mode=NL.ALPHANUMERIC,this.data=t}fl.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};fl.prototype.getLength=function(){return this.data.length};fl.prototype.getBitsLength=function(){return fl.getBitsLength(this.data.length)};fl.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=a0.indexOf(this.data[n])*45;r+=a0.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(a0.indexOf(this.data[n]),6)};var xL=fl;const TL=ts;function hl(t){this.mode=TL.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}hl.getBitsLength=function(e){return e*8};hl.prototype.getLength=function(){return this.data.length};hl.prototype.getBitsLength=function(){return hl.getBitsLength(this.data.length)};hl.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var kL=hl;const CL=ts,ML=Rr;function pl(t){this.mode=CL.KANJI,this.data=t}pl.getBitsLength=function(e){return e*13};pl.prototype.getLength=function(){return this.data.length};pl.prototype.getBitsLength=function(){return pl.getBitsLength(this.data.length)};pl.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=ML.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var OL=pl,t2={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,i){var o={},s={};s[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,d,g,p,f,m,R,I;!a.empty();){l=a.pop(),c=l.value,g=l.cost,p=n[c]||{};for(d in p)p.hasOwnProperty(d)&&(f=p[d],m=g+f,R=s[d],I=typeof s[d]>"u",(I||R>m)&&(s[d]=m,a.push(d,m),o[d]=c))}if(typeof i<"u"&&typeof s[i]>"u"){var w=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(w)}return o},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],o=r;o;)i.push(o),n[o],o=n[o];return i.reverse(),i},find_path:function(n,r,i){var o=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(o,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},o;n=n||{};for(o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(t2);var LL=t2.exports;(function(t){const e=ts,n=IL,r=xL,i=kL,o=OL,s=Ni,a=Rr,l=LL;function c(w){return unescape(encodeURIComponent(w)).length}function d(w,b,_){const N=[];let L;for(;(L=w.exec(_))!==null;)N.push({data:L[0],index:L.index,mode:b,length:L[0].length});return N}function g(w){const b=d(s.NUMERIC,e.NUMERIC,w),_=d(s.ALPHANUMERIC,e.ALPHANUMERIC,w);let N,L;return a.isKanjiModeEnabled()?(N=d(s.BYTE,e.BYTE,w),L=d(s.KANJI,e.KANJI,w)):(N=d(s.BYTE_KANJI,e.BYTE,w),L=[]),b.concat(_,N,L).sort(function(O,U){return O.index-U.index}).map(function(O){return{data:O.data,mode:O.mode,length:O.length}})}function p(w,b){switch(b){case e.NUMERIC:return n.getBitsLength(w);case e.ALPHANUMERIC:return r.getBitsLength(w);case e.KANJI:return o.getBitsLength(w);case e.BYTE:return i.getBitsLength(w)}}function f(w){return w.reduce(function(b,_){const N=b.length-1>=0?b[b.length-1]:null;return N&&N.mode===_.mode?(b[b.length-1].data+=_.data,b):(b.push(_),b)},[])}function m(w){const b=[];for(let _=0;_<w.length;_++){const N=w[_];switch(N.mode){case e.NUMERIC:b.push([N,{data:N.data,mode:e.ALPHANUMERIC,length:N.length},{data:N.data,mode:e.BYTE,length:N.length}]);break;case e.ALPHANUMERIC:b.push([N,{data:N.data,mode:e.BYTE,length:N.length}]);break;case e.KANJI:b.push([N,{data:N.data,mode:e.BYTE,length:c(N.data)}]);break;case e.BYTE:b.push([{data:N.data,mode:e.BYTE,length:c(N.data)}])}}return b}function R(w,b){const _={},N={start:{}};let L=["start"];for(let j=0;j<w.length;j++){const O=w[j],U=[];for(let P=0;P<O.length;P++){const W=O[P],$=""+j+P;U.push($),_[$]={node:W,lastCount:0},N[$]={};for(let H=0;H<L.length;H++){const A=L[H];_[A]&&_[A].node.mode===W.mode?(N[A][$]=p(_[A].lastCount+W.length,W.mode)-p(_[A].lastCount,W.mode),_[A].lastCount+=W.length):(_[A]&&(_[A].lastCount=W.length),N[A][$]=p(W.length,W.mode)+4+e.getCharCountIndicator(W.mode,b))}}L=U}for(let j=0;j<L.length;j++)N[L[j]].end=0;return{map:N,table:_}}function I(w,b){let _;const N=e.getBestModeForData(w);if(_=e.from(b,N),_!==e.BYTE&&_.bit<N.bit)throw new Error('"'+w+'" cannot be encoded with mode '+e.toString(_)+`.
 Suggested mode is: `+e.toString(N));switch(_===e.KANJI&&!a.isKanjiModeEnabled()&&(_=e.BYTE),_){case e.NUMERIC:return new n(w);case e.ALPHANUMERIC:return new r(w);case e.KANJI:return new o(w);case e.BYTE:return new i(w)}}t.fromArray=function(b){return b.reduce(function(_,N){return typeof N=="string"?_.push(I(N,null)):N.data&&_.push(I(N.data,N.mode)),_},[])},t.fromString=function(b,_){const N=g(b,a.isKanjiModeEnabled()),L=m(N),j=R(L,_),O=l.find_path(j.map,"start","end"),U=[];for(let P=1;P<O.length-1;P++)U.push(j.table[O[P]].node);return t.fromArray(f(U))},t.rawSplit=function(b){return t.fromArray(g(b,a.isKanjiModeEnabled()))}})(e2);const Uh=Rr,l0=Bh,BL=gL,PL=mL,DL=KR,UL=VR,Hg=GR,Kg=Ph,zL=wL,Cf=ZR,jL=XR,WL=ts,c0=e2;function FL(t,e){const n=t.size,r=UL.getPositions(e);for(let i=0;i<r.length;i++){const o=r[i][0],s=r[i][1];for(let a=-1;a<=7;a++)if(!(o+a<=-1||n<=o+a))for(let l=-1;l<=7;l++)s+l<=-1||n<=s+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(o+a,s+l,!0,!0):t.set(o+a,s+l,!1,!0))}}function $L(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function HL(t,e){const n=DL.getPositions(e);for(let r=0;r<n.length;r++){const i=n[r][0],o=n[r][1];for(let s=-2;s<=2;s++)for(let a=-2;a<=2;a++)s===-2||s===2||a===-2||a===2||s===0&&a===0?t.set(i+s,o+a,!0,!0):t.set(i+s,o+a,!1,!0)}}function KL(t,e){const n=t.size,r=Cf.getEncodedBits(e);let i,o,s;for(let a=0;a<18;a++)i=Math.floor(a/3),o=a%3+n-8-3,s=(r>>a&1)===1,t.set(i,o,s,!0),t.set(o,i,s,!0)}function u0(t,e,n){const r=t.size,i=jL.getEncodedBits(e,n);let o,s;for(o=0;o<15;o++)s=(i>>o&1)===1,o<6?t.set(o,8,s,!0):o<8?t.set(o+1,8,s,!0):t.set(r-15+o,8,s,!0),o<8?t.set(8,r-o-1,s,!0):o<9?t.set(8,15-o-1+1,s,!0):t.set(8,15-o-1,s,!0);t.set(r-8,8,1,!0)}function VL(t,e){const n=t.size;let r=-1,i=n-1,o=7,s=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(i,a-l)){let c=!1;s<e.length&&(c=(e[s]>>>o&1)===1),t.set(i,a-l,c),o--,o===-1&&(s++,o=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function GL(t,e,n){const r=new BL;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),WL.getCharCountIndicator(l.mode,t)),l.write(r)});const i=Uh.getSymbolTotalCodewords(t),o=Kg.getTotalCodewordsCount(t,e),s=(i-o)*8;for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(s-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return qL(r,t,e)}function qL(t,e,n){const r=Uh.getSymbolTotalCodewords(e),i=Kg.getTotalCodewordsCount(e,n),o=r-i,s=Kg.getBlocksCount(e,n),a=r%s,l=s-a,c=Math.floor(r/s),d=Math.floor(o/s),g=d+1,p=c-d,f=new zL(p);let m=0;const R=new Array(s),I=new Array(s);let w=0;const b=new Uint8Array(t.buffer);for(let O=0;O<s;O++){const U=O<l?d:g;R[O]=b.slice(m,m+U),I[O]=f.encode(R[O]),m+=U,w=Math.max(w,U)}const _=new Uint8Array(r);let N=0,L,j;for(L=0;L<w;L++)for(j=0;j<s;j++)L<R[j].length&&(_[N++]=R[j][L]);for(L=0;L<p;L++)for(j=0;j<s;j++)_[N++]=I[j][L];return _}function YL(t,e,n,r){let i;if(Array.isArray(t))i=c0.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const d=c0.rawSplit(t);c=Cf.getBestVersionForData(d,n)}i=c0.fromString(t,c||40)}else throw new Error("Invalid data");const o=Cf.getBestVersionForData(i,n);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);const s=GL(e,n,i),a=Uh.getSymbolSize(e),l=new PL(a);return FL(l,e),$L(l),HL(l,e),u0(l,n,0),e>=7&&KL(l,e),VL(l,s),isNaN(r)&&(r=Hg.getBestMask(l,u0.bind(null,l,n))),Hg.applyMask(r,l),u0(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}$R.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=l0.M,i,o;return typeof n<"u"&&(r=l0.from(n.errorCorrectionLevel,l0.M),i=Cf.from(n.version),o=Hg.from(n.maskPattern),n.toSJISFunc&&Uh.setToSJISFunction(n.toSJISFunc)),YL(e,i,r,o)};var n2={},Cw={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,s=r.scale||4;return{width:o,scale:o?4:s,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const o=t.getScale(r,i);return Math.floor((r+i.margin*2)*o)},t.qrToImageData=function(r,i,o){const s=i.modules.size,a=i.modules.data,l=t.getScale(s,o),c=Math.floor((s+o.margin*2)*l),d=o.margin*l,g=[o.color.light,o.color.dark];for(let p=0;p<c;p++)for(let f=0;f<c;f++){let m=(p*c+f)*4,R=o.color.light;if(p>=d&&f>=d&&p<c-d&&f<c-d){const I=Math.floor((p-d)/l),w=Math.floor((f-d)/l);R=g[a[I*s+w]?1:0]}r[m++]=R.r,r[m++]=R.g,r[m++]=R.b,r[m]=R.a}}})(Cw);(function(t){const e=Cw;function n(i,o,s){i.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=s,o.width=s,o.style.height=s+"px",o.style.width=s+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(o,s,a){let l=a,c=s;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),s||(c=r()),l=e.getOptions(l);const d=e.getImageWidth(o.modules.size,l),g=c.getContext("2d"),p=g.createImageData(d,d);return e.qrToImageData(p.data,o,l),n(g,c,d),g.putImageData(p,0,0),c},t.renderToDataURL=function(o,s,a){let l=a;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),l||(l={});const c=t.render(o,s,l),d=l.type||"image/png",g=l.rendererOpts||{};return c.toDataURL(d,g.quality)}})(n2);var r2={};const ZL=Cw;function o_(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function d0(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function QL(t,e,n){let r="",i=0,o=!1,s=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!o&&(o=!0),t[a]?(s++,a>0&&l>0&&t[a-1]||(r+=o?d0("M",l+n,.5+c+n):d0("m",i,0),i=0,o=!1),l+1<e&&t[a+1]||(r+=d0("h",s),s=0)):i++}return r}r2.render=function(e,n,r){const i=ZL.getOptions(n),o=e.modules.size,s=e.modules.data,a=o+i.margin*2,l=i.color.light.a?"<path "+o_(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+o_(i.color.dark,"stroke")+' d="'+QL(s,o,i.margin)+'"/>',d='viewBox="0 0 '+a+" "+a+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+d+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,p),p};const XL=hL,Vg=$R,i2=n2,JL=r2;function Mw(t,e,n,r,i){const o=[].slice.call(arguments,1),s=o.length,a=typeof o[s-1]=="function";if(!a&&!XL())throw new Error("Callback required as last argument");if(a){if(s<2)throw new Error("Too few arguments provided");s===2?(i=n,n=e,e=r=void 0):s===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(n=e,e=r=void 0):s===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,c){try{const d=Vg.create(n,r);l(t(d,e,r))}catch(d){c(d)}})}try{const l=Vg.create(n,r);i(null,t(l,e,r))}catch(l){i(l)}}su.create=Vg.create;su.toCanvas=Mw.bind(null,i2.render);su.toDataURL=Mw.bind(null,i2.renderToDataURL);su.toString=Mw.bind(null,function(t,e,n){return JL.render(t,n)});const eB=ro(lL);var Jn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SOLANA_CHAINS=t.SOLANA_LOCALNET_CHAIN=t.SOLANA_TESTNET_CHAIN=t.SOLANA_DEVNET_CHAIN=t.SOLANA_MAINNET_CHAIN=void 0,t.isSolanaChain=e,t.SOLANA_MAINNET_CHAIN="solana:mainnet",t.SOLANA_DEVNET_CHAIN="solana:devnet",t.SOLANA_TESTNET_CHAIN="solana:testnet",t.SOLANA_LOCALNET_CHAIN="solana:localnet",t.SOLANA_CHAINS=[t.SOLANA_MAINNET_CHAIN,t.SOLANA_DEVNET_CHAIN,t.SOLANA_TESTNET_CHAIN,t.SOLANA_LOCALNET_CHAIN];function e(n){return t.SOLANA_CHAINS.includes(n)}})(Jn);var xi={};function pd(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const Mf="https://api.mainnet-beta.solana.com",o2="https://api.devnet.solana.com",s2="https://api.testnet.solana.com",a2="http://localhost:8899";function l2(t){return t.includes(Mf)?Jn.SOLANA_MAINNET_CHAIN:/\bdevnet\b/i.test(t)?Jn.SOLANA_DEVNET_CHAIN:/\btestnet\b/i.test(t)?Jn.SOLANA_TESTNET_CHAIN:/\blocalhost\b/i.test(t)||/\b127\.0\.0\.1\b/.test(t)?Jn.SOLANA_LOCALNET_CHAIN:Jn.SOLANA_MAINNET_CHAIN}function tB(t,e){return e||(t===Jn.SOLANA_MAINNET_CHAIN?Mf:t===Jn.SOLANA_DEVNET_CHAIN?o2:t===Jn.SOLANA_TESTNET_CHAIN?s2:t===Jn.SOLANA_LOCALNET_CHAIN?a2:Mf)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ow=BigInt(0),Gg=BigInt(1);function qg(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function gd(t,e,n=""){const r=Jo(t),i=t==null?void 0:t.length,o=e!==void 0;if(!r||o&&i!==e){const s=n&&`"${n}" `,a=o?` of length ${e}`:"",l=r?`length=${i}`:`type=${typeof t}`;throw new Error(s+"expected Uint8Array"+a+", got "+l)}return t}function c2(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Ow:BigInt("0x"+t)}function nB(t){return c2(wi(t))}function Of(t){return Ei(t),c2(wi(Uint8Array.from(t).reverse()))}function u2(t,e){return nl(t.toString(16).padStart(e*2,"0"))}function rB(t,e){return u2(t,e).reverse()}function po(t,e,n){let r;if(typeof e=="string")try{r=nl(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(Jo(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function s_(t){return Uint8Array.from(t)}const f0=t=>typeof t=="bigint"&&Ow<=t;function iB(t,e,n){return f0(t)&&f0(e)&&f0(n)&&e<=t&&t<n}function a_(t,e,n,r){if(!iB(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function oB(t){let e;for(e=0;t>Ow;t>>=Gg,e+=1);return e}const Lw=t=>(Gg<<BigInt(t))-Gg;function Bw(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,o,s){const a=t[i];if(s&&a===void 0)return;const l=typeof a;if(l!==o||a===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${l}`)}Object.entries(e).forEach(([i,o])=>r(i,o,!1)),Object.entries(n).forEach(([i,o])=>r(i,o,!0))}function l_(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const o=t(n,...r);return e.set(n,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rr=BigInt(0),Hn=BigInt(1),bs=BigInt(2),d2=BigInt(3),f2=BigInt(4),h2=BigInt(5),sB=BigInt(7),p2=BigInt(8),aB=BigInt(9),g2=BigInt(16);function ln(t,e){const n=t%e;return n>=rr?n:e+n}function oi(t,e,n){let r=t;for(;e-- >rr;)r*=r,r%=n;return r}function c_(t,e){if(t===rr)throw new Error("invert: expected non-zero number");if(e<=rr)throw new Error("invert: expected positive modulus, got "+e);let n=ln(t,e),r=e,i=rr,o=Hn;for(;n!==rr;){const a=r/n,l=r%n,c=i-o*a;r=n,n=l,i=o,o=c}if(r!==Hn)throw new Error("invert: does not exist");return ln(i,e)}function Pw(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function m2(t,e){const n=(t.ORDER+Hn)/f2,r=t.pow(e,n);return Pw(t,r,e),r}function lB(t,e){const n=(t.ORDER-h2)/p2,r=t.mul(e,bs),i=t.pow(r,n),o=t.mul(e,i),s=t.mul(t.mul(o,bs),i),a=t.mul(o,t.sub(s,t.ONE));return Pw(t,a,e),a}function cB(t){const e=lu(t),n=y2(t),r=n(e,e.neg(e.ONE)),i=n(e,r),o=n(e,e.neg(r)),s=(t+sB)/g2;return(a,l)=>{let c=a.pow(l,s),d=a.mul(c,r);const g=a.mul(c,i),p=a.mul(c,o),f=a.eql(a.sqr(d),l),m=a.eql(a.sqr(g),l);c=a.cmov(c,d,f),d=a.cmov(p,g,m);const R=a.eql(a.sqr(d),l),I=a.cmov(c,d,R);return Pw(a,I,l),I}}function y2(t){if(t<d2)throw new Error("sqrt is not defined for small field");let e=t-Hn,n=0;for(;e%bs===rr;)e/=bs,n++;let r=bs;const i=lu(t);for(;u_(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return m2;let o=i.pow(r,e);const s=(e+Hn)/bs;return function(l,c){if(l.is0(c))return c;if(u_(l,c)!==1)throw new Error("Cannot find square root");let d=n,g=l.mul(l.ONE,o),p=l.pow(c,e),f=l.pow(c,s);for(;!l.eql(p,l.ONE);){if(l.is0(p))return l.ZERO;let m=1,R=l.sqr(p);for(;!l.eql(R,l.ONE);)if(m++,R=l.sqr(R),m===d)throw new Error("Cannot find square root");const I=Hn<<BigInt(d-m-1),w=l.pow(g,I);d=m,g=l.sqr(w),p=l.mul(p,g),f=l.mul(f,w)}return f}}function uB(t){return t%f2===d2?m2:t%p2===h2?lB:t%g2===aB?cB(t):y2(t)}const dB=(t,e)=>(ln(t,e)&Hn)===Hn,fB=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function hB(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=fB.reduce((r,i)=>(r[i]="function",r),e);return Bw(t,n),t}function pB(t,e,n){if(n<rr)throw new Error("invalid exponent, negatives unsupported");if(n===rr)return t.ONE;if(n===Hn)return e;let r=t.ONE,i=e;for(;n>rr;)n&Hn&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Hn;return r}function w2(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((s,a,l)=>t.is0(a)?s:(r[l]=s,t.mul(s,a)),t.ONE),o=t.inv(i);return e.reduceRight((s,a,l)=>t.is0(a)?s:(r[l]=t.mul(s,r[l]),t.mul(s,a)),o),r}function u_(t,e){const n=(t.ORDER-Hn)/bs,r=t.pow(e,n),i=t.eql(r,t.ONE),o=t.eql(r,t.ZERO),s=t.eql(r,t.neg(t.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function gB(t,e){e!==void 0&&el(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function lu(t,e,n=!1,r={}){if(t<=rr)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,o,s=!1,a;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const p=e;p.BITS&&(i=p.BITS),p.sqrt&&(o=p.sqrt),typeof p.isLE=="boolean"&&(n=p.isLE),typeof p.modFromBytes=="boolean"&&(s=p.modFromBytes),a=p.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(o=r.sqrt);const{nBitLength:l,nByteLength:c}=gB(t,i);if(c>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let d;const g=Object.freeze({ORDER:t,isLE:n,BITS:l,BYTES:c,MASK:Lw(l),ZERO:rr,ONE:Hn,allowedLengths:a,create:p=>ln(p,t),isValid:p=>{if(typeof p!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof p);return rr<=p&&p<t},is0:p=>p===rr,isValidNot0:p=>!g.is0(p)&&g.isValid(p),isOdd:p=>(p&Hn)===Hn,neg:p=>ln(-p,t),eql:(p,f)=>p===f,sqr:p=>ln(p*p,t),add:(p,f)=>ln(p+f,t),sub:(p,f)=>ln(p-f,t),mul:(p,f)=>ln(p*f,t),pow:(p,f)=>pB(g,p,f),div:(p,f)=>ln(p*c_(f,t),t),sqrN:p=>p*p,addN:(p,f)=>p+f,subN:(p,f)=>p-f,mulN:(p,f)=>p*f,inv:p=>c_(p,t),sqrt:o||(p=>(d||(d=uB(t)),d(g,p))),toBytes:p=>n?rB(p,c):u2(p,c),fromBytes:(p,f=!0)=>{if(a){if(!a.includes(p.length)||p.length>c)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+p.length);const R=new Uint8Array(c);R.set(p,n?0:R.length-p.length),p=R}if(p.length!==c)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+p.length);let m=n?Of(p):nB(p);if(s&&(m=ln(m,t)),!f&&!g.isValid(m))throw new Error("invalid field element: outside of range 0..ORDER");return m},invertBatch:p=>w2(g,p),cmov:(p,f,m)=>m?f:p});return Object.freeze(g)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Lf=BigInt(0),Yg=BigInt(1);function d_(t,e){const n=e.negate();return t?n:e}function Ku(t,e){const n=w2(t.Fp,e.map(r=>r.Z));return e.map((r,i)=>t.fromAffine(r.toAffine(n[i])))}function v2(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function h0(t,e){v2(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,o=Lw(t),s=BigInt(t);return{windows:n,windowSize:r,mask:o,maxNumber:i,shiftBy:s}}function f_(t,e,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=n;let a=Number(t&i),l=t>>s;a>r&&(a-=o,l+=Yg);const c=e*r,d=c+Math.abs(a)-1,g=a===0,p=a<0,f=e%2!==0;return{nextN:l,offset:d,isZero:g,isNeg:p,isNegF:f,offsetF:c}}function mB(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function yB(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const p0=new WeakMap,_2=new WeakMap;function g0(t){return _2.get(t)||1}function h_(t){if(t!==Lf)throw new Error("invalid wNAF")}class wB{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let i=e;for(;n>Lf;)n&Yg&&(r=r.add(i)),i=i.double(),n>>=Yg;return r}precomputeWindow(e,n){const{windows:r,windowSize:i}=h0(n,this.bits),o=[];let s=e,a=s;for(let l=0;l<r;l++){a=s,o.push(a);for(let c=1;c<i;c++)a=a.add(s),o.push(a);s=a.double()}return o}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,o=this.BASE;const s=h0(e,this.bits);for(let a=0;a<s.windows;a++){const{nextN:l,offset:c,isZero:d,isNeg:g,isNegF:p,offsetF:f}=f_(r,a,s);r=l,d?o=o.add(d_(p,n[f])):i=i.add(d_(g,n[c]))}return h_(r),{p:i,f:o}}wNAFUnsafe(e,n,r,i=this.ZERO){const o=h0(e,this.bits);for(let s=0;s<o.windows&&r!==Lf;s++){const{nextN:a,offset:l,isZero:c,isNeg:d}=f_(r,s,o);if(r=a,!c){const g=n[l];i=i.add(d?g.negate():g)}}return h_(r),i}getPrecomputes(e,n,r){let i=p0.get(n);return i||(i=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(i=r(i)),p0.set(n,i))),i}cached(e,n,r){const i=g0(e);return this.wNAF(i,this.getPrecomputes(i,e,r),n)}unsafe(e,n,r,i){const o=g0(e);return o===1?this._unsafeLadder(e,n,i):this.wNAFUnsafe(o,this.getPrecomputes(o,e,r),n,i)}createCache(e,n){v2(n,this.bits),_2.set(e,n),p0.delete(e)}hasCache(e){return g0(e)!==1}}function vB(t,e,n,r){mB(n,t),yB(r,e);const i=n.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,a=oB(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=Lw(l),d=new Array(Number(c)+1).fill(s),g=Math.floor((e.BITS-1)/l)*l;let p=s;for(let f=g;f>=0;f-=l){d.fill(s);for(let R=0;R<o;R++){const I=r[R],w=Number(I>>BigInt(f)&c);d[w]=d[w].add(n[R])}let m=s;for(let R=d.length-1,I=s;R>0;R--)I=I.add(d[R]),m=m.add(I);if(p=p.add(m),f!==0)for(let R=0;R<l;R++)p=p.double()}return p}function p_(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return hB(e),e}else return lu(t,{isLE:n})}function _B(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const l of["p","n","h"]){const c=e[l];if(!(typeof c=="bigint"&&c>Lf))throw new Error(`CURVE.${l} must be positive bigint`)}const i=p_(e.p,n.Fp,r),o=p_(e.n,n.Fn,r),a=["Gx","Gy","a","d"];for(const l of a)if(!i.isValid(e[l]))throw new Error(`CURVE.${l} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ho=BigInt(0),hn=BigInt(1),m0=BigInt(2),EB=BigInt(8);function bB(t,e,n,r){const i=t.sqr(n),o=t.sqr(r),s=t.add(t.mul(e.a,i),o),a=t.add(t.ONE,t.mul(e.d,t.mul(i,o)));return t.eql(s,a)}function SB(t,e={}){const n=_B("edwards",t,e,e.FpFnLE),{Fp:r,Fn:i}=n;let o=n.CURVE;const{h:s}=o;Bw(e,{},{uvRatio:"function"});const a=m0<<BigInt(i.BYTES*8)-hn,l=I=>r.create(I),c=e.uvRatio||((I,w)=>{try{return{isValid:!0,value:r.sqrt(r.div(I,w))}}catch{return{isValid:!1,value:ho}}});if(!bB(r,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function d(I,w,b=!1){const _=b?hn:ho;return a_("coordinate "+I,w,_,a),w}function g(I){if(!(I instanceof m))throw new Error("ExtendedPoint expected")}const p=l_((I,w)=>{const{X:b,Y:_,Z:N}=I,L=I.is0();w==null&&(w=L?EB:r.inv(N));const j=l(b*w),O=l(_*w),U=r.mul(N,w);if(L)return{x:ho,y:hn};if(U!==hn)throw new Error("invZ was invalid");return{x:j,y:O}}),f=l_(I=>{const{a:w,d:b}=o;if(I.is0())throw new Error("bad point: ZERO");const{X:_,Y:N,Z:L,T:j}=I,O=l(_*_),U=l(N*N),P=l(L*L),W=l(P*P),$=l(O*w),H=l(P*l($+U)),A=l(W+l(b*l(O*U)));if(H!==A)throw new Error("bad point: equation left != right (1)");const u=l(_*N),h=l(L*j);if(u!==h)throw new Error("bad point: equation left != right (2)");return!0});class m{constructor(w,b,_,N){this.X=d("x",w),this.Y=d("y",b),this.Z=d("z",_,!0),this.T=d("t",N),Object.freeze(this)}static CURVE(){return o}static fromAffine(w){if(w instanceof m)throw new Error("extended point not allowed");const{x:b,y:_}=w||{};return d("x",b),d("y",_),new m(b,_,hn,l(b*_))}static fromBytes(w,b=!1){const _=r.BYTES,{a:N,d:L}=o;w=s_(gd(w,_,"point")),qg(b,"zip215");const j=s_(w),O=w[_-1];j[_-1]=O&-129;const U=Of(j),P=b?a:r.ORDER;a_("point.y",U,ho,P);const W=l(U*U),$=l(W-hn),H=l(L*W-N);let{isValid:A,value:u}=c($,H);if(!A)throw new Error("bad point: invalid y coordinate");const h=(u&hn)===hn,S=(O&128)!==0;if(!b&&u===ho&&S)throw new Error("bad point: x=0 and x_0=1");return S!==h&&(u=l(-u)),m.fromAffine({x:u,y:U})}static fromHex(w,b=!1){return m.fromBytes(po("point",w),b)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(w=8,b=!0){return R.createCache(this,w),b||this.multiply(m0),this}assertValidity(){f(this)}equals(w){g(w);const{X:b,Y:_,Z:N}=this,{X:L,Y:j,Z:O}=w,U=l(b*O),P=l(L*N),W=l(_*O),$=l(j*N);return U===P&&W===$}is0(){return this.equals(m.ZERO)}negate(){return new m(l(-this.X),this.Y,this.Z,l(-this.T))}double(){const{a:w}=o,{X:b,Y:_,Z:N}=this,L=l(b*b),j=l(_*_),O=l(m0*l(N*N)),U=l(w*L),P=b+_,W=l(l(P*P)-L-j),$=U+j,H=$-O,A=U-j,u=l(W*H),h=l($*A),S=l(W*A),T=l(H*$);return new m(u,h,T,S)}add(w){g(w);const{a:b,d:_}=o,{X:N,Y:L,Z:j,T:O}=this,{X:U,Y:P,Z:W,T:$}=w,H=l(N*U),A=l(L*P),u=l(O*_*$),h=l(j*W),S=l((N+L)*(U+P)-H-A),T=h-u,x=h+u,M=l(A-b*H),z=l(S*T),C=l(x*M),y=l(S*M),D=l(T*x);return new m(z,C,D,y)}subtract(w){return this.add(w.negate())}multiply(w){if(!i.isValidNot0(w))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:b,f:_}=R.cached(this,w,N=>Ku(m,N));return Ku(m,[b,_])[0]}multiplyUnsafe(w,b=m.ZERO){if(!i.isValid(w))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return w===ho?m.ZERO:this.is0()||w===hn?this:R.unsafe(this,w,_=>Ku(m,_),b)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}isTorsionFree(){return R.unsafe(this,o.n).is0()}toAffine(w){return p(this,w)}clearCofactor(){return s===hn?this:this.multiplyUnsafe(s)}toBytes(){const{x:w,y:b}=this.toAffine(),_=r.toBytes(b);return _[_.length-1]|=w&hn?128:0,_}toHex(){return wi(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(w){return Ku(m,w)}static msm(w,b){return vB(m,i,w,b)}_setWindowSize(w){this.precompute(w)}toRawBytes(){return this.toBytes()}}m.BASE=new m(o.Gx,o.Gy,hn,l(o.Gx*o.Gy)),m.ZERO=new m(ho,hn,hn,ho),m.Fp=r,m.Fn=i;const R=new wB(m,i.BITS);return m.BASE.precompute(8),m}function AB(t,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');Bw(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:i,Fp:o,Fn:s}=t,a=n.randomBytes||fh,l=n.adjustScalarBytes||(P=>P),c=n.domain||((P,W,$)=>{if(qg($,"phflag"),W.length||$)throw new Error("Contexts/pre-hash are not supported");return P});function d(P){return s.create(Of(P))}function g(P){const W=_.secretKey;P=po("private key",P,W);const $=po("hashed private key",e(P),2*W),H=l($.slice(0,W)),A=$.slice(W,2*W),u=d(H);return{head:H,prefix:A,scalar:u}}function p(P){const{head:W,prefix:$,scalar:H}=g(P),A=i.multiply(H),u=A.toBytes();return{head:W,prefix:$,scalar:H,point:A,pointBytes:u}}function f(P){return p(P).pointBytes}function m(P=Uint8Array.of(),...W){const $=Mr(...W);return d(e(c($,po("context",P),!!r)))}function R(P,W,$={}){P=po("message",P),r&&(P=r(P));const{prefix:H,scalar:A,pointBytes:u}=p(W),h=m($.context,H,P),S=i.multiply(h).toBytes(),T=m($.context,S,u,P),x=s.create(h+T*A);if(!s.isValid(x))throw new Error("sign failed: invalid s");const M=Mr(S,s.toBytes(x));return gd(M,_.signature,"result")}const I={zip215:!0};function w(P,W,$,H=I){const{context:A,zip215:u}=H,h=_.signature;P=po("signature",P,h),W=po("message",W),$=po("publicKey",$,_.publicKey),u!==void 0&&qg(u,"zip215"),r&&(W=r(W));const S=h/2,T=P.subarray(0,S),x=Of(P.subarray(S,h));let M,z,C;try{M=t.fromBytes($,u),z=t.fromBytes(T,u),C=i.multiplyUnsafe(x)}catch{return!1}if(!u&&M.isSmallOrder())return!1;const y=m(A,z.toBytes(),M.toBytes(),W);return z.add(M.multiplyUnsafe(y)).subtract(C).clearCofactor().is0()}const b=o.BYTES,_={secretKey:b,publicKey:b,signature:2*b,seed:b};function N(P=a(_.seed)){return gd(P,_.seed,"seed")}function L(P){const W=U.randomSecretKey(P);return{secretKey:W,publicKey:f(W)}}function j(P){return Jo(P)&&P.length===s.BYTES}function O(P,W){try{return!!t.fromBytes(P,W)}catch{return!1}}const U={getExtendedPublicKey:p,randomSecretKey:N,isValidSecretKey:j,isValidPublicKey:O,toMontgomery(P){const{y:W}=t.fromBytes(P),$=_.publicKey,H=$===32;if(!H&&$!==57)throw new Error("only defined for 25519 and 448");const A=H?o.div(hn+W,hn-W):o.div(W-hn,W+hn);return o.toBytes(A)},toMontgomerySecret(P){const W=_.secretKey;gd(P,W);const $=e(P.subarray(0,W));return l($).subarray(0,W)},randomPrivateKey:N,precompute(P=8,W=t.BASE){return W.precompute(P,!1)}};return Object.freeze({keygen:L,getPublicKey:f,sign:R,verify:w,utils:U,Point:t,lengths:_})}function RB(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=lu(e.n,t.nBitLength,!0),i={Fp:n,Fn:r,uvRatio:t.uvRatio},o={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:i,hash:t.hash,eddsaOpts:o}}function IB(t,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:t,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function NB(t){const{CURVE:e,curveOpts:n,hash:r,eddsaOpts:i}=RB(t),o=SB(e,n),s=AB(o,r,i);return IB(t,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xB=BigInt(1),g_=BigInt(2);BigInt(3);const TB=BigInt(5),kB=BigInt(8),Dw=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),E2={p:Dw,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:kB,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function CB(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=Dw,a=t*t%o*t%o,l=oi(a,g_,o)*a%o,c=oi(l,xB,o)*t%o,d=oi(c,TB,o)*c%o,g=oi(d,e,o)*d%o,p=oi(g,n,o)*g%o,f=oi(p,r,o)*p%o,m=oi(f,i,o)*f%o,R=oi(m,i,o)*f%o,I=oi(R,e,o)*d%o;return{pow_p_5_8:oi(I,g_,o)*t%o,b2:a}}function MB(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const m_=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function OB(t,e){const n=Dw,r=ln(e*e*e,n),i=ln(r*r*e,n),o=CB(t*i).pow_p_5_8;let s=ln(t*r*o,n);const a=ln(e*s*s,n),l=s,c=ln(s*m_,n),d=a===t,g=a===ln(-t,n),p=a===ln(-t*m_,n);return d&&(s=l),(g||p)&&(s=c),dB(s,n)&&(s=ln(-s,n)),{isValid:d||g,value:s}}const LB=lu(E2.p,{isLE:!0}),BB={...E2,Fp:LB,hash:ZS,adjustScalarBytes:MB,uvRatio:OB},PB=NB(BB);function b2(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function DB(t,e){return b2(t,e)}function Uw({message:t,signedMessage:e,signature:n,publicKey:r}){return DB(t,e)&&PB.verify(n,e,r)}function UB(t,e){const{message:n,account:{publicKey:r}}=t,{signedMessage:i,signature:o}=e;return Uw({message:n,signedMessage:i,signature:o,publicKey:r})}function zB(t,e){const{signedMessage:n,signature:r,account:{publicKey:i}}=e,o=S2(t,e);return!!o&&Uw({message:o,signedMessage:n,signature:r,publicKey:i})}function S2(t,e){const n=A2(t,e);return n?new TextEncoder().encode(n):null}function A2(t,e){const n=R2(e.signedMessage);if(!n||t.domain&&t.domain!==n.domain||t.address&&t.address!==n.address||t.statement!==n.statement||t.uri!==n.uri||t.version!==n.version||t.chainId!==n.chainId||t.nonce!==n.nonce||t.issuedAt!==n.issuedAt||t.expirationTime!==n.expirationTime||t.notBefore!==n.notBefore||t.requestId!==n.requestId)return null;if(t.resources){if(!n.resources||!b2(t.resources,n.resources))return null}else if(n.resources)return null;return zw(n)}function R2(t){const e=new TextDecoder().decode(t);return I2(e)}const jB="(?<domain>[^\\n]+?) wants you to sign in with your Solana account:\\n",WB="(?<address>[^\\n]+)(?:\\n|$)",FB="(?:\\n(?<statement>[\\S\\s]*?)(?:\\n|$))??",$B="(?:\\nURI: (?<uri>[^\\n]+))?",HB="(?:\\nVersion: (?<version>[^\\n]+))?",KB="(?:\\nChain ID: (?<chainId>[^\\n]+))?",VB="(?:\\nNonce: (?<nonce>[^\\n]+))?",GB="(?:\\nIssued At: (?<issuedAt>[^\\n]+))?",qB="(?:\\nExpiration Time: (?<expirationTime>[^\\n]+))?",YB="(?:\\nNot Before: (?<notBefore>[^\\n]+))?",ZB="(?:\\nRequest ID: (?<requestId>[^\\n]+))?",QB="(?:\\nResources:(?<resources>(?:\\n- [^\\n]+)*))?",XB=`${$B}${HB}${KB}${VB}${GB}${qB}${YB}${ZB}${QB}`,JB=new RegExp(`^${jB}${WB}${FB}${XB}\\n*$`);function I2(t){var r;const e=JB.exec(t);if(!e)return null;const n=e.groups;return n?{domain:n.domain,address:n.address,statement:n.statement,uri:n.uri,version:n.version,nonce:n.nonce,chainId:n.chainId,issuedAt:n.issuedAt,expirationTime:n.expirationTime,notBefore:n.notBefore,requestId:n.requestId,resources:(r=n.resources)==null?void 0:r.split(`
- `).slice(1)}:null}function e8(t){const e=zw(t);return new TextEncoder().encode(e)}function zw(t){let e=`${t.domain} wants you to sign in with your Solana account:
`;e+=`${t.address}`,t.statement&&(e+=`

${t.statement}`);const n=[];if(t.uri&&n.push(`URI: ${t.uri}`),t.version&&n.push(`Version: ${t.version}`),t.chainId&&n.push(`Chain ID: ${t.chainId}`),t.nonce&&n.push(`Nonce: ${t.nonce}`),t.issuedAt&&n.push(`Issued At: ${t.issuedAt}`),t.expirationTime&&n.push(`Expiration Time: ${t.expirationTime}`),t.notBefore&&n.push(`Not Before: ${t.notBefore}`),t.requestId&&n.push(`Request ID: ${t.requestId}`),t.resources){n.push("Resources:");for(const r of t.resources)n.push(`- ${r}`)}return n.length&&(e+=`

${n.join(`
`)}`),e}const t8=Object.freeze(Object.defineProperty({__proto__:null,DEVNET_ENDPOINT:o2,LOCALNET_ENDPOINT:a2,MAINNET_ENDPOINT:Mf,TESTNET_ENDPOINT:s2,createSignInMessage:e8,createSignInMessageText:zw,deriveSignInMessage:S2,deriveSignInMessageText:A2,getChainForEndpoint:l2,getCommitment:pd,getEndpointForChain:tB,parseSignInMessage:R2,parseSignInMessageText:I2,verifyMessageSignature:Uw,verifySignIn:zB,verifySignMessage:UB},Symbol.toStringTag,{value:"Module"})),n8=ro(t8);Object.defineProperty(xi,"__esModule",{value:!0});var r8=n8;const wr={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_REFLECTOR_ID_OUT_OF_RANGE:"ERROR_REFLECTOR_ID_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION",ERROR_BROWSER_NOT_SUPPORTED:"ERROR_BROWSER_NOT_SUPPORTED"};class vr extends Error{constructor(...e){const[n,r,i]=e;super(r),this.code=n,this.data=i,this.name="SolanaMobileWalletAdapterError"}}const i8={ERROR_AUTHORIZATION_FAILED:-1,ERROR_INVALID_PAYLOADS:-2,ERROR_NOT_SIGNED:-3,ERROR_NOT_SUBMITTED:-4,ERROR_TOO_MANY_PAYLOADS:-5,ERROR_ATTEST_ORIGIN_ANDROID:-100};class zh extends Error{constructor(...e){const[n,r,i,o]=e;super(i),this.code=r,this.data=o,this.jsonRpcMessageId=n,this.name="SolanaMobileWalletAdapterProtocolError"}}function Ve(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(g){s(g)}}function l(d){try{c(r.throw(d))}catch(g){s(g)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(t,[])).next())})}function o8(t){return window.btoa(t)}function Zg(t,e){const n=window.btoa(String.fromCharCode.call(null,...t));return e?n.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):n}function s8(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function md(t,e){return Ve(this,void 0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",t),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),i=new Uint8Array(n.byteLength+r.byteLength);return i.set(new Uint8Array(n),0),i.set(new Uint8Array(r),n.byteLength),i})}function a8(t){return r8.createSignInMessageText(t)}function l8(t){return o8(a8(t))}const N2="solana:signTransactions",Qg="solana:cloneAuthorization",c8="solana:signInWithSolana";function x2(t,e){return new Proxy({},{get(n,r){return r==="then"?null:(n[r]==null&&(n[r]=function(i){return Ve(this,void 0,void 0,function*(){const{method:o,params:s}=u8(r,i,t),a=yield e(o,s);return o==="authorize"&&s.sign_in_payload&&!a.sign_in_result&&(a.sign_in_result=yield f8(s.sign_in_payload,a,e)),d8(r,a,t)})}),n[r])},defineProperty(){return!1},deleteProperty(){return!1}})}function u8(t,e,n){let r=e,i=t.toString().replace(/[A-Z]/g,o=>`_${o.toLowerCase()}`).toLowerCase();switch(t){case"authorize":{let{chain:o}=r;if(n==="legacy"){switch(o){case"solana:testnet":{o="testnet";break}case"solana:devnet":{o="devnet";break}case"solana:mainnet":{o="mainnet-beta";break}default:o=r.cluster}r.cluster=o}else{switch(o){case"testnet":case"devnet":{o=`solana:${o}`;break}case"mainnet-beta":{o="solana:mainnet";break}}r.chain=o}}case"reauthorize":{const{auth_token:o,identity:s}=r;if(o)switch(n){case"legacy":{i="reauthorize",r={auth_token:o,identity:s};break}default:{i="authorize";break}}break}}return{method:i,params:r}}function d8(t,e,n){switch(t){case"getCapabilities":{const r=e;switch(n){case"legacy":{const i=[N2];return r.supports_clone_authorization===!0&&i.push(Qg),Object.assign(Object.assign({},r),{features:i})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(Qg)})}}}return e}function f8(t,e,n){var r;return Ve(this,void 0,void 0,function*(){const i=(r=t.domain)!==null&&r!==void 0?r:window.location.host,o=e.accounts[0].address,s=l8(Object.assign(Object.assign({},t),{domain:i,address:o})),a=yield n("sign_messages",{addresses:[o],payloads:[s]});return{address:o,signed_message:s,signature:a.signed_payloads[0].slice(s.length)}})}const qi=4;function h8(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(qi);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}const Xg=12,jw=65;function p8(t,e,n){return Ve(this,void 0,void 0,function*(){const r=h8(e),i=new Uint8Array(Xg);crypto.getRandomValues(i);const o=yield crypto.subtle.encrypt(k2(r,i),n,new TextEncoder().encode(t)),s=new Uint8Array(r.byteLength+i.byteLength+o.byteLength);return s.set(new Uint8Array(r),0),s.set(new Uint8Array(i),r.byteLength),s.set(new Uint8Array(o),r.byteLength+i.byteLength),s})}function T2(t,e){return Ve(this,void 0,void 0,function*(){const n=t.slice(0,qi),r=t.slice(qi,qi+Xg),i=t.slice(qi+Xg),o=yield crypto.subtle.decrypt(k2(n,r),e,i);return g8().decode(o)})}function k2(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let y0;function g8(){return y0===void 0&&(y0=new TextDecoder("utf-8")),y0}function C2(){return Ve(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function yd(){return Ve(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function M2(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let i=0;i<r;i++)e+=String.fromCharCode(n[i]);return window.btoa(e)}function m8(){return O2(49152+Math.floor(Math.random()*16384))}function O2(t){if(t<49152||t>65535)throw new vr(wr.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function L2(t){return t.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const y8="solana-wallet";function y_(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function B2(t,e){let n=null;if(e){try{n=new URL(e)}catch{}if((n==null?void 0:n.protocol)!=="https:")throw new vr(wr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${y8}:/`));const r=t.startsWith("/")?t:[...y_(n.pathname),...y_(t)].join("/");return new URL(r,n)}function w8(t,e,n,r=["v1"]){return Ve(this,void 0,void 0,function*(){const i=O2(e),o=yield crypto.subtle.exportKey("raw",t),s=M2(o),a=B2("v1/associate/local",n);return a.searchParams.set("association",L2(s)),a.searchParams.set("port",`${i}`),r.forEach(l=>{a.searchParams.set("v",l)}),a})}function v8(t,e,n,r,i=["v1"]){return Ve(this,void 0,void 0,function*(){const o=yield crypto.subtle.exportKey("raw",t),s=M2(o),a=B2("v1/associate/remote",r);return a.searchParams.set("association",L2(s)),a.searchParams.set("reflector",`${e}`),a.searchParams.set("id",`${Zg(n,!0)}`),i.forEach(l=>{a.searchParams.set("v",l)}),a})}function P2(t,e){return Ve(this,void 0,void 0,function*(){const n=JSON.stringify(t),r=t.id;return p8(n,r,e)})}function D2(t,e){return Ve(this,void 0,void 0,function*(){const n=yield T2(t,e),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new zh(r.id,r.error.code,r.error.message);return r})}function U2(t,e,n){return Ve(this,void 0,void 0,function*(){const[r,i]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t.slice(0,jw),{name:"ECDH",namedCurve:"P-256"},!1,[])]),o=yield crypto.subtle.deriveBits({name:"ECDH",public:i},n,256),s=yield crypto.subtle.importKey("raw",o,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},s,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function z2(t,e){return Ve(this,void 0,void 0,function*(){const n=yield T2(t,e),r=JSON.parse(n);let i="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":i="v1";break;case"legacy":i="legacy";break;default:throw new vr(wr.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:i}})}const Bf={Firefox:0,Other:1};function _8(){return navigator.userAgent.indexOf("Firefox/")!==-1?Bf.Firefox:Bf.Other}function E8(){return new Promise((t,e)=>{function n(){clearTimeout(i),window.removeEventListener("blur",r)}function r(){n(),t()}window.addEventListener("blur",r);const i=setTimeout(()=>{n(),e()},3e3)})}let Ul=null;function b8(t){Ul==null&&(Ul=document.createElement("iframe"),Ul.style.display="none",document.body.appendChild(Ul)),Ul.contentWindow.location.href=t.toString()}function S8(t){return Ve(this,void 0,void 0,function*(){if(t.protocol==="https:")window.location.assign(t);else try{const e=_8();switch(e){case Bf.Firefox:b8(t);break;case Bf.Other:{const n=E8();window.location.assign(t),yield n;break}default:}}catch{throw new vr(wr.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function A8(t,e){return Ve(this,void 0,void 0,function*(){const n=m8(),r=yield w8(t,n,e);return yield S8(r),n})}const Pf={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},j2="com.solana.mobilewalletadapter.v1",w_="com.solana.mobilewalletadapter.v1.base64";function W2(){if(typeof window>"u"||window.isSecureContext!==!0)throw new vr(wr.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function F2(t){let e;try{e=new URL(t)}catch{throw new vr(wr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new vr(wr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function Df(t){return new DataView(t).getUint32(0,!1)}function R8(t){var e=new Uint8Array(t),n=t.byteLength,r=10,i=0,o=0,s;do{if(o>=n||o>r)throw new RangeError("Failed to decode varint");s=e[o++],i|=(s&127)<<7*o}while(s>=128);return{value:i,offset:o}}function I8(t){let{value:e,offset:n}=R8(t);return new Uint8Array(t.slice(n,n+e))}function N8(t,e){return Ve(this,void 0,void 0,function*(){W2();const n=yield C2(),i=`ws://localhost:${yield A8(n.publicKey,e==null?void 0:e.baseUri)}/solana-wallet`;let o;const s=(()=>{const d=[...Pf.retryDelayScheduleMs];return()=>d.length>1?d.shift():d[0]})();let a=1,l=0,c={__type:"disconnected"};return new Promise((d,g)=>{let p;const f={},m=()=>Ve(this,void 0,void 0,function*(){if(c.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${c.__type}\`.`);return}p.removeEventListener("open",m);const{associationKeypair:L}=c,j=yield yd();p.send(yield md(j.publicKey,L.privateKey)),c={__type:"hello_req_sent",associationPublicKey:L.publicKey,ecdhPrivateKey:j.privateKey}}),R=L=>{L.wasClean?c={__type:"disconnected"}:g(new vr(wr.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${L.code}: ${L.reason}).`,{closeEvent:L})),b()},I=L=>Ve(this,void 0,void 0,function*(){b(),Date.now()-o>=Pf.timeoutMs?g(new vr(wr.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${i}.`)):(yield new Promise(j=>{const O=s();_=window.setTimeout(j,O)}),N())}),w=L=>Ve(this,void 0,void 0,function*(){const j=yield L.data.arrayBuffer();switch(c.__type){case"connecting":if(j.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const O=yield yd();p.send(yield md(O.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:O.privateKey};break;case"connected":try{const U=j.slice(0,qi),P=Df(U);if(P!==l+1)throw new Error("Encrypted message has invalid sequence number");l=P;const W=yield D2(j,c.sharedSecret),$=f[W.id];delete f[W.id],$.resolve(W.result)}catch(U){if(U instanceof zh){const P=f[U.jsonRpcMessageId];delete f[U.jsonRpcMessageId],P.reject(U)}else throw U}break;case"hello_req_sent":{if(j.byteLength===0){const H=yield yd();p.send(yield md(H.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:H.privateKey};break}const U=yield U2(j,c.associationPublicKey,c.ecdhPrivateKey),P=j.slice(jw),W=P.byteLength!==0?yield Ve(this,void 0,void 0,function*(){const H=P.slice(0,qi),A=Df(H);if(A!==l+1)throw new Error("Encrypted message has invalid sequence number");return l=A,z2(P,U)}):{protocol_version:"legacy"};c={__type:"connected",sharedSecret:U,sessionProperties:W};const $=x2(W.protocol_version,(H,A)=>Ve(this,void 0,void 0,function*(){const u=a++;return p.send(yield P2({id:u,jsonrpc:"2.0",method:H,params:A??{}},U)),new Promise((h,S)=>{f[u]={resolve(T){switch(H){case"authorize":case"reauthorize":{const{wallet_uri_base:x}=T;if(x!=null)try{F2(x)}catch(M){S(M);return}break}}h(T)},reject:S}})}));try{d(yield t($))}catch(H){g(H)}finally{b(),p.close()}break}}});let b,_;const N=()=>{b&&b(),c={__type:"connecting",associationKeypair:n},o===void 0&&(o=Date.now()),p=new WebSocket(i,[j2]),p.addEventListener("open",m),p.addEventListener("close",R),p.addEventListener("error",I),p.addEventListener("message",w),b=()=>{window.clearTimeout(_),p.removeEventListener("open",m),p.removeEventListener("close",R),p.removeEventListener("error",I),p.removeEventListener("message",w)}};N()})})}function x8(t){return Ve(this,void 0,void 0,function*(){W2();const e=yield C2(),n=`wss://${t==null?void 0:t.remoteHostAuthority}/reflect`;let r;const i=(()=>{const R=[...Pf.retryDelayScheduleMs];return()=>R.length>1?R.shift():R[0]})();let o=1,s=0,a,l={__type:"disconnected"},c,d,g=R=>Ve(this,void 0,void 0,function*(){if(a=="base64"){const I=yield R.data;return s8(I).buffer}else return yield R.data.arrayBuffer()});const p=yield new Promise((R,I)=>{const w=()=>Ve(this,void 0,void 0,function*(){if(l.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${l.__type}\`.`);return}c.protocol.includes(w_)?a="base64":a="binary",c.removeEventListener("open",w)}),b=O=>{O.wasClean?l={__type:"disconnected"}:I(new vr(wr.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${O.code}: ${O.reason}).`,{closeEvent:O})),d()},_=O=>Ve(this,void 0,void 0,function*(){d(),Date.now()-r>=Pf.timeoutMs?I(new vr(wr.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${n}.`)):(yield new Promise(U=>{const P=i();L=window.setTimeout(U,P)}),j())}),N=O=>Ve(this,void 0,void 0,function*(){const U=yield g(O);if(l.__type==="connecting"){if(U.byteLength==0)throw new Error("Encountered unexpected message while connecting");const P=I8(U);l={__type:"reflector_id_received",reflectorId:P};const W=yield v8(e.publicKey,t.remoteHostAuthority,P,t==null?void 0:t.baseUri);c.removeEventListener("message",N),R(W)}});let L;const j=()=>{d&&d(),l={__type:"connecting",associationKeypair:e},r===void 0&&(r=Date.now()),c=new WebSocket(n,[j2,w_]),c.addEventListener("open",w),c.addEventListener("close",b),c.addEventListener("error",_),c.addEventListener("message",N),d=()=>{window.clearTimeout(L),c.removeEventListener("open",w),c.removeEventListener("close",b),c.removeEventListener("error",_),c.removeEventListener("message",N)}};j()});let f=!1,m;return{associationUrl:p,close:()=>{c.close(),m()},wallet:new Promise((R,I)=>{const w={},b=_=>Ve(this,void 0,void 0,function*(){const N=yield g(_);switch(l.__type){case"reflector_id_received":if(N.byteLength!==0)throw new Error("Encountered unexpected message while awaiting reflection");const L=yield yd(),j=yield md(L.publicKey,e.privateKey);a=="base64"?c.send(Zg(j)):c.send(j),l={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:L.privateKey};break;case"connected":try{const O=N.slice(0,qi),U=Df(O);if(U!==s+1)throw new Error("Encrypted message has invalid sequence number");s=U;const P=yield D2(N,l.sharedSecret),W=w[P.id];delete w[P.id],W.resolve(P.result)}catch(O){if(O instanceof zh){const U=w[O.jsonRpcMessageId];delete w[O.jsonRpcMessageId],U.reject(O)}else throw O}break;case"hello_req_sent":{const O=yield U2(N,l.associationPublicKey,l.ecdhPrivateKey),U=N.slice(jw),P=U.byteLength!==0?yield Ve(this,void 0,void 0,function*(){const $=U.slice(0,qi),H=Df($);if(H!==s+1)throw new Error("Encrypted message has invalid sequence number");return s=H,z2(U,O)}):{protocol_version:"legacy"};l={__type:"connected",sharedSecret:O,sessionProperties:P};const W=x2(P.protocol_version,($,H)=>Ve(this,void 0,void 0,function*(){const A=o++,u=yield P2({id:A,jsonrpc:"2.0",method:$,params:H??{}},O);return a=="base64"?c.send(Zg(u)):c.send(u),new Promise((h,S)=>{w[A]={resolve(T){switch($){case"authorize":case"reauthorize":{const{wallet_uri_base:x}=T;if(x!=null)try{F2(x)}catch(M){S(M);return}break}}h(T)},reject:S}})}));f=!0;try{R(W)}catch($){I($)}break}}});c.addEventListener("message",b),m=()=>{c.removeEventListener("message",b),d(),f||I(new vr(wr.ERROR_SESSION_CLOSED,"The wallet session was closed before connection.",{closeEvent:new CloseEvent("socket was closed before connection")}))}})}})}xi.SolanaCloneAuthorization=Qg;xi.SolanaMobileWalletAdapterError=vr;xi.SolanaMobileWalletAdapterErrorCode=wr;xi.SolanaMobileWalletAdapterProtocolError=zh;xi.SolanaMobileWalletAdapterProtocolErrorCode=i8;xi.SolanaSignInWithSolana=c8;xi.SolanaSignTransactions=N2;var T8=xi.startRemoteScenario=x8,k8=xi.transact=N8;function C8(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function d(f){if(f instanceof Uint8Array||(ArrayBuffer.isView(f)?f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength):Array.isArray(f)&&(f=Uint8Array.from(f))),!(f instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(f.length===0)return"";for(var m=0,R=0,I=0,w=f.length;I!==w&&f[I]===0;)I++,m++;for(var b=(w-I)*c+1>>>0,_=new Uint8Array(b);I!==w;){for(var N=f[I],L=0,j=b-1;(N!==0||L<R)&&j!==-1;j--,L++)N+=256*_[j]>>>0,_[j]=N%s>>>0,N=N/s>>>0;if(N!==0)throw new Error("Non-zero carry");R=L,I++}for(var O=b-R;O!==b&&_[O]===0;)O++;for(var U=a.repeat(m);O<b;++O)U+=t.charAt(_[O]);return U}function g(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return new Uint8Array;for(var m=0,R=0,I=0;f[m]===a;)R++,m++;for(var w=(f.length-m)*l+1>>>0,b=new Uint8Array(w);f[m];){var _=f.charCodeAt(m);if(_>255)return;var N=e[_];if(N===255)return;for(var L=0,j=w-1;(N!==0||L<I)&&j!==-1;j--,L++)N+=s*b[j]>>>0,b[j]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");I=L,m++}for(var O=w-I;O!==w&&b[O]===0;)O++;for(var U=new Uint8Array(R+(w-O)),P=R;O!==w;)U[P++]=b[O++];return U}function p(f){var m=g(f);if(m)return m;throw new Error("Non-base"+s+" character")}return{encode:d,decodeUnsafe:g,decode:p}}var M8=C8;const O8=M8,L8="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var B8=O8(L8);const P8=no(B8);function w0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function hc(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(g){s(g)}}function l(d){try{c(r.throw(d))}catch(g){s(g)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(t,[])).next())})}function $2(t){return window.btoa(String.fromCharCode.call(null,...t))}function v0(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function v_(t){const e="version"in t?t.serialize():t.serialize({requireAllSignatures:!1,verifySignatures:!1});return $2(e)}function D8(t){const n=t[0]*ol+1;return Sh.deserializeMessageVersion(t.slice(n,t.length))==="legacy"?Oe.from(t):sl.deserialize(t)}function U8(t,e){return hc(this,void 0,void 0,function*(){return yield k8(r=>t(H2(r)),e)})}function z8(t){return hc(this,void 0,void 0,function*(){const{wallet:e,close:n,associationUrl:r}=yield T8(t);return{wallet:e.then(o=>H2(o)),close:n,associationUrl:r}})}function H2(t){return new Proxy({},{get(e,n){if(e[n]==null)switch(n){case"signAndSendTransactions":e[n]=function(r){var{minContextSlot:i,commitment:o,skipPreflight:s,maxRetries:a,waitForCommitmentToSendNextTransaction:l,transactions:c}=r,d=w0(r,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return hc(this,void 0,void 0,function*(){const g=c.map(v_),p={min_context_slot:i,commitment:o,skip_preflight:s,max_retries:a,wait_for_commitment_to_send_next_transaction:l},{signatures:f}=yield t.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},d),Object.values(p).some(R=>R!=null)?{options:p}:null),{payloads:g}));return f.map(v0).map(P8.encode)})};break;case"signMessages":e[n]=function(r){var{payloads:i}=r,o=w0(r,["payloads"]);return hc(this,void 0,void 0,function*(){const s=i.map($2),{signed_payloads:a}=yield t.signMessages(Object.assign(Object.assign({},o),{payloads:s}));return a.map(v0)})};break;case"signTransactions":e[n]=function(r){var{transactions:i}=r,o=w0(r,["transactions"]);return hc(this,void 0,void 0,function*(){const s=i.map(v_),{signed_payloads:a}=yield t.signTransactions(Object.assign(Object.assign({},o),{payloads:s}));return a.map(v0).map(D8)})};break;default:{e[n]=t[n];break}}return e[n]},defineProperty(){return!1},deleteProperty(){return!1}})}const j8=Object.freeze(Object.defineProperty({__proto__:null,startRemoteScenario:z8,transact:U8},Symbol.toStringTag,{value:"Module"})),W8=ro(j8);function F8(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function d(f){if(f instanceof Uint8Array||(ArrayBuffer.isView(f)?f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength):Array.isArray(f)&&(f=Uint8Array.from(f))),!(f instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(f.length===0)return"";for(var m=0,R=0,I=0,w=f.length;I!==w&&f[I]===0;)I++,m++;for(var b=(w-I)*c+1>>>0,_=new Uint8Array(b);I!==w;){for(var N=f[I],L=0,j=b-1;(N!==0||L<R)&&j!==-1;j--,L++)N+=256*_[j]>>>0,_[j]=N%s>>>0,N=N/s>>>0;if(N!==0)throw new Error("Non-zero carry");R=L,I++}for(var O=b-R;O!==b&&_[O]===0;)O++;for(var U=a.repeat(m);O<b;++O)U+=t.charAt(_[O]);return U}function g(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return new Uint8Array;for(var m=0,R=0,I=0;f[m]===a;)R++,m++;for(var w=(f.length-m)*l+1>>>0,b=new Uint8Array(w);f[m];){var _=f.charCodeAt(m);if(_>255)return;var N=e[_];if(N===255)return;for(var L=0,j=w-1;(N!==0||L<I)&&j!==-1;j--,L++)N+=s*b[j]>>>0,b[j]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");I=L,m++}for(var O=w-I;O!==w&&b[O]===0;)O++;for(var U=new Uint8Array(R+(w-O)),P=R;O!==w;)U[P++]=b[O++];return U}function p(f){var m=g(f);if(m)return m;throw new Error("Non-base"+s+" character")}return{encode:d,decodeUnsafe:g,decode:p}}var $8=F8;const H8=$8,K8="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var V8=H8(K8);Object.defineProperty(Ii,"__esModule",{value:!0});var mn=FR,$c=Nw,G8=su,Ha=eB,__=Jn,K2=W8,q8=V8;function V2(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var Y8=V2(G8),Uf=V2(q8);function Re(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(g){s(g)}}function l(d){try{c(r.throw(d))}catch(g){s(g)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(t,[])).next())})}function V(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Me(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Kl,rn,ss,aa,G2,q2,Y2,wd;const Z8=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,Q8=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,X8=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class Z2{constructor(){Kl.add(this),rn.set(this,null),ss.set(this,{}),aa.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),V(this,Kl,"m",q2).call(this),V(this,rn,"f")&&(V(this,rn,"f").style.display="flex")},this.close=(e=void 0)=>{var n;console.debug("Modal close"),V(this,Kl,"m",Y2).call(this),V(this,rn,"f")&&(V(this,rn,"f").style.display="none"),(n=V(this,ss,"f").close)===null||n===void 0||n.forEach(r=>r(e))},wd.set(this,e=>{e.key==="Escape"&&this.close(e)}),this.init=this.init.bind(this),Me(this,rn,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return Re(this,void 0,void 0,function*(){console.log("Injecting modal"),V(this,Kl,"m",G2).call(this)})}addEventListener(e,n){var r;return!((r=V(this,ss,"f")[e])===null||r===void 0)&&r.push(n)||(V(this,ss,"f")[e]=[n]),()=>this.removeEventListener(e,n)}removeEventListener(e,n){var r;V(this,ss,"f")[e]=(r=V(this,ss,"f")[e])===null||r===void 0?void 0:r.filter(i=>n!==i)}}rn=new WeakMap,ss=new WeakMap,aa=new WeakMap,wd=new WeakMap,Kl=new WeakSet,G2=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){V(this,rn,"f")||Me(this,rn,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}Me(this,rn,document.createElement("div")),V(this,rn,"f").id="mobile-wallet-adapter-embedded-root-ui",V(this,rn,"f").innerHTML=Z8,V(this,rn,"f").style.display="none";const e=V(this,rn,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);const n=document.createElement("style");n.id="mobile-wallet-adapter-embedded-modal-styles",n.textContent=Q8+this.contentStyles;const r=document.createElement("div");r.innerHTML=X8,this.dom=r.attachShadow({mode:"closed"}),this.dom.appendChild(n),this.dom.appendChild(V(this,rn,"f")),document.body.appendChild(r)},q2=function(){if(!V(this,rn,"f")||V(this,aa,"f"))return;[...V(this,rn,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",V(this,wd,"f")),Me(this,aa,!0)},Y2=function(){if(!V(this,aa,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",V(this,wd,"f")),!V(this,rn,"f")))return;[...V(this,rn,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.removeEventListener("click",this.close)),Me(this,aa,!1)};class J8 extends Z2{constructor(){super(...arguments),this.contentStyles=t5,this.contentHtml=e5}initWithQR(e){const n=Object.create(null,{init:{get:()=>super.init}});return Re(this,void 0,void 0,function*(){n.init.call(this),this.populateQRCode(e)})}populateQRCode(e){var n;return Re(this,void 0,void 0,function*(){const r=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-embedded-modal-qr-code-container");if(r){const i=yield Y8.default.toCanvas(e,{width:200,margin:0});r.firstElementChild!==null?r.replaceChild(i,r.firstElementChild):r.appendChild(i)}else console.error("QRCode Container not found")})}}const e5=`
<div class="mobile-wallet-adapter-embedded-modal-qr-content">
    <div>
        <svg class="mobile-wallet-adapter-embedded-modal-icon" width="100%" height="100%">
            <circle r="52" cx="53" cy="53" fill="#99b3be" stroke="#000000" stroke-width="2"/>
            <path d="m 53,82.7305 c -3.3116,0 -6.1361,-1.169 -8.4735,-3.507 -2.338,-2.338 -3.507,-5.1625 -3.507,-8.4735 0,-3.3116 1.169,-6.1364 3.507,-8.4744 2.3374,-2.338 5.1619,-3.507 8.4735,-3.507 3.3116,0 6.1361,1.169 8.4735,3.507 2.338,2.338 3.507,5.1628 3.507,8.4744 0,3.311 -1.169,6.1355 -3.507,8.4735 -2.3374,2.338 -5.1619,3.507 -8.4735,3.507 z m 0.007,-5.25 c 1.8532,0 3.437,-0.6598 4.7512,-1.9793 1.3149,-1.3195 1.9723,-2.9058 1.9723,-4.7591 0,-1.8526 -0.6598,-3.4364 -1.9793,-4.7512 -1.3195,-1.3149 -2.9055,-1.9723 -4.7582,-1.9723 -1.8533,0 -3.437,0.6598 -4.7513,1.9793 -1.3148,1.3195 -1.9722,2.9058 -1.9722,4.7591 0,1.8527 0.6597,3.4364 1.9792,4.7512 1.3195,1.3149 2.9056,1.9723 4.7583,1.9723 z m -28,-33.5729 -3.85,-3.6347 c 4.1195,-4.025 8.8792,-7.1984 14.2791,-9.52 5.4005,-2.3223 11.2551,-3.4834 17.5639,-3.4834 6.3087,0 12.1634,1.1611 17.5639,3.4834 5.3999,2.3216 10.1596,5.495 14.2791,9.52 l -3.85,3.6347 C 77.2999,40.358 73.0684,37.5726 68.2985,35.5514 63.5292,33.5301 58.4296,32.5195 53,32.5195 c -5.4297,0 -10.5292,1.0106 -15.2985,3.0319 -4.7699,2.0212 -9.0014,4.8066 -12.6945,8.3562 z m 44.625,10.8771 c -2.2709,-2.1046 -4.7962,-3.7167 -7.5758,-4.8361 -2.7795,-1.12 -5.7983,-1.68 -9.0562,-1.68 -3.2579,0 -6.2621,0.56 -9.0125,1.68 -2.7504,1.1194 -5.2903,2.7315 -7.6195,4.8361 L 32.5189,51.15 c 2.8355,-2.6028 5.9777,-4.6086 9.4263,-6.0174 3.4481,-1.4087 7.133,-2.1131 11.0548,-2.1131 3.9217,0 7.5979,0.7044 11.0285,2.1131 3.43,1.4088 6.5631,3.4146 9.3992,6.0174 z"/>
        </svg>
        <div class="mobile-wallet-adapter-embedded-modal-title">Remote Mobile Wallet Adapter</div>
    </div>
    <div>
        <div>
            <h4 class="mobile-wallet-adapter-embedded-modal-qr-label">
                Open your wallet and scan this code
            </h4>
        </div>
        <div id="mobile-wallet-adapter-embedded-modal-qr-code-container" class="mobile-wallet-adapter-embedded-modal-qr-code-container"></div>
    </div>
</div>
<div class="mobile-wallet-adapter-embedded-modal-divider"><hr></div>
<div class="mobile-wallet-adapter-embedded-modal-footer">
    <div class="mobile-wallet-adapter-embedded-modal-subtitle">
        Follow the instructions on your device. When you're finished, this screen will update.
    </div>
    <div class="mobile-wallet-adapter-embedded-modal-progress-badge">
        <div>
            <div class="spinner">
                <div class="leftWrapper">
                    <div class="left">
                        <div class="circle"></div>
                    </div>
                </div>
                <div class="rightWrapper">
                    <div class="right">
                        <div class="circle"></div>
                    </div>
                </div>
            </div>
        </div>
        <div>Waiting for scan</div>
    </div>
</div>
`,t5=`
.mobile-wallet-adapter-embedded-modal-qr-content {
    display: flex; 
    margin-top: 10px;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
    display: flex;
    flex-direction: column;
    flex: 2;
    margin-top: auto;
    margin-right: 30px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
    display: flex;
    flex-direction: column;
    flex: 1;
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-footer {
    display: flex;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-icon {}

.mobile-wallet-adapter-embedded-modal-title {
    color: #000000;
    font-size: 2.5em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-qr-label {
    text-align: right;
    color: #000000;
}

.mobile-wallet-adapter-embedded-modal-qr-code-container {
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-divider {
    margin-top: 20px;
    padding-left: 10px;
    padding-right: 10px;
}

.mobile-wallet-adapter-embedded-modal-divider hr {
    border-top: 1px solid #D9DEDE;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: auto;
    margin-right: 60px;
    padding: 20px;
    color: #6E8286;
}

.mobile-wallet-adapter-embedded-modal-progress-badge {
    display: flex;
    background: #F7F8F8;
    height: 56px;
    min-width: 200px;
    margin: auto;
    padding-left: 20px;
    padding-right: 20px;
    border-radius: 18px;
    color: #A8B6B8;
    align-items: center;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:first-child {
    margin-left: auto;
    margin-right: 20px;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:nth-child(2) {
    margin-right: auto;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-card {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
        margin: auto;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
        margin: auto;
        flex: 2 auto;
    }
    .mobile-wallet-adapter-embedded-modal-footer {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-icon {
        display: none;
    }
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: unset;
    }
    .mobile-wallet-adapter-embedded-modal-qr-label {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-code-container {
        margin: auto;
    }
}

/* Spinner */
@keyframes spinLeft {
    0% {
        transform: rotate(20deg);
    }
    50% {
        transform: rotate(160deg);
    }
    100% {
        transform: rotate(20deg);
    }
}
@keyframes spinRight {
    0% {
        transform: rotate(160deg);
    }
    50% {
        transform: rotate(20deg);
    }
    100% {
        transform: rotate(160deg);
    }
}
@keyframes spin {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(2520deg);
    }
}

.spinner {
    position: relative;
    width: 1.5em;
    height: 1.5em;
    margin: auto;
    animation: spin 10s linear infinite;
}
.spinner::before {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
}
.right, .rightWrapper, .left, .leftWrapper {
    position: absolute;
    top: 0;
    overflow: hidden;
    width: .75em;
    height: 1.5em;
}
.left, .leftWrapper {
    left: 0;
}
.right {
    left: -12px;
}
.rightWrapper {
    right: 0;
}
.circle {
    border: .125em solid #A8B6B8;
    width: 1.25em; /* 1.5em - 2*0.125em border */
    height: 1.25em; /* 1.5em - 2*0.125em border */
    border-radius: 0.75em; /* 0.5*1.5em spinner size 8 */
}
.left {
    transform-origin: 100% 50%;
    animation: spinLeft 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
.right {
    transform-origin: 100% 50%;
    animation: spinRight 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
`,Q2="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function X2(t){return"version"in t}function J2(t){return window.btoa(String.fromCharCode.call(null,...t))}function Mo(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}var la,Ss,Jg,em,tm,nm,Vl,Un,Li,go,ca,ua,vd,Gl,_d,rm,Ed,eI,im,bd,da,om,ql,Sd,fa,Yl,Ad,sm,am,Rd,lm,cm,um,Id,ha,As,dm,fm,hm,pm,Zl,zn,mo,yo,pa,ga,Nd,Ql,xd,Td,Fr,gm,kd,tI,mm,Cd,Xl,ym,Jl,Md,ma,ec,Od,wm,vm,Ld,_m,Em,bm,Bd;const Ww="Mobile Wallet Adapter",nI=64,rI=[mn.SolanaSignAndSendTransaction,mn.SolanaSignTransaction,mn.SolanaSignMessage,mn.SolanaSignIn];class iI{constructor(e){la.add(this),Ss.set(this,{}),Jg.set(this,"1.0.0"),em.set(this,Ww),tm.set(this,"https://solanamobile.com/wallets"),nm.set(this,Q2),Vl.set(this,void 0),Un.set(this,void 0),Li.set(this,void 0),go.set(this,!1),ca.set(this,0),ua.set(this,[]),vd.set(this,void 0),Gl.set(this,void 0),_d.set(this,void 0),rm.set(this,(n,r)=>{var i;return!((i=V(this,Ss,"f")[n])===null||i===void 0)&&i.push(r)||(V(this,Ss,"f")[n]=[r]),()=>V(this,la,"m",eI).call(this,n,r)}),im.set(this,({silent:n}={})=>Re(this,void 0,void 0,function*(){if(V(this,go,"f")||this.connected)return{accounts:this.accounts};Me(this,go,!0);try{if(n){const r=yield V(this,Li,"f").get();if(r)yield V(this,da,"f").call(this,r);else return{accounts:this.accounts}}else yield V(this,bd,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{Me(this,go,!1)}return{accounts:this.accounts}})),bd.set(this,n=>Re(this,void 0,void 0,function*(){try{const r=yield V(this,Li,"f").get();if(r)return V(this,da,"f").call(this,r),r;const i=yield V(this,vd,"f").select(V(this,ua,"f"));return yield V(this,fa,"f").call(this,o=>Re(this,void 0,void 0,function*(){const[s,a]=yield Promise.all([o.getCapabilities(),o.authorize({chain:i,identity:V(this,Vl,"f"),sign_in_payload:n})]),l=V(this,Ad,"f").call(this,a.accounts),c=Object.assign(Object.assign({},a),{accounts:l,chain:i});return Promise.all([V(this,om,"f").call(this,s),V(this,Li,"f").set(c),V(this,da,"f").call(this,c)]),c}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),da.set(this,n=>Re(this,void 0,void 0,function*(){var r;const i=V(this,Un,"f")==null||((r=V(this,Un,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||V(this,Un,"f").accounts.some((o,s)=>o.address!==n.accounts[s].address);Me(this,Un,n),i&&V(this,la,"m",Ed).call(this,"change",{accounts:this.accounts})})),om.set(this,n=>Re(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),i=n.supports_sign_and_send_transactions,o=mn.SolanaSignAndSendTransaction in this.features!==i||mn.SolanaSignTransaction in this.features!==r;Me(this,Gl,Object.assign(Object.assign({},(i||!i&&!r)&&{[mn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:V(this,Rd,"f")}}),r&&{[mn.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:V(this,lm,"f")}})),o&&V(this,la,"m",Ed).call(this,"change",{features:this.features})})),ql.set(this,(n,r,i)=>Re(this,void 0,void 0,function*(){try{const o=yield n.authorize({auth_token:r,identity:V(this,Vl,"f"),chain:i}),s=V(this,Ad,"f").call(this,o.accounts),a=Object.assign(Object.assign({},o),{accounts:s,chain:i});Promise.all([V(this,Li,"f").set(a),V(this,da,"f").call(this,a)])}catch(o){throw V(this,Sd,"f").call(this),new Error(o instanceof Error&&o.message||"Unknown error")}})),Sd.set(this,()=>Re(this,void 0,void 0,function*(){var n;V(this,Li,"f").clear(),Me(this,go,!1),Me(this,ca,(n=V(this,ca,"f"),n++,n)),Me(this,Un,void 0),V(this,la,"m",Ed).call(this,"change",{accounts:this.accounts})})),fa.set(this,n=>Re(this,void 0,void 0,function*(){var r;const i=(r=V(this,Un,"f"))===null||r===void 0?void 0:r.wallet_uri_base,o=i?{baseUri:i}:void 0,s=V(this,ca,"f");try{return yield K2.transact(n,o)}catch(a){throw V(this,ca,"f")!==s&&(yield new Promise(()=>{})),a instanceof Error&&a.name==="SolanaMobileWalletAdapterError"&&a.code==="ERROR_WALLET_NOT_FOUND"&&(yield V(this,_d,"f").call(this,this)),a}})),Yl.set(this,()=>{if(!V(this,Un,"f"))throw new Error("Wallet not connected");return{authToken:V(this,Un,"f").auth_token,chain:V(this,Un,"f").chain}}),Ad.set(this,n=>n.map(r=>{var i,o;const s=Mo(r.address);return{address:Uf.default.encode(s),publicKey:s,label:r.label,icon:r.icon,chains:(i=r.chains)!==null&&i!==void 0?i:V(this,ua,"f"),features:(o=r.features)!==null&&o!==void 0?o:rI}})),sm.set(this,n=>Re(this,void 0,void 0,function*(){const{authToken:r,chain:i}=V(this,Yl,"f").call(this);try{return yield V(this,fa,"f").call(this,o=>Re(this,void 0,void 0,function*(){return yield V(this,ql,"f").call(this,o,r,i),yield o.signTransactions({transactions:n})}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),am.set(this,(n,r)=>Re(this,void 0,void 0,function*(){const{authToken:i,chain:o}=V(this,Yl,"f").call(this);try{return yield V(this,fa,"f").call(this,s=>Re(this,void 0,void 0,function*(){const[a,l]=yield Promise.all([s.getCapabilities(),V(this,ql,"f").call(this,s,i,o)]);if(a.supports_sign_and_send_transactions)return(yield s.signAndSendTransactions(Object.assign(Object.assign({},r),{transactions:[n]})))[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}})),Rd.set(this,(...n)=>Re(this,void 0,void 0,function*(){const r=[];for(const i of n){const o=$c.VersionedTransaction.deserialize(i.transaction),s=yield V(this,am,"f").call(this,o,i.options);r.push({signature:Uf.default.decode(s)})}return r})),lm.set(this,(...n)=>Re(this,void 0,void 0,function*(){const r=n.map(({transaction:o})=>$c.VersionedTransaction.deserialize(o));return(yield V(this,sm,"f").call(this,r)).map(o=>({signedTransaction:X2(o)?o.serialize():new Uint8Array(o.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))})),cm.set(this,(...n)=>Re(this,void 0,void 0,function*(){const{authToken:r,chain:i}=V(this,Yl,"f").call(this),o=n.map(({account:a})=>J2(a.publicKey)),s=n.map(({message:a})=>a);try{return yield V(this,fa,"f").call(this,a=>Re(this,void 0,void 0,function*(){return yield V(this,ql,"f").call(this,a,r,i),(yield a.signMessages({addresses:o,payloads:s})).map(c=>({signedMessage:c,signature:c.slice(-nI)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),um.set(this,(...n)=>Re(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const i of n)r.push(yield V(this,Id,"f").call(this,i));else return[yield V(this,Id,"f").call(this,n[0])];return r})),Id.set(this,n=>Re(this,void 0,void 0,function*(){var r,i;Me(this,go,!0);try{const o=yield V(this,bd,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n==null?void 0:n.domain)!==null&&r!==void 0?r:window.location.host}));if(!o.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const s=o.sign_in_result.address;return{account:Object.assign(Object.assign({},(i=o.accounts.find(l=>l.address==s))!==null&&i!==void 0?i:{address:s}),{publicKey:Mo(s)}),signedMessage:Mo(o.sign_in_result.signed_message),signature:Mo(o.sign_in_result.signature)}}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}finally{Me(this,go,!1)}})),Me(this,Li,e.authorizationCache),Me(this,Vl,e.appIdentity),Me(this,ua,e.chains),Me(this,vd,e.chainSelector),Me(this,_d,e.onWalletNotFound),Me(this,Gl,{[mn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:V(this,Rd,"f")}})}get version(){return V(this,Jg,"f")}get name(){return V(this,em,"f")}get url(){return V(this,tm,"f")}get icon(){return V(this,nm,"f")}get chains(){return V(this,ua,"f")}get features(){return Object.assign({[Ha.StandardConnect]:{version:"1.0.0",connect:V(this,im,"f")},[Ha.StandardDisconnect]:{version:"1.0.0",disconnect:V(this,Sd,"f")},[Ha.StandardEvents]:{version:"1.0.0",on:V(this,rm,"f")},[mn.SolanaSignMessage]:{version:"1.0.0",signMessage:V(this,cm,"f")},[mn.SolanaSignIn]:{version:"1.0.0",signIn:V(this,um,"f")}},V(this,Gl,"f"))}get accounts(){var e,n;return(n=(e=V(this,Un,"f"))===null||e===void 0?void 0:e.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!V(this,Un,"f")}get isAuthorized(){return!!V(this,Un,"f")}get currentAuthorization(){return V(this,Un,"f")}get cachedAuthorizationResult(){return V(this,Li,"f").get()}}Ss=new WeakMap,Jg=new WeakMap,em=new WeakMap,tm=new WeakMap,nm=new WeakMap,Vl=new WeakMap,Un=new WeakMap,Li=new WeakMap,go=new WeakMap,ca=new WeakMap,ua=new WeakMap,vd=new WeakMap,Gl=new WeakMap,_d=new WeakMap,rm=new WeakMap,im=new WeakMap,bd=new WeakMap,da=new WeakMap,om=new WeakMap,ql=new WeakMap,Sd=new WeakMap,fa=new WeakMap,Yl=new WeakMap,Ad=new WeakMap,sm=new WeakMap,am=new WeakMap,Rd=new WeakMap,lm=new WeakMap,cm=new WeakMap,um=new WeakMap,Id=new WeakMap,la=new WeakSet,Ed=function(e,...n){var r;(r=V(this,Ss,"f")[e])===null||r===void 0||r.forEach(i=>i.apply(null,n))},eI=function(e,n){var r;V(this,Ss,"f")[e]=(r=V(this,Ss,"f")[e])===null||r===void 0?void 0:r.filter(i=>n!==i)};class oI{constructor(e){ha.add(this),As.set(this,{}),dm.set(this,"1.0.0"),fm.set(this,Ww),hm.set(this,"https://solanamobile.com/wallets"),pm.set(this,Q2),Zl.set(this,void 0),zn.set(this,void 0),mo.set(this,void 0),yo.set(this,!1),pa.set(this,0),ga.set(this,[]),Nd.set(this,void 0),Ql.set(this,void 0),xd.set(this,void 0),Td.set(this,void 0),Fr.set(this,void 0),gm.set(this,(n,r)=>{var i;return!((i=V(this,As,"f")[n])===null||i===void 0)&&i.push(r)||(V(this,As,"f")[n]=[r]),()=>V(this,ha,"m",tI).call(this,n,r)}),mm.set(this,({silent:n}={})=>Re(this,void 0,void 0,function*(){if(V(this,yo,"f")||this.connected)return{accounts:this.accounts};Me(this,yo,!0);try{yield V(this,Cd,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{Me(this,yo,!1)}return{accounts:this.accounts}})),Cd.set(this,n=>Re(this,void 0,void 0,function*(){try{const r=yield V(this,mo,"f").get();if(r)return V(this,Xl,"f").call(this,r),r;V(this,Fr,"f")&&Me(this,Fr,void 0,"f");const i=yield V(this,Nd,"f").select(V(this,ga,"f"));return yield V(this,ma,"f").call(this,o=>Re(this,void 0,void 0,function*(){const[s,a]=yield Promise.all([o.getCapabilities(),o.authorize({chain:i,identity:V(this,Zl,"f"),sign_in_payload:n})]),l=V(this,Od,"f").call(this,a.accounts),c=Object.assign(Object.assign({},a),{accounts:l,chain:i});return Promise.all([V(this,ym,"f").call(this,s),V(this,mo,"f").set(c),V(this,Xl,"f").call(this,c)]),c}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),Xl.set(this,n=>Re(this,void 0,void 0,function*(){var r;const i=V(this,zn,"f")==null||((r=V(this,zn,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||V(this,zn,"f").accounts.some((o,s)=>o.address!==n.accounts[s].address);Me(this,zn,n),i&&V(this,ha,"m",kd).call(this,"change",{accounts:this.accounts})})),ym.set(this,n=>Re(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),i=n.supports_sign_and_send_transactions||n.features.includes("solana:signAndSendTransaction"),o=mn.SolanaSignAndSendTransaction in this.features!==i||mn.SolanaSignTransaction in this.features!==r;Me(this,Ql,Object.assign(Object.assign({},i&&{[mn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:n.supported_transaction_versions,signAndSendTransaction:V(this,Ld,"f")}}),r&&{[mn.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:n.supported_transaction_versions,signTransaction:V(this,_m,"f")}})),o&&V(this,ha,"m",kd).call(this,"change",{features:this.features})})),Jl.set(this,(n,r,i)=>Re(this,void 0,void 0,function*(){try{const o=yield n.authorize({auth_token:r,identity:V(this,Zl,"f")}),s=V(this,Od,"f").call(this,o.accounts),a=Object.assign(Object.assign({},o),{accounts:s,chain:i});Promise.all([V(this,mo,"f").set(a),V(this,Xl,"f").call(this,a)])}catch(o){throw V(this,Md,"f").call(this),new Error(o instanceof Error&&o.message||"Unknown error")}})),Md.set(this,()=>Re(this,void 0,void 0,function*(){var n,r;(n=V(this,Fr,"f"))===null||n===void 0||n.close(),V(this,mo,"f").clear(),Me(this,yo,!1),Me(this,pa,(r=V(this,pa,"f"),r++,r)),Me(this,zn,void 0),Me(this,Fr,void 0),V(this,ha,"m",kd).call(this,"change",{accounts:this.accounts})})),ma.set(this,n=>Re(this,void 0,void 0,function*(){var r;const i=(r=V(this,zn,"f"))===null||r===void 0?void 0:r.wallet_uri_base,s=Object.assign(Object.assign({},i?{baseUri:i}:void 0),{remoteHostAuthority:V(this,Td,"f")}),a=V(this,pa,"f"),l=new J8;if(V(this,Fr,"f"))return n(V(this,Fr,"f").wallet);try{const{associationUrl:c,close:d,wallet:g}=yield K2.startRemoteScenario(s),p=l.addEventListener("close",f=>{f&&d()});return l.initWithQR(c.toString()),l.open(),Me(this,Fr,{close:d,wallet:yield g},"f"),p(),l.close(),yield n(V(this,Fr,"f").wallet)}catch(c){throw l.close(),V(this,pa,"f")!==a&&(yield new Promise(()=>{})),c instanceof Error&&c.name==="SolanaMobileWalletAdapterError"&&c.code==="ERROR_WALLET_NOT_FOUND"&&(yield V(this,xd,"f").call(this,this)),c}})),ec.set(this,()=>{if(!V(this,zn,"f"))throw new Error("Wallet not connected");return{authToken:V(this,zn,"f").auth_token,chain:V(this,zn,"f").chain}}),Od.set(this,n=>n.map(r=>{var i,o;const s=Mo(r.address);return{address:Uf.default.encode(s),publicKey:s,label:r.label,icon:r.icon,chains:(i=r.chains)!==null&&i!==void 0?i:V(this,ga,"f"),features:(o=r.features)!==null&&o!==void 0?o:rI}})),wm.set(this,n=>Re(this,void 0,void 0,function*(){const{authToken:r,chain:i}=V(this,ec,"f").call(this);try{return yield V(this,ma,"f").call(this,o=>Re(this,void 0,void 0,function*(){return yield V(this,Jl,"f").call(this,o,r,i),yield o.signTransactions({transactions:n})}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),vm.set(this,(n,r)=>Re(this,void 0,void 0,function*(){const{authToken:i,chain:o}=V(this,ec,"f").call(this);try{return yield V(this,ma,"f").call(this,s=>Re(this,void 0,void 0,function*(){const[a,l]=yield Promise.all([s.getCapabilities(),V(this,Jl,"f").call(this,s,i,o)]);if(a.supports_sign_and_send_transactions)return(yield s.signAndSendTransactions(Object.assign(Object.assign({},r),{transactions:[n]})))[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}})),Ld.set(this,(...n)=>Re(this,void 0,void 0,function*(){const r=[];for(const i of n){const o=$c.VersionedTransaction.deserialize(i.transaction),s=yield V(this,vm,"f").call(this,o,i.options);r.push({signature:Uf.default.decode(s)})}return r})),_m.set(this,(...n)=>Re(this,void 0,void 0,function*(){const r=n.map(({transaction:o})=>$c.VersionedTransaction.deserialize(o));return(yield V(this,wm,"f").call(this,r)).map(o=>({signedTransaction:X2(o)?o.serialize():new Uint8Array(o.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))})),Em.set(this,(...n)=>Re(this,void 0,void 0,function*(){const{authToken:r,chain:i}=V(this,ec,"f").call(this),o=n.map(({account:a})=>J2(a.publicKey)),s=n.map(({message:a})=>a);try{return yield V(this,ma,"f").call(this,a=>Re(this,void 0,void 0,function*(){return yield V(this,Jl,"f").call(this,a,r,i),(yield a.signMessages({addresses:o,payloads:s})).map(c=>({signedMessage:c,signature:c.slice(-nI)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),bm.set(this,(...n)=>Re(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const i of n)r.push(yield V(this,Bd,"f").call(this,i));else return[yield V(this,Bd,"f").call(this,n[0])];return r})),Bd.set(this,n=>Re(this,void 0,void 0,function*(){var r,i;Me(this,yo,!0);try{const o=yield V(this,Cd,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n==null?void 0:n.domain)!==null&&r!==void 0?r:window.location.host}));if(!o.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const s=o.sign_in_result.address;return{account:Object.assign(Object.assign({},(i=o.accounts.find(l=>l.address==s))!==null&&i!==void 0?i:{address:s}),{publicKey:Mo(s)}),signedMessage:Mo(o.sign_in_result.signed_message),signature:Mo(o.sign_in_result.signature)}}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}finally{Me(this,yo,!1)}})),Me(this,mo,e.authorizationCache),Me(this,Zl,e.appIdentity),Me(this,ga,e.chains),Me(this,Nd,e.chainSelector),Me(this,Td,e.remoteHostAuthority),Me(this,xd,e.onWalletNotFound),Me(this,Ql,{[mn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:V(this,Ld,"f")}})}get version(){return V(this,dm,"f")}get name(){return V(this,fm,"f")}get url(){return V(this,hm,"f")}get icon(){return V(this,pm,"f")}get chains(){return V(this,ga,"f")}get features(){return Object.assign({[Ha.StandardConnect]:{version:"1.0.0",connect:V(this,mm,"f")},[Ha.StandardDisconnect]:{version:"1.0.0",disconnect:V(this,Md,"f")},[Ha.StandardEvents]:{version:"1.0.0",on:V(this,gm,"f")},[mn.SolanaSignMessage]:{version:"1.0.0",signMessage:V(this,Em,"f")},[mn.SolanaSignIn]:{version:"1.0.0",signIn:V(this,bm,"f")}},V(this,Ql,"f"))}get accounts(){var e,n;return(n=(e=V(this,zn,"f"))===null||e===void 0?void 0:e.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!V(this,Fr,"f")&&!!V(this,zn,"f")}get isAuthorized(){return!!V(this,zn,"f")}get currentAuthorization(){return V(this,zn,"f")}get cachedAuthorizationResult(){return V(this,mo,"f").get()}}As=new WeakMap,dm=new WeakMap,fm=new WeakMap,hm=new WeakMap,pm=new WeakMap,Zl=new WeakMap,zn=new WeakMap,mo=new WeakMap,yo=new WeakMap,pa=new WeakMap,ga=new WeakMap,Nd=new WeakMap,Ql=new WeakMap,xd=new WeakMap,Td=new WeakMap,Fr=new WeakMap,gm=new WeakMap,mm=new WeakMap,Cd=new WeakMap,Xl=new WeakMap,ym=new WeakMap,Jl=new WeakMap,Md=new WeakMap,ma=new WeakMap,ec=new WeakMap,Od=new WeakMap,wm=new WeakMap,vm=new WeakMap,Ld=new WeakMap,_m=new WeakMap,Em=new WeakMap,bm=new WeakMap,Bd=new WeakMap,ha=new WeakSet,kd=function(e,...n){var r;(r=V(this,As,"f")[e])===null||r===void 0||r.forEach(i=>i.apply(null,n))},tI=function(e,n){var r;V(this,As,"f")[e]=(r=V(this,As,"f")[e])===null||r===void 0?void 0:r.filter(i=>n!==i)};var n5=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},r5=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Pd;function E_(t){const e=({register:n})=>n(t);try{window.dispatchEvent(new i5(e))}catch(n){console.error(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>e(n))}catch(n){console.error(`wallet-standard:app-ready event listener could not be added
`,n)}}let i5=class extends Event{constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),Pd.set(this,void 0),n5(this,Pd,e,"f")}get detail(){return r5(this,Pd,"f")}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}};Pd=new WeakMap;function o5(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}function s5(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function a5(t){o5()?E_(new iI(t)):s5()&&t.remoteHostAuthority!==void 0&&E_(new oI(Object.assign(Object.assign({},t),{remoteHostAuthority:t.remoteHostAuthority})))}const l5="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",c5="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class u5 extends Z2{constructor(){super(...arguments),this.contentStyles=f5,this.contentHtml=d5}initWithError(e){super.init(),this.populateError(e)}populateError(e){var n,r;const i=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-error-message"),o=(r=this.dom)===null||r===void 0?void 0:r.getElementById("mobile-wallet-adapter-error-action");if(i){if(e.name==="SolanaMobileWalletAdapterError")switch(e.code){case"ERROR_WALLET_NOT_FOUND":i.innerHTML=l5,o&&o.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":i.innerHTML=c5,o&&(o.style.display="none");return}i.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}}const d5=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,f5=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function sI(){return Re(this,void 0,void 0,function*(){if(typeof window<"u"){const t=window.navigator.userAgent.toLowerCase(),e=new u5;t.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}function h5(){return()=>Re(this,void 0,void 0,function*(){sI()})}const _0="SolanaMobileWalletAdapterDefaultAuthorizationCache";function p5(){let t;try{t=window.localStorage}catch{}return{clear(){return Re(this,void 0,void 0,function*(){if(t)try{t.removeItem(_0)}catch{}})},get(){return Re(this,void 0,void 0,function*(){if(t)try{const e=JSON.parse(t.getItem(_0));if(e&&e.accounts){const n=e.accounts.map(r=>Object.assign(Object.assign({},r),{publicKey:"publicKey"in r?new Uint8Array(Object.values(r.publicKey)):new $c.PublicKey(r.address).toBytes()}));return Object.assign(Object.assign({},e),{accounts:n})}else return e||void 0}catch{}})},set(e){return Re(this,void 0,void 0,function*(){if(t)try{t.setItem(_0,JSON.stringify(e))}catch{}})}}}function g5(){return{select(t){return Re(this,void 0,void 0,function*(){return t.length===1?t[0]:t.includes(__.SOLANA_MAINNET_CHAIN)?__.SOLANA_MAINNET_CHAIN:t[0]})}}}Ii.LocalSolanaMobileWalletAdapterWallet=iI;Ii.RemoteSolanaMobileWalletAdapterWallet=oI;Ii.SolanaMobileWalletAdapterWalletName=Ww;Ii.createDefaultAuthorizationCache=p5;Ii.createDefaultChainSelector=g5;Ii.createDefaultWalletNotFoundHandler=h5;Ii.defaultErrorModalWalletNotFoundHandler=sI;Ii.registerMwa=a5;Object.defineProperty(es,"__esModule",{value:!0});var on=fL,Dd=Nw,hs=FR,gl=Ii;function Ze(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(g){s(g)}}function l(d){try{c(r.throw(d))}catch(g){s(g)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(t,[])).next())})}function _e(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function ur(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}const Sm="standard:connect",m5="standard:disconnect",y5="standard:events";function E0(t){return window.btoa(String.fromCharCode.call(null,...t))}function w5(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var dn,gt,Ro,Fi,Ud,Ui,as,Am,Rm,aI,zf,zd,Eo;const v5="Mobile Wallet Adapter",_5=64;function E5(t){return"version"in t}function Fw(t){switch(t){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return t}}class lI extends on.BaseSignInMessageSignerWalletAdapter{constructor(e,n){super(),dn.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),gt.set(this,void 0),Ro.set(this,!1),Fi.set(this,w5()?on.WalletReadyState.Loadable:on.WalletReadyState.Unsupported),Ud.set(this,void 0),Ui.set(this,void 0),as.set(this,void 0),Am.set(this,r=>Ze(this,void 0,void 0,function*(){if(r.accounts&&r.accounts.length>0){_e(this,dn,"m",aI).call(this);const i=yield _e(this,Ud,"f").call(this,r.accounts);i!==_e(this,Ui,"f")&&(ur(this,Ui,i),ur(this,as,void 0),this.emit("connect",this.publicKey))}})),ur(this,Ud,r=>Ze(this,void 0,void 0,function*(){var i;const o=yield n.addressSelector.select(r.map(({publicKey:s})=>E0(s)));return(i=r.find(({publicKey:s})=>E0(s)===o))!==null&&i!==void 0?i:r[0]})),ur(this,gt,e),_e(this,gt,"f").features[y5].on("change",_e(this,Am,"f")),this.name=_e(this,gt,"f").name,this.icon=_e(this,gt,"f").icon,this.url=_e(this,gt,"f").url}get publicKey(){var e;if(!_e(this,as,"f")&&_e(this,Ui,"f"))try{ur(this,as,new Dd.PublicKey(_e(this,Ui,"f").publicKey),"f")}catch(n){throw new on.WalletPublicKeyError(n instanceof Error&&(n==null?void 0:n.message)||"Unknown error",n)}return(e=_e(this,as,"f"))!==null&&e!==void 0?e:null}get connected(){return _e(this,gt,"f").connected}get connecting(){return _e(this,Ro,"f")}get readyState(){return _e(this,Fi,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return Ze(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return Ze(this,void 0,void 0,function*(){_e(this,dn,"m",Rm).call(this,!0)})}connect(){return Ze(this,void 0,void 0,function*(){_e(this,dn,"m",Rm).call(this)})}performAuthorization(e){return Ze(this,void 0,void 0,function*(){try{const n=yield _e(this,gt,"f").cachedAuthorizationResult;return n?(yield _e(this,gt,"f").features[Sm].connect({silent:!0}),n):(e?yield _e(this,gt,"f").features[hs.SolanaSignIn].signIn(e):yield _e(this,gt,"f").features[Sm].connect(),yield yield _e(this,gt,"f").cachedAuthorizationResult)}catch(n){throw new on.WalletConnectionError(n instanceof Error&&n.message||"Unknown error",n)}})}disconnect(){return Ze(this,void 0,void 0,function*(){return yield _e(this,dn,"m",Eo).call(this,()=>Ze(this,void 0,void 0,function*(){ur(this,Ro,!1),ur(this,as,void 0),ur(this,Ui,void 0),yield _e(this,gt,"f").features[m5].disconnect(),this.emit("disconnect")}))})}signIn(e){return Ze(this,void 0,void 0,function*(){return _e(this,dn,"m",Eo).call(this,()=>Ze(this,void 0,void 0,function*(){var n;if(_e(this,Fi,"f")!==on.WalletReadyState.Installed&&_e(this,Fi,"f")!==on.WalletReadyState.Loadable)throw new on.WalletNotReadyError;ur(this,Ro,!0);try{const r=yield _e(this,gt,"f").features[hs.SolanaSignIn].signIn(Object.assign(Object.assign({},e),{domain:(n=e==null?void 0:e.domain)!==null&&n!==void 0?n:window.location.host}));if(r.length>0)return r[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(r){throw new on.WalletConnectionError(r instanceof Error&&r.message||"Unknown error",r)}finally{ur(this,Ro,!1)}}))})}signMessage(e){return Ze(this,void 0,void 0,function*(){return yield _e(this,dn,"m",Eo).call(this,()=>Ze(this,void 0,void 0,function*(){const n=_e(this,dn,"m",zf).call(this);try{return(yield _e(this,gt,"f").features[hs.SolanaSignMessage].signMessage({account:n,message:e}))[0].signature}catch(r){throw new on.WalletSignMessageError(r==null?void 0:r.message,r)}}))})}sendTransaction(e,n,r){return Ze(this,void 0,void 0,function*(){return yield _e(this,dn,"m",Eo).call(this,()=>Ze(this,void 0,void 0,function*(){const i=_e(this,dn,"m",zf).call(this);try{let o=function(){let s;switch(n.commitment){case"confirmed":case"finalized":case"processed":s=n.commitment;break;default:s="finalized"}let a;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":a=r.preflightCommitment;break;case void 0:a=s;break;default:a="finalized"}return(a==="finalized"?2:a==="confirmed"?1:0)<(s==="finalized"?2:s==="confirmed"?1:0)?a:s};if(hs.SolanaSignAndSendTransaction in _e(this,gt,"f").features){const s=Fw(_e(this,gt,"f").currentAuthorization.chain),[a]=(yield _e(this,gt,"f").features[hs.SolanaSignAndSendTransaction].signAndSendTransaction({account:i,transaction:e.serialize(),chain:s,options:r?{skipPreflight:r.skipPreflight,maxRetries:r.maxRetries}:void 0})).map(l=>E0(l.signature));return a}else{const[s]=yield _e(this,dn,"m",zd).call(this,[e]);if(E5(s))return yield n.sendTransaction(s);{const a=s.serialize();return yield n.sendRawTransaction(a,Object.assign(Object.assign({},r),{preflightCommitment:o()}))}}}catch(o){throw new on.WalletSendTransactionError(o==null?void 0:o.message,o)}}))})}signTransaction(e){return Ze(this,void 0,void 0,function*(){return yield _e(this,dn,"m",Eo).call(this,()=>Ze(this,void 0,void 0,function*(){const[n]=yield _e(this,dn,"m",zd).call(this,[e]);return n}))})}signAllTransactions(e){return Ze(this,void 0,void 0,function*(){return yield _e(this,dn,"m",Eo).call(this,()=>Ze(this,void 0,void 0,function*(){return yield _e(this,dn,"m",zd).call(this,e)}))})}}gt=new WeakMap,Ro=new WeakMap,Fi=new WeakMap,Ud=new WeakMap,Ui=new WeakMap,as=new WeakMap,Am=new WeakMap,dn=new WeakSet,Rm=function(e=!1){return Ze(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield _e(this,dn,"m",Eo).call(this,()=>Ze(this,void 0,void 0,function*(){if(_e(this,Fi,"f")!==on.WalletReadyState.Installed&&_e(this,Fi,"f")!==on.WalletReadyState.Loadable)throw new on.WalletNotReadyError;ur(this,Ro,!0);try{yield _e(this,gt,"f").features[Sm].connect({silent:e})}catch(n){throw new on.WalletConnectionError(n instanceof Error&&n.message||"Unknown error",n)}finally{ur(this,Ro,!1)}}))})},aI=function(){_e(this,Fi,"f")!==on.WalletReadyState.Installed&&this.emit("readyStateChange",ur(this,Fi,on.WalletReadyState.Installed))},zf=function(){if(!_e(this,gt,"f").isAuthorized||!_e(this,Ui,"f"))throw new on.WalletNotConnectedError;return _e(this,Ui,"f")},zd=function(e){return Ze(this,void 0,void 0,function*(){const n=_e(this,dn,"m",zf).call(this);try{if(hs.SolanaSignTransaction in _e(this,gt,"f").features)return _e(this,gt,"f").features[hs.SolanaSignTransaction].signTransaction(...e.map(r=>({account:n,transaction:r.serialize()}))).then(r=>r.map(i=>{const o=i.signedTransaction,a=o[0]*_5+1;return Dd.VersionedMessage.deserializeMessageVersion(o.slice(a,o.length))==="legacy"?Dd.Transaction.from(o):Dd.VersionedTransaction.deserialize(o)}));throw new Error("Connected wallet does not support signing transactions")}catch(r){throw new on.WalletSignTransactionError(r==null?void 0:r.message,r)}})},Eo=function(e){return Ze(this,void 0,void 0,function*(){try{return yield e()}catch(n){throw this.emit("error",n),n}})};class cI extends lI{constructor(e){var n;const r=Fw((n=e.chain)!==null&&n!==void 0?n:e.cluster);super(new gl.LocalSolanaMobileWalletAdapterWallet({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>Ze(this,void 0,void 0,function*(){const i=yield e.authorizationResultCache.get();return i&&"chain"in i?i:i?Object.assign(Object.assign({},i),{chain:r}):void 0}),clear:e.authorizationResultCache.clear},chains:[r],chainSelector:gl.createDefaultChainSelector(),onWalletNotFound:()=>Ze(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:r})}}class b5 extends lI{constructor(e){const n=Fw(e.chain);super(new gl.RemoteSolanaMobileWalletAdapterWallet({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>Ze(this,void 0,void 0,function*(){const r=yield e.authorizationResultCache.get();return r&&"chain"in r?r:r?Object.assign(Object.assign({},r),{chain:n}):void 0}),clear:e.authorizationResultCache.clear},chains:[n],chainSelector:gl.createDefaultChainSelector(),remoteHostAuthority:e.remoteHostAuthority,onWalletNotFound:()=>Ze(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:n})}}class S5 extends cI{}function A5(){return{select(t){return Ze(this,void 0,void 0,function*(){return t[0]})}}}function R5(){return gl.createDefaultAuthorizationCache()}function I5(t){return Ze(this,void 0,void 0,function*(){return gl.defaultErrorModalWalletNotFoundHandler()})}function N5(){return I5}es.LocalSolanaMobileWalletAdapter=cI;es.RemoteSolanaMobileWalletAdapter=b5;var x5=es.SolanaMobileWalletAdapter=S5,jd=es.SolanaMobileWalletAdapterWalletName=v5,T5=es.createDefaultAddressSelector=A5,k5=es.createDefaultAuthorizationResultCache=R5,C5=es.createDefaultWalletNotFoundHandler=N5,M5=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},O5=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Wd;function L5(t){const e=({register:n})=>n(t);try{window.dispatchEvent(new B5(e))}catch(n){console.error(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>e(n))}catch(n){console.error(`wallet-standard:app-ready event listener could not be added
`,n)}}class B5 extends Event{get detail(){return M5(this,Wd,"f")}get type(){return"wallet-standard:register-wallet"}constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),Wd.set(this,void 0),O5(this,Wd,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Wd=new WeakMap;function P5(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function D5(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let c=0;c<e.length;c++)e[c]=255;for(let c=0;c<t.length;c++){const d=t.charAt(c),g=d.charCodeAt(0);if(e[g]!==255)throw new TypeError(d+" is ambiguous");e[g]=c}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),o=Math.log(256)/Math.log(n);function s(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";let d=0,g=0,p=0;const f=c.length;for(;p!==f&&c[p]===0;)p++,d++;const m=(f-p)*o+1>>>0,R=new Uint8Array(m);for(;p!==f;){let b=c[p],_=0;for(let N=m-1;(b!==0||_<g)&&N!==-1;N--,_++)b+=256*R[N]>>>0,R[N]=b%n>>>0,b=b/n>>>0;if(b!==0)throw new Error("Non-zero carry");g=_,p++}let I=m-g;for(;I!==m&&R[I]===0;)I++;let w=r.repeat(d);for(;I<m;++I)w+=t.charAt(R[I]);return w}function a(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;let d=0,g=0,p=0;for(;c[d]===r;)g++,d++;const f=(c.length-d)*i+1>>>0,m=new Uint8Array(f);for(;d<c.length;){const b=c.charCodeAt(d);if(b>255)return;let _=e[b];if(_===255)return;let N=0;for(let L=f-1;(_!==0||N<p)&&L!==-1;L--,N++)_+=n*m[L]>>>0,m[L]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");p=N,d++}let R=f-p;for(;R!==f&&m[R]===0;)R++;const I=new Uint8Array(g+(f-R));let w=g;for(;R!==f;)I[w++]=m[R++];return I}function l(c){const d=a(c);if(d)return d;throw new Error("Non-base"+n+" character")}return{encode:s,decodeUnsafe:a,decode:l}}var U5="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const z5=D5(U5);var me=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Xt=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},bn,qn,Rs,Is,ls,tc,jf,ze,Wf,Im,Fd,Nm,pc,xm,b_,S_,A_,R_;class j5 extends Rw{get name(){return me(this,ze,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return me(this,ze,"f").icon}get readyState(){return me(this,Wf,"f")}get publicKey(){return me(this,Rs,"f")}get connecting(){return me(this,Is,"f")}get supportedTransactionVersions(){return me(this,jf,"f")}get wallet(){return me(this,ze,"f")}get standard(){return!0}constructor({wallet:e}){super(),bn.add(this),qn.set(this,void 0),Rs.set(this,void 0),Is.set(this,void 0),ls.set(this,void 0),tc.set(this,void 0),jf.set(this,void 0),ze.set(this,void 0),Wf.set(this,typeof window>"u"||typeof document>"u"?We.Unsupported:We.Installed),xm.set(this,n=>{if("accounts"in n){const r=me(this,ze,"f").accounts[0];me(this,qn,"f")&&!me(this,ls,"f")&&r!==me(this,qn,"f")&&(r?me(this,bn,"m",Fd).call(this,r):(this.emit("error",new Th),me(this,bn,"m",Nm).call(this)))}"features"in n&&me(this,bn,"m",pc).call(this)}),Xt(this,ze,e,"f"),Xt(this,qn,null,"f"),Xt(this,Rs,null,"f"),Xt(this,Is,!1,"f"),Xt(this,ls,!1,"f"),Xt(this,tc,me(this,ze,"f").features[ou].on("change",me(this,xm,"f")),"f"),me(this,bn,"m",pc).call(this)}destroy(){Xt(this,qn,null,"f"),Xt(this,Rs,null,"f"),Xt(this,Is,!1,"f"),Xt(this,ls,!1,"f");const e=me(this,tc,"f");e&&(Xt(this,tc,null,"f"),e())}async autoConnect(){return me(this,bn,"m",Im).call(this,{silent:!0})}async connect(){return me(this,bn,"m",Im).call(this)}async disconnect(){if(Wc in me(this,ze,"f").features)try{Xt(this,ls,!0,"f"),await me(this,ze,"f").features[Wc].disconnect()}catch(e){this.emit("error",new kh(e==null?void 0:e.message,e))}finally{Xt(this,ls,!1,"f")}me(this,bn,"m",Nm).call(this)}async sendTransaction(e,n,r={}){try{const i=me(this,qn,"f");if(!i)throw new Lt;let o;if(pi in me(this,ze,"f").features)if(i.features.includes(pi))o=pi;else if(sn in me(this,ze,"f").features&&i.features.includes(sn))o=sn;else throw new ko;else if(sn in me(this,ze,"f").features){if(!i.features.includes(sn))throw new ko;o=sn}else throw new Es;const s=l2(n.rpcEndpoint);if(!i.chains.includes(s))throw new Gi;try{const{signers:a,...l}=r;let c;if(gi(e)?(a!=null&&a.length&&e.sign(a),c=e.serialize()):(e=await this.prepareTransaction(e,n,l),a!=null&&a.length&&e.partialSign(...a),c=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),o===pi){const[d]=await me(this,ze,"f").features[pi].signAndSendTransaction({account:i,chain:s,transaction:c,options:{preflightCommitment:pd(l.preflightCommitment||n.commitment),skipPreflight:l.skipPreflight,maxRetries:l.maxRetries,minContextSlot:l.minContextSlot}});return z5.encode(d.signature)}else{const[d]=await me(this,ze,"f").features[sn].signTransaction({account:i,chain:s,transaction:c,options:{preflightCommitment:pd(l.preflightCommitment||n.commitment),minContextSlot:l.minContextSlot}});return await n.sendRawTransaction(d.signedTransaction,{...l,preflightCommitment:pd(l.preflightCommitment||n.commitment)})}}catch(a){throw a instanceof Et?a:new Gi(a==null?void 0:a.message,a)}}catch(i){throw this.emit("error",i),i}}}qn=new WeakMap,Rs=new WeakMap,Is=new WeakMap,ls=new WeakMap,tc=new WeakMap,jf=new WeakMap,ze=new WeakMap,Wf=new WeakMap,xm=new WeakMap,bn=new WeakSet,Im=async function(e){try{if(this.connected||this.connecting)return;if(me(this,Wf,"f")!==We.Installed)throw new cl;if(Xt(this,Is,!0,"f"),!me(this,ze,"f").accounts.length)try{await me(this,ze,"f").features[iu].connect(e)}catch(r){throw new jc(r==null?void 0:r.message,r)}const n=me(this,ze,"f").accounts[0];if(!n)throw new ko;me(this,bn,"m",Fd).call(this,n)}catch(n){throw this.emit("error",n),n}finally{Xt(this,Is,!1,"f")}},Fd=function(e){let n;try{n=new J(e.address)}catch(r){throw new ul(r==null?void 0:r.message,r)}Xt(this,qn,e,"f"),Xt(this,Rs,n,"f"),me(this,bn,"m",pc).call(this),this.emit("connect",n)},Nm=function(){Xt(this,qn,null,"f"),Xt(this,Rs,null,"f"),me(this,bn,"m",pc).call(this),this.emit("disconnect")},pc=function(){var n,r;const e=pi in me(this,ze,"f").features?me(this,ze,"f").features[pi].supportedTransactionVersions:me(this,ze,"f").features[sn].supportedTransactionVersions;Xt(this,jf,P5(e,["legacy"])?null:new Set(e),"f"),sn in me(this,ze,"f").features&&((n=me(this,qn,"f"))!=null&&n.features.includes(sn))?(this.signTransaction=me(this,bn,"m",b_),this.signAllTransactions=me(this,bn,"m",S_)):(delete this.signTransaction,delete this.signAllTransactions),fs in me(this,ze,"f").features&&((r=me(this,qn,"f"))!=null&&r.features.includes(fs))?this.signMessage=me(this,bn,"m",A_):delete this.signMessage,hd in me(this,ze,"f").features?this.signIn=me(this,bn,"m",R_):delete this.signIn},b_=async function(e){try{const n=me(this,qn,"f");if(!n)throw new Lt;if(!(sn in me(this,ze,"f").features))throw new Es;if(!n.features.includes(sn))throw new ko;try{const i=(await me(this,ze,"f").features[sn].signTransaction({account:n,transaction:gi(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return gi(e)?sl.deserialize(i):Oe.from(i)}catch(r){throw r instanceof Et?r:new qr(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},S_=async function(e){try{const n=me(this,qn,"f");if(!n)throw new Lt;if(!(sn in me(this,ze,"f").features))throw new Es;if(!n.features.includes(sn))throw new ko;try{const r=await me(this,ze,"f").features[sn].signTransaction(...e.map(i=>({account:n,transaction:gi(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((i,o)=>{const s=r[o].signedTransaction;return gi(i)?sl.deserialize(s):Oe.from(s)})}catch(r){throw new qr(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},A_=async function(e){try{const n=me(this,qn,"f");if(!n)throw new Lt;if(!(fs in me(this,ze,"f").features))throw new Es;if(!n.features.includes(fs))throw new ko;try{return(await me(this,ze,"f").features[fs].signMessage({account:n,message:e}))[0].signature}catch(r){throw new Ch(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},R_=async function(e={}){try{if(!(hd in me(this,ze,"f").features))throw new Es;let n;try{[n]=await me(this,ze,"f").features[hd].signIn(e)}catch(r){throw new Fg(r==null?void 0:r.message,r)}if(!n)throw new Fg;return me(this,bn,"m",Fd).call(this,n.account),n}catch(n){throw this.emit("error",n),n}};const W5=jR;var F5=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},$5=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},$d;let fr;const jh=new Set;function H5(t){gc=void 0,jh.add(t)}function K5(t){gc=void 0,jh.delete(t)}const Oa={};function V5(){if(fr||(fr=Object.freeze({register:I_,get:G5,on:q5}),typeof window>"u"))return fr;const t=Object.freeze({register:I_});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new Y5(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return fr}function I_(...t){var e;return t=t.filter(n=>!jh.has(n)),t.length?(t.forEach(n=>H5(n)),(e=Oa.register)==null||e.forEach(n=>Tm(()=>n(...t))),function(){var r;t.forEach(i=>K5(i)),(r=Oa.unregister)==null||r.forEach(i=>Tm(()=>i(...t)))}):()=>{}}let gc;function G5(){return gc||(gc=[...jh]),gc}function q5(t,e){var n;return(n=Oa[t])!=null&&n.push(e)||(Oa[t]=[e]),function(){var i;Oa[t]=(i=Oa[t])==null?void 0:i.filter(o=>e!==o)}}function Tm(t){try{t()}catch(e){console.error(e)}}class Y5 extends Event{get detail(){return F5(this,$d,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),$d.set(this,void 0),$5(this,$d,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}$d=new WeakMap;function Z5(){if(fr||(fr=V5(),typeof window>"u"))return fr;const t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),fr;const{register:e}=fr,n=(...r)=>r.forEach(i=>Tm(()=>i({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch{return console.error("window.navigator.wallets could not be set"),fr}return n(...t),fr}function Q5(t){const e=N_(()=>new Set),{get:n,on:r}=N_(()=>Z5()),[i,o]=te.useState(()=>x_(n()));te.useEffect(()=>{const a=[r("register",(...l)=>o(c=>[...c,...x_(l)])),r("unregister",(...l)=>o(c=>c.filter(d=>l.some(g=>g===d.wallet))))];return()=>a.forEach(l=>l())},[r]);const s=X5(i);return te.useEffect(()=>{if(!s)return;const a=new Set(i);new Set(s.filter(c=>!a.has(c))).forEach(c=>c.destroy())},[s,i]),te.useEffect(()=>()=>i.forEach(a=>a.destroy()),[]),te.useMemo(()=>[...i,...t.filter(({name:a})=>i.some(l=>l.name===a)?(e.has(a)||(e.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)],[i,t,e])}function N_(t){const e=te.useRef(void 0);return e.current===void 0&&(e.current={value:t()}),e.current.value}function X5(t){const e=te.useRef(void 0);return te.useEffect(()=>{e.current=t}),e.current}function x_(t){return t.filter(W5).map(e=>new j5({wallet:e}))}var Ka;(function(t){t[t.DESKTOP_WEB=0]="DESKTOP_WEB",t[t.MOBILE_WEB=1]="MOBILE_WEB"})(Ka||(Ka={}));function J5(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}function eP({adapters:t,userAgentString:e}){return t.some(n=>n.name!==jd&&n.readyState===We.Installed)?Ka.DESKTOP_WEB:e&&/android/i.test(e)&&!J5(e)?Ka.MOBILE_WEB:Ka.DESKTOP_WEB}function tP(t){return t?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta"}function nP({children:t,wallets:e,adapter:n,isUnloadingRef:r,onAutoConnectRequest:i,onConnectError:o,onError:s,onSelectWallet:a}){const l=te.useRef(!1),[c,d]=te.useState(!1),g=te.useRef(!1),[p,f]=te.useState(!1),[m,R]=te.useState(()=>(n==null?void 0:n.publicKey)??null),[I,w]=te.useState(()=>(n==null?void 0:n.connected)??!1),b=te.useRef(s);te.useEffect(()=>(b.current=s,()=>{b.current=void 0}),[s]);const _=te.useRef((h,S)=>(r.current||(b.current?b.current(h,S):(console.error(h,S),h instanceof cl&&typeof window<"u"&&S&&window.open(S.url,"_blank"))),h)),[N,L]=te.useState(()=>e.map(h=>({adapter:h,readyState:h.readyState})).filter(({readyState:h})=>h!==We.Unsupported));te.useEffect(()=>{L(S=>e.map((T,x)=>{const M=S[x];return M&&M.adapter===T&&M.readyState===T.readyState?M:{adapter:T,readyState:T.readyState}}).filter(({readyState:T})=>T!==We.Unsupported));function h(S){L(T=>{const x=T.findIndex(({adapter:z})=>z===this);if(x===-1)return T;const{adapter:M}=T[x];return[...T.slice(0,x),{adapter:M,readyState:S},...T.slice(x+1)].filter(({readyState:z})=>z!==We.Unsupported)})}return e.forEach(S=>S.on("readyStateChange",h,S)),()=>{e.forEach(S=>S.off("readyStateChange",h,S))}},[n,e]);const j=te.useMemo(()=>N.find(h=>h.adapter===n)??null,[n,N]);te.useEffect(()=>{if(!n)return;const h=x=>{R(x),l.current=!1,d(!1),w(!0),g.current=!1,f(!1)},S=()=>{r.current||(R(null),l.current=!1,d(!1),w(!1),g.current=!1,f(!1))},T=x=>{_.current(x,n)};return n.on("connect",h),n.on("disconnect",S),n.on("error",T),()=>{n.off("connect",h),n.off("disconnect",S),n.off("error",T),S()}},[n,r]);const O=te.useRef(!1);te.useEffect(()=>()=>{O.current=!1},[n]),te.useEffect(()=>{O.current||l.current||I||!i||!((j==null?void 0:j.readyState)===We.Installed||(j==null?void 0:j.readyState)===We.Loadable)||(l.current=!0,d(!0),O.current=!0,async function(){try{await i()}catch{o()}finally{d(!1),l.current=!1}}())},[I,i,o,j]);const U=te.useCallback(async(h,S,T)=>{if(!n)throw _.current(new n_);if(!I)throw _.current(new Lt,n);return await n.sendTransaction(h,S,T)},[n,I]),P=te.useMemo(()=>n&&"signTransaction"in n?async h=>{if(!I)throw _.current(new Lt,n);return await n.signTransaction(h)}:void 0,[n,I]),W=te.useMemo(()=>n&&"signAllTransactions"in n?async h=>{if(!I)throw _.current(new Lt,n);return await n.signAllTransactions(h)}:void 0,[n,I]),$=te.useMemo(()=>n&&"signMessage"in n?async h=>{if(!I)throw _.current(new Lt,n);return await n.signMessage(h)}:void 0,[n,I]),H=te.useMemo(()=>n&&"signIn"in n?async h=>await n.signIn(h):void 0,[n]),A=te.useCallback(async()=>{if(l.current||g.current||j!=null&&j.adapter.connected)return;if(!j)throw _.current(new n_);const{adapter:h,readyState:S}=j;if(!(S===We.Installed||S===We.Loadable))throw _.current(new cl,h);l.current=!0,d(!0);try{await h.connect()}catch(T){throw o(),T}finally{d(!1),l.current=!1}},[o,j]),u=te.useCallback(async()=>{if(!g.current&&n){g.current=!0,f(!0);try{await n.disconnect()}finally{f(!1),g.current=!1}}},[n]);return re.createElement(WR.Provider,{value:{autoConnect:!!i,wallets:N,wallet:j,publicKey:m,connected:I,connecting:c,disconnecting:p,select:a,connect:A,disconnect:u,sendTransaction:U,signTransaction:P,signAllTransactions:W,signMessage:$,signIn:H}},t)}let b0;function rP(){var t;return b0===void 0&&(b0=((t=globalThis.navigator)==null?void 0:t.userAgent)??null),b0}function T_(t){const e=rP();return eP({adapters:t,userAgentString:e})===Ka.MOBILE_WEB}function iP(){const t=globalThis.location;if(t)return`${t.protocol}//${t.host}`}function oP({children:t,wallets:e,autoConnect:n,localStorageKey:r="walletName",onError:i}){const{connection:o}=DR(),s=Q5(e),a=te.useMemo(()=>{if(!T_(s))return null;const b=s.find(_=>_.name===jd);return b||new x5({addressSelector:T5(),appIdentity:{uri:iP()},authorizationResultCache:k5(),cluster:tP(o==null?void 0:o.rpcEndpoint),onWalletNotFound:C5()})},[s,o==null?void 0:o.rpcEndpoint]),l=te.useMemo(()=>a==null||s.indexOf(a)!==-1?s:[a,...s],[s,a]),[c,d]=dL(r,null),g=te.useMemo(()=>l.find(b=>b.name===c)??null,[l,c]),p=te.useCallback(b=>{c!==b&&(g&&g.name!==jd&&g.disconnect(),d(b))},[g,d,c]);te.useEffect(()=>{if(!g)return;function b(){R.current||d(null)}return g.on("disconnect",b),()=>{g.off("disconnect",b)}},[g,s,d,c]);const f=te.useRef(!1),m=te.useMemo(()=>{if(!(!n||!g))return async()=>{(n===!0||await n(g))&&(f.current?await g.connect():await g.autoConnect())}},[n,g]),R=te.useRef(!1);te.useEffect(()=>{if(c===jd&&T_(s)){R.current=!1;return}function b(){R.current=!0}return window.addEventListener("beforeunload",b),()=>{window.removeEventListener("beforeunload",b)}},[s,c]);const I=te.useCallback(()=>{g&&p(null)},[g,p]),w=te.useCallback(b=>{f.current=!0,p(b)},[p]);return re.createElement(nP,{wallets:l,adapter:g,isUnloadingRef:R,onAutoConnectRequest:m,onConnectError:I,onError:i,onSelectWallet:w},t)}const uI={setVisible(t){console.error(dI("call","setVisible"))},visible:!1};Object.defineProperty(uI,"visible",{get(){return console.error(dI("read","visible")),!1}});function dI(t,e){return`You have tried to  ${t} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const fI=te.createContext(uI);function hI(){return te.useContext(fI)}function sP({onSelectWallet:t}){const{connect:e,connected:n,connecting:r,disconnect:i,disconnecting:o,publicKey:s,select:a,wallet:l,wallets:c}=Lh();let d;r?d="connecting":n?d="connected":o?d="disconnecting":l?d="has-wallet":d="no-wallet";const g=te.useCallback(()=>{e().catch(()=>{})},[e]),p=te.useCallback(()=>{i().catch(()=>{})},[i]),f=te.useCallback(()=>{t({onSelectWallet:a,wallets:c})},[t,a,c]);return{buttonState:d,onConnect:d==="has-wallet"?g:void 0,onDisconnect:d!=="disconnecting"&&d!=="no-wallet"?p:void 0,onSelectWallet:f,publicKey:s??void 0,walletIcon:l==null?void 0:l.adapter.icon,walletName:l==null?void 0:l.adapter.name}}const pI=t=>re.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&re.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&re.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),gI=({wallet:t,...e})=>t&&re.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e});function aP({walletIcon:t,walletName:e,...n}){return re.createElement(pI,{...n,className:"wallet-adapter-button-trigger",startIcon:t&&e?re.createElement(gI,{wallet:{adapter:{icon:t,name:e}}}):void 0})}function lP({children:t,labels:e,...n}){const{setVisible:r}=hI(),{buttonState:i,onConnect:o,onDisconnect:s,publicKey:a,walletIcon:l,walletName:c}=sP({onSelectWallet(){r(!0)}}),[d,g]=te.useState(!1),[p,f]=te.useState(!1),m=te.useRef(null);te.useEffect(()=>{const I=w=>{const b=m.current;!b||b.contains(w.target)||f(!1)};return document.addEventListener("mousedown",I),document.addEventListener("touchstart",I),()=>{document.removeEventListener("mousedown",I),document.removeEventListener("touchstart",I)}},[]);const R=te.useMemo(()=>{if(t)return t;if(a){const I=a.toBase58();return I.slice(0,4)+".."+I.slice(-4)}else return i==="connecting"||i==="has-wallet"?e[i]:e["no-wallet"]},[i,t,e,a]);return re.createElement("div",{className:"wallet-adapter-dropdown"},re.createElement(aP,{...n,"aria-expanded":p,style:{pointerEvents:p?"none":"auto",...n.style},onClick:()=>{switch(i){case"no-wallet":r(!0);break;case"has-wallet":o&&o();break;case"connected":f(!0);break}},walletIcon:l,walletName:c},R),re.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${p&&"wallet-adapter-dropdown-list-active"}`,ref:m,role:"menu"},a?re.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(a.toBase58()),g(!0),setTimeout(()=>g(!1),400)},role:"menuitem"},d?e.copied:e["copy-address"]):null,re.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{r(!0),f(!1)},role:"menuitem"},e["change-wallet"]),s?re.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{s(),f(!1)},role:"menuitem"},e.disconnect):null))}const k_=({id:t,children:e,expanded:n=!1})=>{const r=te.useRef(null),i=te.useRef(!0),o="height 250ms ease-out",s=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.scrollHeight+"px"})},a=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.offsetHeight+"px",l.style.overflow="hidden",requestAnimationFrame(()=>{l.style.height="0"})})};return te.useLayoutEffect(()=>{n?s():a()},[n]),te.useLayoutEffect(()=>{const l=r.current;if(!l)return;function c(){l&&(l.style.overflow=n?"initial":"hidden",n&&(l.style.height="auto"))}function d(g){l&&g.target===l&&g.propertyName==="height"&&c()}return i.current&&(c(),i.current=!1),l.addEventListener("transitionend",d),()=>l.removeEventListener("transitionend",d)},[n]),re.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:r,role:"region",style:{height:0,transition:i.current?void 0:o}},e)},S0=({handleClick:t,tabIndex:e,wallet:n})=>re.createElement("li",null,re.createElement(pI,{onClick:t,startIcon:re.createElement(gI,{wallet:n}),tabIndex:e},n.adapter.name,n.readyState===We.Installed&&re.createElement("span",null,"Detected"))),cP=()=>re.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},re.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),re.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),re.createElement("g",{clipPath:"url(#clip0_880_5115)"},re.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),re.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),re.createElement("defs",null,re.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},re.createElement("stop",{stopColor:"#9945FF"}),re.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),re.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),re.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),re.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),re.createElement("stop",{offset:"1",stopColor:"#00D18C"})),re.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},re.createElement("stop",{stopColor:"#9945FF"}),re.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),re.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),re.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),re.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),re.createElement("stop",{offset:"1",stopColor:"#00D18C"})),re.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},re.createElement("stop",{stopColor:"#9945FF"}),re.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),re.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),re.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),re.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),re.createElement("stop",{offset:"1",stopColor:"#00D18C"})),re.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},re.createElement("stop",{stopColor:"#9945FF"}),re.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),re.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),re.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),re.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),re.createElement("stop",{offset:"1",stopColor:"#00D18C"})),re.createElement("clipPath",{id:"clip0_880_5115"},re.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),uP=({className:t="",container:e="body"})=>{const n=te.useRef(null),{wallets:r,select:i}=Lh(),{setVisible:o}=hI(),[s,a]=te.useState(!1),[l,c]=te.useState(!1),[d,g]=te.useState(null),[p,f]=te.useMemo(()=>{const _=[],N=[];for(const L of r)L.readyState===We.Installed?_.push(L):N.push(L);return _.length?[_,N]:[N,[]]},[r]),m=te.useCallback(()=>{c(!1),setTimeout(()=>o(!1),150)},[o]),R=te.useCallback(_=>{_.preventDefault(),m()},[m]),I=te.useCallback((_,N)=>{i(N),R(_)},[i,R]),w=te.useCallback(()=>a(!s),[s]),b=te.useCallback(_=>{const N=n.current;if(!N)return;const L=N.querySelectorAll("button"),j=L[0],O=L[L.length-1];_.shiftKey?document.activeElement===j&&(O.focus(),_.preventDefault()):document.activeElement===O&&(j.focus(),_.preventDefault())},[n]);return te.useLayoutEffect(()=>{const _=L=>{L.key==="Escape"?m():L.key==="Tab"&&b(L)},{overflow:N}=window.getComputedStyle(document.body);return setTimeout(()=>c(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",_,!1),()=>{document.body.style.overflow=N,window.removeEventListener("keydown",_,!1)}},[m,b]),te.useLayoutEffect(()=>g(document.querySelector(e)),[e]),d&&WS.createPortal(re.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${l&&"wallet-adapter-modal-fade-in"} ${t}`,ref:n,role:"dialog"},re.createElement("div",{className:"wallet-adapter-modal-container"},re.createElement("div",{className:"wallet-adapter-modal-wrapper"},re.createElement("button",{onClick:R,className:"wallet-adapter-modal-button-close"},re.createElement("svg",{width:"14",height:"14"},re.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),p.length?re.createElement(re.Fragment,null,re.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),re.createElement("ul",{className:"wallet-adapter-modal-list"},p.map(_=>re.createElement(S0,{key:_.adapter.name,handleClick:N=>I(N,_.adapter.name),wallet:_})),f.length?re.createElement(k_,{expanded:s,id:"wallet-adapter-modal-collapse"},f.map(_=>re.createElement(S0,{key:_.adapter.name,handleClick:N=>I(N,_.adapter.name),tabIndex:s?0:-1,wallet:_}))):null),f.length?re.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:w,tabIndex:0},re.createElement("span",null,s?"Less ":"More ","options"),re.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${s?"wallet-adapter-modal-list-more-icon-rotate":""}`},re.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):re.createElement(re.Fragment,null,re.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),re.createElement("div",{className:"wallet-adapter-modal-middle"},re.createElement(cP,null)),f.length?re.createElement(re.Fragment,null,re.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:w,tabIndex:0},re.createElement("span",null,s?"Hide ":"Already have a wallet? View ","options"),re.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${s?"wallet-adapter-modal-list-more-icon-rotate":""}`},re.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),re.createElement(k_,{expanded:s,id:"wallet-adapter-modal-collapse"},re.createElement("ul",{className:"wallet-adapter-modal-list"},f.map(_=>re.createElement(S0,{key:_.adapter.name,handleClick:N=>I(N,_.adapter.name),tabIndex:s?0:-1,wallet:_}))))):null))),re.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:R})),d)},dP=({children:t,...e})=>{const[n,r]=te.useState(!1);return re.createElement(fI.Provider,{value:{visible:n,setVisible:r}},t,n&&re.createElement(uP,{...e}))},fP={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function C_(t){return re.createElement(lP,{...t,labels:fP})}const hP="modulepreload",pP=function(t){return"/"+t},M_={},mI=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=pP(l),l in M_)return;M_[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const g=document.createElement("link");if(g.rel=c?"stylesheet":hP,c||(g.as="script"),g.crossOrigin="",g.href=l,a&&g.setAttribute("nonce",a),document.head.appendChild(g),c)return new Promise((p,f)=>{g.addEventListener("load",p),g.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})},gP="Phantom";class mP extends Mh{constructor(e={}){super(),this.name=gP,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?We.Unsupported:We.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),n.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new Th),this.emit("disconnect"))},this._accountChanged=n=>{const r=this._publicKey;if(r){try{n=new J(n.toBytes())}catch(i){this.emit("error",new ul(i==null?void 0:i.message,i));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==We.Unsupported&&(xf()?(this._readyState=We.Loadable,this.emit("readyStateChange",this._readyState)):Iw(()=>{var n,r,i;return(r=(n=window.phantom)==null?void 0:n.solana)!=null&&r.isPhantom||(i=window.solana)!=null&&i.isPhantom?(this._readyState=We.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===We.Installed&&await this.connect()}async connect(){var e;try{if(this.connected||this.connecting)return;if(this.readyState===We.Loadable){const i=encodeURIComponent(window.location.href),o=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${i}?ref=${o}`;return}if(this.readyState!==We.Installed)throw new cl;this._connecting=!0;const n=((e=window.phantom)==null?void 0:e.solana)||window.solana;if(!n.isConnected)try{await n.connect()}catch(i){throw new jc(i==null?void 0:i.message,i)}if(!n.publicKey)throw new ko;let r;try{r=new J(n.publicKey.toBytes())}catch(i){throw new ul(i==null?void 0:i.message,i)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new kh(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const i=this._wallet;if(!i)throw new Lt;try{const{signers:o,...s}=r;gi(e)?o!=null&&o.length&&e.sign(o):(e=await this.prepareTransaction(e,n,s),o!=null&&o.length&&e.partialSign(...o)),s.preflightCommitment=s.preflightCommitment||n.commitment;const{signature:a}=await i.signAndSendTransaction(e,s);return a}catch(o){throw o instanceof Et?o:new Gi(o==null?void 0:o.message,o)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new Lt;try{return await n.signTransaction(e)||e}catch(r){throw new qr(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new Lt;try{return await n.signAllTransactions(e)||e}catch(r){throw new qr(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new Lt;try{const{signature:r}=await n.signMessage(e);return r}catch(r){throw new Ch(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const yP="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var Ke=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},wP=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Hd,Ns,km,Cm,Mm,Bn,Om,yI,wI,Lm,Bm,Pm,Dm,Um;class vP{constructor(){Hd.add(this),Ns.set(this,{}),km.set(this,"1.0.0"),Cm.set(this,"MetaMask"),Mm.set(this,yP),Bn.set(this,null),Om.set(this,(e,n)=>{var r;return(r=Ke(this,Ns,"f")[e])!=null&&r.push(n)||(Ke(this,Ns,"f")[e]=[n]),()=>Ke(this,Hd,"m",wI).call(this,e,n)}),Lm.set(this,async()=>{if(!Ke(this,Bn,"f")){let e;try{e=(await mI(async()=>{const{default:n}=await import("./index-CITuhanL.js");return{default:n}},[])).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}wP(this,Bn,new e,"f"),Ke(this,Bn,"f").on("standard_change",n=>Ke(this,Hd,"m",yI).call(this,"change",n))}return this.accounts.length||await Ke(this,Bn,"f").connect(),{accounts:this.accounts}}),Bm.set(this,async()=>{Ke(this,Bn,"f")&&await Ke(this,Bn,"f").disconnect()}),Pm.set(this,async(...e)=>{if(!Ke(this,Bn,"f"))throw new Lt;return await Ke(this,Bn,"f").standardSignAndSendTransaction(...e)}),Dm.set(this,async(...e)=>{if(!Ke(this,Bn,"f"))throw new Lt;return await Ke(this,Bn,"f").standardSignTransaction(...e)}),Um.set(this,async(...e)=>{if(!Ke(this,Bn,"f"))throw new Lt;return await Ke(this,Bn,"f").standardSignMessage(...e)})}get version(){return Ke(this,km,"f")}get name(){return Ke(this,Cm,"f")}get icon(){return Ke(this,Mm,"f")}get chains(){return[Jn.SOLANA_MAINNET_CHAIN,Jn.SOLANA_DEVNET_CHAIN,Jn.SOLANA_TESTNET_CHAIN]}get features(){return{[iu]:{version:"1.0.0",connect:Ke(this,Lm,"f")},[Wc]:{version:"1.0.0",disconnect:Ke(this,Bm,"f")},[ou]:{version:"1.0.0",on:Ke(this,Om,"f")},[pi]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Ke(this,Pm,"f")},[sn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:Ke(this,Dm,"f")},[fs]:{version:"1.0.0",signMessage:Ke(this,Um,"f")}}}get accounts(){return Ke(this,Bn,"f")?Ke(this,Bn,"f").standardAccounts:[]}}Ns=new WeakMap,km=new WeakMap,Cm=new WeakMap,Mm=new WeakMap,Bn=new WeakMap,Om=new WeakMap,Lm=new WeakMap,Bm=new WeakMap,Pm=new WeakMap,Dm=new WeakMap,Um=new WeakMap,Hd=new WeakSet,yI=function(e,...n){var r;(r=Ke(this,Ns,"f")[e])==null||r.forEach(i=>i.apply(null,n))},wI=function(e,n){var r;Ke(this,Ns,"f")[e]=(r=Ke(this,Ns,"f")[e])==null?void 0:r.filter(i=>n!==i)};let O_=!1;function _P(){O_||(L5(new vP),O_=!0)}async function EP(){const t="solflare-detect-metamask";function e(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:t,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function n(r){var o,s;const i=r.data;(i==null?void 0:i.target)==="metamask-inpage"&&((o=i.data)==null?void 0:o.name)==="metamask-provider"&&(((s=i.data.data)==null?void 0:s.id)===t?(window.removeEventListener("message",n),i.data.data.error||_P()):e())}window.addEventListener("message",n),window.setTimeout(()=>window.removeEventListener("message",n),5e3),e()}const bP="Solflare";class SP extends Mh{constructor(e={}){super(),this.name=bP,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJTIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiMwMjA1MGE7c3Ryb2tlOiNmZmVmNDY7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOi41cHg7fS5jbHMtMntmaWxsOiNmZmVmNDY7fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJjbHMtMiIgeD0iMCIgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiByeD0iMTIiIHJ5PSIxMiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTI0LjIzLDI2LjQybDIuNDYtMi4zOCw0LjU5LDEuNWMzLjAxLDEsNC41MSwyLjg0LDQuNTEsNS40MywwLDEuOTYtLjc1LDMuMjYtMi4yNSw0LjkzbC0uNDYuNS4xNy0xLjE3Yy42Ny00LjI2LS41OC02LjA5LTQuNzItNy40M2wtNC4zLTEuMzhoMFpNMTguMDUsMTEuODVsMTIuNTIsNC4xNy0yLjcxLDIuNTktNi41MS0yLjE3Yy0yLjI1LS43NS0zLjAxLTEuOTYtMy4zLTQuNTF2LS4wOGgwWk0xNy4zLDMzLjA2bDIuODQtMi43MSw1LjM0LDEuNzVjMi44LjkyLDMuNzYsMi4xMywzLjQ2LDUuMThsLTExLjY1LTQuMjJoMFpNMTMuNzEsMjAuOTVjMC0uNzkuNDItMS41NCwxLjEzLTIuMTcuNzUsMS4wOSwyLjA1LDIuMDUsNC4wOSwyLjcxbDQuNDIsMS40Ni0yLjQ2LDIuMzgtNC4zNC0xLjQyYy0yLS42Ny0yLjg0LTEuNjctMi44NC0yLjk2TTI2LjgyLDQyLjg3YzkuMTgtNi4wOSwxNC4xMS0xMC4yMywxNC4xMS0xNS4zMiwwLTMuMzgtMi01LjI2LTYuNDMtNi43MmwtMy4zNC0xLjEzLDkuMTQtOC43Ny0xLjg0LTEuOTYtMi43MSwyLjM4LTEyLjgxLTQuMjJjLTMuOTcsMS4yOS04Ljk3LDUuMDktOC45Nyw4Ljg5LDAsLjQyLjA0LjgzLjE3LDEuMjktMy4zLDEuODgtNC42MywzLjYzLTQuNjMsNS44LDAsMi4wNSwxLjA5LDQuMDksNC41NSw1LjIybDIuNzUuOTItOS41Miw5LjE0LDEuODQsMS45NiwyLjk2LTIuNzEsMTQuNzMsNS4yMmgwWiIvPjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?We.Unsupported:We.Loadable,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new Th),this.emit("disconnect"))},this._accountChanged=n=>{if(!n)return;const r=this._publicKey;if(r){try{n=new J(n.toBytes())}catch(i){this.emit("error",new ul(i==null?void 0:i.message,i));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==We.Unsupported&&(Iw(()=>{var n;return(n=window.solflare)!=null&&n.isSolflare||window.SolflareApp?(this._readyState=We.Installed,this.emit("readyStateChange",this._readyState),!0):!1}),EP())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.connected)}get readyState(){return this._readyState}async autoConnect(){this.readyState===We.Loadable&&xf()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==We.Loadable&&this._readyState!==We.Installed)throw new cl;if(this.readyState===We.Loadable&&xf()){const i=encodeURIComponent(window.location.href),o=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${i}?ref=${o}`;return}let e;try{e=(await mI(async()=>{const{default:i}=await import("./index-BLudO-dl.js");return{default:i}},[])).default}catch(i){throw new UR(i==null?void 0:i.message,i)}let n;try{n=new e({network:this._config.network})}catch(i){throw new Es(i==null?void 0:i.message,i)}if(this._connecting=!0,!n.connected)try{await n.connect()}catch(i){throw new jc(i==null?void 0:i.message,i)}if(!n.publicKey)throw new jc;let r;try{r=new J(n.publicKey.toBytes())}catch(i){throw new ul(i==null?void 0:i.message,i)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new kh(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const i=this._wallet;if(!i)throw new Lt;try{const{signers:o,...s}=r;return gi(e)?o!=null&&o.length&&e.sign(o):(e=await this.prepareTransaction(e,n,s),o!=null&&o.length&&e.partialSign(...o)),s.preflightCommitment=s.preflightCommitment||n.commitment,await i.signAndSendTransaction(e,s)}catch(o){throw o instanceof Et?o:new Gi(o==null?void 0:o.message,o)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new Lt;try{return await n.signTransaction(e)||e}catch(r){throw new qr(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new Lt;try{return await n.signAllTransactions(e)||e}catch(r){throw new qr(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new Lt;try{return await n.signMessage(e,"utf8")}catch(r){throw new Ch(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const AP=({children:t})=>{const e=Tf.Devnet,n=te.useMemo(()=>{const i=BR(e);return console.log("Solana endpoint:",i),i},[e]),r=te.useMemo(()=>{try{const i=[new mP,new SP];return console.log("Initialized wallet adapters:",i.map(o=>o.name)),i}catch(i){return console.error("Error initializing wallet adapters:",i),[]}},[]);return console.log("SolanaProvider rendering with:",{network:e,endpoint:n,walletCount:r.length}),F.jsx(Q6,{endpoint:n,children:F.jsx(oP,{wallets:r,autoConnect:!0,children:F.jsx(dP,{children:t})})})},RP=()=>{const{connected:t}=Lh();return F.jsx("div",{className:"flex items-center space-x-4",children:t?F.jsxs("div",{className:"flex items-center space-x-2",children:[F.jsx("span",{className:"text-sm text-gray-600",children:"Wallet Connected"}),F.jsx(C_,{className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg"})]}):F.jsx(C_,{className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg"})})};var Vu=Qy.Buffer;function IP(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function d(f){if((Array.isArray(f)||f instanceof Uint8Array)&&(f=Vu.from(f)),!Vu.isBuffer(f))throw new TypeError("Expected Buffer");if(f.length===0)return"";for(var m=0,R=0,I=0,w=f.length;I!==w&&f[I]===0;)I++,m++;for(var b=(w-I)*c+1>>>0,_=new Uint8Array(b);I!==w;){for(var N=f[I],L=0,j=b-1;(N!==0||L<R)&&j!==-1;j--,L++)N+=256*_[j]>>>0,_[j]=N%s>>>0,N=N/s>>>0;if(N!==0)throw new Error("Non-zero carry");R=L,I++}for(var O=b-R;O!==b&&_[O]===0;)O++;for(var U=a.repeat(m);O<b;++O)U+=t.charAt(_[O]);return U}function g(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return Vu.alloc(0);for(var m=0,R=0,I=0;f[m]===a;)R++,m++;for(var w=(f.length-m)*l+1>>>0,b=new Uint8Array(w);m<f.length;){var _=f.charCodeAt(m);if(_>255)return;var N=e[_];if(N===255)return;for(var L=0,j=w-1;(N!==0||L<I)&&j!==-1;j--,L++)N+=s*b[j]>>>0,b[j]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");I=L,m++}for(var O=w-I;O!==w&&b[O]===0;)O++;var U=Vu.allocUnsafe(R+(w-O));U.fill(0,0,R);for(var P=R;O!==w;)U[P++]=b[O++];return U}function p(f){var m=g(f);if(m)return m;throw new Error("Non-base"+s+" character")}return{encode:d,decodeUnsafe:g,decode:p}}var NP=IP,xP=NP,TP="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",kP=xP(TP);const $w=no(kP);var Hw={exports:{}};const CP=/[\p{Lu}]/u,MP=/[\p{Ll}]/u,L_=/^[\p{Lu}](?![\p{Lu}])/gu,vI=/([\p{Alpha}\p{N}_]|$)/u,_I=/[_.\- ]+/,OP=new RegExp("^"+_I.source),B_=new RegExp(_I.source+vI.source,"gu"),P_=new RegExp("\\d+"+vI.source,"gu"),LP=(t,e,n)=>{let r=!1,i=!1,o=!1;for(let s=0;s<t.length;s++){const a=t[s];r&&CP.test(a)?(t=t.slice(0,s)+"-"+t.slice(s),r=!1,o=i,i=!0,s++):i&&o&&MP.test(a)?(t=t.slice(0,s-1)+"-"+t.slice(s-1),o=i,i=!1,r=!0):(r=e(a)===a&&n(a)!==a,o=i,i=n(a)===a&&e(a)!==a)}return t},BP=(t,e)=>(L_.lastIndex=0,t.replace(L_,n=>e(n))),PP=(t,e)=>(B_.lastIndex=0,P_.lastIndex=0,t.replace(B_,(n,r)=>e(r)).replace(P_,n=>e(n))),EI=(t,e)=>{if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(t)?t=t.map(o=>o.trim()).filter(o=>o.length).join("-"):t=t.trim(),t.length===0)return"";const n=e.locale===!1?o=>o.toLowerCase():o=>o.toLocaleLowerCase(e.locale),r=e.locale===!1?o=>o.toUpperCase():o=>o.toLocaleUpperCase(e.locale);return t.length===1?e.pascalCase?r(t):n(t):(t!==n(t)&&(t=LP(t,n,r)),t=t.replace(OP,""),e.preserveConsecutiveUppercase?t=BP(t,n):t=n(t),e.pascalCase&&(t=r(t.charAt(0))+t.slice(1)),PP(t,r))};Hw.exports=EI;Hw.exports.default=EI;var DP=Hw.exports;const UP=no(DP);var xe={},he={};let Ye=class{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}decode(e,n){throw new Error("Layout is abstract")}encode(e,n,r){throw new Error("Layout is abstract")}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}};he.Layout=Ye;function Kw(t,e){return e.property?t+"["+e.property+"]":t}he.nameWithProperty=Kw;function zP(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Ye))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value:function(n,r){return e.decode(n,r)},writable:!0})}he.bindConstructorLayout=zP;let er=class extends Ye{isCount(){throw new Error("ExternalLayout is abstract")}};class bI extends er{constructor(e,n){if(e===void 0&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n){n===void 0&&(n=0);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}let Vw=class extends er{constructor(e,n,r){if(!(e instanceof Ye))throw new TypeError("layout must be a Layout");if(n===void 0)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Ti||this.layout instanceof oo}decode(e,n){return n===void 0&&(n=0),this.layout.decode(e,n+this.offset)}encode(e,n,r){return r===void 0&&(r=0),this.layout.encode(e,n,r+this.offset)}},Ti=class extends Ye{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntLE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntLE(e,r,this.span),this.span}},oo=class extends Ye{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntBE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntBE(e,r,this.span),this.span}};class Ys extends Ye{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readIntLE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeIntLE(e,r,this.span),this.span}}class Il extends Ye{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readIntBE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeIntBE(e,r,this.span),this.span}}const zm=Math.pow(2,32);function Wh(t){const e=Math.floor(t/zm),n=t-e*zm;return{hi32:e,lo32:n}}function Fh(t,e){return t*zm+e}let jP=class extends Ye{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),i=e.readUInt32LE(n+4);return Fh(i,r)}encode(e,n,r){r===void 0&&(r=0);const i=Wh(e);return n.writeUInt32LE(i.lo32,r),n.writeUInt32LE(i.hi32,r+4),8}};class WP extends Ye{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32BE(n),i=e.readUInt32BE(n+4);return Fh(r,i)}encode(e,n,r){r===void 0&&(r=0);const i=Wh(e);return n.writeUInt32BE(i.hi32,r),n.writeUInt32BE(i.lo32,r+4),8}}let FP=class extends Ye{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),i=e.readInt32LE(n+4);return Fh(i,r)}encode(e,n,r){r===void 0&&(r=0);const i=Wh(e);return n.writeUInt32LE(i.lo32,r),n.writeInt32LE(i.hi32,r+4),8}};class $P extends Ye{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readInt32BE(n),i=e.readUInt32BE(n+4);return Fh(r,i)}encode(e,n,r){r===void 0&&(r=0);const i=Wh(e);return n.writeInt32BE(i.hi32,r),n.writeUInt32BE(i.lo32,r+4),8}}class SI extends Ye{constructor(e){super(4,e)}decode(e,n){return n===void 0&&(n=0),e.readFloatLE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeFloatLE(e,r),4}}class AI extends Ye{constructor(e){super(4,e)}decode(e,n){return n===void 0&&(n=0),e.readFloatBE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeFloatBE(e,r),4}}class RI extends Ye{constructor(e){super(8,e)}decode(e,n){return n===void 0&&(n=0),e.readDoubleLE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeDoubleLE(e,r),8}}class II extends Ye{constructor(e){super(8,e)}decode(e,n){return n===void 0&&(n=0),e.readDoubleBE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeDoubleBE(e,r),8}}class NI extends Ye{constructor(e,n,r){if(!(e instanceof Ye))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof er&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof er)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0,i=this.count;if(i instanceof er&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let o=0;for(;o<i;)r+=this.elementLayout.getSpan(e,n+r),++o}return r}decode(e,n){n===void 0&&(n=0);const r=[];let i=0,o=this.count;for(o instanceof er&&(o=o.decode(e,n));i<o;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r){r===void 0&&(r=0);const i=this.elementLayout,o=e.reduce((s,a)=>s+i.encode(a,n,r+s),0);return this.count instanceof er&&this.count.encode(e.length,n,r),o}}let xI=class extends Ye{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof Ye,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;try{r=this.fields.reduce((i,o)=>{const s=o.getSpan(e,n);return n+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n){n===void 0&&(n=0);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r){r===void 0&&(r=0);const i=r;let o=0,s=0;for(const a of this.fields){let l=a.span;if(s=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(s=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}o=r,r+=l}return o+s-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}},Gw=class{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}},Ff=class extends Gw{constructor(e,n){if(!(e instanceof er&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}},qw=class extends Ye{constructor(e,n,r){const i=e instanceof Ti||e instanceof oo;if(i)e=new Ff(new Vw(e));else if(e instanceof er&&e.isCount())e=new Ff(e);else if(!(e instanceof Gw))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Ye))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let o=-1;n&&(o=n.span,0<=o&&i&&(o+=e.layout.span)),super(o,r),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=n,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||e.hasOwnProperty(n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,n){n===void 0&&(n=0);let r;const i=this.discriminator,o=i.decode(e,n);let s=this.registry[o];if(s===void 0){let a=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),r=this.makeDestinationObject(),r[i.property]=o,r[s.property]=this.defaultLayout.decode(e,n+a)}else r=s.decode(e,n);return r}encode(e,n,r){r===void 0&&(r=0);const i=this.getSourceVariant(e);if(i===void 0){const o=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],n,r),a+s.encode(e[s.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new TI(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n){let r=e;return Buffer.isBuffer(e)&&(n===void 0&&(n=0),r=this.discriminator.decode(e,n)),this.registry[r]}},TI=class extends Ye{constructor(e,n,r,i){if(!(e instanceof qw))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof Ye))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,n+r)}decode(e,n){const r=this.makeDestinationObject();if(n===void 0&&(n=0),this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r){r===void 0&&(r=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let o=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),o+=this.layout.getSpan(n,r+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};function ya(t){return 0>t&&(t+=4294967296),t}class Yw extends Ye{constructor(e,n,r){if(!(e instanceof Ti||e instanceof oo))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(o){return i=ya(o),this},this._packedGetValue=function(){return i}}decode(e,n){const r=this.makeDestinationObject();n===void 0&&(n=0);const i=this.word.decode(e,n);this._packedSetValue(i);for(const o of this.fields)o.property!==void 0&&(r[o.property]=o.decode(i));return r}encode(e,n,r){r===void 0&&(r=0);const i=this.word.decode(n,r);this._packedSetValue(i);for(const o of this.fields)if(o.property!==void 0){const s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new mc(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new kI(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}class mc{constructor(e,n,r){if(!(e instanceof Yw))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,o=e.fields.reduce((s,a)=>s+a.bits,0);if(n+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-n),this.wordMask=ya(this.valueMask<<this.start),this.property=r}decode(){const e=this.container._packedGetValue();return ya(e&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==ya(e&this.valueMask))throw new TypeError(Kw("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=ya(e<<this.start);this.container._packedSetValue(ya(n&~this.wordMask)|r)}}let kI=class extends mc{constructor(e,n){super(e,1,n)}decode(e,n){return!!mc.prototype.decode.call(this,e,n)}encode(e){return typeof e=="boolean"&&(e=+e),mc.prototype.encode.call(this,e)}},CI=class extends Ye{constructor(e,n){if(!(e instanceof er&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof er||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n){n===void 0&&(n=0);let r=this.span;return 0>r&&(r=this.length.decode(e,n)),e.slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof er&&(i=e.length),!(Buffer.isBuffer(e)&&i===e.length))throw new TypeError(Kw("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return n.write(e.toString("hex"),r,i,"hex"),this.length instanceof er&&this.length.encode(i,n,r),i}};class MI extends Ye{constructor(e){super(-1,e)}getSpan(e,n){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");n===void 0&&(n=0);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n,r){n===void 0&&(n=0);let i=this.getSpan(e,n);return e.slice(n,n+i-1).toString("utf-8")}encode(e,n,r){r===void 0&&(r=0),typeof e!="string"&&(e=e.toString());const i=new Buffer(e,"utf8"),o=i.length;if(r+o>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(n,r),n[r+o]=0,o+1}}class OI extends Ye{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return n===void 0&&(n=0),e.length-n}decode(e,n,r){n===void 0&&(n=0);let i=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");return e.slice(n,n+i).toString("utf-8")}encode(e,n,r){r===void 0&&(r=0),typeof e!="string"&&(e=e.toString());const i=new Buffer(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(n,r),o}}class LI extends Ye{constructor(e,n){super(0,n),this.value=e}decode(e,n,r){return this.value}encode(e,n,r){return 0}}he.ExternalLayout=er;he.GreedyCount=bI;he.OffsetLayout=Vw;he.UInt=Ti;he.UIntBE=oo;he.Int=Ys;he.IntBE=Il;he.Float=SI;he.FloatBE=AI;he.Double=RI;he.DoubleBE=II;he.Sequence=NI;he.Structure=xI;he.UnionDiscriminator=Gw;he.UnionLayoutDiscriminator=Ff;he.Union=qw;he.VariantLayout=TI;he.BitStructure=Yw;he.BitField=mc;he.Boolean=kI;he.Blob=CI;he.CString=MI;he.UTF8=OI;he.Constant=LI;he.greedy=(t,e)=>new bI(t,e);he.offset=(t,e,n)=>new Vw(t,e,n);he.u8=t=>new Ti(1,t);he.u16=t=>new Ti(2,t);he.u24=t=>new Ti(3,t);he.u32=t=>new Ti(4,t);he.u40=t=>new Ti(5,t);he.u48=t=>new Ti(6,t);he.nu64=t=>new jP(t);he.u16be=t=>new oo(2,t);he.u24be=t=>new oo(3,t);he.u32be=t=>new oo(4,t);he.u40be=t=>new oo(5,t);he.u48be=t=>new oo(6,t);he.nu64be=t=>new WP(t);he.s8=t=>new Ys(1,t);he.s16=t=>new Ys(2,t);he.s24=t=>new Ys(3,t);he.s32=t=>new Ys(4,t);he.s40=t=>new Ys(5,t);he.s48=t=>new Ys(6,t);he.ns64=t=>new FP(t);he.s16be=t=>new Il(2,t);he.s24be=t=>new Il(3,t);he.s32be=t=>new Il(4,t);he.s40be=t=>new Il(5,t);he.s48be=t=>new Il(6,t);he.ns64be=t=>new $P(t);he.f32=t=>new SI(t);he.f32be=t=>new AI(t);he.f64=t=>new RI(t);he.f64be=t=>new II(t);he.struct=(t,e,n)=>new xI(t,e,n);he.bits=(t,e,n)=>new Yw(t,e,n);he.seq=(t,e,n)=>new NI(t,e,n);he.union=(t,e,n)=>new qw(t,e,n);he.unionLayoutDiscriminator=(t,e)=>new Ff(t,e);he.blob=(t,e)=>new CI(t,e);he.cstr=t=>new MI(t);he.utf8=(t,e)=>new OI(t,e);he.const=(t,e)=>new LI(t,e);(function(t){var e=_r&&_r.__importDefault||function(H){return H&&H.__esModule?H:{default:H}};Object.defineProperty(t,"__esModule",{value:!0}),t.struct=t.f64=t.f32=t.i32=t.u32=t.i16=t.u16=t.i8=t.u8=void 0,t.u64=a,t.i64=l,t.u128=c,t.i128=d,t.u256=g,t.i256=p,t.publicKey=m,t.option=I,t.bool=w,t.vec=N,t.tagged=L,t.vecU8=j,t.str=O,t.rustEnum=U,t.array=P,t.map=$;const n=he,r=Nw,i=e(Zy);var o=he;Object.defineProperty(t,"u8",{enumerable:!0,get:function(){return o.u8}}),Object.defineProperty(t,"i8",{enumerable:!0,get:function(){return o.s8}}),Object.defineProperty(t,"u16",{enumerable:!0,get:function(){return o.u16}}),Object.defineProperty(t,"i16",{enumerable:!0,get:function(){return o.s16}}),Object.defineProperty(t,"u32",{enumerable:!0,get:function(){return o.u32}}),Object.defineProperty(t,"i32",{enumerable:!0,get:function(){return o.s32}}),Object.defineProperty(t,"f32",{enumerable:!0,get:function(){return o.f32}}),Object.defineProperty(t,"f64",{enumerable:!0,get:function(){return o.f64}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return o.struct}});class s extends n.Layout{constructor(A,u,h){super(A,h),this.blob=(0,n.blob)(A),this.signed=u}decode(A,u=0){const h=new i.default(this.blob.decode(A,u),10,"le");return this.signed?h.fromTwos(this.span*8).clone():h}encode(A,u,h=0){return this.signed&&(A=A.toTwos(this.span*8)),this.blob.encode(A.toArrayLike(Buffer,"le",this.span),u,h)}}function a(H){return new s(8,!1,H)}function l(H){return new s(8,!0,H)}function c(H){return new s(16,!1,H)}function d(H){return new s(16,!0,H)}function g(H){return new s(32,!1,H)}function p(H){return new s(32,!0,H)}class f extends n.Layout{constructor(A,u,h,S){super(A.span,S),this.layout=A,this.decoder=u,this.encoder=h}decode(A,u){return this.decoder(this.layout.decode(A,u))}encode(A,u,h){return this.layout.encode(this.encoder(A),u,h)}getSpan(A,u){return this.layout.getSpan(A,u)}}function m(H){return new f((0,n.blob)(32),A=>new r.PublicKey(A),A=>A.toBuffer(),H)}class R extends n.Layout{constructor(A,u){super(-1,u),this.layout=A,this.discriminator=(0,n.u8)()}encode(A,u,h=0){return A==null?this.discriminator.encode(0,u,h):(this.discriminator.encode(1,u,h),this.layout.encode(A,u,h+1)+1)}decode(A,u=0){const h=this.discriminator.decode(A,u);if(h===0)return null;if(h===1)return this.layout.decode(A,u+1);throw new Error("Invalid option "+this.property)}getSpan(A,u=0){const h=this.discriminator.decode(A,u);if(h===0)return 1;if(h===1)return this.layout.getSpan(A,u+1)+1;throw new Error("Invalid option "+this.property)}}function I(H,A){return new R(H,A)}function w(H){return new f((0,n.u8)(),b,_,H)}function b(H){if(H===0)return!1;if(H===1)return!0;throw new Error("Invalid bool: "+H)}function _(H){return H?1:0}function N(H,A){const u=(0,n.u32)("length"),h=(0,n.struct)([u,(0,n.seq)(H,(0,n.offset)(u,-u.span),"values")]);return new f(h,({values:S})=>S,S=>({values:S}),A)}function L(H,A,u){const h=(0,n.struct)([a("tag"),A.replicate("data")]);function S({tag:T,data:x}){if(!T.eq(H))throw new Error("Invalid tag, expected: "+H.toString("hex")+", got: "+T.toString("hex"));return x}return new f(h,S,T=>({tag:H,data:T}),u)}function j(H){const A=(0,n.u32)("length"),u=(0,n.struct)([A,(0,n.blob)((0,n.offset)(A,-A.span),"data")]);return new f(u,({data:h})=>h,h=>({data:h}),H)}function O(H){return new f(j(),A=>A.toString("utf-8"),A=>Buffer.from(A,"utf-8"),H)}function U(H,A,u){const h=(0,n.union)(u??(0,n.u8)(),A);return H.forEach((S,T)=>h.addVariant(T,S,S.property)),h}function P(H,A,u){const h=(0,n.struct)([(0,n.seq)(H,A,"values")]);return new f(h,({values:S})=>S,S=>({values:S}),u)}class W extends n.Layout{constructor(A,u,h){super(A.span+u.span,h),this.keyLayout=A,this.valueLayout=u}decode(A,u){u=u||0;const h=this.keyLayout.decode(A,u),S=this.valueLayout.decode(A,u+this.keyLayout.getSpan(A,u));return[h,S]}encode(A,u,h){h=h||0;const S=this.keyLayout.encode(A[0],u,h),T=this.valueLayout.encode(A[1],u,h+S);return S+T}getSpan(A,u){return this.keyLayout.getSpan(A,u)+this.valueLayout.getSpan(A,u)}}function $(H,A,u){const h=(0,n.u32)("length"),S=(0,n.struct)([h,(0,n.seq)(new W(H,A),(0,n.offset)(h,-h.span),"values")]);return new f(S,({values:T})=>new Map(T),T=>({values:Array.from(T.entries())}),u)}})(xe);function Nl(t){let e=t.length;for(;--e>=0;)t[e]=0}const HP=3,KP=258,BI=29,VP=256,GP=VP+1+BI,PI=30,qP=512,YP=new Array((GP+2)*2);Nl(YP);const ZP=new Array(PI*2);Nl(ZP);const QP=new Array(qP);Nl(QP);const XP=new Array(KP-HP+1);Nl(XP);const JP=new Array(BI);Nl(JP);const eD=new Array(PI);Nl(eD);const tD=(t,e,n,r)=>{let i=t&65535|0,o=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0};var jm=tD;const nD=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},rD=new Uint32Array(nD()),iD=(t,e,n,r)=>{const i=rD,o=r+n;t^=-1;for(let s=r;s<o;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var si=iD,Wm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},DI={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const oD=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var sD=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)oD(n,r)&&(t[r]=n[r])}}return t},aD=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,o=t.length;r<o;r++){let s=t[r];n.set(s,i),i+=s.length}return n},UI={assign:sD,flattenChunks:aD};let zI=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{zI=!1}const Hc=new Uint8Array(256);for(let t=0;t<256;t++)Hc[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Hc[254]=Hc[254]=1;var lD=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e};const cD=(t,e)=>{if(e<65534&&t.subarray&&zI)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var uD=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const o=new Array(n*2);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){o[i++]=s;continue}let a=Hc[s];if(a>4){o[i++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|t[r++]&63,a--;if(a>1){o[i++]=65533;continue}s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|s&1023)}return cD(o,i)},dD=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Hc[t[n]]>e?n:e},Fm={string2buf:lD,buf2string:uD,utf8border:dD};function fD(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var hD=fD;const Gu=16209,pD=16191;var gD=function(e,n){let r,i,o,s,a,l,c,d,g,p,f,m,R,I,w,b,_,N,L,j,O,U,P,W;const $=e.state;r=e.next_in,P=e.input,i=r+(e.avail_in-5),o=e.next_out,W=e.output,s=o-(n-e.avail_out),a=o+(e.avail_out-257),l=$.dmax,c=$.wsize,d=$.whave,g=$.wnext,p=$.window,f=$.hold,m=$.bits,R=$.lencode,I=$.distcode,w=(1<<$.lenbits)-1,b=(1<<$.distbits)-1;e:do{m<15&&(f+=P[r++]<<m,m+=8,f+=P[r++]<<m,m+=8),_=R[f&w];t:for(;;){if(N=_>>>24,f>>>=N,m-=N,N=_>>>16&255,N===0)W[o++]=_&65535;else if(N&16){L=_&65535,N&=15,N&&(m<N&&(f+=P[r++]<<m,m+=8),L+=f&(1<<N)-1,f>>>=N,m-=N),m<15&&(f+=P[r++]<<m,m+=8,f+=P[r++]<<m,m+=8),_=I[f&b];n:for(;;){if(N=_>>>24,f>>>=N,m-=N,N=_>>>16&255,N&16){if(j=_&65535,N&=15,m<N&&(f+=P[r++]<<m,m+=8,m<N&&(f+=P[r++]<<m,m+=8)),j+=f&(1<<N)-1,j>l){e.msg="invalid distance too far back",$.mode=Gu;break e}if(f>>>=N,m-=N,N=o-s,j>N){if(N=j-N,N>d&&$.sane){e.msg="invalid distance too far back",$.mode=Gu;break e}if(O=0,U=p,g===0){if(O+=c-N,N<L){L-=N;do W[o++]=p[O++];while(--N);O=o-j,U=W}}else if(g<N){if(O+=c+g-N,N-=g,N<L){L-=N;do W[o++]=p[O++];while(--N);if(O=0,g<L){N=g,L-=N;do W[o++]=p[O++];while(--N);O=o-j,U=W}}}else if(O+=g-N,N<L){L-=N;do W[o++]=p[O++];while(--N);O=o-j,U=W}for(;L>2;)W[o++]=U[O++],W[o++]=U[O++],W[o++]=U[O++],L-=3;L&&(W[o++]=U[O++],L>1&&(W[o++]=U[O++]))}else{O=o-j;do W[o++]=W[O++],W[o++]=W[O++],W[o++]=W[O++],L-=3;while(L>2);L&&(W[o++]=W[O++],L>1&&(W[o++]=W[O++]))}}else if(N&64){e.msg="invalid distance code",$.mode=Gu;break e}else{_=I[(_&65535)+(f&(1<<N)-1)];continue n}break}}else if(N&64)if(N&32){$.mode=pD;break e}else{e.msg="invalid literal/length code",$.mode=Gu;break e}else{_=R[(_&65535)+(f&(1<<N)-1)];continue t}break}}while(r<i&&o<a);L=m>>3,r-=L,m-=L<<3,f&=(1<<m)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=o<a?257+(a-o):257-(o-a),$.hold=f,$.bits=m};const ra=15,D_=852,U_=592,z_=0,A0=1,j_=2,mD=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),yD=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),wD=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),vD=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),_D=(t,e,n,r,i,o,s,a)=>{const l=a.bits;let c=0,d=0,g=0,p=0,f=0,m=0,R=0,I=0,w=0,b=0,_,N,L,j,O,U=null,P;const W=new Uint16Array(ra+1),$=new Uint16Array(ra+1);let H=null,A,u,h;for(c=0;c<=ra;c++)W[c]=0;for(d=0;d<r;d++)W[e[n+d]]++;for(f=l,p=ra;p>=1&&W[p]===0;p--);if(f>p&&(f=p),p===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,a.bits=1,0;for(g=1;g<p&&W[g]===0;g++);for(f<g&&(f=g),I=1,c=1;c<=ra;c++)if(I<<=1,I-=W[c],I<0)return-1;if(I>0&&(t===z_||p!==1))return-1;for($[1]=0,c=1;c<ra;c++)$[c+1]=$[c]+W[c];for(d=0;d<r;d++)e[n+d]!==0&&(s[$[e[n+d]]++]=d);if(t===z_?(U=H=s,P=20):t===A0?(U=mD,H=yD,P=257):(U=wD,H=vD,P=0),b=0,d=0,c=g,O=o,m=f,R=0,L=-1,w=1<<f,j=w-1,t===A0&&w>D_||t===j_&&w>U_)return 1;for(;;){A=c-R,s[d]+1<P?(u=0,h=s[d]):s[d]>=P?(u=H[s[d]-P],h=U[s[d]-P]):(u=96,h=0),_=1<<c-R,N=1<<m,g=N;do N-=_,i[O+(b>>R)+N]=A<<24|u<<16|h|0;while(N!==0);for(_=1<<c-1;b&_;)_>>=1;if(_!==0?(b&=_-1,b+=_):b=0,d++,--W[c]===0){if(c===p)break;c=e[n+s[d]]}if(c>f&&(b&j)!==L){for(R===0&&(R=f),O+=g,m=c-R,I=1<<m;m+R<p&&(I-=W[m+R],!(I<=0));)m++,I<<=1;if(w+=1<<m,t===A0&&w>D_||t===j_&&w>U_)return 1;L=b&j,i[L]=f<<24|m<<16|O-o|0}}return b!==0&&(i[O+b]=c-R<<24|64<<16|0),a.bits=f,0};var yc=_D;const ED=0,jI=1,WI=2,{Z_FINISH:W_,Z_BLOCK:bD,Z_TREES:qu,Z_OK:js,Z_STREAM_END:SD,Z_NEED_DICT:AD,Z_STREAM_ERROR:Ur,Z_DATA_ERROR:FI,Z_MEM_ERROR:$I,Z_BUF_ERROR:RD,Z_DEFLATED:F_}=DI,$h=16180,$_=16181,H_=16182,K_=16183,V_=16184,G_=16185,q_=16186,Y_=16187,Z_=16188,Q_=16189,$f=16190,Mi=16191,R0=16192,X_=16193,I0=16194,J_=16195,eE=16196,tE=16197,nE=16198,Yu=16199,Zu=16200,rE=16201,iE=16202,oE=16203,sE=16204,aE=16205,N0=16206,lE=16207,cE=16208,ft=16209,HI=16210,KI=16211,ID=852,ND=592,xD=15,TD=xD,uE=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function kD(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Zs=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<$h||e.mode>KI?1:0},VI=t=>{if(Zs(t))return Ur;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=$h,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(ID),e.distcode=e.distdyn=new Int32Array(ND),e.sane=1,e.back=-1,js},GI=t=>{if(Zs(t))return Ur;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,VI(t)},qI=(t,e)=>{let n;if(Zs(t))return Ur;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ur:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,GI(t))},YI=(t,e)=>{if(!t)return Ur;const n=new kD;t.state=n,n.strm=t,n.window=null,n.mode=$h;const r=qI(t,e);return r!==js&&(t.state=null),r},CD=t=>YI(t,TD);let dE=!0,x0,T0;const MD=t=>{if(dE){x0=new Int32Array(512),T0=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(yc(jI,t.lens,0,288,x0,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;yc(WI,t.lens,0,32,T0,0,t.work,{bits:5}),dE=!1}t.lencode=x0,t.lenbits=9,t.distcode=T0,t.distbits=5},ZI=(t,e,n,r)=>{let i;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(n-r,n-r+i),o.wnext),r-=i,r?(o.window.set(e.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},OD=(t,e)=>{let n,r,i,o,s,a,l,c,d,g,p,f,m,R,I=0,w,b,_,N,L,j,O,U;const P=new Uint8Array(4);let W,$;const H=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Zs(t)||!t.output||!t.input&&t.avail_in!==0)return Ur;n=t.state,n.mode===Mi&&(n.mode=R0),s=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,c=n.hold,d=n.bits,g=a,p=l,U=js;e:for(;;)switch(n.mode){case $h:if(n.wrap===0){n.mode=R0;break}for(;d<16;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,P[0]=c&255,P[1]=c>>>8&255,n.check=si(n.check,P,2,0),c=0,d=0,n.mode=$_;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=ft;break}if((c&15)!==F_){t.msg="unknown compression method",n.mode=ft;break}if(c>>>=4,d-=4,O=(c&15)+8,n.wbits===0&&(n.wbits=O),O>15||O>n.wbits){t.msg="invalid window size",n.mode=ft;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=c&512?Q_:Mi,c=0,d=0;break;case $_:for(;d<16;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}if(n.flags=c,(n.flags&255)!==F_){t.msg="unknown compression method",n.mode=ft;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=ft;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,n.check=si(n.check,P,2,0)),c=0,d=0,n.mode=H_;case H_:for(;d<32;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,P[2]=c>>>16&255,P[3]=c>>>24&255,n.check=si(n.check,P,4,0)),c=0,d=0,n.mode=K_;case K_:for(;d<16;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,n.check=si(n.check,P,2,0)),c=0,d=0,n.mode=V_;case V_:if(n.flags&1024){for(;d<16;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,n.check=si(n.check,P,2,0)),c=0,d=0}else n.head&&(n.head.extra=null);n.mode=G_;case G_:if(n.flags&1024&&(f=n.length,f>a&&(f=a),f&&(n.head&&(O=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+f),O)),n.flags&512&&n.wrap&4&&(n.check=si(n.check,r,f,o)),a-=f,o+=f,n.length-=f),n.length))break e;n.length=0,n.mode=q_;case q_:if(n.flags&2048){if(a===0)break e;f=0;do O=r[o+f++],n.head&&O&&n.length<65536&&(n.head.name+=String.fromCharCode(O));while(O&&f<a);if(n.flags&512&&n.wrap&4&&(n.check=si(n.check,r,f,o)),a-=f,o+=f,O)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Y_;case Y_:if(n.flags&4096){if(a===0)break e;f=0;do O=r[o+f++],n.head&&O&&n.length<65536&&(n.head.comment+=String.fromCharCode(O));while(O&&f<a);if(n.flags&512&&n.wrap&4&&(n.check=si(n.check,r,f,o)),a-=f,o+=f,O)break e}else n.head&&(n.head.comment=null);n.mode=Z_;case Z_:if(n.flags&512){for(;d<16;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}if(n.wrap&4&&c!==(n.check&65535)){t.msg="header crc mismatch",n.mode=ft;break}c=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Mi;break;case Q_:for(;d<32;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}t.adler=n.check=uE(c),c=0,d=0,n.mode=$f;case $f:if(n.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,n.hold=c,n.bits=d,AD;t.adler=n.check=1,n.mode=Mi;case Mi:if(e===bD||e===qu)break e;case R0:if(n.last){c>>>=d&7,d-=d&7,n.mode=N0;break}for(;d<3;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}switch(n.last=c&1,c>>>=1,d-=1,c&3){case 0:n.mode=X_;break;case 1:if(MD(n),n.mode=Yu,e===qu){c>>>=2,d-=2;break e}break;case 2:n.mode=eE;break;case 3:t.msg="invalid block type",n.mode=ft}c>>>=2,d-=2;break;case X_:for(c>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=ft;break}if(n.length=c&65535,c=0,d=0,n.mode=I0,e===qu)break e;case I0:n.mode=J_;case J_:if(f=n.length,f){if(f>a&&(f=a),f>l&&(f=l),f===0)break e;i.set(r.subarray(o,o+f),s),a-=f,o+=f,l-=f,s+=f,n.length-=f;break}n.mode=Mi;break;case eE:for(;d<14;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}if(n.nlen=(c&31)+257,c>>>=5,d-=5,n.ndist=(c&31)+1,c>>>=5,d-=5,n.ncode=(c&15)+4,c>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=ft;break}n.have=0,n.mode=tE;case tE:for(;n.have<n.ncode;){for(;d<3;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}n.lens[H[n.have++]]=c&7,c>>>=3,d-=3}for(;n.have<19;)n.lens[H[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,W={bits:n.lenbits},U=yc(ED,n.lens,0,19,n.lencode,0,n.work,W),n.lenbits=W.bits,U){t.msg="invalid code lengths set",n.mode=ft;break}n.have=0,n.mode=nE;case nE:for(;n.have<n.nlen+n.ndist;){for(;I=n.lencode[c&(1<<n.lenbits)-1],w=I>>>24,b=I>>>16&255,_=I&65535,!(w<=d);){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}if(_<16)c>>>=w,d-=w,n.lens[n.have++]=_;else{if(_===16){for($=w+2;d<$;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}if(c>>>=w,d-=w,n.have===0){t.msg="invalid bit length repeat",n.mode=ft;break}O=n.lens[n.have-1],f=3+(c&3),c>>>=2,d-=2}else if(_===17){for($=w+3;d<$;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}c>>>=w,d-=w,O=0,f=3+(c&7),c>>>=3,d-=3}else{for($=w+7;d<$;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}c>>>=w,d-=w,O=0,f=11+(c&127),c>>>=7,d-=7}if(n.have+f>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=ft;break}for(;f--;)n.lens[n.have++]=O}}if(n.mode===ft)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=ft;break}if(n.lenbits=9,W={bits:n.lenbits},U=yc(jI,n.lens,0,n.nlen,n.lencode,0,n.work,W),n.lenbits=W.bits,U){t.msg="invalid literal/lengths set",n.mode=ft;break}if(n.distbits=6,n.distcode=n.distdyn,W={bits:n.distbits},U=yc(WI,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,W),n.distbits=W.bits,U){t.msg="invalid distances set",n.mode=ft;break}if(n.mode=Yu,e===qu)break e;case Yu:n.mode=Zu;case Zu:if(a>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,n.hold=c,n.bits=d,gD(t,p),s=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,c=n.hold,d=n.bits,n.mode===Mi&&(n.back=-1);break}for(n.back=0;I=n.lencode[c&(1<<n.lenbits)-1],w=I>>>24,b=I>>>16&255,_=I&65535,!(w<=d);){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}if(b&&!(b&240)){for(N=w,L=b,j=_;I=n.lencode[j+((c&(1<<N+L)-1)>>N)],w=I>>>24,b=I>>>16&255,_=I&65535,!(N+w<=d);){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}c>>>=N,d-=N,n.back+=N}if(c>>>=w,d-=w,n.back+=w,n.length=_,b===0){n.mode=aE;break}if(b&32){n.back=-1,n.mode=Mi;break}if(b&64){t.msg="invalid literal/length code",n.mode=ft;break}n.extra=b&15,n.mode=rE;case rE:if(n.extra){for($=n.extra;d<$;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=iE;case iE:for(;I=n.distcode[c&(1<<n.distbits)-1],w=I>>>24,b=I>>>16&255,_=I&65535,!(w<=d);){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}if(!(b&240)){for(N=w,L=b,j=_;I=n.distcode[j+((c&(1<<N+L)-1)>>N)],w=I>>>24,b=I>>>16&255,_=I&65535,!(N+w<=d);){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}c>>>=N,d-=N,n.back+=N}if(c>>>=w,d-=w,n.back+=w,b&64){t.msg="invalid distance code",n.mode=ft;break}n.offset=_,n.extra=b&15,n.mode=oE;case oE:if(n.extra){for($=n.extra;d<$;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=ft;break}n.mode=sE;case sE:if(l===0)break e;if(f=p-l,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=ft;break}f>n.wnext?(f-=n.wnext,m=n.wsize-f):m=n.wnext-f,f>n.length&&(f=n.length),R=n.window}else R=i,m=s-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do i[s++]=R[m++];while(--f);n.length===0&&(n.mode=Zu);break;case aE:if(l===0)break e;i[s++]=n.length,l--,n.mode=Zu;break;case N0:if(n.wrap){for(;d<32;){if(a===0)break e;a--,c|=r[o++]<<d,d+=8}if(p-=l,t.total_out+=p,n.total+=p,n.wrap&4&&p&&(t.adler=n.check=n.flags?si(n.check,i,p,s-p):jm(n.check,i,p,s-p)),p=l,n.wrap&4&&(n.flags?c:uE(c))!==n.check){t.msg="incorrect data check",n.mode=ft;break}c=0,d=0}n.mode=lE;case lE:if(n.wrap&&n.flags){for(;d<32;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}if(n.wrap&4&&c!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=ft;break}c=0,d=0}n.mode=cE;case cE:U=SD;break e;case ft:U=FI;break e;case HI:return $I;case KI:default:return Ur}return t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,n.hold=c,n.bits=d,(n.wsize||p!==t.avail_out&&n.mode<ft&&(n.mode<N0||e!==W_))&&ZI(t,t.output,t.next_out,p-t.avail_out),g-=t.avail_in,p-=t.avail_out,t.total_in+=g,t.total_out+=p,n.total+=p,n.wrap&4&&p&&(t.adler=n.check=n.flags?si(n.check,i,p,t.next_out-p):jm(n.check,i,p,t.next_out-p)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Mi?128:0)+(n.mode===Yu||n.mode===I0?256:0),(g===0&&p===0||e===W_)&&U===js&&(U=RD),U},LD=t=>{if(Zs(t))return Ur;let e=t.state;return e.window&&(e.window=null),t.state=null,js},BD=(t,e)=>{if(Zs(t))return Ur;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,js):Ur},PD=(t,e)=>{const n=e.length;let r,i,o;return Zs(t)||(r=t.state,r.wrap!==0&&r.mode!==$f)?Ur:r.mode===$f&&(i=1,i=jm(i,e,n,0),i!==r.check)?FI:(o=ZI(t,e,n,n),o?(r.mode=HI,$I):(r.havedict=1,js))};var DD=GI,UD=qI,zD=VI,jD=CD,WD=YI,FD=OD,$D=LD,HD=BD,KD=PD,VD="pako inflate (from Nodeca project)",zi={inflateReset:DD,inflateReset2:UD,inflateResetKeep:zD,inflateInit:jD,inflateInit2:WD,inflate:FD,inflateEnd:$D,inflateGetHeader:HD,inflateSetDictionary:KD,inflateInfo:VD};function GD(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var qD=GD;const QI=Object.prototype.toString,{Z_NO_FLUSH:YD,Z_FINISH:ZD,Z_OK:Kc,Z_STREAM_END:k0,Z_NEED_DICT:C0,Z_STREAM_ERROR:QD,Z_DATA_ERROR:fE,Z_MEM_ERROR:XD}=DI;function Hh(t){this.options=UI.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new hD,this.strm.avail_out=0;let n=zi.inflateInit2(this.strm,e.windowBits);if(n!==Kc)throw new Error(Wm[n]);if(this.header=new qD,zi.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Fm.string2buf(e.dictionary):QI.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=zi.inflateSetDictionary(this.strm,e.dictionary),n!==Kc)))throw new Error(Wm[n])}Hh.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?ZD:YD,QI.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=zi.inflate(n,s),o===C0&&i&&(o=zi.inflateSetDictionary(n,i),o===Kc?o=zi.inflate(n,s):o===fE&&(o=C0));n.avail_in>0&&o===k0&&n.state.wrap>0&&t[n.next_in]!==0;)zi.inflateReset(n),o=zi.inflate(n,s);switch(o){case QD:case fE:case C0:case XD:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||o===k0))if(this.options.to==="string"){let l=Fm.utf8border(n.output,n.next_out),c=n.next_out-l,d=Fm.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===Kc&&a===0)){if(o===k0)return o=zi.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Hh.prototype.onData=function(t){this.chunks.push(t)};Hh.prototype.onEnd=function(t){t===Kc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=UI.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function JD(t,e){const n=new Hh(e);if(n.push(t),n.err)throw n.msg||Wm[n.err];return n.result}var eU=JD,tU={inflate:eU};const{inflate:nU}=tU;var rU=nU,XI={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,g,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var f=new i(d,g||l,p),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],f]:l._events[m].push(f):(l._events[m]=f,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,g;if(this._eventsCount===0)return c;for(g in d=this._events)e.call(d,g)&&c.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,g=this._events[d];if(!g)return[];if(g.fn)return[g.fn];for(var p=0,f=g.length,m=new Array(f);p<f;p++)m[p]=g[p].fn;return m},a.prototype.listenerCount=function(c){var d=n?n+c:c,g=this._events[d];return g?g.fn?1:g.length:0},a.prototype.emit=function(c,d,g,p,f,m){var R=n?n+c:c;if(!this._events[R])return!1;var I=this._events[R],w=arguments.length,b,_;if(I.fn){switch(I.once&&this.removeListener(c,I.fn,void 0,!0),w){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,d),!0;case 3:return I.fn.call(I.context,d,g),!0;case 4:return I.fn.call(I.context,d,g,p),!0;case 5:return I.fn.call(I.context,d,g,p,f),!0;case 6:return I.fn.call(I.context,d,g,p,f,m),!0}for(_=1,b=new Array(w-1);_<w;_++)b[_-1]=arguments[_];I.fn.apply(I.context,b)}else{var N=I.length,L;for(_=0;_<N;_++)switch(I[_].once&&this.removeListener(c,I[_].fn,void 0,!0),w){case 1:I[_].fn.call(I[_].context);break;case 2:I[_].fn.call(I[_].context,d);break;case 3:I[_].fn.call(I[_].context,d,g);break;case 4:I[_].fn.call(I[_].context,d,g,p);break;default:if(!b)for(L=1,b=new Array(w-1);L<w;L++)b[L-1]=arguments[L];I[_].fn.apply(I[_].context,b)}}return!0},a.prototype.on=function(c,d,g){return o(this,c,d,g,!1)},a.prototype.once=function(c,d,g){return o(this,c,d,g,!0)},a.prototype.removeListener=function(c,d,g,p){var f=n?n+c:c;if(!this._events[f])return this;if(!d)return s(this,f),this;var m=this._events[f];if(m.fn)m.fn===d&&(!p||m.once)&&(!g||m.context===g)&&s(this,f);else{for(var R=0,I=[],w=m.length;R<w;R++)(m[R].fn!==d||p&&!m[R].once||g&&m[R].context!==g)&&I.push(m[R]);I.length?this._events[f]=I.length===1?I[0]:I:s(this,f)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(XI);var iU=XI.exports;const oU=no(iU);function sU(t,e){return Array.apply(0,new Array(Math.ceil(t.length/e))).map((n,r)=>t.slice(r*e,(r+1)*e))}const rs=t=>"version"in t;function aU(t){return new TextDecoder("utf-8").decode(t)}function hE(t){return $w.encode(t)}function JI(t){return ge.Buffer.from(t,"base64")}function bo(t){return"accounts"in t}async function lU(t){const e=(await J.findProgramAddress([],t))[0];return await J.createWithSeed(e,cU(),t)}function cU(){return"anchor:idl"}const uU=xe.struct([xe.publicKey("authority"),xe.vecU8("data")]);function dU(t){return uU.decode(t)}function fU(t){const e=["name","path","account","relations","generic"],n=o=>o.split(".").map(UP).join("."),r=o=>{for(const s in o){const a=o[s];e.includes(s)?o[s]=Array.isArray(a)?a.map(n):n(a):typeof a=="object"&&r(a)}},i=structuredClone(t);return r(i),i}function La(t,e,n,r){return t!=null&&t.length?t[0].name?n(t):r(t):e()}function hU(t){const e=new Map;return t.errors&&t.errors.forEach(n=>{var r;let i=(r=n.msg)!==null&&r!==void 0?r:n.name;e.set(n.code,i)}),e}function pU(t,...e){if(t.args.length!=e.length)throw new Error("Invalid argument length");const n={};let r=0;return t.args.forEach(i=>{n[i.name]=e[r],r+=1}),n}function eN(t,e={}){t.forEach(n=>{if(bo(n))eN(n.accounts,e[n.name]);else if(!e[n.name])throw new Error(`Account \`${n.name}\` not provided.`)})}function Yr(t){return t instanceof J?t:new J(t)}class gU extends TypeError{constructor(e,n){let r;const{message:i,...o}=e,{path:s}=e,a=s.length===0?i:"At path: "+s.join(".")+" -- "+i;super(a),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var l;return(l=r)!=null?l:r=[e,...n()]}}}function mU(t){return Va(t)&&typeof t[Symbol.iterator]=="function"}function Va(t){return typeof t=="object"&&t!=null}function Yo(t){return typeof t=="string"?JSON.stringify(t):""+t}function yU(t){const{done:e,value:n}=t.next();return e?void 0:n}function wU(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:o}=e,{type:s}=n,{refinement:a,message:l="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+Yo(r)+"`"}=t;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:l}}function*pE(t,e,n,r){mU(t)||(t=[t]);for(const i of t){const o=wU(i,e,n,r);o&&(yield o)}}function*Zw(t,e,n){n===void 0&&(n={});const{path:r=[],branch:i=[t],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(t=e.coercer(t,a),s&&e.type!=="type"&&Va(e.schema)&&Va(t)&&!Array.isArray(t)))for(const c in t)e.schema[c]===void 0&&delete t[c];let l=!0;for(const c of e.validator(t,a))l=!1,yield[c,void 0];for(let[c,d,g]of e.entries(t,a)){const p=Zw(d,g,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,d],coerce:o,mask:s});for(const f of p)f[0]?(l=!1,yield[f[0],void 0]):o&&(d=f[1],c===void 0?t=d:t instanceof Map?t.set(c,d):t instanceof Set?t.add(d):Va(t)&&(t[c]=d))}if(l)for(const c of e.refiner(t,a))l=!1,yield[c,void 0];l&&(yield[void 0,t])}class ns{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:n,schema:r,validator:i,refiner:o,coercer:s=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=s,i?this.validator=(l,c)=>{const d=i(l,c);return pE(d,c,this,l)}:this.validator=()=>[],o?this.refiner=(l,c)=>{const d=o(l,c);return pE(d,c,this,l)}:this.refiner=()=>[]}assert(e){return vU(e,this)}create(e){return Qw(e,this)}is(e){return tN(e,this)}mask(e){return _U(e,this)}validate(e,n){return n===void 0&&(n={}),cu(e,this,n)}}function vU(t,e){const n=cu(t,e);if(n[0])throw n[0]}function Qw(t,e){const n=cu(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function _U(t,e){const n=cu(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function tN(t,e){return!cu(t,e)[0]}function cu(t,e,n){n===void 0&&(n={});const r=Zw(t,e,n),i=yU(r);return i[0]?[new gU(i[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function uu(t,e){return new ns({type:t,schema:null,validator:e})}function EU(){return uu("any",()=>!0)}function M0(t){return new ns({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+Yo(e)}})}function bU(){return uu("boolean",t=>typeof t=="boolean")}function gE(t){const e=Yo(t);return new ns({type:"literal",schema:t,validator(n){return n===t||"Expected the literal `"+e+"`, but received: "+Yo(n)}})}function Qu(t){return new ns({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function Kd(){return uu("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+Yo(t))}function Vd(t){return new ns({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function xs(){return uu("string",t=>typeof t=="string"||"Expected a string, but received: "+Yo(t))}function Ho(t){const e=Object.keys(t);return new ns({type:"type",schema:t,*entries(n){if(Va(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return Va(n)||"Expected an object, but received: "+Yo(n)}})}function nN(t){const e=t.map(n=>n.type).join(" | ");return new ns({type:"union",schema:null,coercer(n,r){return(t.find(o=>{const[s]=o.validate(n,{coerce:!0});return!s})||Xw()).coercer(n,r)},validator(n,r){const i=[];for(const o of t){const[...s]=Zw(n,o,r),[a]=s;if(a[0])for(const[l]of s)l&&i.push(l);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Yo(n),...i]}})}function Xw(){return uu("unknown",()=>!0)}function SU(t,e,n){return new ns({...t,coercer:(r,i)=>tN(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}const mE=99;async function AU(t,e,n){if(e.length<=mE)return await yE(t,e,n);{const r=sU(e,mE);return(await Promise.all(r.map(o=>yE(t,o,n)))).flat()}}async function yE(t,e,n){const r=n??t.commitment,{value:i,context:o}=await t.getMultipleAccountsInfoAndContext(e,r);return i.map((a,l)=>a===null?null:{publicKey:e[l],account:a,context:o})}async function RU(t,e,n,r,i){var o;n&&n.length>0&&e.sign(...n);const s=e._compile(),a=s.serialize(),c=e._serialize(a).toString("base64"),d={encoding:"base64",commitment:r??t.commitment};if(i){const m=(Array.isArray(i)?i:s.nonProgramIds()).map(R=>R.toBase58());d.accounts={encoding:"base64",addresses:m}}n&&n.length>0&&(d.sigVerify=!0);const g=[c,d],p=await t._rpcRequest("simulateTransaction",g),f=Qw(p,TU);if("error"in f){let m;if("data"in f.error&&(m=(o=f.error.data)===null||o===void 0?void 0:o.logs,m&&Array.isArray(m))){const R=`
    `,I=R+m.join(R);console.error(f.error.message,I)}throw new qo("failed to simulate transaction: "+f.error.message,m)}return f.result}function IU(t){return SU(rN(t),NU,e=>"error"in e?e:{...e,result:Qw(e.result,t)})}const NU=rN(Xw());function rN(t){return nN([Ho({jsonrpc:gE("2.0"),id:xs(),result:t}),Ho({jsonrpc:gE("2.0"),id:xs(),error:Ho({code:Xw(),message:xs(),data:Vd(EU())})})])}function xU(t){return IU(Ho({context:Ho({slot:Kd()}),value:t}))}const TU=xU(Ho({err:Qu(nN([Ho({}),xs()])),logs:Qu(M0(xs())),accounts:Vd(Qu(M0(Qu(Ho({executable:bU(),owner:xs(),lamports:Kd(),data:M0(xs()),rentEpoch:Vd(Kd())}))))),unitsConsumed:Vd(Kd())}));class Vc{constructor(e,n,r=Vc.defaultOptions()){this.connection=e,this.wallet=n,this.opts=r,this.publicKey=n==null?void 0:n.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,n=Vc.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,n,r){var i,o,s,a;if(r===void 0&&(r=this.opts),rs(e))n&&e.sign(n);else if(e.feePayer=(i=e.feePayer)!==null&&i!==void 0?i:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(r.preflightCommitment)).blockhash,n)for(const c of n)e.partialSign(c);e=await this.wallet.signTransaction(e);const l=e.serialize();try{return await wE(this.connection,l,r)}catch(c){if(c instanceof $m){const d=hE(rs(e)?((o=e.signatures)===null||o===void 0?void 0:o[0])||new Uint8Array:(s=e.signature)!==null&&s!==void 0?s:new Uint8Array),g=rs(e)?0:void 0,p=await this.connection.getTransaction(d,{commitment:"confirmed",maxSupportedTransactionVersion:g});if(p){const f=(a=p.meta)===null||a===void 0?void 0:a.logMessages;throw f?new qo(c.message,f):c}else throw c}else throw c}}async sendAll(e,n){var r,i,o;n===void 0&&(n=this.opts);const s=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash;let a=e.map(d=>{var g,p;if(rs(d.tx)){let f=d.tx;return d.signers&&f.sign(d.signers),f}else{let f=d.tx,m=(g=d.signers)!==null&&g!==void 0?g:[];return f.feePayer=(p=f.feePayer)!==null&&p!==void 0?p:this.wallet.publicKey,f.recentBlockhash=s,m.forEach(R=>{f.partialSign(R)}),f}});const l=await this.wallet.signAllTransactions(a),c=[];for(let d=0;d<a.length;d+=1){const g=l[d],p=g.serialize();try{c.push(await wE(this.connection,p,n))}catch(f){if(f instanceof $m){const m=hE(rs(g)?((r=g.signatures)===null||r===void 0?void 0:r[0])||new Uint8Array:(i=g.signature)!==null&&i!==void 0?i:new Uint8Array),R=rs(g)?0:void 0,I=await this.connection.getTransaction(m,{commitment:"confirmed",maxSupportedTransactionVersion:R});if(I){const w=(o=I.meta)===null||o===void 0?void 0:o.logMessages;throw w?new qo(f.message,w):f}else throw f}else throw f}}return c}async simulate(e,n,r,i){let o=(await this.connection.getLatestBlockhash(r??this.connection.commitment)).blockhash,s;if(rs(e)?(n&&n.length>0&&(e.sign(n),e=await this.wallet.signTransaction(e)),s=await this.connection.simulateTransaction(e,{commitment:r})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=o,n&&n.length>0&&(e=await this.wallet.signTransaction(e)),s=await RU(this.connection,e,n,r,i)),s.value.err)throw new kU(s.value);return s.value}}class kU extends Error{constructor(e,n){super(n),this.simulationResponse=e}}async function wE(t,e,n){const r=n?{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot}:{};let i;const o=Date.now();for(;Date.now()-o<6e4;)try{const s=await t.sendRawTransaction(e,r);if(n!=null&&n.blockhash)if(r.maxRetries===0){const a=AbortSignal.timeout(15e3);i=(await t.confirmTransaction({abortSignal:a,signature:s,...n.blockhash},n&&n.commitment)).value}else i=(await t.confirmTransaction({signature:s,...n.blockhash},n&&n.commitment)).value;else i=(await t.confirmTransaction(s,n&&n.commitment)).value;if(i.err)throw new $m(`Raw transaction ${s} failed (${JSON.stringify(i)})`);return s}catch(s){if(s.name==="TimeoutError")continue;throw s}throw Error("Transaction failed to confirm in 60s")}class $m extends Error{constructor(e){super(e)}}function Hm(){return Vc.local()}var CU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Y={};Object.defineProperty(Y,"__esModule",{value:!0});var iN=Y.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=ex=Y.ANCHOR_ERROR__REQUIRE_VIOLATED=JN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=XN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=QN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=ZN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=YN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=qN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=GN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=VN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=KN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=HN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=$N=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=FN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=WN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=jN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=zN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=UN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=DN=Y.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=PN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=BN=Y.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=LN=Y.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=ON=Y.ANCHOR_ERROR__CONSTRAINT_SPACE=MN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=CN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=kN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=TN=Y.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=xN=Y.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=NN=Y.ANCHOR_ERROR__CONSTRAINT_ZERO=IN=Y.ANCHOR_ERROR__CONSTRAINT_ADDRESS=RN=Y.ANCHOR_ERROR__CONSTRAINT_CLOSE=AN=Y.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=SN=Y.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=bN=Y.ANCHOR_ERROR__CONSTRAINT_STATE=EN=Y.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=_N=Y.ANCHOR_ERROR__CONSTRAINT_SEEDS=vN=Y.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=wN=Y.ANCHOR_ERROR__CONSTRAINT_OWNER=yN=Y.ANCHOR_ERROR__CONSTRAINT_RAW=mN=Y.ANCHOR_ERROR__CONSTRAINT_SIGNER=gN=Y.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=pN=Y.ANCHOR_ERROR__CONSTRAINT_MUT=hN=Y.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=fN=Y.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=dN=Y.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=uN=Y.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=cN=Y.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=lN=Y.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=aN=Y.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=sN=Y.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,oN=Y.ANCHOR_ERROR__DEPRECATED=Ix=Y.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=Rx=Y.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=Ax=Y.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=Sx=Y.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=bx=Y.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=Ex=Y.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=_x=Y.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=vx=Y.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=wx=Y.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=yx=Y.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=mx=Y.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=gx=Y.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=px=Y.ANCHOR_ERROR__INVALID_PROGRAM_ID=hx=Y.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=fx=Y.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=dx=Y.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=ux=Y.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=cx=Y.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=lx=Y.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=ax=Y.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=sx=Y.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=ox=Y.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=ix=Y.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=rx=Y.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=nx=Y.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=tx=Y.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,sN=Y.ANCHOR_ERROR__INSTRUCTION_MISSING=100,aN=Y.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,lN=Y.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,cN=Y.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,uN=Y.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,dN=Y.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,fN=Y.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,hN=Y.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,pN=Y.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,gN=Y.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,mN=Y.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,yN=Y.ANCHOR_ERROR__CONSTRAINT_RAW=2003,wN=Y.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,vN=Y.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,_N=Y.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,EN=Y.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,bN=Y.ANCHOR_ERROR__CONSTRAINT_STATE=2008,SN=Y.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,AN=Y.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,RN=Y.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,IN=Y.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,NN=Y.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,xN=Y.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,TN=Y.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,kN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,CN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,MN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,ON=Y.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,LN=Y.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,BN=Y.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,PN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,DN=Y.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,UN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,zN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,jN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,WN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,FN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,$N=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,HN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,KN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,VN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,GN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,qN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,YN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,ZN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,QN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,XN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,JN=Y.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,ex=Y.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;iN=Y.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var tx=Y.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,nx=Y.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,rx=Y.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,ix=Y.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,ox=Y.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,sx=Y.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,ax=Y.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,lx=Y.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,cx=Y.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,ux=Y.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,dx=Y.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,fx=Y.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,hx=Y.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,px=Y.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,gx=Y.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,mx=Y.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,yx=Y.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,wx=Y.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,vx=Y.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,_x=Y.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,Ex=Y.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,bx=Y.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,Sx=Y.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,Ax=Y.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,Rx=Y.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,Ix=Y.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;oN=Y.ANCHOR_ERROR__DEPRECATED=5e3;const MU=new Map;function Nx(t){return MU.get(t)!==void 0}class wo extends Error{constructor(e){super(e),this.name="IdlError"}}class du{constructor(e){this.stack=e}static parse(e){var n;const r=/^Program (\w*) invoke/,i=/^Program \w* success/,o=[];for(let s=0;s<e.length;s++){if(i.exec(e[s])){o.pop();continue}const a=(n=r.exec(e[s]))===null||n===void 0?void 0:n[1];a&&o.push(new J(a))}return new du(o)}}class wc extends Error{constructor(e,n,r,i,o,s){super(r.join(`
`).replace("Program log: ","")),this.errorLogs=r,this.logs=i,this.error={errorCode:e,errorMessage:n,comparedValues:s,origin:o},this._programErrorStack=du.parse(i)}static parse(e){if(!e)return null;const n=e.findIndex(p=>p.startsWith("Program log: AnchorError"));if(n===-1)return null;const r=e[n],i=[r];let o;if(n+1<e.length){if(e[n+1]==="Program log: Left:"){const p=/^Program log: (.*)$/,f=p.exec(e[n+2])[1],m=p.exec(e[n+4])[1];o=[new J(f),new J(m)],i.push(...e.slice(n+1,n+5))}else if(e[n+1].startsWith("Program log: Left:")){const p=/^Program log: (Left|Right): (.*)$/,f=p.exec(e[n+1])[2],m=p.exec(e[n+2])[2];i.push(...e.slice(n+1,n+3)),o=[f,m]}}const a=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),c=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),g=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r);if(a){const[p,f,m]=a.slice(1,4),R={code:p,number:parseInt(f)};return new wc(R,m,i,e,void 0,o)}else if(c){const[p,f,m,R,I]=c.slice(1,6),w={code:m,number:parseInt(R)},b={file:p,line:parseInt(f)};return new wc(w,I,i,e,b,o)}else if(g){const[p,f,m,R]=g.slice(1,5),I=p,w={code:f,number:parseInt(m)};return new wc(w,R,i,e,I,o)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class Hf extends Error{constructor(e,n,r){super(),this.code=e,this.msg=n,this.logs=r,r&&(this._programErrorStack=du.parse(r))}static parse(e,n){const r=e.toString();let i;if(r.includes("custom program error:")){let a=r.split("custom program error: ");if(a.length!==2)return null;i=a[1]}else{const a=r.match(/"Custom":([0-9]+)}/g);if(!a||a.length>1)return null;i=a[0].match(/([0-9]+)/g)[0]}let o;try{o=parseInt(i)}catch{return null}let s=n.get(o);return s!==void 0?new Hf(o,s,e.logs):(s=OU.get(o),s!==void 0?new Hf(o,s,e.logs):null)}get program(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack}toString(){return this.msg}}function xx(t,e){Nx("debug-logs")&&console.log("Translating error:",t);const n=wc.parse(t.logs);if(n)return n;const r=Hf.parse(t,e);if(r)return r;if(t.logs){const i={get:function(o,s){return s==="programErrorStack"?o.programErrorStack.stack:s==="program"?o.programErrorStack.stack[t.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return t.programErrorStack=du.parse(t.logs),new Proxy(t,i)}return t}const ce={InstructionMissing:sN,InstructionFallbackNotFound:aN,InstructionDidNotDeserialize:lN,InstructionDidNotSerialize:cN,IdlInstructionStub:uN,IdlInstructionInvalidProgram:dN,IdlAccountNotEmpty:fN,EventInstructionStub:hN,ConstraintMut:pN,ConstraintHasOne:gN,ConstraintSigner:mN,ConstraintRaw:yN,ConstraintOwner:wN,ConstraintRentExempt:vN,ConstraintSeeds:_N,ConstraintExecutable:EN,ConstraintState:bN,ConstraintAssociated:SN,ConstraintAssociatedInit:AN,ConstraintClose:RN,ConstraintAddress:IN,ConstraintZero:NN,ConstraintTokenMint:xN,ConstraintTokenOwner:TN,ConstraintMintMintAuthority:kN,ConstraintMintFreezeAuthority:CN,ConstraintMintDecimals:MN,ConstraintSpace:ON,ConstraintAccountIsNone:LN,ConstraintTokenTokenProgram:BN,ConstraintMintTokenProgram:PN,ConstraintAssociatedTokenTokenProgram:DN,ConstraintMintGroupPointerExtension:UN,ConstraintMintGroupPointerExtensionAuthority:zN,ConstraintMintGroupPointerExtensionGroupAddress:jN,ConstraintMintGroupMemberPointerExtension:WN,ConstraintMintGroupMemberPointerExtensionAuthority:FN,ConstraintMintGroupMemberPointerExtensionMemberAddress:$N,ConstraintMintMetadataPointerExtension:HN,ConstraintMintMetadataPointerExtensionAuthority:KN,ConstraintMintMetadataPointerExtensionMetadataAddress:VN,ConstraintMintCloseAuthorityExtension:GN,ConstraintMintCloseAuthorityExtensionAuthority:qN,ConstraintMintPermanentDelegateExtension:YN,ConstraintMintPermanentDelegateExtensionDelegate:ZN,ConstraintMintTransferHookExtension:QN,ConstraintMintTransferHookExtensionAuthority:XN,ConstraintMintTransferHookExtensionProgramId:JN,RequireViolated:ex,RequireEqViolated:iN,RequireKeysEqViolated:tx,RequireNeqViolated:nx,RequireKeysNeqViolated:rx,RequireGtViolated:ix,RequireGteViolated:ox,AccountDiscriminatorAlreadySet:sx,AccountDiscriminatorNotFound:ax,AccountDiscriminatorMismatch:lx,AccountDidNotDeserialize:cx,AccountDidNotSerialize:ux,AccountNotEnoughKeys:dx,AccountNotMutable:fx,AccountOwnedByWrongProgram:hx,InvalidProgramId:px,InvalidProgramExecutable:gx,AccountNotSigner:mx,AccountNotSystemOwned:yx,AccountNotInitialized:wx,AccountNotProgramData:vx,AccountNotAssociatedTokenAccount:_x,AccountSysvarMismatch:Ex,AccountReallocExceedsLimit:bx,AccountDuplicateReallocs:Sx,DeclaredProgramIdMismatch:Ax,TryingToInitPayerAsProgramAccount:Rx,InvalidNumericConversion:Ix,Deprecated:oN},OU=new Map([[ce.InstructionMissing,"Instruction discriminator not provided"],[ce.InstructionFallbackNotFound,"Fallback functions are not supported"],[ce.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[ce.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[ce.IdlInstructionStub,"The program was compiled without idl instructions"],[ce.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[ce.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[ce.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[ce.ConstraintMut,"A mut constraint was violated"],[ce.ConstraintHasOne,"A has one constraint was violated"],[ce.ConstraintSigner,"A signer constraint was violated"],[ce.ConstraintRaw,"A raw constraint was violated"],[ce.ConstraintOwner,"An owner constraint was violated"],[ce.ConstraintRentExempt,"A rent exemption constraint was violated"],[ce.ConstraintSeeds,"A seeds constraint was violated"],[ce.ConstraintExecutable,"An executable constraint was violated"],[ce.ConstraintState,"Deprecated Error, feel free to replace with something else"],[ce.ConstraintAssociated,"An associated constraint was violated"],[ce.ConstraintAssociatedInit,"An associated init constraint was violated"],[ce.ConstraintClose,"A close constraint was violated"],[ce.ConstraintAddress,"An address constraint was violated"],[ce.ConstraintZero,"Expected zero account discriminant"],[ce.ConstraintTokenMint,"A token mint constraint was violated"],[ce.ConstraintTokenOwner,"A token owner constraint was violated"],[ce.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[ce.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[ce.ConstraintMintDecimals,"A mint decimals constraint was violated"],[ce.ConstraintSpace,"A space constraint was violated"],[ce.ConstraintAccountIsNone,"A required account for the constraint is None"],[ce.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[ce.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[ce.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[ce.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[ce.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[ce.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[ce.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[ce.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[ce.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[ce.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[ce.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[ce.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[ce.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[ce.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[ce.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[ce.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[ce.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[ce.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[ce.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[ce.RequireViolated,"A require expression was violated"],[ce.RequireEqViolated,"A require_eq expression was violated"],[ce.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[ce.RequireNeqViolated,"A require_neq expression was violated"],[ce.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[ce.RequireGtViolated,"A require_gt expression was violated"],[ce.RequireGteViolated,"A require_gte expression was violated"],[ce.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[ce.AccountDiscriminatorNotFound,"No discriminator was found on the account"],[ce.AccountDiscriminatorMismatch,"Account discriminator did not match what was expected"],[ce.AccountDidNotDeserialize,"Failed to deserialize the account"],[ce.AccountDidNotSerialize,"Failed to serialize the account"],[ce.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[ce.AccountNotMutable,"The given account is not mutable"],[ce.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[ce.InvalidProgramId,"Program ID was not as expected"],[ce.InvalidProgramExecutable,"Program account is not executable"],[ce.AccountNotSigner,"The given account did not sign"],[ce.AccountNotSystemOwned,"The given account is not owned by the system program"],[ce.AccountNotInitialized,"The program expected this account to be already initialized"],[ce.AccountNotProgramData,"The given account is not a program data account"],[ce.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[ce.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[ce.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[ce.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[ce.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[ce.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[ce.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[ce.Deprecated,"The API being used is deprecated and should no longer be used"]]);class Pe{static fieldLayout(e,n=[],r){const i=e.name;switch(e.type){case"bool":return xe.bool(i);case"u8":return xe.u8(i);case"i8":return xe.i8(i);case"u16":return xe.u16(i);case"i16":return xe.i16(i);case"u32":return xe.u32(i);case"i32":return xe.i32(i);case"f32":return xe.f32(i);case"u64":return xe.u64(i);case"i64":return xe.i64(i);case"f64":return xe.f64(i);case"u128":return xe.u128(i);case"i128":return xe.i128(i);case"u256":return xe.u256(i);case"i256":return xe.i256(i);case"bytes":return xe.vecU8(i);case"string":return xe.str(i);case"pubkey":return xe.publicKey(i);default:{if("option"in e.type)return xe.option(Pe.fieldLayout({type:e.type.option},n,r),i);if("vec"in e.type)return xe.vec(Pe.fieldLayout({type:e.type.vec},n,r),i);if("array"in e.type){let[o,s]=e.type.array;return s=Pe.resolveArrayLen(s,r),xe.array(Pe.fieldLayout({type:o},n,r),s,i)}if("defined"in e.type){if(!n)throw new wo("User defined types not provided");const o=e.type.defined.name,s=n.find(a=>a.name===o);if(!s)throw new wo(`Type not found: ${e.name}`);return Pe.typeDefLayout({typeDef:s,types:n,genericArgs:r??e.type.defined.generics,name:i})}if("generic"in e.type){const o=r==null?void 0:r.at(0);if((o==null?void 0:o.kind)!=="type")throw new wo(`Invalid generic field: ${e.name}`);return Pe.fieldLayout({...e,type:o.type},n)}throw new wo(`Not yet implemented: ${JSON.stringify(e.type)}`)}}}static typeDefLayout({typeDef:e,types:n,name:r,genericArgs:i}){switch(e.type.kind){case"struct":{const o=La(e.type.fields,()=>[],s=>s.map(a=>{const l=i&&Pe.resolveGenericArgs({type:a.type,typeDef:e,genericArgs:i});return Pe.fieldLayout(a,n,l)}),s=>s.map((a,l)=>{const c=i&&Pe.resolveGenericArgs({type:a,typeDef:e,genericArgs:i});return Pe.fieldLayout({name:l.toString(),type:a},n,c)}));return xe.struct(o,r)}case"enum":{const o=e.type.variants.map(s=>{const a=La(s.fields,()=>[],l=>l.map(c=>{const d=i&&Pe.resolveGenericArgs({type:c.type,typeDef:e,genericArgs:i});return Pe.fieldLayout(c,n,d)}),l=>l.map((c,d)=>{const g=i&&Pe.resolveGenericArgs({type:c,typeDef:e,genericArgs:i});return Pe.fieldLayout({name:d.toString(),type:c},n,g)}));return xe.struct(a,s.name)});return r!==void 0?xe.rustEnum(o).replicate(r):xe.rustEnum(o,r)}case"type":return Pe.fieldLayout({type:e.type.alias,name:r},n)}}static typeSize(e,n,r){var i;switch(e){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"pubkey":return 32;default:if("option"in e)return 1+Pe.typeSize(e.option,n,r);if("coption"in e)return 4+Pe.typeSize(e.coption,n,r);if("vec"in e)return 1;if("array"in e){let[o,s]=e.array;return s=Pe.resolveArrayLen(s,r),Pe.typeSize(o,n,r)*s}if("defined"in e){const o=(i=n.types)===null||i===void 0?void 0:i.find(a=>a.name===e.defined.name);if(!o)throw new wo(`Type not found: ${JSON.stringify(e)}`);const s=a=>{const l=r??e.defined.generics,c=l&&Pe.resolveGenericArgs({type:a,typeDef:o,genericArgs:l});return Pe.typeSize(a,n,c)};switch(o.type.kind){case"struct":return La(o.type.fields,()=>[0],a=>a.map(l=>s(l.type)),a=>a.map(l=>s(l))).reduce((a,l)=>a+l,0);case"enum":{const a=o.type.variants.map(l=>La(l.fields,()=>[0],c=>c.map(d=>s(d.type)),c=>c.map(d=>s(d))).reduce((c,d)=>c+d,0));return Math.max(...a)+1}case"type":return Pe.typeSize(o.type.alias,n,r)}}if("generic"in e){const o=r==null?void 0:r.at(0);if((o==null?void 0:o.kind)!=="type")throw new wo(`Invalid generic: ${e.generic}`);return Pe.typeSize(o.type,n,r)}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}static resolveArrayLen(e,n){if(typeof e=="number")return e;if(n){const r=n.find(i=>i.kind==="const");(r==null?void 0:r.kind)==="const"&&(e=+r.value)}if(typeof e!="number")throw new wo("Generic array length did not resolve");return e}static resolveGenericArgs({type:e,typeDef:n,genericArgs:r,isDefined:i}){if(typeof e!="object")return null;for(const o in n.generics){const s=n.generics[o];if("generic"in e&&s.name===e.generic)return[r[o]];if("option"in e){const a=Pe.resolveGenericArgs({type:e.option,typeDef:n,genericArgs:r,isDefined:i});if(!a||!i)return a;if(a[0].kind==="type")return[{kind:"type",type:{option:a[0].type}}]}if("vec"in e){const a=Pe.resolveGenericArgs({type:e.vec,typeDef:n,genericArgs:r,isDefined:i});if(!a||!i)return a;if(a[0].kind==="type")return[{kind:"type",type:{vec:a[0].type}}]}if("array"in e){const[a,l]=e.array,c=typeof l=="object",d=Pe.resolveGenericArgs({type:a,typeDef:n,genericArgs:r,isDefined:i})||[];if(c){const g=n.generics.findIndex(p=>p.name===l.generic);g!==-1&&d.push(r[g])}if(d.length>0){if(!i)return d;if(d[0].kind==="type"&&d[1].kind==="const")return[{kind:"type",type:{array:[d[0].type,+d[1].value]}}]}if(c&&s.name===l.generic){const g=r[o];return i?[{kind:"type",type:{array:[a,+g.value]}}]:[g]}return null}if("defined"in e)return e.defined.generics?e.defined.generics.flatMap(a=>{switch(a.kind){case"type":return Pe.resolveGenericArgs({type:a.type,typeDef:n,genericArgs:r,isDefined:!0});case"const":return[a]}}).filter(a=>a!==null):null}return null}}class LU{constructor(e){this.idl=e;const n=e.instructions.map(r=>{const i=r.name,o=r.args.map(a=>Pe.fieldLayout(a,e.types)),s=xe.struct(o,i);return[i,{discriminator:r.discriminator,layout:s}]});this.ixLayouts=new Map(n)}encode(e,n){const r=ge.Buffer.alloc(1e3),i=this.ixLayouts.get(e);if(!i)throw new Error(`Unknown method: ${e}`);const o=i.layout.encode(n,r),s=r.slice(0,o);return ge.Buffer.concat([ge.Buffer.from(i.discriminator),s])}decode(e,n="hex"){typeof e=="string"&&(e=n==="hex"?ge.Buffer.from(e,"hex"):$w.decode(e));for(const[r,i]of this.ixLayouts){const o=e.subarray(0,i.discriminator.length);if(o.equals(ge.Buffer.from(i.discriminator)))return{name:r,data:i.layout.decode(e.subarray(o.length))}}return null}format(e,n){return cr.format(e,n,this.idl)}}class cr{static format(e,n,r){const i=r.instructions.find(l=>e.name===l.name);if(!i)return console.error("Invalid instruction given"),null;const o=i.args.map(l=>({name:l.name,type:cr.formatIdlType(l.type),data:cr.formatIdlData(l,e.data[l.name],r.types)})),s=cr.flattenIdlAccounts(i.accounts),a=n.map((l,c)=>c<s.length?{name:s[c].name,...l}:{name:void 0,...l});return{args:o,accounts:a}}static formatIdlType(e){if(typeof e=="string")return e;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("coption"in e)return`COption<${this.formatIdlType(e.coption)}>`;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;if("defined"in e){const n=e.defined.name;if(e.defined.generics){const r=e.defined.generics.map(i=>{switch(i.kind){case"type":return cr.formatIdlType(i.type);case"const":return i.value}}).join(", ");return`${n}<${r}>`}return n}throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,n,r){if(typeof e.type=="string")return n.toString();if("vec"in e.type)return"["+n.map(i=>this.formatIdlData({name:"",type:e.type.vec},i,r)).join(", ")+"]";if("option"in e.type)return n===null?"null":this.formatIdlData({name:"",type:e.type.option},n,r);if("defined"in e.type){if(!r)throw new Error("User defined types not provided");const i=e.type.defined.name,o=r.find(s=>s.name===i);if(!o)throw new Error(`Type not found: ${i}`);return cr.formatIdlDataDefined(o,n,r)}return"unknown"}static formatIdlDataDefined(e,n,r){switch(e.type.kind){case"struct":return"{ "+La(e.type.fields,()=>"",i=>Object.entries(n).map(([o,s])=>{const a=i.find(l=>l.name===o);if(!a)throw new Error(`Field not found: ${o}`);return o+": "+cr.formatIdlData(a,s,r)}).join(", "),i=>Object.entries(n).map(([o,s])=>o+": "+cr.formatIdlData({name:"",type:i[o]},s,r)).join(", "))+" }";case"enum":{const i=Object.keys(n)[0],o=e.type.variants.find(a=>a.name===i);if(!o)throw new Error(`Unable to find variant: ${i}`);const s=n[i];return La(o.fields,()=>i,a=>{const l=Object.keys(s).map(c=>{const d=s[c],g=a.find(p=>p.name===c);if(!g)throw new Error(`Field not found: ${c}`);return c+": "+cr.formatIdlData(g,d,r)}).join(", ");return`${i} { ${l} }`},a=>{const l=Object.entries(s).map(([c,d])=>c+": "+cr.formatIdlData({name:"",type:a[c]},d,r)).join(", ");return`${i} { ${l} }`})}case"type":return cr.formatIdlType(e.type.alias)}}static flattenIdlAccounts(e,n){return e.map(r=>{const i=BU(r.name);if(r.hasOwnProperty("accounts")){const o=n?`${n} > ${i}`:i;return cr.flattenIdlAccounts(r.accounts,o)}else return{...r,name:n?`${n} > ${i}`:i}}).flat()}}function BU(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}class PU{constructor(e){if(this.idl=e,!e.accounts){this.accountLayouts=new Map;return}const n=e.types;if(!n)throw new Error("Accounts require `idl.types`");const r=e.accounts.map(i=>{const o=n.find(s=>s.name===i.name);if(!o)throw new Error(`Account not found: ${i.name}`);return[i.name,{discriminator:i.discriminator,layout:Pe.typeDefLayout({typeDef:o,types:n})}]});this.accountLayouts=new Map(r)}async encode(e,n){const r=ge.Buffer.alloc(1e3),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);const o=i.layout.encode(n,r),s=r.slice(0,o),a=this.accountDiscriminator(e);return ge.Buffer.concat([a,s])}decode(e,n){const r=this.accountDiscriminator(e);if(r.compare(n.slice(0,r.length)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,n)}decodeAny(e){for(const[n,r]of this.accountLayouts)if(e.subarray(0,r.discriminator.length).equals(ge.Buffer.from(r.discriminator)))return this.decodeUnchecked(n,e);throw new Error("Account not found")}decodeUnchecked(e,n){const r=this.accountDiscriminator(e),i=n.subarray(r.length),o=this.accountLayouts.get(e);if(!o)throw new Error(`Unknown account: ${e}`);return o.layout.decode(i)}memcmp(e,n){const r=this.accountDiscriminator(e);return{offset:0,bytes:$w.encode(n?ge.Buffer.concat([r,n]):r)}}size(e){return this.accountDiscriminator(e).length+Pe.typeSize({defined:{name:e}},this.idl)}accountDiscriminator(e){var n;const r=(n=this.idl.accounts)===null||n===void 0?void 0:n.find(i=>i.name===e);if(!r)throw new Error(`Account not found: ${e}`);return ge.Buffer.from(r.discriminator)}}class DU{constructor(e){if(!e.events){this.layouts=new Map;return}const n=e.types;if(!n)throw new Error("Events require `idl.types`");const r=e.events.map(i=>{const o=n.find(s=>s.name===i.name);if(!o)throw new Error(`Event not found: ${i.name}`);return[i.name,{discriminator:i.discriminator,layout:Pe.typeDefLayout({typeDef:o,types:n})}]});this.layouts=new Map(r)}decode(e){let n;try{n=JI(e)}catch{return null}for(const[r,i]of this.layouts){const o=n.subarray(0,i.discriminator.length);if(o.equals(ge.Buffer.from(i.discriminator)))return{name:r,data:i.layout.decode(n.subarray(o.length))}}return null}}class UU{constructor(e){const n=e.types;if(!n){this.typeLayouts=new Map;return}const r=n.filter(i=>!i.generics).map(i=>[i.name,Pe.typeDefLayout({typeDef:i,types:n})]);this.typeLayouts=new Map(r)}encode(e,n){const r=ge.Buffer.alloc(1e3),i=this.typeLayouts.get(e);if(!i)throw new Error(`Unknown type: ${e}`);const o=i.encode(n,r);return r.slice(0,o)}decode(e,n){const r=this.typeLayouts.get(e);if(!r)throw new Error(`Unknown type: ${e}`);return r.decode(n)}}class Tx{constructor(e){this.instruction=new LU(e),this.accounts=new PU(e),this.events=new DU(e),this.types=new UU(e)}}class ar{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}decode(e,n){throw new Error("Layout is abstract")}encode(e,n,r){throw new Error("Layout is abstract")}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}var Kh=ar;function zU(t,e){return e.property?t+"["+e.property+"]":t}class Ts extends ar{isCount(){throw new Error("ExternalLayout is abstract")}}class kx extends Ts{constructor(e,n,r){if(!(e instanceof ar))throw new TypeError("layout must be a Layout");if(n===void 0)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Vh||this.layout instanceof Cx}decode(e,n){return n===void 0&&(n=0),this.layout.decode(e,n+this.offset)}encode(e,n,r){return r===void 0&&(r=0),this.layout.encode(e,n,r+this.offset)}}class Vh extends ar{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntLE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntLE(e,r,this.span),this.span}}class Cx extends ar{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntBE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntBE(e,r,this.span),this.span}}const Km=Math.pow(2,32);function Mx(t){const e=Math.floor(t/Km),n=t-e*Km;return{hi32:e,lo32:n}}function Ox(t,e){return t*Km+e}class jU extends ar{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),i=e.readUInt32LE(n+4);return Ox(i,r)}encode(e,n,r){r===void 0&&(r=0);const i=Mx(e);return n.writeUInt32LE(i.lo32,r),n.writeUInt32LE(i.hi32,r+4),8}}class WU extends ar{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),i=e.readInt32LE(n+4);return Ox(i,r)}encode(e,n,r){r===void 0&&(r=0);const i=Mx(e);return n.writeUInt32LE(i.lo32,r),n.writeInt32LE(i.hi32,r+4),8}}class FU extends ar{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof ar,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;try{r=this.fields.reduce((i,o)=>{const s=o.getSpan(e,n);return n+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n){n===void 0&&(n=0);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r){r===void 0&&(r=0);const i=r;let o=0,s=0;for(const a of this.fields){let l=a.span;if(s=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(s=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}o=r,r+=l}return o+s-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}class Lx{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class vE extends Lx{constructor(e,n){if(!(e instanceof Ts&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}class Bx extends ar{constructor(e,n,r){const i=e instanceof Vh||e instanceof Cx;if(i)e=new vE(new kx(e));else if(e instanceof Ts&&e.isCount())e=new vE(e);else if(!(e instanceof Lx))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof ar))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let o=-1;n&&(o=n.span,0<=o&&i&&(o+=e.layout.span)),super(o,r),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=n,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||e.hasOwnProperty(n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,n){n===void 0&&(n=0);let r;const i=this.discriminator,o=i.decode(e,n);let s=this.registry[o];if(s===void 0){let a=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),r=this.makeDestinationObject(),r[i.property]=o,r[s.property]=this.defaultLayout.decode(e,n+a)}else r=s.decode(e,n);return r}encode(e,n,r){r===void 0&&(r=0);const i=this.getSourceVariant(e);if(i===void 0){const o=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],n,r),a+s.encode(e[s.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new $U(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n){let r=e;return Buffer.isBuffer(e)&&(n===void 0&&(n=0),r=this.discriminator.decode(e,n)),this.registry[r]}}class $U extends ar{constructor(e,n,r,i){if(!(e instanceof Bx))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof ar))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,n+r)}decode(e,n){const r=this.makeDestinationObject();if(n===void 0&&(n=0),this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r){r===void 0&&(r=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let o=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),o+=this.layout.getSpan(n,r+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class HU extends ar{constructor(e,n){if(!(e instanceof Ts&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Ts||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n){n===void 0&&(n=0);let r=this.span;return 0>r&&(r=this.length.decode(e,n)),e.slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof Ts&&(i=e.length),!(Buffer.isBuffer(e)&&i===e.length))throw new TypeError(zU("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return n.write(e.toString("hex"),r,i,"hex"),this.length instanceof Ts&&this.length.encode(i,n,r),i}}var KU=(t,e,n)=>new kx(t,e,n),VU=t=>new Vh(1,t),$i=t=>new Vh(4,t),GU=t=>new jU(t),to=t=>new WU(t),un=(t,e,n)=>new FU(t,e,n),Px=(t,e,n)=>new Bx(t,e,n),fu=(t,e)=>new HU(t,e);class qU extends Kh{constructor(e){super(-1,e),this.property=e,this.layout=un([$i("length"),$i("lengthPadding"),fu(KU($i(),-8),"chars")],this.property)}encode(e,n,r=0){if(e==null)return this.layout.span;const i={chars:Buffer.from(e,"utf8")};return this.layout.encode(i,n,r)}decode(e,n=0){return this.layout.decode(e,n).chars.toString()}getSpan(e,n=0){return $i().span+$i().span+new gr(new Uint8Array(e).slice(n,n+4),10,"le").toNumber()}}function Gh(t){return new qU(t)}function zr(t){return fu(32,t)}const Ir=Px($i("instruction"));Ir.addVariant(0,un([to("lamports"),to("space"),zr("owner")]),"createAccount");Ir.addVariant(1,un([zr("owner")]),"assign");Ir.addVariant(2,un([to("lamports")]),"transfer");Ir.addVariant(3,un([zr("base"),Gh("seed"),to("lamports"),to("space"),zr("owner")]),"createAccountWithSeed");Ir.addVariant(4,un([zr("authorized")]),"advanceNonceAccount");Ir.addVariant(5,un([to("lamports")]),"withdrawNonceAccount");Ir.addVariant(6,un([zr("authorized")]),"initializeNonceAccount");Ir.addVariant(7,un([zr("authorized")]),"authorizeNonceAccount");Ir.addVariant(8,un([to("space")]),"allocate");Ir.addVariant(9,un([zr("base"),Gh("seed"),to("space"),zr("owner")]),"allocateWithSeed");Ir.addVariant(10,un([zr("base"),Gh("seed"),zr("owner")]),"assignWithSeed");Ir.addVariant(11,un([to("lamports"),Gh("seed"),zr("owner")]),"transferWithSeed");Math.max(...Object.values(Ir.registry).map(t=>t.span));class YU extends Kh{constructor(e,n,r,i){super(e.span,i),this.layout=e,this.decoder=n,this.encoder=r}decode(e,n){return this.decoder(this.layout.decode(e,n))}encode(e,n,r){return this.layout.encode(this.encoder(e),n,r)}getSpan(e,n){return this.layout.getSpan(e,n)}}function _E(t){return new YU(fu(32),e=>new J(e),e=>e.toBuffer(),t)}un([$i("version"),$i("state"),_E("authorizedPubkey"),_E("nonce"),un([GU("lamportsPerSignature")],"feeCalculator")]);new J("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new J("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var EE={exports:{}};(function(t,e){var n=typeof self<"u"?self:CU,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(s){var a={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function l(u){return u&&DataView.prototype.isPrototypeOf(u)}if(a.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(u){return u&&c.indexOf(Object.prototype.toString.call(u))>-1};function g(u){if(typeof u!="string"&&(u=String(u)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(u))throw new TypeError("Invalid character in header field name");return u.toLowerCase()}function p(u){return typeof u!="string"&&(u=String(u)),u}function f(u){var h={next:function(){var S=u.shift();return{done:S===void 0,value:S}}};return a.iterable&&(h[Symbol.iterator]=function(){return h}),h}function m(u){this.map={},u instanceof m?u.forEach(function(h,S){this.append(S,h)},this):Array.isArray(u)?u.forEach(function(h){this.append(h[0],h[1])},this):u&&Object.getOwnPropertyNames(u).forEach(function(h){this.append(h,u[h])},this)}m.prototype.append=function(u,h){u=g(u),h=p(h);var S=this.map[u];this.map[u]=S?S+", "+h:h},m.prototype.delete=function(u){delete this.map[g(u)]},m.prototype.get=function(u){return u=g(u),this.has(u)?this.map[u]:null},m.prototype.has=function(u){return this.map.hasOwnProperty(g(u))},m.prototype.set=function(u,h){this.map[g(u)]=p(h)},m.prototype.forEach=function(u,h){for(var S in this.map)this.map.hasOwnProperty(S)&&u.call(h,this.map[S],S,this)},m.prototype.keys=function(){var u=[];return this.forEach(function(h,S){u.push(S)}),f(u)},m.prototype.values=function(){var u=[];return this.forEach(function(h){u.push(h)}),f(u)},m.prototype.entries=function(){var u=[];return this.forEach(function(h,S){u.push([S,h])}),f(u)},a.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function R(u){if(u.bodyUsed)return Promise.reject(new TypeError("Already read"));u.bodyUsed=!0}function I(u){return new Promise(function(h,S){u.onload=function(){h(u.result)},u.onerror=function(){S(u.error)}})}function w(u){var h=new FileReader,S=I(h);return h.readAsArrayBuffer(u),S}function b(u){var h=new FileReader,S=I(h);return h.readAsText(u),S}function _(u){for(var h=new Uint8Array(u),S=new Array(h.length),T=0;T<h.length;T++)S[T]=String.fromCharCode(h[T]);return S.join("")}function N(u){if(u.slice)return u.slice(0);var h=new Uint8Array(u.byteLength);return h.set(new Uint8Array(u)),h.buffer}function L(){return this.bodyUsed=!1,this._initBody=function(u){this._bodyInit=u,u?typeof u=="string"?this._bodyText=u:a.blob&&Blob.prototype.isPrototypeOf(u)?this._bodyBlob=u:a.formData&&FormData.prototype.isPrototypeOf(u)?this._bodyFormData=u:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(u)?this._bodyText=u.toString():a.arrayBuffer&&a.blob&&l(u)?(this._bodyArrayBuffer=N(u.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(u)||d(u))?this._bodyArrayBuffer=N(u):this._bodyText=u=Object.prototype.toString.call(u):this._bodyText="",this.headers.get("content-type")||(typeof u=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(u)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var u=R(this);if(u)return u;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?R(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(w)}),this.text=function(){var u=R(this);if(u)return u;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(_(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(P)}),this.json=function(){return this.text().then(JSON.parse)},this}var j=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function O(u){var h=u.toUpperCase();return j.indexOf(h)>-1?h:u}function U(u,h){h=h||{};var S=h.body;if(u instanceof U){if(u.bodyUsed)throw new TypeError("Already read");this.url=u.url,this.credentials=u.credentials,h.headers||(this.headers=new m(u.headers)),this.method=u.method,this.mode=u.mode,this.signal=u.signal,!S&&u._bodyInit!=null&&(S=u._bodyInit,u.bodyUsed=!0)}else this.url=String(u);if(this.credentials=h.credentials||this.credentials||"same-origin",(h.headers||!this.headers)&&(this.headers=new m(h.headers)),this.method=O(h.method||this.method||"GET"),this.mode=h.mode||this.mode||null,this.signal=h.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&S)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(S)}U.prototype.clone=function(){return new U(this,{body:this._bodyInit})};function P(u){var h=new FormData;return u.trim().split("&").forEach(function(S){if(S){var T=S.split("="),x=T.shift().replace(/\+/g," "),M=T.join("=").replace(/\+/g," ");h.append(decodeURIComponent(x),decodeURIComponent(M))}}),h}function W(u){var h=new m,S=u.replace(/\r?\n[\t ]+/g," ");return S.split(/\r?\n/).forEach(function(T){var x=T.split(":"),M=x.shift().trim();if(M){var z=x.join(":").trim();h.append(M,z)}}),h}L.call(U.prototype);function $(u,h){h||(h={}),this.type="default",this.status=h.status===void 0?200:h.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in h?h.statusText:"OK",this.headers=new m(h.headers),this.url=h.url||"",this._initBody(u)}L.call($.prototype),$.prototype.clone=function(){return new $(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},$.error=function(){var u=new $(null,{status:0,statusText:""});return u.type="error",u};var H=[301,302,303,307,308];$.redirect=function(u,h){if(H.indexOf(h)===-1)throw new RangeError("Invalid status code");return new $(null,{status:h,headers:{location:u}})},s.DOMException=o.DOMException;try{new s.DOMException}catch{s.DOMException=function(h,S){this.message=h,this.name=S;var T=Error(h);this.stack=T.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function A(u,h){return new Promise(function(S,T){var x=new U(u,h);if(x.signal&&x.signal.aborted)return T(new s.DOMException("Aborted","AbortError"));var M=new XMLHttpRequest;function z(){M.abort()}M.onload=function(){var C={status:M.status,statusText:M.statusText,headers:W(M.getAllResponseHeaders()||"")};C.url="responseURL"in M?M.responseURL:C.headers.get("X-Request-URL");var y="response"in M?M.response:M.responseText;S(new $(y,C))},M.onerror=function(){T(new TypeError("Network request failed"))},M.ontimeout=function(){T(new TypeError("Network request failed"))},M.onabort=function(){T(new s.DOMException("Aborted","AbortError"))},M.open(x.method,x.url,!0),x.credentials==="include"?M.withCredentials=!0:x.credentials==="omit"&&(M.withCredentials=!1),"responseType"in M&&a.blob&&(M.responseType="blob"),x.headers.forEach(function(C,y){M.setRequestHeader(y,C)}),x.signal&&(x.signal.addEventListener("abort",z),M.onreadystatechange=function(){M.readyState===4&&x.signal.removeEventListener("abort",z)}),M.send(typeof x._bodyInit>"u"?null:x._bodyInit)})}return A.polyfill=!0,o.fetch||(o.fetch=A,o.Headers=m,o.Request=U,o.Response=$),s.Headers=m,s.Request=U,s.Response=$,s.fetch=A,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(EE,EE.exports);xe.rustEnum([xe.struct([],"uninitialized"),xe.struct([xe.option(xe.publicKey(),"authorityAddress")],"buffer"),xe.struct([xe.publicKey("programdataAddress")],"program"),xe.struct([xe.u64("slot"),xe.option(xe.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,xe.u32());const Vm="Program log: ",Dx="Program data: ",ZU=Vm.length,QU=Dx.length;class XU{constructor(e,n,r){this._programId=e,this._provider=n,this._eventParser=new Ux(e,r),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,n,r){var i;let o=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(e)||this._eventListeners.set(e,[]),this._eventListeners.set(e,((i=this._eventListeners.get(e))!==null&&i!==void 0?i:[]).concat(o)),this._eventCallbacks.set(o,[e,n]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(s,a)=>{if(!s.err)for(const l of this._eventParser.parseLogs(s.logs)){const c=this._eventListeners.get(l.name);c&&c.forEach(d=>{const g=this._eventCallbacks.get(d);if(g){const[,p]=g;p(l.data,a.slot,s.signature)}})}},r)),o}async removeEventListener(e){const n=this._eventCallbacks.get(e);if(!n)throw new Error(`Event listener ${e} doesn't exist!`);const[r]=n;let i=this._eventListeners.get(r);if(!i)throw new Error(`Event listeners don't exist for ${r}!`);if(this._eventCallbacks.delete(e),i=i.filter(o=>o!==e),this._eventListeners.set(r,i),i.length===0&&this._eventListeners.delete(r),this._eventCallbacks.size===0){if(this._eventListeners.size!==0)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class Ux{constructor(e,n){this.coder=n,this.programId=e}*parseLogs(e,n=!1){const r=new ez(e),i=new JU;let o=r.next();for(;o!==null;){let[s,a,l]=this.handleLog(i,o,n);s&&(yield s),a&&i.push(a),l&&i.pop(),o=r.next()}}handleLog(e,n,r){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(n,r):[null,...this.handleSystemLog(n)]}handleProgramLog(e,n){if(e.startsWith(Vm)||e.startsWith(Dx)){const r=e.startsWith(Vm)?e.slice(ZU):e.slice(QU),i=this.coder.events.decode(r);if(n&&i===null)throw new Error(`Unable to decode event ${r}`);return[i,null,!1]}else return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const n=e.split(":")[0];return n.match(/^Program (.*) success/g)!==null?[null,!0]:n.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:n.includes("invoke")?["cpi",!1]:[null,!1]}}class JU{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class ez{constructor(e){this.logs=e}next(){if(this.logs.length===0)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}function qh(t,e){var n,r;let i={};const o=t.args?t.args.length:0;if(e.length>o){if(e.length!==o+1)throw new Error(`provided too many arguments ${e} to instruction ${t==null?void 0:t.name} expecting: ${(r=(n=t.args)===null||n===void 0?void 0:n.map(s=>s.name))!==null&&r!==void 0?r:[]}`);i=e.pop()}return[e,i]}class Kf{static build(e,n,r){if(e.name==="_inner")throw new wo("the _inner name is reserved");const i=(...o)=>{const[s,a]=qh(e,[...o]);eN(e.accounts,a.accounts),tz(e,...o);const l=i.accounts(a.accounts);return a.remainingAccounts!==void 0&&l.push(...a.remainingAccounts),Nx("debug-logs")&&console.log("Outgoing account metas:",l),new $e({keys:l,programId:r,data:n(e.name,pU(e,...s))})};return i.accounts=o=>Kf.accountsArray(o,e.accounts,r,e.name),i}static accountsArray(e,n,r,i){return e?n.map(o=>{if(bo(o)){const d=e[o.name];return Kf.accountsArray(d,o.accounts,r,i).flat()}let s;try{s=Yr(e[o.name])}catch{throw new Error(`Wrong input type for account "${o.name}" in the instruction accounts object${i!==void 0?' for instruction "'+i+'"':""}. Expected PublicKey or string.`)}const a=o.optional&&s.equals(r),l=!!(o.writable&&!a),c=!!(o.signer&&!a);return{pubkey:s,isWritable:l,isSigner:c}}).flat():[]}}function tz(t,...e){}class nz{static build(e,n){return(...i)=>{var o,s,a;const[,l]=qh(e,[...i]),c=new Oe;if(l.preInstructions&&l.instructions)throw new Error("instructions is deprecated, use preInstructions");return(o=l.preInstructions)===null||o===void 0||o.forEach(d=>c.add(d)),(s=l.instructions)===null||s===void 0||s.forEach(d=>c.add(d)),c.add(n(...i)),(a=l.postInstructions)===null||a===void 0||a.forEach(d=>c.add(d)),c}}}class rz{static build(e,n,r,i){return async(...s)=>{var a;const l=n(...s),[,c]=qh(e,[...s]);if(i.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await i.sendAndConfirm(l,(a=c.signers)!==null&&a!==void 0?a:[],c.options)}catch(d){throw xx(d,r)}}}}class iz{static build(e,n,r,i){var o;return((o=e.accounts)!==null&&o!==void 0?o:[]).reduce((s,a)=>(s[a.name]=new oz(e,a,r,i,n),s),{})}}class oz{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(e,n,r,i,o){this._idlAccount=n,this._programId=r,this._provider=i??Hm(),this._coder=o??new Tx(e),this._size=this._coder.accounts.size(n.name)}async fetchNullable(e,n){const{data:r}=await this.fetchNullableAndContext(e,n);return r}async fetchNullableAndContext(e,n){const r=await this.getAccountInfoAndContext(e,n),{value:i,context:o}=r;return{data:i&&i.data.length!==0?this._coder.accounts.decode(this._idlAccount.name,i.data):null,context:o}}async fetch(e,n){const{data:r}=await this.fetchNullableAndContext(e,n);if(r===null)throw new Error(`Account does not exist or has no data ${e.toString()}`);return r}async fetchAndContext(e,n){const{data:r,context:i}=await this.fetchNullableAndContext(e,n);if(r===null)throw new Error(`Account does not exist ${e.toString()}`);return{data:r,context:i}}async fetchMultiple(e,n){return(await this.fetchMultipleAndContext(e,n)).map(i=>i?i.data:null)}async fetchMultipleAndContext(e,n){return(await AU(this._provider.connection,e.map(i=>Yr(i)),n)).map(i=>{if(i==null)return null;const{account:o,context:s}=i;return{data:this._coder.accounts.decode(this._idlAccount.name,o.data),context:s}})}async all(e){const n=this.coder.accounts.memcmp(this._idlAccount.name,e instanceof Buffer?e:void 0),r=[];return(n==null?void 0:n.offset)!=null&&(n==null?void 0:n.bytes)!=null&&r.push({memcmp:{offset:n.offset,bytes:n.bytes}}),(n==null?void 0:n.dataSize)!=null&&r.push({dataSize:n.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...r,...Array.isArray(e)?e:[]]})).map(({pubkey:o,account:s})=>({publicKey:o,account:this._coder.accounts.decode(this._idlAccount.name,s.data)}))}subscribe(e,n){const r=zl.get(e.toString());if(r)return r.ee;const i=new oU;e=Yr(e);const o=this._provider.connection.onAccountChange(e,s=>{const a=this._coder.accounts.decode(this._idlAccount.name,s.data);i.emit("change",a)},n);return zl.set(e.toString(),{ee:i,listener:o}),i}async unsubscribe(e){let n=zl.get(e.toString());if(!n){console.warn("Address is not subscribed");return}zl&&await this._provider.connection.removeAccountChangeListener(n.listener).then(()=>{zl.delete(e.toString())}).catch(console.error)}async createInstruction(e,n){const r=this.size;if(this._provider.publicKey===void 0)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return lt.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:e.publicKey,space:n??r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(n??r),programId:this._programId})}async getAccountInfo(e,n){return await this._provider.connection.getAccountInfo(Yr(e),n)}async getAccountInfoAndContext(e,n){return await this._provider.connection.getAccountInfoAndContext(Yr(e),n)}}const zl=new Map;class sz{static build(e,n,r,i,o,s,a){return async(...c)=>{var d;const g=n(...c),[,p]=qh(e,[...c]);let f;if(i.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{f=await i.simulate(g,p.signers,(d=p.options)===null||d===void 0?void 0:d.commitment)}catch(I){throw xx(I,r)}if(f===void 0)throw new Error("Unable to simulate transaction");const m=f.logs;if(!m)throw new Error("Simulated logs not found");const R=[];if(a.events){let I=new Ux(s,o);for(const w of I.parseLogs(m))R.push(w)}return{events:R,raw:m}}}}function O0(t){return new zx(fu(8),e=>lz.fromBuffer(e),e=>e.toBuffer(),t)}function Xu(t){return new zx(fu(32),e=>new J(e),e=>e.toBuffer(),t)}function L0(t,e){return new az(t,e)}class zx extends Kh{constructor(e,n,r,i){super(e.span,i),this.layout=e,this.decoder=n,this.encoder=r}decode(e,n){return this.decoder(this.layout.decode(e,n))}encode(e,n,r){return this.layout.encode(this.encoder(e),n,r)}getSpan(e,n){return this.layout.getSpan(e,n)}}class az extends Kh{constructor(e,n){super(-1,n),this.layout=e,this.discriminator=$i()}encode(e,n,r=0){return e==null?this.layout.span+this.discriminator.encode(0,n,r):(this.discriminator.encode(1,n,r),this.layout.encode(e,n,r+4)+4)}decode(e,n=0){const r=this.discriminator.decode(e,n);if(r===0)return null;if(r===1)return this.layout.decode(e,n+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,n=0){return this.layout.getSpan(e,n+4)+4}}let lz=class jx extends gr{toBuffer(){const e=super.toArray().reverse(),n=Buffer.from(e);if(n.length===8)return n;if(n.length>=8)throw new Error("u64 too large");const r=Buffer.alloc(8);return n.copy(r),r}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new jx([...e].reverse().map(n=>`00${n.toString(16)}`.slice(-2)).join(""),16)}};const cz=un([Xu("mint"),Xu("owner"),O0("amount"),L0(Xu(),"delegate"),(t=>{const e=Px(VU("discriminator"),null,t);return e.addVariant(0,un([]),"uninitialized"),e.addVariant(1,un([]),"initialized"),e.addVariant(2,un([]),"frozen"),e})("state"),L0(O0(),"isNative"),O0("delegatedAmount"),L0(Xu(),"closeAuthority")]);function uz(t){return cz.decode(t)}class dz{constructor(e,n,r,i,o,s,a,l){this._args=e,this._accounts=n,this._provider=r,this._programId=i,this._idlIx=o,this._idlTypes=a,this._customResolver=l,this._accountStore=new fz(r,s,i)}args(e){this._args=e}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let e=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(e++,e===16){const n=s=>bo(s)?s.accounts.some(n):!!(s.address||s.pda||s.relations),r=(s,a=[],l=[])=>{for(const c of s)bo(c)?l.push(...r(c.accounts,[...a,c.name])):l.push([...a,c.name]);return l},i=this._idlIx.accounts.filter(n),o=r(i).filter(s=>!this.get(s)).map(s=>s.reduce((a,l)=>a+"."+l)).map(s=>`\`${s}\``).join(", ");throw new Error(["Reached maximum depth for account resolution.",`Unresolved accounts: ${o}`].join(" "))}}resolveOptionals(e){Object.assign(this._accounts,this.resolveOptionalsHelper(e,this._idlIx.accounts))}get(e){const n=e.reduce((r,i)=>r&&r[i],this._accounts);if(n&&n.toBase58)return n}set(e,n){let r=this._accounts;e.forEach((i,o)=>{var s;o===e.length-1&&(r[i]=n),r[i]=(s=r[i])!==null&&s!==void 0?s:{},r=r[i]})}resolveOptionalsHelper(e,n){const r={};for(const i of n){const o=i.name,s=e[o];s!==void 0&&(Wx(s)?bo(i)?r[o]=this.resolveOptionalsHelper(s,i.accounts):r[o]=Fx(s):s!==null?r[o]=Yr(s):i.optional&&(r[o]=this._programId))}return r}async resolveCustom(){if(this._customResolver){const{accounts:e,resolved:n}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=e,n}return 0}resolveEventCpi(e,n=[]){for(const r in e){const i=e[r];bo(i)&&this.resolveEventCpi(i.accounts,[...n,i.name]);const o=+r+1;if(o===e.length)return;const s=e[r].name,a=e[o].name;if(s==="eventAuthority"&&a==="program"){const l=[...n,s],c=[...n,a];this.get(l)||this.set(l,J.findProgramAddressSync([Buffer.from("__event_authority")],this._programId)[0]),this.get(c)||this.set(c,this._programId);return}}}resolveConst(e,n=[]){for(const r of e){const i=r.name;if(bo(r))this.resolveConst(r.accounts,[...n,i]);else{const o=r;if((o.signer||o.address)&&!this.get([...n,i])){if(o.signer){if(!this._provider.publicKey)throw new Error("This function requires the `Provider` interface implementor to have a `publicKey` field.");this.set([...n,i],this._provider.publicKey)}o.address&&this.set([...n,i],Yr(o.address))}}}}async resolvePdasAndRelations(e,n=[]){let r=0;for(const i of e){const o=i.name;if(bo(i))r+=await this.resolvePdasAndRelations(i.accounts,[...n,o]);else{const s=i;if((s.pda||s.relations)&&!this.get([...n,o])){r++;try{if(s.pda){const a=await Promise.all(s.pda.seeds.map(d=>this.toBuffer(d,n)));if(a.some(d=>!d))continue;const l=await this.parseProgramId(s,n),[c]=J.findProgramAddressSync(a,l);this.set([...n,o],c)}}catch{}try{if(s.relations){const a=this.get([...n,s.relations[0]]);if(a){const l=await this._accountStore.fetchAccount({publicKey:a});this.set([...n,o],l[o])}}}catch{}}}}return r}async parseProgramId(e,n=[]){var r;if(!(!((r=e.pda)===null||r===void 0)&&r.program))return this._programId;const i=await this.toBuffer(e.pda.program,n);if(!i)throw new Error(`Program seed not resolved: ${e.name}`);return new J(i)}async toBuffer(e,n=[]){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e,n);default:throw new Error(`Unexpected seed: ${e}`)}}toBufferConst(e){return this.toBufferValue("bytes",e.value)}async toBufferArg(e){const[n,...r]=e.path.split("."),i=this._idlIx.args.findIndex(a=>a.name===n);if(i===-1)throw new Error(`Unable to find argument for seed: ${n}`);const o=r.reduce((a,l)=>(a??{})[l],this._args[i]);if(o===void 0)return;const s=this.getType(this._idlIx.args[i].type,r);return this.toBufferValue(s,o)}async toBufferAccount(e,n=[]){const[r,...i]=e.path.split("."),o=this.get([...n,r]);if(!o)return;if(!i.length)return this.toBufferValue("pubkey",o);if(!e.account)throw new Error(`Seed account is required in order to resolve type: ${e.path}`);let a=await this._accountStore.fetchAccount({publicKey:o,name:e.account}),l=i;for(;l.length>0;)a=a[l[0]],l=l.slice(1);if(a===void 0)return;const c=this.getType({defined:{name:e.account}},i);return this.toBufferValue(c,a)}toBufferValue(e,n){switch(e){case"u8":case"i8":return Buffer.from([n]);case"u16":case"i16":return new gr(n).toArrayLike(Buffer,"le",2);case"u32":case"i32":return new gr(n).toArrayLike(Buffer,"le",4);case"u64":case"i64":return new gr(n).toArrayLike(Buffer,"le",8);case"u128":case"i128":return new gr(n).toArrayLike(Buffer,"le",16);case"u256":case"i256":return new gr(n).toArrayLike(Buffer,"le",32);case"string":return Buffer.from(n);case"pubkey":return n.toBuffer();case"bytes":return Buffer.from(n);default:if(e!=null&&e.array)return Buffer.from(n);throw new Error(`Unexpected seed type: ${e}`)}}getType(e,n=[]){var r;const i=(r=e==null?void 0:e.defined)===null||r===void 0?void 0:r.name;if(i){if(i==="tokenAccount")switch(n.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw new Error(`Unknown token account path: ${n}`)}const o=this._idlTypes.find(d=>d.name===i);if(!o)throw new Error(`Type not found: ${i}`);const[s,...a]=n,c=o.type.fields.find(d=>d.name===s);if(!c)throw new Error(`Field not found: ${s}`);return this.getType(c.type,a)}return e}}class fz{constructor(e,n,r){this._provider=e,this._cache=new Map,this._idls={},this._idls[r.toBase58()]=n}async fetchAccount({publicKey:e,name:n}){const r=e.toBase58();if(!this._cache.has(r)){const i=await this._provider.connection.getAccountInfo(e);if(i===null)throw new Error(`Account not found: ${r}`);if(n==="tokenAccount"){const o=uz(i.data);this._cache.set(r,o)}else{const o=await this.getAccountsNs(i.owner);if(o){const s=Object.values(o)[0];if(s){const a=s.coder.accounts.decodeAny(i.data);this._cache.set(r,a)}}}}return this._cache.get(r)}async getAccountsNs(e){const n=e.toBase58();if(!this._idls[n]){const r=await ml.fetchIdl(e,this._provider);if(r){const i=new ml(r,this._provider);this._idls[n]=i.account}}return this._idls[n]}}class hz{static build(e,n,r,i,o,s,a,l,c,d,g){return(...p)=>new pz(p,i,o,s,a,l,e,n,r,c,d,g)}}function Wx(t){return typeof t=="object"&&t!==null&&!("_bn"in t)}function Fx(t,e){const n={};for(const r in t){const i=t[r];if(i===null)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");n[r]=Wx(i)?Fx(i):Yr(i)}return n}class pz{constructor(e,n,r,i,o,s,a,l,c,d,g,p){this._args=e,this._ixFn=n,this._txFn=r,this._rpcFn=i,this._simulateFn=o,this._viewFn=s,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new dz(e,this._accounts,a,l,c,d,g,p)}args(e){this._args=e,this._accountsResolver.args(e)}accounts(e){return this.accountsPartial(e)}accountsPartial(e){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(e),this}accountsStrict(e){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e,n=!1){return n?this._preInstructions=e.concat(this._preInstructions):this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async simulate(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async view(e){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error(["Method does not support views.","The instruction should return a value, and its accounts must be read-only"].join(" "));return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpc(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpcAndKeys(e){return{signature:await this.rpc(e),pubkeys:await this.pubkeys()}}async prepare(){return{instruction:await this.instruction(),signers:this._signers,pubkeys:await this.pubkeys()}}}class gz{static build(e,n,r,i){const o=n.accounts.find(l=>l.writable),s=!!n.returns;return o||!s?void 0:async(...l)=>{let c=await r(...l);const d=`Program return: ${e} `;let g=c.raw.find(R=>R.startsWith(d));if(!g)throw new Error("View expected return log");let p=JI(g.slice(d.length)),f=n.returns;if(!f)throw new Error("View expected return type");return Pe.fieldLayout({type:f},i.types).decode(p)}}}class mz{static build(e,n,r,i,o){const s={},a={},l={},c={},d={},g={},p=hU(e),f=e.accounts?iz.build(e,n,r,i):{};return e.instructions.forEach(m=>{const R=Kf.build(m,(j,O)=>n.instruction.encode(j,O),r),I=nz.build(m,R),w=rz.build(m,I,p,i),b=sz.build(m,I,p,i,n,r,e),_=gz.build(r,m,b,e),N=hz.build(i,r,m,R,I,w,b,_,f,e.types||[],o==null?void 0:o(m)),L=m.name;a[L]=R,l[L]=I,s[L]=w,c[L]=b,d[L]=N,_&&(g[L]=_)}),[s,a,l,f,c,d,g]}}class ml{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(e,n=Hm(),r,i){this._idl=fU(e),this._rawIdl=e,this._provider=n,this._programId=Yr(e.address),this._coder=r??new Tx(this._idl),this._events=new XU(this._programId,n,this._coder);const[o,s,a,l,c,d,g]=mz.build(this._idl,this._coder,this._programId,n,i);this.rpc=o,this.instruction=s,this.transaction=a,this.account=l,this.simulate=c,this.methods=d,this.views=g}static async at(e,n){const r=Yr(e),i=await ml.fetchIdl(r,n);if(!i)throw new Error(`IDL not found for program: ${e.toString()}`);return new ml(i,n)}static async fetchIdl(e,n){n=n??Hm();const r=Yr(e),i=await lU(r),o=await n.connection.getAccountInfo(i);if(!o)return null;let s=dU(o.data.slice(8));const a=rU(s.data);return JSON.parse(aU(a))}addEventListener(e,n,r){return this._events.addEventListener(e,n,r)}async removeEventListener(e){return await this._events.removeEventListener(e)}}new J("11111111111111111111111111111111");const tn=new J("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new J("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");const Zr=new J("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new J("So11111111111111111111111111111111111111112");new J("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");const Jw=t=>{const e=t.decode.bind(t),n=t.encode.bind(t);return{decode:e,encode:n}};var hu={};Object.defineProperty(hu,"__esModule",{value:!0});function yz(t){{const e=Buffer.from(t);e.reverse();const n=e.toString("hex");return n.length===0?BigInt(0):BigInt(`0x${n}`)}}var wz=hu.toBigIntLE=yz;function vz(t){{const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}hu.toBigIntBE=vz;function _z(t,e){{const n=t.toString(16),r=Buffer.from(n.padStart(e*2,"0").slice(0,e*2),"hex");return r.reverse(),r}}var Ez=hu.toBufferLE=_z;function bz(t,e){{const n=t.toString(16);return Buffer.from(n.padStart(e*2,"0").slice(0,e*2),"hex")}}hu.toBufferBE=bz;const Sz=t=>e=>{const n=Xe(t,e),{encode:r,decode:i}=Jw(n),o=n;return o.decode=(s,a)=>{const l=i(s,a);return wz(Buffer.from(l))},o.encode=(s,a,l)=>{const c=Ez(s,t);return r(c,a,l)},o},_i=Sz(8),Ws=t=>{const e=Ie(t),{encode:n,decode:r}=Jw(e),i=e;return i.decode=(o,s)=>!!r(o,s),i.encode=(o,s,a)=>{const l=Number(o);return n(l,s,a)},i},Qe=t=>{const e=Xe(32,t),{encode:n,decode:r}=Jw(e),i=e;return i.decode=(o,s)=>{const a=r(o,s);return new J(a)},i.encode=(o,s,a)=>{const l=o.toBuffer();return n(l,s,a)},i};class pu extends Error{constructor(e){super(e)}}class Az extends pu{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class Rz extends pu{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}class Iz extends pu{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class bE extends pu{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class $x extends pu{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}var Vf;(function(t){t[t.InitializeMint=0]="InitializeMint",t[t.InitializeAccount=1]="InitializeAccount",t[t.InitializeMultisig=2]="InitializeMultisig",t[t.Transfer=3]="Transfer",t[t.Approve=4]="Approve",t[t.Revoke=5]="Revoke",t[t.SetAuthority=6]="SetAuthority",t[t.MintTo=7]="MintTo",t[t.Burn=8]="Burn",t[t.CloseAccount=9]="CloseAccount",t[t.FreezeAccount=10]="FreezeAccount",t[t.ThawAccount=11]="ThawAccount",t[t.TransferChecked=12]="TransferChecked",t[t.ApproveChecked=13]="ApproveChecked",t[t.MintToChecked=14]="MintToChecked",t[t.BurnChecked=15]="BurnChecked",t[t.InitializeAccount2=16]="InitializeAccount2",t[t.SyncNative=17]="SyncNative",t[t.InitializeAccount3=18]="InitializeAccount3",t[t.InitializeMultisig2=19]="InitializeMultisig2",t[t.InitializeMint2=20]="InitializeMint2",t[t.GetAccountDataSize=21]="GetAccountDataSize",t[t.InitializeImmutableOwner=22]="InitializeImmutableOwner",t[t.AmountToUiAmount=23]="AmountToUiAmount",t[t.UiAmountToAmount=24]="UiAmountToAmount",t[t.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",t[t.TransferFeeExtension=26]="TransferFeeExtension",t[t.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",t[t.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",t[t.Reallocate=29]="Reallocate",t[t.MemoTransferExtension=30]="MemoTransferExtension",t[t.CreateNativeMint=31]="CreateNativeMint",t[t.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",t[t.InterestBearingMintExtension=33]="InterestBearingMintExtension",t[t.CpiGuardExtension=34]="CpiGuardExtension",t[t.InitializePermanentDelegate=35]="InitializePermanentDelegate",t[t.TransferHookExtension=36]="TransferHookExtension",t[t.MetadataPointerExtension=39]="MetadataPointerExtension"})(Vf||(Vf={}));function Nz(t,e,n){if(n.length){t.push({pubkey:e,isSigner:!1,isWritable:!1});for(const r of n)t.push({pubkey:r instanceof J?r:r.publicKey,isSigner:!0,isWritable:!1})}else t.push({pubkey:e,isSigner:!0,isWritable:!1});return t}function xz(t,e){return t instanceof J?[t,e]:[t.publicKey,[t]]}var Gm;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Mint=1]="Mint",t[t.Account=2]="Account"})(Gm||(Gm={}));const Hx=1,Tz=oe([Ie("m"),Ie("n"),Ws("isInitialized"),Qe("signer1"),Qe("signer2"),Qe("signer3"),Qe("signer4"),Qe("signer5"),Qe("signer6"),Qe("signer7"),Qe("signer8"),Qe("signer9"),Qe("signer10"),Qe("signer11")]),Kx=Tz.span;var Gf;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initialized=1]="Initialized",t[t.Frozen=2]="Frozen"})(Gf||(Gf={}));const Vx=oe([Qe("mint"),Qe("owner"),_i("amount"),fe("delegateOption"),Qe("delegate"),Ie("state"),fe("isNativeOption"),_i("isNative"),_i("delegatedAmount"),fe("closeAuthorityOption"),Qe("closeAuthority")]),wa=Vx.span;async function kz(t,e,n,r=tn){const i=await t.getAccountInfo(e,n);return Cz(e,i,r)}function Cz(t,e,n=tn){if(!e)throw new Az;if(!e.owner.equals(n))throw new Iz;if(e.data.length<wa)throw new bE;const r=Vx.decode(e.data.slice(0,wa));let i=Buffer.alloc(0);if(e.data.length>wa){if(e.data.length===Kx)throw new bE;if(e.data[wa]!=Gm.Account)throw new Rz;i=e.data.slice(wa+Hx)}return{address:t,mint:r.mint,owner:r.owner,amount:r.amount,delegate:r.delegateOption?r.delegate:null,delegatedAmount:r.delegatedAmount,isInitialized:r.state!==Gf.Uninitialized,isFrozen:r.state===Gf.Frozen,isNative:!!r.isNativeOption,rentExemptReserve:r.isNativeOption?r.isNative:null,closeAuthority:r.closeAuthorityOption?r.closeAuthority:null,tlvData:i}}const Mz=oe([fe("mintAuthorityOption"),Qe("mintAuthority"),_i("supply"),Ie("decimals"),Ws("isInitialized"),fe("freezeAuthorityOption"),Qe("freezeAuthority")]),Gx=Mz.span;async function Oz(t,e){return await Lz(t,[],e)}async function Lz(t,e,n){const r=pj(e);return await t.getMinimumBalanceForRentExemption(r,n)}async function SE(t,e,n=!1,r=tn,i=Zr){if(!n&&!J.isOnCurve(e.toBuffer()))throw new $x;const[o]=await J.findProgramAddress([e.toBuffer(),r.toBuffer(),t.toBuffer()],i);return o}function Bz(t,e,n=!1,r=tn,i=Zr){if(!n&&!J.isOnCurve(e.toBuffer()))throw new $x;const[o]=J.findProgramAddressSync([e.toBuffer(),r.toBuffer(),t.toBuffer()],i);return o}const Pz=oe([Ws("lockCpi")]),Dz=Pz.span,Uz=oe([Ie("state")]),zz=Uz.span,jz=oe([]),Wz=jz.span,Fz=oe([Qe("rateAuthority"),Wn("initializationTimestamp"),Og("preUpdateAverageRate"),Wn("lastUpdateTimestamp"),Og("currentRate")]),$z=Fz.span,Hz=oe([Ws("requireIncomingTransferMemos")]),Kz=Hz.span,Vz=oe([Qe("authority"),Qe("metadataAddress")]),Gz=Vz.span,qz=oe([Qe("closeAuthority")]),Yz=qz.span,qx=oe([]),Zz=qx.span,Qz=qx.span,Xz=oe([Qe("delegate")]),Jz=Xz.span,ej=1e4;BigInt(ej);function AE(t){return oe([_i("epoch"),_i("maximumFee"),hr("transferFeeBasisPoints")],t)}const tj=oe([Qe("transferFeeConfigAuthority"),Qe("withdrawWithheldAuthority"),_i("withheldAmount"),AE("olderTransferFee"),AE("newerTransferFee")]),nj=tj.span,rj=oe([_i("withheldAmount")]),ij=rj.span,oj=oe([Qe("authority"),Qe("programId")]),sj=oj.span,aj=oe([Ws("transferring")]),lj=aj.span,RE=oe([Ie("discriminator"),Xe(32,"addressConfig"),Ws("isSigner"),Ws("isWritable")]),cj=oe([fe("count"),yn(RE,FA(RE.span),"extraAccounts")]);oe([_i("instructionDiscriminator"),fe("length"),cj.replicate("extraAccountsList")]);var Ct;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.TransferFeeConfig=1]="TransferFeeConfig",t[t.TransferFeeAmount=2]="TransferFeeAmount",t[t.MintCloseAuthority=3]="MintCloseAuthority",t[t.ConfidentialTransferMint=4]="ConfidentialTransferMint",t[t.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",t[t.DefaultAccountState=6]="DefaultAccountState",t[t.ImmutableOwner=7]="ImmutableOwner",t[t.MemoTransfer=8]="MemoTransfer",t[t.NonTransferable=9]="NonTransferable",t[t.InterestBearingConfig=10]="InterestBearingConfig",t[t.CpiGuard=11]="CpiGuard",t[t.PermanentDelegate=12]="PermanentDelegate",t[t.NonTransferableAccount=13]="NonTransferableAccount",t[t.TransferHook=14]="TransferHook",t[t.TransferHookAccount=15]="TransferHookAccount",t[t.MetadataPointer=18]="MetadataPointer",t[t.TokenMetadata=19]="TokenMetadata"})(Ct||(Ct={}));const Yx=2,uj=2;function IE(t){return t+Yx+uj}function dj(t){switch(t){case Ct.TokenMetadata:return!0;default:return!1}}function fj(t){switch(t){case Ct.Uninitialized:return 0;case Ct.TransferFeeConfig:return nj;case Ct.TransferFeeAmount:return ij;case Ct.MintCloseAuthority:return Yz;case Ct.ConfidentialTransferMint:return 97;case Ct.ConfidentialTransferAccount:return 286;case Ct.CpiGuard:return Dz;case Ct.DefaultAccountState:return zz;case Ct.ImmutableOwner:return Wz;case Ct.MemoTransfer:return Kz;case Ct.MetadataPointer:return Gz;case Ct.NonTransferable:return Zz;case Ct.InterestBearingConfig:return $z;case Ct.PermanentDelegate:return Jz;case Ct.NonTransferableAccount:return Qz;case Ct.TransferHook:return sj;case Ct.TransferHookAccount:return lj;case Ct.TokenMetadata:throw Error(`Cannot get type length for variable extension type: ${t}`);default:throw Error(`Unknown extension type: ${t}`)}}function hj(t,e,n={}){if(t.length===0&&Object.keys(n).length===0)return e;{const r=wa+Hx+t.filter((i,o)=>o===t.indexOf(i)).map(i=>IE(fj(i))).reduce((i,o)=>i+o,0)+Object.entries(n).map(([i,o])=>{if(!dj(Number(i)))throw Error(`Extension ${i} is not variable length`);return IE(o)}).reduce((i,o)=>i+o,0);return r===Kx?r+Yx:r}}function pj(t,e={}){return hj(t,Gx,e)}function gj(t,e,n,r,i=tn,o=Zr){return mj(t,e,n,r,Buffer.alloc(0),i,o)}function mj(t,e,n,r,i,o=tn,s=Zr){const a=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:lt.programId,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1}];return new $e({keys:a,programId:s,data:i})}async function yj(t,e,n,r,i,o=tn,s=Zr){const a=Bz(n,r,!1,o,s),l=new Oe().add(gj(e.publicKey,a,r,n,o,s));return await al(t,l,[e],i),a}const NE=oe([Ie("instruction"),Ie("decimals"),Qe("mintAuthority"),Ie("freezeAuthorityOption"),Qe("freezeAuthority")]);function wj(t,e,n,r,i=tn){const o=[{pubkey:t,isSigner:!1,isWritable:!0}],s=Buffer.alloc(NE.span);return NE.encode({instruction:Vf.InitializeMint2,decimals:e,mintAuthority:n,freezeAuthorityOption:r?1:0,freezeAuthority:r||new J(0)},s),new $e({keys:o,programId:i,data:s})}async function vj(t,e,n,r,i,o=$o.generate(),s,a=tn){const l=await Oz(t),c=new Oe().add(lt.createAccount({fromPubkey:e.publicKey,newAccountPubkey:o.publicKey,space:Gx,lamports:l,programId:a}),wj(o.publicKey,i,n,r,a));return await al(t,c,[e,o],s),o.publicKey}const xE=oe([Ie("instruction"),_i("amount")]);function _j(t,e,n,r,i=[],o=tn){const s=Nz([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],n,i),a=Buffer.alloc(xE.span);return xE.encode({instruction:Vf.MintTo,amount:BigInt(r)},a),new $e({keys:s,programId:o,data:a})}async function Ej(t,e,n,r,i,o,s=[],a,l=tn){const[c,d]=xz(i,s),g=new Oe().add(_j(n,r,c,o,s,l));return await al(t,g,[e,...d],a)}const bj="5baRbZmwFVrudLM8Mea3X8vavVwWEnHr9Dxfm24KqCNd",Sj={name:"universal_nft",version:"0.1.0",spec:"0.1.0",description:"Created with Anchor"},Aj=[{name:"create_mint_and_nft",discriminator:[160,66,194,79,195,10,172,101],accounts:[{name:"program_state",writable:!0,pda:{seeds:[{kind:"const",value:[116,101,115,116,95,112,114,111,103,114,97,109,95,115,116,97,116,101]}]}},{name:"nft_origin",docs:["initialized by this instruction and only written by the program"],writable:!0},{name:"mint",writable:!0,signer:!0},{name:"token_account",writable:!0,pda:{seeds:[{kind:"account",path:"mint_authority"},{kind:"const",value:[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"mint_authority",signer:!0},{name:"payer",writable:!0,signer:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"rent",address:"SysvarRent111111111111111111111111111111111"},{name:"token_metadata_program",address:"metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"},{name:"metadata",writable:!0,pda:{seeds:[{kind:"const",value:[109,101,116,97,100,97,116,97]},{kind:"account",path:"token_metadata_program"},{kind:"account",path:"mint"}],program:{kind:"account",path:"token_metadata_program"}}},{name:"master_edition",writable:!0,pda:{seeds:[{kind:"const",value:[109,101,116,97,100,97,116,97]},{kind:"account",path:"token_metadata_program"},{kind:"account",path:"mint"},{kind:"const",value:[101,100,105,116,105,111,110]}],program:{kind:"account",path:"token_metadata_program"}}}],args:[{name:"uri",type:"string"},{name:"decimals",type:"u8"}]},{name:"initialize",discriminator:[175,175,109,31,13,152,155,237],accounts:[{name:"program_state",writable:!0,pda:{seeds:[{kind:"const",value:[116,101,115,116,95,112,114,111,103,114,97,109,95,115,116,97,116,101]}]}},{name:"payer",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"gateway",type:"pubkey"},{name:"next_token_id",type:"u64"}]},{name:"initiate_cross_chain_transfer",discriminator:[137,50,17,128,147,41,7,198],accounts:[{name:"program_state",pda:{seeds:[{kind:"const",value:[116,101,115,116,95,112,114,111,103,114,97,109,95,115,116,97,116,101]}]}},{name:"nft_origin"},{name:"mint",writable:!0},{name:"user_token_account",writable:!0},{name:"user",writable:!0,signer:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"gateway_program"}],args:[{name:"_token_id",type:"u64"},{name:"destination_chain",type:"u64"},{name:"destination_owner",type:{array:["u8",32]}}]},{name:"pause",discriminator:[211,22,221,251,74,121,193,47],accounts:[{name:"program_state",writable:!0,pda:{seeds:[{kind:"const",value:[116,101,115,116,95,112,114,111,103,114,97,109,95,115,116,97,116,101]}]}},{name:"admin",signer:!0}],args:[]},{name:"receive_cross_chain_message",discriminator:[237,72,165,133,19,63,202,44],accounts:[{name:"program_state",writable:!0,pda:{seeds:[{kind:"const",value:[116,101,115,116,95,112,114,111,103,114,97,109,95,115,116,97,116,101]}]}},{name:"nft_origin",writable:!0},{name:"mint",writable:!0},{name:"mint_authority"},{name:"recipient_token_account",writable:!0},{name:"payer",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"rent",address:"SysvarRent111111111111111111111111111111111"}],args:[{name:"_token_id",type:"u64"},{name:"message",type:"bytes"}]},{name:"unpause",discriminator:[169,144,4,38,10,141,188,255],accounts:[{name:"program_state",writable:!0,pda:{seeds:[{kind:"const",value:[116,101,115,116,95,112,114,111,103,114,97,109,95,115,116,97,116,101]}]}},{name:"admin",signer:!0}],args:[]}],Rj=[{name:"NFTOrigin",discriminator:[246,244,84,171,87,164,191,16]},{name:"ProgramState",discriminator:[77,209,137,229,149,67,167,230]}],Ij=[{name:"CrossChainMessageReceived",discriminator:[83,91,165,215,175,157,189,144]},{name:"CrossChainTransferInitiated",discriminator:[127,115,45,112,245,231,24,11]},{name:"MintCreated",discriminator:[254,157,196,76,231,48,27,150]},{name:"NFTMinted",discriminator:[229,55,248,184,138,23,199,249]},{name:"NFTOriginCreated",discriminator:[120,23,198,122,225,11,0,116]},{name:"ProgramInitialized",discriminator:[43,70,110,241,199,218,221,245]},{name:"ProgramPaused",discriminator:[247,9,236,38,105,35,112,115]},{name:"ProgramUnpaused",discriminator:[193,183,146,52,180,17,21,26]}],Nj=[{code:6e3,name:"ProgramPaused",msg:"Program is currently paused"},{code:6001,name:"Unauthorized",msg:"Unauthorized access"},{code:6002,name:"InvalidCrossChainMessage",msg:"Invalid cross-chain message"},{code:6003,name:"NFTOriginNotFound",msg:"NFT origin not found"},{code:6004,name:"InsufficientTokens",msg:"Insufficient tokens"},{code:6005,name:"TokenIdOverflow",msg:"Token ID overflow"},{code:6006,name:"NextTokenIdMismatch",msg:"Next token id mismatch between client and program state"}],xj=[{name:"CrossChainMessageReceived",type:{kind:"struct",fields:[{name:"token_id",type:"u64"},{name:"origin_chain",type:"u64"},{name:"mint",type:"pubkey"},{name:"recipient",type:"pubkey"}]}},{name:"CrossChainTransferInitiated",type:{kind:"struct",fields:[{name:"token_id",type:"u64"},{name:"destination_chain",type:"u64"},{name:"destination_owner",type:{array:["u8",32]}},{name:"mint",type:"pubkey"}]}},{name:"MintCreated",type:{kind:"struct",fields:[{name:"mint",type:"pubkey"},{name:"mint_authority",type:"pubkey"},{name:"decimals",type:"u8"},{name:"token_id",type:"u64"}]}},{name:"NFTMinted",type:{kind:"struct",fields:[{name:"token_id",type:"u64"},{name:"mint",type:"pubkey"},{name:"metadata_uri",type:"string"}]}},{name:"NFTOrigin",type:{kind:"struct",fields:[{name:"token_id",type:"u64"},{name:"origin_chain",type:"u64"},{name:"origin_token_id",type:"u64"},{name:"metadata_uri",type:"string"},{name:"mint",type:"pubkey"},{name:"created_at",type:"i64"},{name:"bump",type:"u8"}]}},{name:"NFTOriginCreated",type:{kind:"struct",fields:[{name:"token_id",type:"u64"},{name:"origin_chain",type:"u64"},{name:"origin_token_id",type:"u64"},{name:"mint",type:"pubkey"},{name:"metadata_uri",type:"string"}]}},{name:"ProgramInitialized",type:{kind:"struct",fields:[{name:"owner",type:"pubkey"},{name:"gateway",type:"pubkey"},{name:"initial_token_id",type:"u64"}]}},{name:"ProgramPaused",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"}]}},{name:"ProgramState",type:{kind:"struct",fields:[{name:"owner",type:"pubkey"},{name:"gateway",type:"pubkey"},{name:"next_token_id",type:"u64"},{name:"paused",type:"bool"},{name:"bump",type:"u8"}]}},{name:"ProgramUnpaused",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"}]}}],Tj={address:bj,metadata:Sj,instructions:Aj,accounts:Rj,events:Ij,errors:Nj,types:xj},B0={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},ia=new J("5baRbZmwFVrudLM8Mea3X8vavVwWEnHr9Dxfm24KqCNd"),oa=new J("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),xr={SOLANA_DEVNET:901,ZETACHAIN_TESTNET:7001,ETHEREUM_SEPOLIA:11155111,BSC_TESTNET:97,POLYGON_AMOY:80002,ARBITRUM_SEPOLIA:421614,BITCOIN_TESTNET:18332,SOLANA_MAINNET:0},Zx={901:"Solana Devnet",7001:"ZetaChain Testnet (Athens)",11155111:"Ethereum Sepolia Testnet",97:"BSC Testnet",80002:"Polygon Amoy Testnet",421614:"Arbitrum Sepolia Testnet",18332:"Bitcoin Testnet",0:"Solana Mainnet"};function jl(t){return Zx[t]||"Unknown Chain"}class Jt{constructor(e,n){Nt(this,"program");Nt(this,"wallet");this.wallet=n;const r=new Vc(e,n,{commitment:"processed",preflightCommitment:"processed"});this.program=new ml(Tj,r)}async sha256(e){const n=globalThis.crypto;if(n&&n.subtle&&n.subtle.digest){const r=await n.subtle.digest("SHA-256",e);return new Uint8Array(r)}try{const i=require("crypto").createHash("sha256").update(Buffer.from(e)).digest();return new Uint8Array(i)}catch{throw new Error("No crypto implementation available for SHA-256")}}async computeTokenIdBytes(e,n){const r=[];r.push(...Array.from(e.toBytes()));const i=Buffer.alloc(8),o=BigInt(typeof n=="number"?n:n.toString());i.writeBigUInt64LE(o),r.push(...Array.from(i));const s=await this.sha256(new Uint8Array(r));return Buffer.from(s.slice(0,8))}async initialize(e,n){try{const[r]=Jt.getProgramStatePDA();return await this.program.methods.initialize(e,new gr(n)).accounts({programState:r,payer:this.wallet.publicKey,systemProgram:lt.programId}).rpc()}catch(r){throw console.error("Error initializing program:",r),r}}static getProgramStatePDA(){return J.findProgramAddressSync([Buffer.from("test_program_state")],ia)}static getNFTOriginPDA(e){const n=Buffer.from("nft_origin"),r=Buffer.alloc(8);return r.writeBigUInt64LE(BigInt(e),0),J.findProgramAddressSync([n,r],ia)}static getNFTOriginPDAMintNFT(){const e=Buffer.from("nft_origin"),n=Buffer.alloc(10).fill(0);return J.findProgramAddressSync([e,n],ia)}async createMintAndNFT(e,n){try{console.log("=== CREATE MINT AND NFT START ==="),console.log("Creating mint and NFT with URI:",e),console.log("Decimals:",n),console.log("Timestamp:",new Date().toISOString()),console.log("Wallet address:",this.wallet.publicKey.toString());const[r]=Jt.getProgramStatePDA();console.log("Program state PDA:",r.toString());const i=$o.generate();console.log("Generated mint keypair:",i.publicKey.toString());const o=await this.getAssociatedTokenAddress(i.publicKey);console.log("Token account address:",o.toString());const[s]=J.findProgramAddressSync([Buffer.from("metadata"),oa.toBuffer(),i.publicKey.toBuffer()],oa),[a]=J.findProgramAddressSync([Buffer.from("metadata"),oa.toBuffer(),i.publicKey.toBuffer(),Buffer.from("edition")],oa),[l]=J.findProgramAddressSync([Buffer.from("nft_origin"),Buffer.alloc(8).fill(0)],ia);console.log("Derived PDAs:",{metadataPDA:s.toString(),masterEditionPDA:a.toString(),nftOriginPDA:l.toString()}),console.log("Calling program.createMintAndNft with accounts:",{programState:r.toString(),nftOrigin:l.toString(),mint:i.publicKey.toString(),tokenAccount:o.toString(),mintAuthority:this.wallet.publicKey.toString(),payer:this.wallet.publicKey.toString(),tokenProgram:tn.toString(),associatedTokenProgram:Zr.toString(),systemProgram:lt.programId.toString(),rent:Zi.toString(),tokenMetadataProgram:oa.toString(),metadata:s.toString(),masterEdition:a.toString()});const c=await this.program.methods.createMintAndNft(e,n).accounts({programState:r,nftOrigin:l,mint:i.publicKey,tokenAccount:o,mintAuthority:this.wallet.publicKey,payer:this.wallet.publicKey,tokenProgram:tn,associatedTokenProgram:Zr,systemProgram:lt.programId,rent:Zi,tokenMetadataProgram:oa,metadata:s,masterEdition:a}).signers([i]).rpc();return console.log("Transaction successful:",c),console.log("=== CREATE MINT AND NFT END ==="),{signature:c,mintAddress:i.publicKey.toString(),tokenId:0}}catch(r){throw console.error("=== CREATE MINT AND NFT ERROR ==="),console.error("Error creating mint and NFT:",r),console.error("Error details:",{message:r.message,stack:r.stack,code:r.code,logs:r.logs}),console.error("=== CREATE MINT AND NFT ERROR END ==="),r}}async initiateCrossChainTransfer(e,n,r){try{console.log("=== INITIATE CROSS-CHAIN TRANSFER START ==="),console.log("Token ID:",e),console.log("Destination Chain:",n),console.log("Destination Owner (bytes):",r);const[i]=Jt.getProgramStatePDA();console.log("Program State PDA:",i.toString());const[o]=Jt.getNFTOriginPDA(e);console.log("NFT Origin PDA:",o.toString()),console.log("Fetching NFT origin account...");const s=await this.program.account.nftOrigin.fetch(o);if(console.log("NFT Origin Account:",s),!s||!s.mint)throw new Error("NFT origin account not found or invalid");const a=s.mint;console.log("Mint Address:",a.toString()),console.log("Getting associated token address...");const l=await this.getAssociatedTokenAddress(a);console.log("User Token Account:",l.toString());const c=new Uint8Array(32);c.set(r.slice(0,32)),console.log("Destination Owner Array:",Array.from(c)),console.log("Calling program.initiateCrossChainTransfer...");const d=await this.program.methods.initiateCrossChainTransfer(new gr(e),new gr(n),Array.from(c)).accounts({programState:i,nftOrigin:o,mint:a,userTokenAccount:l,user:this.wallet.publicKey,tokenProgram:tn,gatewayProgram:new J("ZETAjseVjuFsxdRxo6MmTCvqFwb3ZHUx56Co3vCmGis")}).rpc();return console.log("Transaction successful! Signature:",d),console.log("=== INITIATE CROSS-CHAIN TRANSFER END ==="),d}catch(i){throw console.error("=== INITIATE CROSS-CHAIN TRANSFER ERROR ==="),console.error("Error initiating cross-chain transfer:",i),console.error("Error details:",{message:i.message,stack:i.stack,name:i.name}),console.error("=== INITIATE CROSS-CHAIN TRANSFER ERROR END ==="),i}}async receiveCrossChainMessage(e,n,r){try{const[i]=Jt.getProgramStatePDA(),[o]=Jt.getNFTOriginPDA(e);try{if(!await this.program.account.nftOrigin.fetch(o))throw new Error("NFT origin account not found")}catch{throw new Error("Failed to fetch NFT origin account")}return await this.program.methods.receiveCrossChainMessage(new gr(e),Array.from(n)).accounts({programState:i,nftOrigin:o,mint:r,mintAuthority:this.wallet.publicKey,recipientTokenAccount:await this.getAssociatedTokenAddress(r),payer:this.wallet.publicKey,systemProgram:lt.programId,tokenProgram:tn,associatedTokenProgram:Zr,rent:Zi}).rpc()}catch(i){throw console.error("Error receiving cross-chain message:",i),i}}async pauseProgram(){try{const[e]=Jt.getProgramStatePDA();return await this.program.methods.pause().accounts({programState:e,admin:this.wallet.publicKey}).rpc()}catch(e){throw console.error("Error pausing program:",e),e}}async unpauseProgram(){try{const[e]=Jt.getProgramStatePDA();return await this.program.methods.unpause().accounts({programState:e,admin:this.wallet.publicKey}).rpc()}catch(e){throw console.error("Error unpausing program:",e),e}}async getProgramState(){try{const[e]=Jt.getProgramStatePDA();return await this.program.account.programState.fetch(e)}catch(e){return console.error("Error fetching program state:",e),null}}async getNFTOrigin(e){try{const[n]=Jt.getNFTOriginPDA(e);return await this.program.account.nftOrigin.fetch(n)}catch(n){return console.error("Error fetching NFT origin:",n),null}}async getAllNFTOrigins(){try{const e=await this.program.provider.connection.getProgramAccounts(ia),n=[];for(const r of e)try{if(r.account.data.length<77)continue;const i=this.program.coder.accounts.decode("nftOrigin",r.account.data);i&&i.token_id!==void 0&&n.push(i)}catch{continue}return n}catch(e){return console.error("Error fetching all NFT origins:",e),[]}}async getNFTDetails(e){try{console.log("=== GET NFT DETAILS START ==="),console.log("Fetching details for mint:",e.toString());const n=await this.program.account.mint.fetch(e);console.log("Mint account info:",n);const r=await this.getAssociatedTokenAddress(e);let i=null;try{i=await this.program.provider.connection.getAccountInfo(r),console.log("Token account info:",i)}catch{console.log("Token account not found yet")}let o=null;try{const c=Buffer.concat([Buffer.from("nft_origin"),e.toBuffer().slice(0,10)]),[d]=J.findProgramAddressSync([c],ia);o=await this.program.account.nftOrigin.fetch(d),console.log("NFT Origin info:",o)}catch{console.log("NFT Origin not found yet")}const[s]=Jt.getProgramStatePDA(),a=await this.program.account.programState.fetch(s);console.log("Program state:",a);const l={mint:e.toString(),mintInfo:n,tokenAccount:r.toString(),tokenAccountInfo:i,nftOriginInfo:o,programState:a,timestamp:new Date().toISOString()};return console.log("Complete NFT details:",l),console.log("=== GET NFT DETAILS END ==="),l}catch(n){throw console.error("=== GET NFT DETAILS ERROR ==="),console.error("Error fetching NFT details:",n),console.error("Error details:",{message:n.message,stack:n.stack,code:n.code}),console.error("=== GET NFT DETAILS ERROR END ==="),n}}async getNFTDetailsWithChainInfo(e){var n,r,i,o,s,a,l;try{console.log("=== GET ENHANCED NFT DETAILS START ==="),console.log("Fetching enhanced details for mint:",e.toString());const c=await this.getNFTDetails(e),d={...c,originChainName:jl(((n=c.nftOriginInfo)==null?void 0:n.originChain)||901),currentChainName:"Solana Devnet",crossChainInfo:{isCrossChain:((r=c.nftOriginInfo)==null?void 0:r.originChain)!==901,originalChain:jl(((i=c.nftOriginInfo)==null?void 0:i.originChain)||901),originalTokenId:(s=(o=c.nftOriginInfo)==null?void 0:o.originTokenId)==null?void 0:s.toString(),hasBeenTransferred:((a=c.nftOriginInfo)==null?void 0:a.originChain)!==901,chainId:((l=c.nftOriginInfo)==null?void 0:l.originChain)||901},chainMapping:{availableChains:Zx,chainIds:xr,currentChain:{id:901,name:"Solana Devnet",alias:"solana_devnet"}}};return console.log("Enhanced NFT details:",d),console.log("=== GET ENHANCED NFT DETAILS END ==="),d}catch(c){throw console.error("=== GET ENHANCED NFT DETAILS ERROR ==="),console.error("Error getting enhanced NFT details:",c),console.error("Error details:",{message:c.message,stack:c.stack,code:c.code}),console.error("=== GET ENHANCED NFT DETAILS ERROR END ==="),c}}async getAllNFTsWithChainInfo(){try{console.log("=== GET ALL NFTS WITH CHAIN INFO START ===");const e=await this.program.provider.connection.getParsedTokenAccountsByOwner(this.wallet.publicKey,{programId:tn});console.log("All token accounts found:",e.value.length);const n=[];for(const r of e.value){const i=r.account.data.parsed.info.mint,o=r.account.data.parsed.info.tokenAmount.uiAmount;if(o>0)try{const s=await this.getNFTDetailsWithChainInfo(new J(i));n.push({...s,balance:o,tokenAccount:r.pubkey.toString()})}catch{console.log("Could not fetch details for mint:",i),n.push({mint:i,balance:o,tokenAccount:r.pubkey.toString(),error:"Could not fetch details",chainInfo:{currentChain:"Solana Devnet",chainId:901}})}}return console.log("All NFTs with chain info:",n),console.log("=== GET ALL NFTS WITH CHAIN INFO END ==="),n}catch(e){throw console.error("=== GET ALL NFTS WITH CHAIN INFO ERROR ==="),console.error("Error fetching all NFTs with chain info:",e),console.error("Error details:",{message:e.message,stack:e.stack,code:e.code}),console.error("=== GET ALL NFTS WITH CHAIN INFO ERROR END ==="),e}}async getAssociatedTokenAddress(e){return await J.findProgramAddress([this.wallet.publicKey.toBuffer(),tn.toBuffer(),e.toBuffer()],Zr).then(([n])=>n)}async getTransactionStatus(e){var n;try{const r=await this.program.provider.connection.getTransaction(e,{commitment:"confirmed",maxSupportedTransactionVersion:0});return r?{confirmed:!0,slot:r.slot,blockTime:r.blockTime||0,confirmations:(n=r.meta)!=null&&n.err?0:1}:{confirmed:!1,slot:0,blockTime:0,confirmations:0}}catch(r){return console.error("Error fetching transaction status:",r),{confirmed:!1,slot:0,blockTime:0,confirmations:0}}}async logDestinationChainNFTAddress(e,n,r,i){var o;try{console.log("=== LOG DESTINATION CHAIN NFT ADDRESS START ==="),console.log("Token ID:",e),console.log("Destination Chain:",n),console.log("Solana TX Signature:",i),console.log("Destination Owner:",r);const s=[];s.push("=== CROSS-CHAIN TRANSFER TRANSACTION ==="),s.push(`Solana Transaction Hash: ${i}`),s.push(`Token ID: ${e}`),s.push(`Destination Chain: ${jl(n)} (ID: ${n})`);try{const m=await this.getTransactionStatus(i);m.confirmed?(s.push("Transaction Status: Confirmed on Solana"),s.push(`Block Slot: ${m.slot}`),s.push(`Block Time: ${new Date(m.blockTime*1e3).toISOString()}`),s.push(`Confirmations: ${m.confirmations}`)):s.push("Transaction Status: Pending confirmation")}catch{s.push("Transaction Status: Unable to fetch status")}const[a]=Jt.getNFTOriginPDA(e);let l;try{l=await this.program.account.nftOrigin.fetch(a),s.push(`NFT Origin PDA: ${a.toString()}`),s.push(`Original Mint: ${((o=l==null?void 0:l.mint)==null?void 0:o.toString())||"Unknown"}`),s.push(`Metadata URI: ${(l==null?void 0:l.metadataUri)||"Unknown"}`)}catch{s.push("NFT Origin Status: Not found (may have been burned)")}let c="";n===xr.ZETACHAIN_TESTNET?(c="0x"+Array.from(r).map(m=>m.toString(16).padStart(2,"0")).join(""),s.push(`Destination Address (ZetaChain): ${c}`)):n===xr.ETHEREUM_SEPOLIA||n===xr.BSC_TESTNET||n===xr.POLYGON_AMOY||n===xr.ARBITRUM_SEPOLIA?(c="0x"+Array.from(r.slice(0,20)).map(m=>m.toString(16).padStart(2,"0")).join(""),s.push(`Destination Address (EVM): ${c}`)):(c=Array.from(r).map(m=>m.toString(16).padStart(2,"0")).join(""),s.push(`Destination Address (Hex): ${c}`)),s.push(""),s.push("=== TRANSACTION STATUS ==="),s.push("✅ Solana: NFT burned successfully"),s.push("✅ Solana: Cross-chain message sent via gateway"),s.push("⏳ Destination Chain: Message processing"),s.push("⏳ Final Status: Awaiting destination chain confirmation"),s.push("Gateway Program: ZETAjseVjuFsxdRxo6MmTCvqFwb3ZHUx56Co3vCmGis");let d="",g="";n===xr.ZETACHAIN_TESTNET?(s.push(""),s.push("=== ZETACHAIN TRANSACTION INFO ==="),s.push("Network: Athens Testnet"),s.push("Chain ID: 7001"),s.push("Gateway Program: ZETAjseVjuFsxdRxo6MmTCvqFwb3ZHUx56Co3vCmGis"),s.push(`Message Recipient: ${c}`),d=`https://explorer.zetachain.com/address/${c}`,g="https://explorer.zetachain.com",s.push(`Explorer: ${d}`)):[xr.ETHEREUM_SEPOLIA,xr.BSC_TESTNET,xr.POLYGON_AMOY,xr.ARBITRUM_SEPOLIA].includes(n)&&(s.push(""),s.push("=== EVM CHAIN TRANSACTION INFO ==="),s.push(`Chain: ${jl(n)}`),s.push(`Chain ID: ${n}`),s.push("Gateway Program: ZETAjseVjuFsxdRxo6MmTCvqFwb3ZHUx56Co3vCmGis"),s.push(`Message Recipient: ${c}`),d=`https://explorer.zetachain.com/address/${c}`,g="https://explorer.zetachain.com",s.push(`Explorer: ${d}`));let p=null;try{if(n===xr.ZETACHAIN_TESTNET){const m=(B0==null?void 0:B0.VITE_ZETA_BLOCKSCOUT_API)||"https://explorer.zetachain.com/api",I=await(await fetch(`${m}?module=account&action=txlist&address=${c}&sort=desc`)).json();I&&I.status==="1"&&Array.isArray(I.result)&&I.result.length>0&&(p=I.result[0].hash)}}catch{}p?(s.push(`Destination Tx Hash: ${p}`),g&&s.push(`Tx Link: ${g}/tx/${p}`)):s.push("Destination Tx Hash: Not yet available (await processing or ensure a universal app emits events)");const f={solanaTxSignature:i,destinationChain:n,destinationChainName:jl(n),destinationOwner:c,destinationTxHash:p,status:"pending",logs:s};return console.log(`
`+s.join(`
`)),console.log(`
=== LOG DESTINATION CHAIN NFT ADDRESS END ===`),f}catch(s){throw console.error("Error logging destination chain NFT address:",s),s}}async initiateCrossChainTransferWithLogging(e,n,r){try{console.log("=== ENHANCED CROSS-CHAIN TRANSFER START ==="),console.log("Input parameters:",{tokenId:e,destinationChain:n,destinationOwner:r}),console.log("Step 1: Calling initiateCrossChainTransfer...");const i=await this.initiateCrossChainTransfer(e,n,r);console.log("Cross-chain transfer initiated successfully on Solana"),console.log("Solana Transaction Signature:",i),console.log("Step 2: Generating transaction logs...");const o=await this.logDestinationChainNFTAddress(e,n,r,i);return console.log("Transaction logs generated:",o),console.log("=== ENHANCED CROSS-CHAIN TRANSFER END ==="),{solanaTxSignature:i,destinationLogs:o}}catch(i){throw console.error("=== ENHANCED CROSS-CHAIN TRANSFER ERROR ==="),console.error("Error in enhanced cross-chain transfer:",i),console.error("Error details:",{message:i.message,stack:i.stack,name:i.name}),console.error("=== ENHANCED CROSS-CHAIN TRANSFER ERROR END ==="),i}}}class P0{static async createMint(e,n,r,i,o=0){return await vj(e,n,r,i,o,void 0,void 0,tn)}static async createAssociatedTokenAccount(e,n,r,i){const o=await SE(r,i,!1,tn,Zr);return await yj(e,n,i,r),o}static async getOrCreateAssociatedTokenAccount(e,n,r,i){try{const o=await SE(r,i,!1,tn,Zr);if(await kz(e,o))return o}catch{}return await this.createAssociatedTokenAccount(e,n,r,i)}static async mintTokens(e,n,r,i,o,s){return await Ej(e,n,r,i,o,s)}static isValidPublicKey(e){try{return new J(e),!0}catch{return!1}}static formatPublicKey(e,n=8){const r=typeof e=="string"?e:e.toString();return r.length<=n*2?r:`${r.slice(0,n)}...${r.slice(-n)}`}static stringToUint8Array(e){return new TextEncoder().encode(e)}static uint8ArrayToString(e){return new TextDecoder().decode(e)}}const kj=()=>{var j;const{connection:t}=DR(),e=Lh(),[n,r]=te.useState(null),[i,o]=te.useState([]),[s,a]=te.useState(!1),[l,c]=te.useState(null),[d,g]=te.useState(null),[p,f]=te.useState(null),m=te.useCallback(async()=>{if(!(!e.connected||!t))try{a(!0),c(null);const O=new Jt(t,e),U=await O.getProgramState();r(U);const P=await O.getAllNFTOrigins();o(P)}catch(O){console.error("Error loading program data:",O),c(O.message||"Failed to load program data")}finally{a(!1)}},[e.connected,t]),R=te.useCallback(async(O,U,P)=>{if(!e.connected||!t||!e.publicKey)throw new Error("Wallet not connected");if(!P0.isValidPublicKey(O)||!P0.isValidPublicKey(U))throw new Error("Invalid public key format");try{a(!0),c(null),g(null);const $=await new Jt(t,e).initialize(new J(U),P);return g(`Program initialized! Signature: ${$}`),setTimeout(m,2e3),$}catch(W){const $=W.message||"Failed to initialize program";throw c($),new Error($)}finally{a(!1)}},[e.connected,t,e.publicKey,m]),I=te.useCallback(async(O,U)=>{if(!e.connected||!t||!e.publicKey)throw new Error("Wallet not connected");try{a(!0),c(null),g(null);const W=await new Jt(t,e).createMintAndNFT(O,U);return g(`Mint and NFT created successfully! Mint Address: ${W.mintAddress} | Signature: ${W.signature}`),setTimeout(m,2e3),W}catch(P){const W=P.message||"Failed to create mint and NFT";throw c(W),new Error(W)}finally{a(!1)}},[e.connected,t,e.publicKey,m]),w=te.useCallback(async(O,U,P)=>{var W;if(console.log("=== HOOK: initiateTransferWithLogging START ==="),console.log("Input parameters:",{tokenId:O,destinationChain:U,destinationOwner:P}),console.log("Wallet connected:",e.connected),console.log("Connection available:",!!t),console.log("Wallet public key:",(W=e.publicKey)==null?void 0:W.toString()),!e.connected||!t||!e.publicKey)throw new Error("Wallet not connected");try{console.log("Setting loading state..."),a(!0),c(null),g(null),f(null),console.log("Creating UniversalNFTClient...");const $=new Jt(t,e);console.log("Converting destination owner to bytes...");const H=Cj(P);console.log("Destination owner bytes:",H),console.log("Destination Owner (hex):",Buffer.from(H).toString("hex")),console.log("Calling client.initiateCrossChainTransferWithLogging...");const A=await $.initiateCrossChainTransferWithLogging(O,U,H);return console.log("Transfer successful! Result:",A),f(A.destinationLogs),g(`Transfer initiated! Solana TX: ${A.solanaTxSignature.slice(0,8)}...`),setTimeout(m,2e3),console.log("=== HOOK: initiateTransferWithLogging END ==="),A}catch($){console.error("=== HOOK: initiateTransferWithLogging ERROR ==="),console.error("Error in hook:",$);const H=$.message||"Failed to initiate transfer";throw c(H),console.error("=== HOOK: initiateTransferWithLogging ERROR END ==="),new Error(H)}finally{console.log("Setting loading to false..."),a(!1)}},[e.connected,t,e.publicKey,m]),b=te.useCallback(async(O,U,P)=>{if(!e.connected||!t||!e.publicKey)throw new Error("Wallet not connected");if(!P0.isValidPublicKey(P))throw new Error("Invalid mint address format");try{a(!0),c(null),g(null);const W=new Jt(t,e),$=new J(P),H=new TextEncoder().encode(U),A=await W.receiveCrossChainMessage(O,H,$);return g(`Message received! Signature: ${A}`),setTimeout(m,2e3),A}catch(W){const $=W.message||"Failed to receive message";throw c($),new Error($)}finally{a(!1)}},[e.connected,t,e.publicKey,m]),_=te.useCallback(async()=>{if(!e.connected||!t||!e.publicKey)throw new Error("Wallet not connected");try{a(!0),c(null),g(null);const U=await new Jt(t,e).pauseProgram();return g(`Program paused! Signature: ${U}`),setTimeout(m,2e3),U}catch(O){const U=O.message||"Failed to pause program";throw c(U),new Error(U)}finally{a(!1)}},[e.connected,t,e.publicKey,m]),N=te.useCallback(async()=>{if(!e.connected||!t||!e.publicKey)throw new Error("Wallet not connected");try{a(!0),c(null),g(null);const U=await new Jt(t,e).unpauseProgram();return g(`Program unpaused! Signature: ${U}`),setTimeout(m,2e3),U}catch(O){const U=O.message||"Failed to unpause program";throw c(U),new Error(U)}finally{a(!1)}},[e.connected,t,e.publicKey,m]),L=te.useCallback(()=>{c(null),g(null)},[]);return te.useEffect(()=>{e.connected&&t&&m()},[e.connected,t,m]),{programState:n,nftOrigins:i,loading:s,error:l,success:d,crossChainLogs:p,initialize:R,createMintAndNFT:I,initiateTransferWithLogging:w,receiveMessage:b,pauseProgram:_,unpauseProgram:N,clearMessages:L,loadProgramData:m,isConnected:e.connected,wallet:(j=e.publicKey)==null?void 0:j.toString()}};function Cj(t){const e=t.trim().toLowerCase();if(!/^0x[0-9a-f]{40}$/.test(e))throw new Error("Invalid EVM address");return Uint8Array.from(Buffer.from(e.slice(2),"hex"))}const Mj=()=>{const{programState:t,nftOrigins:e,loading:n,error:r,success:i,initialize:o,createMintAndNFT:s,receiveMessage:a,pauseProgram:l,unpauseProgram:c,clearMessages:d,isConnected:g,crossChainLogs:p,initiateTransferWithLogging:f}=kj(),[m,R]=te.useState("overview"),[I,w]=te.useState({owner:"",gateway:"",nextTokenId:1}),[b,_]=te.useState({uri:"",mint:""}),[N,L]=te.useState({decimals:0}),[j,O]=te.useState(null),[U,P]=te.useState({tokenId:1,destinationChain:7001,destinationOwner:"0xfeC46bFEE779652CA9c2706F5cA12D92c81B4188"}),[W,$]=te.useState({tokenId:1,message:"",mint:""}),H=Z=>{if(!Z)return 0;try{if(Z.toNumber&&typeof Z.toNumber=="function")try{return Z.toNumber()}catch(ve){if(ve instanceof Error&&ve.message&&ve.message.includes("53 bits"))return Z.toString();throw ve}if(typeof Z=="number")return Z;if(typeof Z=="string"){const ve=Number(Z);return isNaN(ve)?Z:ve}const ee=String(Z),ae=Number(ee);return isNaN(ae)?(console.warn("Failed to convert value to number, using string as fallback:",Z,ee),ee):ae}catch(ee){return console.warn("Error converting BN to number, using string as fallback:",ee,Z),String(Z)}},A=()=>[{value:901,label:"Solana Devnet (901)"},{value:7001,label:"ZetaChain Testnet (7001)"},{value:11155111,label:"Ethereum Sepolia (11155111)"},{value:97,label:"BSC Testnet (97)"},{value:80002,label:"Polygon Amoy (80002)"},{value:421614,label:"Arbitrum Sepolia (421614)"},{value:18332,label:"Bitcoin Testnet (18332)"}],u=t?{owner:t.owner.toString(),gateway:t.gateway.toString(),nextTokenId:H(t.nextTokenId),paused:t.paused,bump:t.bump}:null,h=e.map(Z=>({tokenId:H(Z.tokenId),originChain:Z.originChain,originTokenId:H(Z.originTokenId),metadataUri:Z.metadataUri,mint:Z.mint.toString(),createdAt:H(Z.createdAt),bump:Z.bump})),S=async Z=>{if(Z.preventDefault(),!I.owner.trim()){alert("Please enter an owner address");return}if(!I.gateway.trim()){alert("Please enter a gateway address");return}if(!I.nextTokenId||isNaN(I.nextTokenId)){alert("Please enter a valid next token ID");return}try{await o(I.owner,I.gateway,I.nextTokenId)}catch{}},T=async Z=>{if(Z.preventDefault(),N.decimals===void 0||isNaN(N.decimals)){alert("Please enter a valid number of decimals");return}if(N.decimals<0||N.decimals>9){alert("Decimals must be between 0 and 9");return}if(!b.uri.trim()){alert("Please enter a metadata URI");return}try{const ee=await s(b.uri,N.decimals);ee!=null&&ee.mintAddress&&(O(ee.mintAddress),_(ae=>({...ae,mint:ee.mintAddress})))}catch{}},x=async Z=>{if(Z.preventDefault(),!U.tokenId||isNaN(U.tokenId)){alert("Please enter a valid token ID");return}if(!U.destinationChain||isNaN(U.destinationChain)){alert("Please enter a valid destination chain");return}if(!U.destinationOwner.trim()){alert("Please enter a destination owner");return}try{await f(U.tokenId,U.destinationChain,U.destinationOwner),P({tokenId:1,destinationChain:7001,destinationOwner:"0xfeC46bFEE779652CA9c2706F5cA12D92c81B4188"})}catch{}},M=async Z=>{if(Z.preventDefault(),!W.tokenId||isNaN(W.tokenId)){alert("Please enter a valid token ID");return}if(!W.message.trim()){alert("Please enter a message");return}if(!W.mint.trim()){alert("Please enter a mint address");return}try{await a(W.tokenId,W.message,W.mint)}catch{}},z=async()=>{try{await l()}catch{}},C=async()=>{try{await c()}catch{}},y=[{id:"overview",label:"Overview"},{id:"initialize",label:"Initialize"},{id:"create-mint-and-nft",label:"Create Mint & NFT"},{id:"transfer",label:"Cross-Chain Transfer ✅"},{id:"receive",label:"Receive Message"},{id:"admin",label:"Admin"}],D=()=>{switch(m){case"overview":return F.jsxs("div",{className:"space-y-6",children:[!g&&F.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:F.jsx("p",{className:"text-yellow-800",children:"Please connect your wallet to view program data"})}),n&&F.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:F.jsx("p",{className:"text-blue-800",children:"Loading program data..."})}),r&&F.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[F.jsx("p",{className:"text-red-800",children:r}),F.jsx("button",{onClick:d,className:"mt-2 text-sm text-red-600 hover:text-red-800 underline",children:"Dismiss"})]}),i&&F.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[F.jsx("p",{className:"text-green-800",children:i}),F.jsx("button",{onClick:d,className:"mt-2 text-sm text-green-600 hover:text-green-800 underline",children:"Dismiss"})]}),F.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[F.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[F.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Total NFTs"}),F.jsx("p",{className:"text-3xl font-bold text-blue-600",children:h.length})]}),F.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[F.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Program Status"}),F.jsx("p",{className:`text-3xl font-bold ${u!=null&&u.paused?"text-red-600":"text-green-600"}`,children:u!=null&&u.paused?"Paused":"Active"})]}),F.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[F.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Next Token ID"}),F.jsx("p",{className:"text-3xl font-bold text-purple-600",children:(u==null?void 0:u.nextTokenId)||0})]}),F.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[F.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"ZetaChain Integration"}),F.jsx("p",{className:"text-3xl font-bold text-green-600",children:"✅ Ready"}),F.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Contract: 0xfeC46b...4188"})]})]}),u&&F.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[F.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Program Details"}),F.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[F.jsxs("div",{children:[F.jsx("p",{className:"text-sm text-gray-600",children:"Owner"}),F.jsx("p",{className:"text-sm font-mono text-gray-900 break-all",children:u.owner})]}),F.jsxs("div",{children:[F.jsx("p",{className:"text-sm text-gray-600",children:"Gateway"}),F.jsx("p",{className:"text-sm font-mono text-gray-900 break-all",children:u.gateway})]})]})]}),F.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[F.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Supported Chain IDs"}),F.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:F.jsxs("p",{className:"text-sm text-green-700",children:[F.jsx("strong",{children:"🎯 Primary Integration:"})," ZetaChain Testnet (7001) - Your contract is deployed and ready!"]})}),F.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:A().map(Z=>F.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${Z.value===7001?"bg-green-100 border border-green-300":"bg-gray-50"}`,children:[F.jsx("span",{className:"text-sm font-medium text-gray-700",children:Z.label}),F.jsx("span",{className:"text-xs text-gray-500 font-mono",children:Z.value}),Z.value===7001&&F.jsx("span",{className:"text-xs text-green-600 font-medium",children:"✅ Ready"})]},Z.value))})]})]});case"initialize":return F.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 max-w-2xl",children:[F.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Initialize Program"}),F.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[F.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"ℹ️ Program initialization:"}),F.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[F.jsx("li",{children:"• This can only be done once"}),F.jsx("li",{children:"• You need sufficient SOL for transaction fees"}),F.jsx("li",{children:"• The owner address will have admin privileges"}),F.jsx("li",{children:"• The gateway address should be a valid program"})]})]}),F.jsxs("form",{onSubmit:S,className:"space-y-4",children:[F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Owner Address"}),F.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Public key of the program owner/admin"}),F.jsx("input",{type:"text",value:I.owner,onChange:Z=>w({...I,owner:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., F79VcAwM6VhL9CaZo68W1SwrkntLJpAhcbTLLzuz4g3G",required:!0})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gateway Address"}),F.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Public key of the cross-chain gateway program"}),F.jsx("input",{type:"text",value:I.gateway,onChange:Z=>w({...I,gateway:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Gateway program public key",required:!0})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Initial Token ID"}),F.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Starting token ID for the program (typically 1)"}),F.jsx("input",{type:"number",value:I.nextTokenId,onChange:Z=>{const ee=parseInt(Z.target.value);isNaN(ee)||w({...I,nextTokenId:ee})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",required:!0})]}),F.jsx("button",{type:"submit",disabled:n||!g,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg disabled:cursor-not-allowed",children:n?"Initializing...":"Initialize Program"})]})]});case"create-mint-and-nft":return F.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 max-w-2xl",children:[F.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create Mint & Mint NFT"}),F.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[F.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"ℹ️ What this does:"}),F.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[F.jsx("li",{children:"• Creates a new SPL Token mint account with the specified decimals"}),F.jsx("li",{children:"• Mints 1 NFT token to your wallet"}),F.jsx("li",{children:"• Creates metadata for the NFT (name, symbol, URI)"}),F.jsx("li",{children:"• Creates a master edition for the NFT"}),F.jsx("li",{children:"• Creates an NFT origin record"}),F.jsx("li",{children:"• All in one transaction!"})]})]}),F.jsxs("form",{onSubmit:T,className:"space-y-4",children:[F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Metadata URI"}),F.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"URI pointing to the NFT metadata (JSON format)"}),F.jsx("input",{type:"url",value:b.uri,onChange:Z=>_({...b,uri:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://arweave.net/your-metadata or ipfs://your-hash",required:!0})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Decimals"}),F.jsx("input",{type:"number",value:N.decimals,onChange:Z=>{const ee=parseInt(Z.target.value);isNaN(ee)||L({...N,decimals:ee})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",max:"9",required:!0}),F.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"For NFTs, typically use 0 decimals"})]}),F.jsx("button",{type:"submit",disabled:n||!g,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg disabled:cursor-not-allowed",children:n?"Creating Mint & NFT...":"Create Mint & Mint NFT"})]}),j&&F.jsxs("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:[F.jsx("h4",{className:"text-sm font-medium text-green-800 mb-2",children:"✅ Mint & NFT Created Successfully!"}),F.jsxs("div",{className:"space-y-2",children:[F.jsx("p",{className:"text-sm text-green-700",children:F.jsx("span",{className:"font-medium",children:"Mint Address:"})}),F.jsx("p",{className:"text-sm font-mono text-green-800 break-all bg-green-100 p-2 rounded",children:j}),F.jsx("p",{className:"text-xs text-green-600",children:"Your NFT has been minted and is now in your wallet! The mint account, token account, metadata, and origin record were all created in one transaction."}),F.jsx("button",{onClick:()=>{O(null),L({decimals:0}),_({uri:"",mint:""})},className:"mt-3 text-sm bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded-md transition-colors",children:"Create Another NFT"})]})]})]});case"transfer":return F.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 max-w-2xl",children:[F.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Initiate Cross-Chain Transfer"}),F.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:[F.jsx("h4",{className:"text-sm font-medium text-green-800 mb-2",children:"✅ ZetaChain Contract Integration Ready:"}),F.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[F.jsxs("li",{children:["• Your ZetaChain contract is deployed at: ",F.jsx("code",{className:"bg-green-100 px-1 rounded",children:"0xfeC46bFEE779652CA9c2706F5cA12D92c81B4188"})]}),F.jsx("li",{children:"• NFT will be burned on Solana and minted on ZetaChain"}),F.jsx("li",{children:"• Cross-chain message sent via ZetaChain gateway"}),F.jsx("li",{children:"• Your contract's onCall function will handle the NFT minting"}),F.jsx("li",{children:"• You'll get real ZetaChain transaction hashes!"})]})]}),F.jsxs("form",{onSubmit:x,className:"space-y-4",children:[F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Token ID"}),F.jsx("input",{type:"number",value:U.tokenId,onChange:Z=>{const ee=parseInt(Z.target.value);isNaN(ee)||P({...U,tokenId:ee})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",required:!0})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Destination Chain"}),F.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Select the target blockchain for the transfer"}),F.jsx("select",{value:U.destinationChain,onChange:Z=>{const ee=parseInt(Z.target.value);isNaN(ee)||P({...U,destinationChain:ee})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:A().map(Z=>F.jsx("option",{value:Z.value,children:Z.label},Z.value))})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Destination Owner (ZetaChain Contract)"}),F.jsx("p",{className:"text-sm text-blue-600 mb-2",children:"⚠️ This should be your deployed ZetaChain contract address (0xfeC46bFEE779652CA9c2706F5cA12D92c81B4188)"}),F.jsx("div",{className:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:F.jsxs("p",{className:"text-sm text-blue-700",children:[F.jsx("strong",{children:"What happens:"})," When you transfer an NFT, it will be burned on Solana and minted on ZetaChain at this contract address. The contract's ",F.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"onCall"})," function will automatically handle the NFT creation."]})}),F.jsx("input",{type:"text",value:U.destinationOwner,onChange:Z=>P({...U,destinationOwner:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-500",placeholder:"0xfeC46bFEE779652CA9c2706F5cA12D92c81B4188",required:!0})]}),F.jsx("button",{type:"submit",disabled:n||!g,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg disabled:cursor-not-allowed",children:n?"Initiating...":"Initiate Transfer"})]}),p&&F.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mt-6",children:[F.jsxs("div",{className:"flex justify-between items-center mb-3",children:[F.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Cross-Chain Transfer Transaction"}),F.jsx("button",{onClick:()=>f(U.tokenId,U.destinationChain,U.destinationOwner),className:"text-sm bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-md transition-colors",children:"Refresh Status"})]}),F.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[F.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[F.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Status"}),F.jsx("p",{className:`text-lg font-semibold ${p.status==="completed"?"text-green-600":p.status==="failed"?"text-red-600":"text-yellow-600"}`,children:p.status==="completed"?"✅ Completed":p.status==="failed"?"❌ Failed":"⏳ Pending"})]}),F.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[F.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Destination Chain"}),F.jsx("p",{className:"text-lg font-semibold text-blue-600",children:p.destinationChainName})]}),F.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[F.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Recipient"}),F.jsx("p",{className:"text-sm font-mono text-gray-900 break-all",children:p.destinationOwner})]}),F.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[F.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Solana TX Hash"}),F.jsx("p",{className:"text-sm font-mono text-gray-900 break-all",children:p.solanaTxSignature})]})]}),F.jsx("div",{className:"bg-white border border-gray-200 rounded p-3 max-h-96 overflow-y-auto",children:F.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap font-mono",children:p.logs.join(`
`)})}),F.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:[F.jsx("p",{children:"✅ Transaction logs show real blockchain data from the cross-chain transfer"}),F.jsx("p",{children:"🔍 Use the refresh button to get the latest transaction status"}),F.jsxs("p",{children:["📋 ZetaChain Contract: ",F.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"0xfeC46bFEE779652CA9c2706F5cA12D92c81B4188"})]})]})]})]});case"receive":return F.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 max-w-2xl",children:[F.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Receive Cross-Chain Message"}),F.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[F.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"ℹ️ Before receiving a message:"}),F.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[F.jsx("li",{children:"• Make sure the program is initialized"}),F.jsx("li",{children:"• Ensure you have a valid mint address"}),F.jsx("li",{children:"• The program must not be paused"}),F.jsx("li",{children:"• You need sufficient SOL for transaction fees"})]})]}),F.jsxs("form",{onSubmit:M,className:"space-y-4",children:[F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Token ID"}),F.jsx("input",{type:"number",value:W.tokenId,onChange:Z=>{const ee=parseInt(Z.target.value);isNaN(ee)||$({...W,tokenId:ee})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",required:!0})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cross-Chain Message"}),F.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Message data received from another blockchain"}),F.jsx("textarea",{value:W.message,onChange:Z=>$({...W,message:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 h-32 resize-none",placeholder:"Enter cross-chain message (JSON format recommended)",required:!0})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mint Address"}),F.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Public key of the SPL Token mint account to receive the NFT"}),F.jsx("input",{type:"text",value:W.mint,onChange:Z=>$({...W,mint:Z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 11111111111111111111111111111111",required:!0})]}),F.jsx("button",{type:"submit",disabled:n||!g,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg disabled:cursor-not-allowed",children:n?"Receiving...":"Receive Message"})]})]});case"admin":return F.jsx("div",{className:"space-y-6",children:F.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[F.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Program Control"}),F.jsxs("div",{className:"flex space-x-4",children:[F.jsx("button",{onClick:z,disabled:n||!g||(u==null?void 0:u.paused),className:"bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg disabled:cursor-not-allowed",children:n?"Pausing...":"Pause Program"}),F.jsx("button",{onClick:C,disabled:n||!g||!(u!=null&&u.paused),className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg disabled:cursor-not-allowed",children:n?"Unpausing...":"Unpause Program"})]})]})});default:return null}};return F.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[F.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:F.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:F.jsxs("div",{className:"flex justify-between items-center h-16",children:[F.jsxs("div",{className:"flex items-center space-x-3",children:[F.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:F.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded"})}),F.jsxs("div",{children:[F.jsx("h1",{className:"text-xl font-bold text-blue-600",children:"Universal NFT"}),F.jsx("p",{className:"text-xs text-green-600 font-medium",children:"✅ ZetaChain Integration Ready"})]})]}),F.jsx(RP,{})]})})}),F.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[F.jsx("div",{className:"mb-8",children:F.jsx("nav",{className:"flex space-x-1 bg-white p-1 rounded-xl shadow-sm border border-gray-200",children:y.map(Z=>F.jsx("button",{onClick:()=>R(Z.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 ${m===Z.id?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:Z.label},Z.id))})}),F.jsx("div",{children:D()})]}),F.jsx("footer",{className:"bg-white border-t border-gray-200 mt-16",children:F.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:F.jsxs("div",{className:"text-center text-gray-600",children:[F.jsx("p",{children:"Universal NFT - Cross-Chain NFT Platform"}),F.jsx("p",{className:"text-sm mt-2",children:"Built with Solana, Anchor Framework & ZetaChain"}),F.jsx("p",{className:"text-xs mt-1 text-green-600",children:"Contract: 0xfeC46bFEE779652CA9c2706F5cA12D92c81B4188"})]})})})]})},Oj=()=>F.jsx(AP,{children:F.jsx(Mj,{})});D0.createRoot(document.getElementById("root")).render(F.jsx(re.StrictMode,{children:F.jsx(Oj,{})}));export{_h as E,J as P,pi as S,Oe as T,sl as V,sn as a,fs as b,no as g};
//# sourceMappingURL=index-yV_KWodA.js.map
