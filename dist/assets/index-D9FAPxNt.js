var QN=Object.defineProperty;var XN=(t,e,n)=>e in t?QN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Tt=(t,e,n)=>XN(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var br=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ro(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function io(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var TE={exports:{}},qf={},kE={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qc=Symbol.for("react.element"),JN=Symbol.for("react.portal"),eT=Symbol.for("react.fragment"),tT=Symbol.for("react.strict_mode"),nT=Symbol.for("react.profiler"),rT=Symbol.for("react.provider"),iT=Symbol.for("react.context"),oT=Symbol.for("react.forward_ref"),sT=Symbol.for("react.suspense"),aT=Symbol.for("react.memo"),lT=Symbol.for("react.lazy"),a1=Symbol.iterator;function cT(t){return t===null||typeof t!="object"?null:(t=a1&&t[a1]||t["@@iterator"],typeof t=="function"?t:null)}var CE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ME=Object.assign,OE={};function wl(t,e,n){this.props=t,this.context=e,this.refs=OE,this.updater=n||CE}wl.prototype.isReactComponent={};wl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function LE(){}LE.prototype=wl.prototype;function Gm(t,e,n){this.props=t,this.context=e,this.refs=OE,this.updater=n||CE}var qm=Gm.prototype=new LE;qm.constructor=Gm;ME(qm,wl.prototype);qm.isPureReactComponent=!0;var l1=Array.isArray,BE=Object.prototype.hasOwnProperty,Ym={current:null},PE={key:!0,ref:!0,__self:!0,__source:!0};function DE(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)BE.call(e,r)&&!PE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:qc,type:t,key:o,ref:s,props:i,_owner:Ym.current}}function uT(t,e){return{$$typeof:qc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zm(t){return typeof t=="object"&&t!==null&&t.$$typeof===qc}function dT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var c1=/\/+/g;function pp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dT(""+t.key):e.toString(36)}function Ju(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case qc:case JN:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+pp(s,0):r,l1(i)?(n="",t!=null&&(n=t.replace(c1,"$&/")+"/"),Ju(i,e,n,"",function(c){return c})):i!=null&&(Zm(i)&&(i=uT(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(c1,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",l1(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+pp(o,a);s+=Ju(o,e,n,l,i)}else if(l=cT(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+pp(o,a++),s+=Ju(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function yu(t,e,n){if(t==null)return t;var r=[],i=0;return Ju(t,r,"","",function(o){return e.call(n,o,i++)}),r}function fT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gn={current:null},ed={transition:null},hT={ReactCurrentDispatcher:Gn,ReactCurrentBatchConfig:ed,ReactCurrentOwner:Ym};function UE(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:yu,forEach:function(t,e,n){yu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yu(t,function(){e++}),e},toArray:function(t){return yu(t,function(e){return e})||[]},only:function(t){if(!Zm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};De.Component=wl;De.Fragment=eT;De.Profiler=nT;De.PureComponent=Gm;De.StrictMode=tT;De.Suspense=sT;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hT;De.act=UE;De.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ME({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Ym.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)BE.call(e,l)&&!PE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:qc,type:t.type,key:i,ref:o,props:r,_owner:s}};De.createContext=function(t){return t={$$typeof:iT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rT,_context:t},t.Consumer=t};De.createElement=DE;De.createFactory=function(t){var e=DE.bind(null,t);return e.type=t,e};De.createRef=function(){return{current:null}};De.forwardRef=function(t){return{$$typeof:oT,render:t}};De.isValidElement=Zm;De.lazy=function(t){return{$$typeof:lT,_payload:{_status:-1,_result:t},_init:fT}};De.memo=function(t,e){return{$$typeof:aT,type:t,compare:e===void 0?null:e}};De.startTransition=function(t){var e=ed.transition;ed.transition={};try{t()}finally{ed.transition=e}};De.unstable_act=UE;De.useCallback=function(t,e){return Gn.current.useCallback(t,e)};De.useContext=function(t){return Gn.current.useContext(t)};De.useDebugValue=function(){};De.useDeferredValue=function(t){return Gn.current.useDeferredValue(t)};De.useEffect=function(t,e){return Gn.current.useEffect(t,e)};De.useId=function(){return Gn.current.useId()};De.useImperativeHandle=function(t,e,n){return Gn.current.useImperativeHandle(t,e,n)};De.useInsertionEffect=function(t,e){return Gn.current.useInsertionEffect(t,e)};De.useLayoutEffect=function(t,e){return Gn.current.useLayoutEffect(t,e)};De.useMemo=function(t,e){return Gn.current.useMemo(t,e)};De.useReducer=function(t,e,n){return Gn.current.useReducer(t,e,n)};De.useRef=function(t){return Gn.current.useRef(t)};De.useState=function(t){return Gn.current.useState(t)};De.useSyncExternalStore=function(t,e,n){return Gn.current.useSyncExternalStore(t,e,n)};De.useTransition=function(){return Gn.current.useTransition()};De.version="18.3.1";kE.exports=De;var ee=kE.exports;const re=ro(ee);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pT=ee,gT=Symbol.for("react.element"),mT=Symbol.for("react.fragment"),yT=Object.prototype.hasOwnProperty,wT=pT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vT={key:!0,ref:!0,__self:!0,__source:!0};function jE(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)yT.call(e,r)&&!vT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:gT,type:t,key:o,ref:s,props:i,_owner:wT.current}}qf.Fragment=mT;qf.jsx=jE;qf.jsxs=jE;TE.exports=qf;var M=TE.exports,P0={},zE={exports:{}},Ar={},FE={exports:{}},WE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,O){var j=T.length;T.push(O);e:for(;0<j;){var C=j-1>>>1,w=T[C];if(0<i(w,O))T[C]=O,T[j]=w,j=C;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var O=T[0],j=T.pop();if(j!==O){T[0]=j;e:for(var C=0,w=T.length,P=w>>>1;C<P;){var ne=2*(C+1)-1,oe=T[ne],le=ne+1,Ae=T[le];if(0>i(oe,j))le<w&&0>i(Ae,oe)?(T[C]=Ae,T[le]=j,C=le):(T[C]=oe,T[ne]=j,C=ne);else if(le<w&&0>i(Ae,j))T[C]=Ae,T[le]=j,C=le;else break e}}return O}function i(T,O){var j=T.sortIndex-O.sortIndex;return j!==0?j:T.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],d=1,g=null,p=3,f=!1,m=!1,x=!1,R=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(T){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=T)r(c),O.sortIndex=O.expirationTime,e(l,O);else break;O=n(c)}}function I(T){if(x=!1,_(T),!m)if(n(l)!==null)m=!0,S(L);else{var O=n(c);O!==null&&N(I,O.startTime-T)}}function L(T,O){m=!1,x&&(x=!1,y(F),F=-1),f=!0;var j=p;try{for(_(O),g=n(l);g!==null&&(!(g.expirationTime>O)||T&&!$());){var C=g.callback;if(typeof C=="function"){g.callback=null,p=g.priorityLevel;var w=C(g.expirationTime<=O);O=t.unstable_now(),typeof w=="function"?g.callback=w:g===n(l)&&r(l),_(O)}else r(l);g=n(l)}if(g!==null)var P=!0;else{var ne=n(c);ne!==null&&N(I,ne.startTime-O),P=!1}return P}finally{g=null,p=j,f=!1}}var z=!1,B=null,F=-1,U=5,W=-1;function $(){return!(t.unstable_now()-W<U)}function H(){if(B!==null){var T=t.unstable_now();W=T;var O=!0;try{O=B(!0,T)}finally{O?A():(z=!1,B=null)}}else z=!1}var A;if(typeof b=="function")A=function(){b(H)};else if(typeof MessageChannel<"u"){var u=new MessageChannel,h=u.port2;u.port1.onmessage=H,A=function(){h.postMessage(null)}}else A=function(){R(H,0)};function S(T){B=T,z||(z=!0,A())}function N(T,O){F=R(function(){T(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,S(L))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(T){switch(p){case 1:case 2:case 3:var O=3;break;default:O=p}var j=p;p=O;try{return T()}finally{p=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,O){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var j=p;p=T;try{return O()}finally{p=j}},t.unstable_scheduleCallback=function(T,O,j){var C=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?C+j:C):j=C,T){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=j+w,T={id:d++,callback:O,priorityLevel:T,startTime:j,expirationTime:w,sortIndex:-1},j>C?(T.sortIndex=j,e(c,T),n(l)===null&&T===n(c)&&(x?(y(F),F=-1):x=!0,N(I,j-C))):(T.sortIndex=w,e(l,T),m||f||(m=!0,S(L))),T},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(T){var O=p;return function(){var j=p;p=O;try{return T.apply(this,arguments)}finally{p=j}}}})(WE);FE.exports=WE;var _T=FE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ET=ee,Sr=_T;function ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $E=new Set,_c={};function $s(t,e){qa(t,e),qa(t+"Capture",e)}function qa(t,e){for(_c[t]=e,t=0;t<e.length;t++)$E.add(e[t])}var Xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),D0=Object.prototype.hasOwnProperty,bT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u1={},d1={};function ST(t){return D0.call(d1,t)?!0:D0.call(u1,t)?!1:bT.test(t)?d1[t]=!0:(u1[t]=!0,!1)}function AT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xT(t,e,n,r){if(e===null||typeof e>"u"||AT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nn[t]=new qn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nn[e]=new qn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nn[t]=new qn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nn[t]=new qn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nn[t]=new qn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nn[t]=new qn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nn[t]=new qn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nn[t]=new qn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nn[t]=new qn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qm=/[\-:]([a-z])/g;function Xm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qm,Xm);Nn[e]=new qn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qm,Xm);Nn[e]=new qn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qm,Xm);Nn[e]=new qn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nn[t]=new qn(t,1,!1,t.toLowerCase(),null,!1,!1)});Nn.xlinkHref=new qn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nn[t]=new qn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jm(t,e,n,r){var i=Nn.hasOwnProperty(e)?Nn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xT(e,n,i,r)&&(n=null),r||i===null?ST(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var oo=ET.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wu=Symbol.for("react.element"),_a=Symbol.for("react.portal"),Ea=Symbol.for("react.fragment"),ey=Symbol.for("react.strict_mode"),U0=Symbol.for("react.profiler"),HE=Symbol.for("react.provider"),KE=Symbol.for("react.context"),ty=Symbol.for("react.forward_ref"),j0=Symbol.for("react.suspense"),z0=Symbol.for("react.suspense_list"),ny=Symbol.for("react.memo"),_o=Symbol.for("react.lazy"),VE=Symbol.for("react.offscreen"),f1=Symbol.iterator;function Tl(t){return t===null||typeof t!="object"?null:(t=f1&&t[f1]||t["@@iterator"],typeof t=="function"?t:null)}var At=Object.assign,gp;function Wl(t){if(gp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gp=e&&e[1]||""}return`
`+gp+t}var mp=!1;function yp(t,e){if(!t||mp)return"";mp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{mp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Wl(t):""}function RT(t){switch(t.tag){case 5:return Wl(t.type);case 16:return Wl("Lazy");case 13:return Wl("Suspense");case 19:return Wl("SuspenseList");case 0:case 2:case 15:return t=yp(t.type,!1),t;case 11:return t=yp(t.type.render,!1),t;case 1:return t=yp(t.type,!0),t;default:return""}}function F0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ea:return"Fragment";case _a:return"Portal";case U0:return"Profiler";case ey:return"StrictMode";case j0:return"Suspense";case z0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case KE:return(t.displayName||"Context")+".Consumer";case HE:return(t._context.displayName||"Context")+".Provider";case ty:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ny:return e=t.displayName||null,e!==null?e:F0(t.type)||"Memo";case _o:e=t._payload,t=t._init;try{return F0(t(e))}catch{}}return null}function IT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F0(e);case 8:return e===ey?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function GE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NT(t){var e=GE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vu(t){t._valueTracker||(t._valueTracker=NT(t))}function qE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=GE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Gd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function W0(t,e){var n=e.checked;return At({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function h1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function YE(t,e){e=e.checked,e!=null&&Jm(t,"checked",e,!1)}function $0(t,e){YE(t,e);var n=Vo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?H0(t,e.type,n):e.hasOwnProperty("defaultValue")&&H0(t,e.type,Vo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function p1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function H0(t,e,n){(e!=="number"||Gd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var $l=Array.isArray;function Pa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function K0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ie(91));return At({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function g1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ie(92));if($l(n)){if(1<n.length)throw Error(ie(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vo(n)}}function ZE(t,e){var n=Vo(e.value),r=Vo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function m1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function QE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function V0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?QE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _u,XE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_u=_u||document.createElement("div"),_u.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_u.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ec(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var rc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TT=["Webkit","ms","Moz","O"];Object.keys(rc).forEach(function(t){TT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),rc[e]=rc[t]})});function JE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||rc.hasOwnProperty(t)&&rc[t]?(""+e).trim():e+"px"}function eb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=JE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var kT=At({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function G0(t,e){if(e){if(kT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ie(62))}}function q0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Y0=null;function ry(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Z0=null,Da=null,Ua=null;function y1(t){if(t=Qc(t)){if(typeof Z0!="function")throw Error(ie(280));var e=t.stateNode;e&&(e=Jf(e),Z0(t.stateNode,t.type,e))}}function tb(t){Da?Ua?Ua.push(t):Ua=[t]:Da=t}function nb(){if(Da){var t=Da,e=Ua;if(Ua=Da=null,y1(t),e)for(t=0;t<e.length;t++)y1(e[t])}}function rb(t,e){return t(e)}function ib(){}var wp=!1;function ob(t,e,n){if(wp)return t(e,n);wp=!0;try{return rb(t,e,n)}finally{wp=!1,(Da!==null||Ua!==null)&&(ib(),nb())}}function bc(t,e){var n=t.stateNode;if(n===null)return null;var r=Jf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ie(231,e,typeof n));return n}var Q0=!1;if(Xi)try{var kl={};Object.defineProperty(kl,"passive",{get:function(){Q0=!0}}),window.addEventListener("test",kl,kl),window.removeEventListener("test",kl,kl)}catch{Q0=!1}function CT(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var ic=!1,qd=null,Yd=!1,X0=null,MT={onError:function(t){ic=!0,qd=t}};function OT(t,e,n,r,i,o,s,a,l){ic=!1,qd=null,CT.apply(MT,arguments)}function LT(t,e,n,r,i,o,s,a,l){if(OT.apply(this,arguments),ic){if(ic){var c=qd;ic=!1,qd=null}else throw Error(ie(198));Yd||(Yd=!0,X0=c)}}function Hs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function w1(t){if(Hs(t)!==t)throw Error(ie(188))}function BT(t){var e=t.alternate;if(!e){if(e=Hs(t),e===null)throw Error(ie(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return w1(i),t;if(o===r)return w1(i),e;o=o.sibling}throw Error(ie(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ie(189))}}if(n.alternate!==r)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?t:e}function ab(t){return t=BT(t),t!==null?lb(t):null}function lb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lb(t);if(e!==null)return e;t=t.sibling}return null}var cb=Sr.unstable_scheduleCallback,v1=Sr.unstable_cancelCallback,PT=Sr.unstable_shouldYield,DT=Sr.unstable_requestPaint,Bt=Sr.unstable_now,UT=Sr.unstable_getCurrentPriorityLevel,iy=Sr.unstable_ImmediatePriority,ub=Sr.unstable_UserBlockingPriority,Zd=Sr.unstable_NormalPriority,jT=Sr.unstable_LowPriority,db=Sr.unstable_IdlePriority,Yf=null,yi=null;function zT(t){if(yi&&typeof yi.onCommitFiberRoot=="function")try{yi.onCommitFiberRoot(Yf,t,void 0,(t.current.flags&128)===128)}catch{}}var Xr=Math.clz32?Math.clz32:$T,FT=Math.log,WT=Math.LN2;function $T(t){return t>>>=0,t===0?32:31-(FT(t)/WT|0)|0}var Eu=64,bu=4194304;function Hl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Hl(a):(o&=s,o!==0&&(r=Hl(o)))}else s=n&~i,s!==0?r=Hl(s):o!==0&&(r=Hl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xr(e),i=1<<n,r|=t[n],e&=~i;return r}function HT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function KT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Xr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=HT(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function J0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fb(){var t=Eu;return Eu<<=1,!(Eu&4194240)&&(Eu=64),t}function vp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xr(e),t[e]=n}function VT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Xr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function oy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Qe=0;function hb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pb,sy,gb,mb,yb,eg=!1,Su=[],Lo=null,Bo=null,Po=null,Sc=new Map,Ac=new Map,Ao=[],GT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _1(t,e){switch(t){case"focusin":case"focusout":Lo=null;break;case"dragenter":case"dragleave":Bo=null;break;case"mouseover":case"mouseout":Po=null;break;case"pointerover":case"pointerout":Sc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ac.delete(e.pointerId)}}function Cl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Qc(e),e!==null&&sy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function qT(t,e,n,r,i){switch(e){case"focusin":return Lo=Cl(Lo,t,e,n,r,i),!0;case"dragenter":return Bo=Cl(Bo,t,e,n,r,i),!0;case"mouseover":return Po=Cl(Po,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Sc.set(o,Cl(Sc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ac.set(o,Cl(Ac.get(o)||null,t,e,n,r,i)),!0}return!1}function wb(t){var e=gs(t.target);if(e!==null){var n=Hs(e);if(n!==null){if(e=n.tag,e===13){if(e=sb(n),e!==null){t.blockedOn=e,yb(t.priority,function(){gb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function td(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=tg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Y0=r,n.target.dispatchEvent(r),Y0=null}else return e=Qc(n),e!==null&&sy(e),t.blockedOn=n,!1;e.shift()}return!0}function E1(t,e,n){td(t)&&n.delete(e)}function YT(){eg=!1,Lo!==null&&td(Lo)&&(Lo=null),Bo!==null&&td(Bo)&&(Bo=null),Po!==null&&td(Po)&&(Po=null),Sc.forEach(E1),Ac.forEach(E1)}function Ml(t,e){t.blockedOn===e&&(t.blockedOn=null,eg||(eg=!0,Sr.unstable_scheduleCallback(Sr.unstable_NormalPriority,YT)))}function xc(t){function e(i){return Ml(i,t)}if(0<Su.length){Ml(Su[0],t);for(var n=1;n<Su.length;n++){var r=Su[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Lo!==null&&Ml(Lo,t),Bo!==null&&Ml(Bo,t),Po!==null&&Ml(Po,t),Sc.forEach(e),Ac.forEach(e),n=0;n<Ao.length;n++)r=Ao[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ao.length&&(n=Ao[0],n.blockedOn===null);)wb(n),n.blockedOn===null&&Ao.shift()}var ja=oo.ReactCurrentBatchConfig,Xd=!0;function ZT(t,e,n,r){var i=Qe,o=ja.transition;ja.transition=null;try{Qe=1,ay(t,e,n,r)}finally{Qe=i,ja.transition=o}}function QT(t,e,n,r){var i=Qe,o=ja.transition;ja.transition=null;try{Qe=4,ay(t,e,n,r)}finally{Qe=i,ja.transition=o}}function ay(t,e,n,r){if(Xd){var i=tg(t,e,n,r);if(i===null)Tp(t,e,r,Jd,n),_1(t,r);else if(qT(i,t,e,n,r))r.stopPropagation();else if(_1(t,r),e&4&&-1<GT.indexOf(t)){for(;i!==null;){var o=Qc(i);if(o!==null&&pb(o),o=tg(t,e,n,r),o===null&&Tp(t,e,r,Jd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Tp(t,e,r,null,n)}}var Jd=null;function tg(t,e,n,r){if(Jd=null,t=ry(r),t=gs(t),t!==null)if(e=Hs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jd=t,null}function vb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UT()){case iy:return 1;case ub:return 4;case Zd:case jT:return 16;case db:return 536870912;default:return 16}default:return 16}}var Io=null,ly=null,nd=null;function _b(){if(nd)return nd;var t,e=ly,n=e.length,r,i="value"in Io?Io.value:Io.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return nd=i.slice(t,1<r?1-r:void 0)}function rd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Au(){return!0}function b1(){return!1}function xr(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Au:b1,this.isPropagationStopped=b1,this}return At(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Au)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Au)},persist:function(){},isPersistent:Au}),e}var vl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cy=xr(vl),Zc=At({},vl,{view:0,detail:0}),XT=xr(Zc),_p,Ep,Ol,Zf=At({},Zc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ol&&(Ol&&t.type==="mousemove"?(_p=t.screenX-Ol.screenX,Ep=t.screenY-Ol.screenY):Ep=_p=0,Ol=t),_p)},movementY:function(t){return"movementY"in t?t.movementY:Ep}}),S1=xr(Zf),JT=At({},Zf,{dataTransfer:0}),ek=xr(JT),tk=At({},Zc,{relatedTarget:0}),bp=xr(tk),nk=At({},vl,{animationName:0,elapsedTime:0,pseudoElement:0}),rk=xr(nk),ik=At({},vl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ok=xr(ik),sk=At({},vl,{data:0}),A1=xr(sk),ak={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ck={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ck[t])?!!e[t]:!1}function uy(){return uk}var dk=At({},Zc,{key:function(t){if(t.key){var e=ak[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uy,charCode:function(t){return t.type==="keypress"?rd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fk=xr(dk),hk=At({},Zf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x1=xr(hk),pk=At({},Zc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uy}),gk=xr(pk),mk=At({},vl,{propertyName:0,elapsedTime:0,pseudoElement:0}),yk=xr(mk),wk=At({},Zf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vk=xr(wk),_k=[9,13,27,32],dy=Xi&&"CompositionEvent"in window,oc=null;Xi&&"documentMode"in document&&(oc=document.documentMode);var Ek=Xi&&"TextEvent"in window&&!oc,Eb=Xi&&(!dy||oc&&8<oc&&11>=oc),R1=" ",I1=!1;function bb(t,e){switch(t){case"keyup":return _k.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ba=!1;function bk(t,e){switch(t){case"compositionend":return Sb(e);case"keypress":return e.which!==32?null:(I1=!0,R1);case"textInput":return t=e.data,t===R1&&I1?null:t;default:return null}}function Sk(t,e){if(ba)return t==="compositionend"||!dy&&bb(t,e)?(t=_b(),nd=ly=Io=null,ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Eb&&e.locale!=="ko"?null:e.data;default:return null}}var Ak={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ak[t.type]:e==="textarea"}function Ab(t,e,n,r){tb(r),e=ef(e,"onChange"),0<e.length&&(n=new cy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var sc=null,Rc=null;function xk(t){Bb(t,0)}function Qf(t){var e=xa(t);if(qE(e))return t}function Rk(t,e){if(t==="change")return e}var xb=!1;if(Xi){var Sp;if(Xi){var Ap="oninput"in document;if(!Ap){var T1=document.createElement("div");T1.setAttribute("oninput","return;"),Ap=typeof T1.oninput=="function"}Sp=Ap}else Sp=!1;xb=Sp&&(!document.documentMode||9<document.documentMode)}function k1(){sc&&(sc.detachEvent("onpropertychange",Rb),Rc=sc=null)}function Rb(t){if(t.propertyName==="value"&&Qf(Rc)){var e=[];Ab(e,Rc,t,ry(t)),ob(xk,e)}}function Ik(t,e,n){t==="focusin"?(k1(),sc=e,Rc=n,sc.attachEvent("onpropertychange",Rb)):t==="focusout"&&k1()}function Nk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qf(Rc)}function Tk(t,e){if(t==="click")return Qf(e)}function kk(t,e){if(t==="input"||t==="change")return Qf(e)}function Ck(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ti=typeof Object.is=="function"?Object.is:Ck;function Ic(t,e){if(ti(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!D0.call(e,i)||!ti(t[i],e[i]))return!1}return!0}function C1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function M1(t,e){var n=C1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=C1(n)}}function Ib(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ib(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Nb(){for(var t=window,e=Gd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Gd(t.document)}return e}function fy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Mk(t){var e=Nb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ib(n.ownerDocument.documentElement,n)){if(r!==null&&fy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=M1(n,o);var s=M1(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ok=Xi&&"documentMode"in document&&11>=document.documentMode,Sa=null,ng=null,ac=null,rg=!1;function O1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rg||Sa==null||Sa!==Gd(r)||(r=Sa,"selectionStart"in r&&fy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ac&&Ic(ac,r)||(ac=r,r=ef(ng,"onSelect"),0<r.length&&(e=new cy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Sa)))}function xu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Aa={animationend:xu("Animation","AnimationEnd"),animationiteration:xu("Animation","AnimationIteration"),animationstart:xu("Animation","AnimationStart"),transitionend:xu("Transition","TransitionEnd")},xp={},Tb={};Xi&&(Tb=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Xf(t){if(xp[t])return xp[t];if(!Aa[t])return t;var e=Aa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Tb)return xp[t]=e[n];return t}var kb=Xf("animationend"),Cb=Xf("animationiteration"),Mb=Xf("animationstart"),Ob=Xf("transitionend"),Lb=new Map,L1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qo(t,e){Lb.set(t,e),$s(e,[t])}for(var Rp=0;Rp<L1.length;Rp++){var Ip=L1[Rp],Lk=Ip.toLowerCase(),Bk=Ip[0].toUpperCase()+Ip.slice(1);Qo(Lk,"on"+Bk)}Qo(kb,"onAnimationEnd");Qo(Cb,"onAnimationIteration");Qo(Mb,"onAnimationStart");Qo("dblclick","onDoubleClick");Qo("focusin","onFocus");Qo("focusout","onBlur");Qo(Ob,"onTransitionEnd");qa("onMouseEnter",["mouseout","mouseover"]);qa("onMouseLeave",["mouseout","mouseover"]);qa("onPointerEnter",["pointerout","pointerover"]);qa("onPointerLeave",["pointerout","pointerover"]);$s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$s("onBeforeInput",["compositionend","keypress","textInput","paste"]);$s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kl));function B1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,LT(r,e,void 0,t),t.currentTarget=null}function Bb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;B1(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;B1(i,a,c),o=l}}}if(Yd)throw t=X0,Yd=!1,X0=null,t}function ht(t,e){var n=e[lg];n===void 0&&(n=e[lg]=new Set);var r=t+"__bubble";n.has(r)||(Pb(e,t,2,!1),n.add(r))}function Np(t,e,n){var r=0;e&&(r|=4),Pb(n,t,r,e)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function Nc(t){if(!t[Ru]){t[Ru]=!0,$E.forEach(function(n){n!=="selectionchange"&&(Pk.has(n)||Np(n,!1,t),Np(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ru]||(e[Ru]=!0,Np("selectionchange",!1,e))}}function Pb(t,e,n,r){switch(vb(e)){case 1:var i=ZT;break;case 4:i=QT;break;default:i=ay}n=i.bind(null,e,n,t),i=void 0,!Q0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Tp(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=gs(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}ob(function(){var c=o,d=ry(n),g=[];e:{var p=Lb.get(t);if(p!==void 0){var f=cy,m=t;switch(t){case"keypress":if(rd(n)===0)break e;case"keydown":case"keyup":f=fk;break;case"focusin":m="focus",f=bp;break;case"focusout":m="blur",f=bp;break;case"beforeblur":case"afterblur":f=bp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=S1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=ek;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=gk;break;case kb:case Cb:case Mb:f=rk;break;case Ob:f=yk;break;case"scroll":f=XT;break;case"wheel":f=vk;break;case"copy":case"cut":case"paste":f=ok;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=x1}var x=(e&4)!==0,R=!x&&t==="scroll",y=x?p!==null?p+"Capture":null:p;x=[];for(var b=c,_;b!==null;){_=b;var I=_.stateNode;if(_.tag===5&&I!==null&&(_=I,y!==null&&(I=bc(b,y),I!=null&&x.push(Tc(b,I,_)))),R)break;b=b.return}0<x.length&&(p=new f(p,m,null,n,d),g.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",p&&n!==Y0&&(m=n.relatedTarget||n.fromElement)&&(gs(m)||m[Ji]))break e;if((f||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=c,m=m?gs(m):null,m!==null&&(R=Hs(m),m!==R||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=c),f!==m)){if(x=S1,I="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(x=x1,I="onPointerLeave",y="onPointerEnter",b="pointer"),R=f==null?p:xa(f),_=m==null?p:xa(m),p=new x(I,b+"leave",f,n,d),p.target=R,p.relatedTarget=_,I=null,gs(d)===c&&(x=new x(y,b+"enter",m,n,d),x.target=_,x.relatedTarget=R,I=x),R=I,f&&m)t:{for(x=f,y=m,b=0,_=x;_;_=Xs(_))b++;for(_=0,I=y;I;I=Xs(I))_++;for(;0<b-_;)x=Xs(x),b--;for(;0<_-b;)y=Xs(y),_--;for(;b--;){if(x===y||y!==null&&x===y.alternate)break t;x=Xs(x),y=Xs(y)}x=null}else x=null;f!==null&&P1(g,p,f,x,!1),m!==null&&R!==null&&P1(g,R,m,x,!0)}}e:{if(p=c?xa(c):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var L=Rk;else if(N1(p))if(xb)L=kk;else{L=Nk;var z=Ik}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(L=Tk);if(L&&(L=L(t,c))){Ab(g,L,n,d);break e}z&&z(t,p,c),t==="focusout"&&(z=p._wrapperState)&&z.controlled&&p.type==="number"&&H0(p,"number",p.value)}switch(z=c?xa(c):window,t){case"focusin":(N1(z)||z.contentEditable==="true")&&(Sa=z,ng=c,ac=null);break;case"focusout":ac=ng=Sa=null;break;case"mousedown":rg=!0;break;case"contextmenu":case"mouseup":case"dragend":rg=!1,O1(g,n,d);break;case"selectionchange":if(Ok)break;case"keydown":case"keyup":O1(g,n,d)}var B;if(dy)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else ba?bb(t,n)&&(F="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(Eb&&n.locale!=="ko"&&(ba||F!=="onCompositionStart"?F==="onCompositionEnd"&&ba&&(B=_b()):(Io=d,ly="value"in Io?Io.value:Io.textContent,ba=!0)),z=ef(c,F),0<z.length&&(F=new A1(F,t,null,n,d),g.push({event:F,listeners:z}),B?F.data=B:(B=Sb(n),B!==null&&(F.data=B)))),(B=Ek?bk(t,n):Sk(t,n))&&(c=ef(c,"onBeforeInput"),0<c.length&&(d=new A1("onBeforeInput","beforeinput",null,n,d),g.push({event:d,listeners:c}),d.data=B))}Bb(g,e)})}function Tc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ef(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=bc(t,n),o!=null&&r.unshift(Tc(t,o,i)),o=bc(t,e),o!=null&&r.push(Tc(t,o,i))),t=t.return}return r}function Xs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function P1(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=bc(n,o),l!=null&&s.unshift(Tc(n,l,a))):i||(l=bc(n,o),l!=null&&s.push(Tc(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var Dk=/\r\n?/g,Uk=/\u0000|\uFFFD/g;function D1(t){return(typeof t=="string"?t:""+t).replace(Dk,`
`).replace(Uk,"")}function Iu(t,e,n){if(e=D1(e),D1(t)!==e&&n)throw Error(ie(425))}function tf(){}var ig=null,og=null;function sg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ag=typeof setTimeout=="function"?setTimeout:void 0,jk=typeof clearTimeout=="function"?clearTimeout:void 0,U1=typeof Promise=="function"?Promise:void 0,zk=typeof queueMicrotask=="function"?queueMicrotask:typeof U1<"u"?function(t){return U1.resolve(null).then(t).catch(Fk)}:ag;function Fk(t){setTimeout(function(){throw t})}function kp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xc(e)}function Do(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function j1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _l=Math.random().toString(36).slice(2),ui="__reactFiber$"+_l,kc="__reactProps$"+_l,Ji="__reactContainer$"+_l,lg="__reactEvents$"+_l,Wk="__reactListeners$"+_l,$k="__reactHandles$"+_l;function gs(t){var e=t[ui];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ji]||n[ui]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=j1(t);t!==null;){if(n=t[ui])return n;t=j1(t)}return e}t=n,n=t.parentNode}return null}function Qc(t){return t=t[ui]||t[Ji],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ie(33))}function Jf(t){return t[kc]||null}var cg=[],Ra=-1;function Xo(t){return{current:t}}function pt(t){0>Ra||(t.current=cg[Ra],cg[Ra]=null,Ra--)}function ut(t,e){Ra++,cg[Ra]=t.current,t.current=e}var Go={},Un=Xo(Go),ar=Xo(!1),Os=Go;function Ya(t,e){var n=t.type.contextTypes;if(!n)return Go;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function lr(t){return t=t.childContextTypes,t!=null}function nf(){pt(ar),pt(Un)}function z1(t,e,n){if(Un.current!==Go)throw Error(ie(168));ut(Un,e),ut(ar,n)}function Db(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ie(108,IT(t)||"Unknown",i));return At({},n,r)}function rf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Go,Os=Un.current,ut(Un,t),ut(ar,ar.current),!0}function F1(t,e,n){var r=t.stateNode;if(!r)throw Error(ie(169));n?(t=Db(t,e,Os),r.__reactInternalMemoizedMergedChildContext=t,pt(ar),pt(Un),ut(Un,t)):pt(ar),ut(ar,n)}var Di=null,eh=!1,Cp=!1;function Ub(t){Di===null?Di=[t]:Di.push(t)}function Hk(t){eh=!0,Ub(t)}function Jo(){if(!Cp&&Di!==null){Cp=!0;var t=0,e=Qe;try{var n=Di;for(Qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Di=null,eh=!1}catch(i){throw Di!==null&&(Di=Di.slice(t+1)),cb(iy,Jo),i}finally{Qe=e,Cp=!1}}return null}var Ia=[],Na=0,of=null,sf=0,Cr=[],Mr=0,Ls=null,Ki=1,Vi="";function os(t,e){Ia[Na++]=sf,Ia[Na++]=of,of=t,sf=e}function jb(t,e,n){Cr[Mr++]=Ki,Cr[Mr++]=Vi,Cr[Mr++]=Ls,Ls=t;var r=Ki;t=Vi;var i=32-Xr(r)-1;r&=~(1<<i),n+=1;var o=32-Xr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ki=1<<32-Xr(e)+i|n<<i|r,Vi=o+t}else Ki=1<<o|n<<i|r,Vi=t}function hy(t){t.return!==null&&(os(t,1),jb(t,1,0))}function py(t){for(;t===of;)of=Ia[--Na],Ia[Na]=null,sf=Ia[--Na],Ia[Na]=null;for(;t===Ls;)Ls=Cr[--Mr],Cr[Mr]=null,Vi=Cr[--Mr],Cr[Mr]=null,Ki=Cr[--Mr],Cr[Mr]=null}var vr=null,wr=null,wt=!1,Gr=null;function zb(t,e){var n=Lr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function W1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vr=t,wr=Do(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vr=t,wr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ls!==null?{id:Ki,overflow:Vi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Lr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,vr=t,wr=null,!0):!1;default:return!1}}function ug(t){return(t.mode&1)!==0&&(t.flags&128)===0}function dg(t){if(wt){var e=wr;if(e){var n=e;if(!W1(t,e)){if(ug(t))throw Error(ie(418));e=Do(n.nextSibling);var r=vr;e&&W1(t,e)?zb(r,n):(t.flags=t.flags&-4097|2,wt=!1,vr=t)}}else{if(ug(t))throw Error(ie(418));t.flags=t.flags&-4097|2,wt=!1,vr=t}}}function $1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vr=t}function Nu(t){if(t!==vr)return!1;if(!wt)return $1(t),wt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sg(t.type,t.memoizedProps)),e&&(e=wr)){if(ug(t))throw Fb(),Error(ie(418));for(;e;)zb(t,e),e=Do(e.nextSibling)}if($1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wr=Do(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wr=null}}else wr=vr?Do(t.stateNode.nextSibling):null;return!0}function Fb(){for(var t=wr;t;)t=Do(t.nextSibling)}function Za(){wr=vr=null,wt=!1}function gy(t){Gr===null?Gr=[t]:Gr.push(t)}var Kk=oo.ReactCurrentBatchConfig;function Ll(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var r=n.stateNode}if(!r)throw Error(ie(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,t))}return t}function Tu(t,e){throw t=Object.prototype.toString.call(e),Error(ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function H1(t){var e=t._init;return e(t._payload)}function Wb(t){function e(y,b){if(t){var _=y.deletions;_===null?(y.deletions=[b],y.flags|=16):_.push(b)}}function n(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=Fo(y,b),y.index=0,y.sibling=null,y}function o(y,b,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<b?(y.flags|=2,b):_):(y.flags|=2,b)):(y.flags|=1048576,b)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,b,_,I){return b===null||b.tag!==6?(b=Up(_,y.mode,I),b.return=y,b):(b=i(b,_),b.return=y,b)}function l(y,b,_,I){var L=_.type;return L===Ea?d(y,b,_.props.children,I,_.key):b!==null&&(b.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===_o&&H1(L)===b.type)?(I=i(b,_.props),I.ref=Ll(y,b,_),I.return=y,I):(I=ud(_.type,_.key,_.props,null,y.mode,I),I.ref=Ll(y,b,_),I.return=y,I)}function c(y,b,_,I){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=jp(_,y.mode,I),b.return=y,b):(b=i(b,_.children||[]),b.return=y,b)}function d(y,b,_,I,L){return b===null||b.tag!==7?(b=Ms(_,y.mode,I,L),b.return=y,b):(b=i(b,_),b.return=y,b)}function g(y,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Up(""+b,y.mode,_),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case wu:return _=ud(b.type,b.key,b.props,null,y.mode,_),_.ref=Ll(y,null,b),_.return=y,_;case _a:return b=jp(b,y.mode,_),b.return=y,b;case _o:var I=b._init;return g(y,I(b._payload),_)}if($l(b)||Tl(b))return b=Ms(b,y.mode,_,null),b.return=y,b;Tu(y,b)}return null}function p(y,b,_,I){var L=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return L!==null?null:a(y,b,""+_,I);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case wu:return _.key===L?l(y,b,_,I):null;case _a:return _.key===L?c(y,b,_,I):null;case _o:return L=_._init,p(y,b,L(_._payload),I)}if($l(_)||Tl(_))return L!==null?null:d(y,b,_,I,null);Tu(y,_)}return null}function f(y,b,_,I,L){if(typeof I=="string"&&I!==""||typeof I=="number")return y=y.get(_)||null,a(b,y,""+I,L);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case wu:return y=y.get(I.key===null?_:I.key)||null,l(b,y,I,L);case _a:return y=y.get(I.key===null?_:I.key)||null,c(b,y,I,L);case _o:var z=I._init;return f(y,b,_,z(I._payload),L)}if($l(I)||Tl(I))return y=y.get(_)||null,d(b,y,I,L,null);Tu(b,I)}return null}function m(y,b,_,I){for(var L=null,z=null,B=b,F=b=0,U=null;B!==null&&F<_.length;F++){B.index>F?(U=B,B=null):U=B.sibling;var W=p(y,B,_[F],I);if(W===null){B===null&&(B=U);break}t&&B&&W.alternate===null&&e(y,B),b=o(W,b,F),z===null?L=W:z.sibling=W,z=W,B=U}if(F===_.length)return n(y,B),wt&&os(y,F),L;if(B===null){for(;F<_.length;F++)B=g(y,_[F],I),B!==null&&(b=o(B,b,F),z===null?L=B:z.sibling=B,z=B);return wt&&os(y,F),L}for(B=r(y,B);F<_.length;F++)U=f(B,y,F,_[F],I),U!==null&&(t&&U.alternate!==null&&B.delete(U.key===null?F:U.key),b=o(U,b,F),z===null?L=U:z.sibling=U,z=U);return t&&B.forEach(function($){return e(y,$)}),wt&&os(y,F),L}function x(y,b,_,I){var L=Tl(_);if(typeof L!="function")throw Error(ie(150));if(_=L.call(_),_==null)throw Error(ie(151));for(var z=L=null,B=b,F=b=0,U=null,W=_.next();B!==null&&!W.done;F++,W=_.next()){B.index>F?(U=B,B=null):U=B.sibling;var $=p(y,B,W.value,I);if($===null){B===null&&(B=U);break}t&&B&&$.alternate===null&&e(y,B),b=o($,b,F),z===null?L=$:z.sibling=$,z=$,B=U}if(W.done)return n(y,B),wt&&os(y,F),L;if(B===null){for(;!W.done;F++,W=_.next())W=g(y,W.value,I),W!==null&&(b=o(W,b,F),z===null?L=W:z.sibling=W,z=W);return wt&&os(y,F),L}for(B=r(y,B);!W.done;F++,W=_.next())W=f(B,y,F,W.value,I),W!==null&&(t&&W.alternate!==null&&B.delete(W.key===null?F:W.key),b=o(W,b,F),z===null?L=W:z.sibling=W,z=W);return t&&B.forEach(function(H){return e(y,H)}),wt&&os(y,F),L}function R(y,b,_,I){if(typeof _=="object"&&_!==null&&_.type===Ea&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case wu:e:{for(var L=_.key,z=b;z!==null;){if(z.key===L){if(L=_.type,L===Ea){if(z.tag===7){n(y,z.sibling),b=i(z,_.props.children),b.return=y,y=b;break e}}else if(z.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===_o&&H1(L)===z.type){n(y,z.sibling),b=i(z,_.props),b.ref=Ll(y,z,_),b.return=y,y=b;break e}n(y,z);break}else e(y,z);z=z.sibling}_.type===Ea?(b=Ms(_.props.children,y.mode,I,_.key),b.return=y,y=b):(I=ud(_.type,_.key,_.props,null,y.mode,I),I.ref=Ll(y,b,_),I.return=y,y=I)}return s(y);case _a:e:{for(z=_.key;b!==null;){if(b.key===z)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){n(y,b.sibling),b=i(b,_.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else e(y,b);b=b.sibling}b=jp(_,y.mode,I),b.return=y,y=b}return s(y);case _o:return z=_._init,R(y,b,z(_._payload),I)}if($l(_))return m(y,b,_,I);if(Tl(_))return x(y,b,_,I);Tu(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(n(y,b.sibling),b=i(b,_),b.return=y,y=b):(n(y,b),b=Up(_,y.mode,I),b.return=y,y=b),s(y)):n(y,b)}return R}var Qa=Wb(!0),$b=Wb(!1),af=Xo(null),lf=null,Ta=null,my=null;function yy(){my=Ta=lf=null}function wy(t){var e=af.current;pt(af),t._currentValue=e}function fg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function za(t,e){lf=t,my=Ta=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ir=!0),t.firstContext=null)}function Dr(t){var e=t._currentValue;if(my!==t)if(t={context:t,memoizedValue:e,next:null},Ta===null){if(lf===null)throw Error(ie(308));Ta=t,lf.dependencies={lanes:0,firstContext:t}}else Ta=Ta.next=t;return e}var ms=null;function vy(t){ms===null?ms=[t]:ms.push(t)}function Hb(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,vy(e)):(n.next=i.next,i.next=n),e.interleaved=n,eo(t,r)}function eo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Eo=!1;function _y(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Uo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,eo(t,n)}return i=r.interleaved,i===null?(e.next=e,vy(r)):(e.next=i.next,i.next=e),r.interleaved=e,eo(t,n)}function id(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oy(t,n)}}function K1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function cf(t,e,n,r){var i=t.updateQueue;Eo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(o!==null){var g=i.baseState;s=0,d=c=l=null,a=o;do{var p=a.lane,f=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,x=a;switch(p=e,f=n,x.tag){case 1:if(m=x.payload,typeof m=="function"){g=m.call(f,g,p);break e}g=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=x.payload,p=typeof m=="function"?m.call(f,g,p):m,p==null)break e;g=At({},g,p);break e;case 2:Eo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else f={eventTime:f,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=f,l=g):d=d.next=f,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=g),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ps|=s,t.lanes=s,t.memoizedState=g}}function V1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ie(191,i));i.call(r)}}}var Xc={},wi=Xo(Xc),Cc=Xo(Xc),Mc=Xo(Xc);function ys(t){if(t===Xc)throw Error(ie(174));return t}function Ey(t,e){switch(ut(Mc,e),ut(Cc,t),ut(wi,Xc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:V0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=V0(e,t)}pt(wi),ut(wi,e)}function Xa(){pt(wi),pt(Cc),pt(Mc)}function Vb(t){ys(Mc.current);var e=ys(wi.current),n=V0(e,t.type);e!==n&&(ut(Cc,t),ut(wi,n))}function by(t){Cc.current===t&&(pt(wi),pt(Cc))}var Et=Xo(0);function uf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mp=[];function Sy(){for(var t=0;t<Mp.length;t++)Mp[t]._workInProgressVersionPrimary=null;Mp.length=0}var od=oo.ReactCurrentDispatcher,Op=oo.ReactCurrentBatchConfig,Bs=0,St=null,ln=null,mn=null,df=!1,lc=!1,Oc=0,Vk=0;function Tn(){throw Error(ie(321))}function Ay(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ti(t[n],e[n]))return!1;return!0}function xy(t,e,n,r,i,o){if(Bs=o,St=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,od.current=t===null||t.memoizedState===null?Zk:Qk,t=n(r,i),lc){o=0;do{if(lc=!1,Oc=0,25<=o)throw Error(ie(301));o+=1,mn=ln=null,e.updateQueue=null,od.current=Xk,t=n(r,i)}while(lc)}if(od.current=ff,e=ln!==null&&ln.next!==null,Bs=0,mn=ln=St=null,df=!1,e)throw Error(ie(300));return t}function Ry(){var t=Oc!==0;return Oc=0,t}function li(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?St.memoizedState=mn=t:mn=mn.next=t,mn}function Ur(){if(ln===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=ln.next;var e=mn===null?St.memoizedState:mn.next;if(e!==null)mn=e,ln=t;else{if(t===null)throw Error(ie(310));ln=t,t={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},mn===null?St.memoizedState=mn=t:mn=mn.next=t}return mn}function Lc(t,e){return typeof e=="function"?e(t):e}function Lp(t){var e=Ur(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=ln,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var d=c.lane;if((Bs&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var g={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=g,s=r):l=l.next=g,St.lanes|=d,Ps|=d}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,ti(r,e.memoizedState)||(ir=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,St.lanes|=o,Ps|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bp(t){var e=Ur(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);ti(o,e.memoizedState)||(ir=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Gb(){}function qb(t,e){var n=St,r=Ur(),i=e(),o=!ti(r.memoizedState,i);if(o&&(r.memoizedState=i,ir=!0),r=r.queue,Iy(Qb.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||mn!==null&&mn.memoizedState.tag&1){if(n.flags|=2048,Bc(9,Zb.bind(null,n,r,i,e),void 0,null),vn===null)throw Error(ie(349));Bs&30||Yb(n,e,i)}return i}function Yb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=St.updateQueue,e===null?(e={lastEffect:null,stores:null},St.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Zb(t,e,n,r){e.value=n,e.getSnapshot=r,Xb(e)&&Jb(t)}function Qb(t,e,n){return n(function(){Xb(e)&&Jb(t)})}function Xb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ti(t,n)}catch{return!0}}function Jb(t){var e=eo(t,1);e!==null&&Jr(e,t,1,-1)}function G1(t){var e=li();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lc,lastRenderedState:t},e.queue=t,t=t.dispatch=Yk.bind(null,St,t),[e.memoizedState,t]}function Bc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=St.updateQueue,e===null?(e={lastEffect:null,stores:null},St.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function eS(){return Ur().memoizedState}function sd(t,e,n,r){var i=li();St.flags|=t,i.memoizedState=Bc(1|e,n,void 0,r===void 0?null:r)}function th(t,e,n,r){var i=Ur();r=r===void 0?null:r;var o=void 0;if(ln!==null){var s=ln.memoizedState;if(o=s.destroy,r!==null&&Ay(r,s.deps)){i.memoizedState=Bc(e,n,o,r);return}}St.flags|=t,i.memoizedState=Bc(1|e,n,o,r)}function q1(t,e){return sd(8390656,8,t,e)}function Iy(t,e){return th(2048,8,t,e)}function tS(t,e){return th(4,2,t,e)}function nS(t,e){return th(4,4,t,e)}function rS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iS(t,e,n){return n=n!=null?n.concat([t]):null,th(4,4,rS.bind(null,e,t),n)}function Ny(){}function oS(t,e){var n=Ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ay(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sS(t,e){var n=Ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ay(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function aS(t,e,n){return Bs&21?(ti(n,e)||(n=fb(),St.lanes|=n,Ps|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ir=!0),t.memoizedState=n)}function Gk(t,e){var n=Qe;Qe=n!==0&&4>n?n:4,t(!0);var r=Op.transition;Op.transition={};try{t(!1),e()}finally{Qe=n,Op.transition=r}}function lS(){return Ur().memoizedState}function qk(t,e,n){var r=zo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cS(t))uS(e,n);else if(n=Hb(t,e,n,r),n!==null){var i=Hn();Jr(n,t,r,i),dS(n,e,r)}}function Yk(t,e,n){var r=zo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cS(t))uS(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ti(a,s)){var l=e.interleaved;l===null?(i.next=i,vy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Hb(t,e,i,r),n!==null&&(i=Hn(),Jr(n,t,r,i),dS(n,e,r))}}function cS(t){var e=t.alternate;return t===St||e!==null&&e===St}function uS(t,e){lc=df=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oy(t,n)}}var ff={readContext:Dr,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useInsertionEffect:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useSyncExternalStore:Tn,useId:Tn,unstable_isNewReconciler:!1},Zk={readContext:Dr,useCallback:function(t,e){return li().memoizedState=[t,e===void 0?null:e],t},useContext:Dr,useEffect:q1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,sd(4194308,4,rS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return sd(4194308,4,t,e)},useInsertionEffect:function(t,e){return sd(4,2,t,e)},useMemo:function(t,e){var n=li();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=li();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=qk.bind(null,St,t),[r.memoizedState,t]},useRef:function(t){var e=li();return t={current:t},e.memoizedState=t},useState:G1,useDebugValue:Ny,useDeferredValue:function(t){return li().memoizedState=t},useTransition:function(){var t=G1(!1),e=t[0];return t=Gk.bind(null,t[1]),li().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=St,i=li();if(wt){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=e(),vn===null)throw Error(ie(349));Bs&30||Yb(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,q1(Qb.bind(null,r,o,t),[t]),r.flags|=2048,Bc(9,Zb.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=li(),e=vn.identifierPrefix;if(wt){var n=Vi,r=Ki;n=(r&~(1<<32-Xr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Oc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Vk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Qk={readContext:Dr,useCallback:oS,useContext:Dr,useEffect:Iy,useImperativeHandle:iS,useInsertionEffect:tS,useLayoutEffect:nS,useMemo:sS,useReducer:Lp,useRef:eS,useState:function(){return Lp(Lc)},useDebugValue:Ny,useDeferredValue:function(t){var e=Ur();return aS(e,ln.memoizedState,t)},useTransition:function(){var t=Lp(Lc)[0],e=Ur().memoizedState;return[t,e]},useMutableSource:Gb,useSyncExternalStore:qb,useId:lS,unstable_isNewReconciler:!1},Xk={readContext:Dr,useCallback:oS,useContext:Dr,useEffect:Iy,useImperativeHandle:iS,useInsertionEffect:tS,useLayoutEffect:nS,useMemo:sS,useReducer:Bp,useRef:eS,useState:function(){return Bp(Lc)},useDebugValue:Ny,useDeferredValue:function(t){var e=Ur();return ln===null?e.memoizedState=t:aS(e,ln.memoizedState,t)},useTransition:function(){var t=Bp(Lc)[0],e=Ur().memoizedState;return[t,e]},useMutableSource:Gb,useSyncExternalStore:qb,useId:lS,unstable_isNewReconciler:!1};function Hr(t,e){if(t&&t.defaultProps){e=At({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function hg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:At({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nh={isMounted:function(t){return(t=t._reactInternals)?Hs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Hn(),i=zo(t),o=Zi(r,i);o.payload=e,n!=null&&(o.callback=n),e=Uo(t,o,i),e!==null&&(Jr(e,t,i,r),id(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Hn(),i=zo(t),o=Zi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Uo(t,o,i),e!==null&&(Jr(e,t,i,r),id(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Hn(),r=zo(t),i=Zi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Uo(t,i,r),e!==null&&(Jr(e,t,r,n),id(e,t,r))}};function Y1(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ic(n,r)||!Ic(i,o):!0}function fS(t,e,n){var r=!1,i=Go,o=e.contextType;return typeof o=="object"&&o!==null?o=Dr(o):(i=lr(e)?Os:Un.current,r=e.contextTypes,o=(r=r!=null)?Ya(t,i):Go),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Z1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nh.enqueueReplaceState(e,e.state,null)}function pg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},_y(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Dr(o):(o=lr(e)?Os:Un.current,i.context=Ya(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(hg(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nh.enqueueReplaceState(i,i.state,null),cf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ja(t,e){try{var n="",r=e;do n+=RT(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Pp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function gg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Jk=typeof WeakMap=="function"?WeakMap:Map;function hS(t,e,n){n=Zi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){pf||(pf=!0,xg=r),gg(t,e)},n}function pS(t,e,n){n=Zi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){gg(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){gg(t,e),typeof r!="function"&&(jo===null?jo=new Set([this]):jo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Q1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Jk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=hC.bind(null,t,e,n),e.then(t,t))}function X1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function J1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zi(-1,1),e.tag=2,Uo(n,e,1))),n.lanes|=1),t)}var eC=oo.ReactCurrentOwner,ir=!1;function Fn(t,e,n,r){e.child=t===null?$b(e,null,n,r):Qa(e,t.child,n,r)}function ev(t,e,n,r,i){n=n.render;var o=e.ref;return za(e,i),r=xy(t,e,n,r,o,i),n=Ry(),t!==null&&!ir?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,to(t,e,i)):(wt&&n&&hy(e),e.flags|=1,Fn(t,e,r,i),e.child)}function tv(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Py(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,gS(t,e,o,r,i)):(t=ud(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ic,n(s,r)&&t.ref===e.ref)return to(t,e,i)}return e.flags|=1,t=Fo(o,r),t.ref=e.ref,t.return=e,e.child=t}function gS(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ic(o,r)&&t.ref===e.ref)if(ir=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(ir=!0);else return e.lanes=t.lanes,to(t,e,i)}return mg(t,e,n,r,i)}function mS(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(Ca,pr),pr|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ut(Ca,pr),pr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ut(Ca,pr),pr|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ut(Ca,pr),pr|=r;return Fn(t,e,i,n),e.child}function yS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mg(t,e,n,r,i){var o=lr(n)?Os:Un.current;return o=Ya(e,o),za(e,i),n=xy(t,e,n,r,o,i),r=Ry(),t!==null&&!ir?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,to(t,e,i)):(wt&&r&&hy(e),e.flags|=1,Fn(t,e,n,i),e.child)}function nv(t,e,n,r,i){if(lr(n)){var o=!0;rf(e)}else o=!1;if(za(e,i),e.stateNode===null)ad(t,e),fS(e,n,r),pg(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Dr(c):(c=lr(n)?Os:Un.current,c=Ya(e,c));var d=n.getDerivedStateFromProps,g=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";g||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Z1(e,s,r,c),Eo=!1;var p=e.memoizedState;s.state=p,cf(e,r,s,i),l=e.memoizedState,a!==r||p!==l||ar.current||Eo?(typeof d=="function"&&(hg(e,n,d,r),l=e.memoizedState),(a=Eo||Y1(e,n,a,r,p,l,c))?(g||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Kb(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Hr(e.type,a),s.props=c,g=e.pendingProps,p=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Dr(l):(l=lr(n)?Os:Un.current,l=Ya(e,l));var f=n.getDerivedStateFromProps;(d=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==g||p!==l)&&Z1(e,s,r,l),Eo=!1,p=e.memoizedState,s.state=p,cf(e,r,s,i);var m=e.memoizedState;a!==g||p!==m||ar.current||Eo?(typeof f=="function"&&(hg(e,n,f,r),m=e.memoizedState),(c=Eo||Y1(e,n,c,r,p,m,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return yg(t,e,n,r,o,i)}function yg(t,e,n,r,i,o){yS(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&F1(e,n,!1),to(t,e,o);r=e.stateNode,eC.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Qa(e,t.child,null,o),e.child=Qa(e,null,a,o)):Fn(t,e,a,o),e.memoizedState=r.state,i&&F1(e,n,!0),e.child}function wS(t){var e=t.stateNode;e.pendingContext?z1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&z1(t,e.context,!1),Ey(t,e.containerInfo)}function rv(t,e,n,r,i){return Za(),gy(i),e.flags|=256,Fn(t,e,n,r),e.child}var wg={dehydrated:null,treeContext:null,retryLane:0};function vg(t){return{baseLanes:t,cachePool:null,transitions:null}}function vS(t,e,n){var r=e.pendingProps,i=Et.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ut(Et,i&1),t===null)return dg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=oh(s,r,0,null),t=Ms(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=vg(n),e.memoizedState=wg,t):Ty(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return tC(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Fo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Fo(a,o):(o=Ms(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?vg(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=wg,r}return o=t.child,t=o.sibling,r=Fo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ty(t,e){return e=oh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ku(t,e,n,r){return r!==null&&gy(r),Qa(e,t.child,null,n),t=Ty(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tC(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Pp(Error(ie(422))),ku(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=oh({mode:"visible",children:r.children},i,0,null),o=Ms(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Qa(e,t.child,null,s),e.child.memoizedState=vg(s),e.memoizedState=wg,o);if(!(e.mode&1))return ku(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ie(419)),r=Pp(o,r,void 0),ku(t,e,s,r)}if(a=(s&t.childLanes)!==0,ir||a){if(r=vn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,eo(t,i),Jr(r,t,i,-1))}return By(),r=Pp(Error(ie(421))),ku(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=pC.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,wr=Do(i.nextSibling),vr=e,wt=!0,Gr=null,t!==null&&(Cr[Mr++]=Ki,Cr[Mr++]=Vi,Cr[Mr++]=Ls,Ki=t.id,Vi=t.overflow,Ls=e),e=Ty(e,r.children),e.flags|=4096,e)}function iv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),fg(t.return,e,n)}function Dp(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function _S(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Fn(t,e,r.children,n),r=Et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iv(t,n,e);else if(t.tag===19)iv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ut(Et,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&uf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Dp(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&uf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Dp(e,!0,n,null,o);break;case"together":Dp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ad(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function to(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ps|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ie(153));if(e.child!==null){for(t=e.child,n=Fo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Fo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nC(t,e,n){switch(e.tag){case 3:wS(e),Za();break;case 5:Vb(e);break;case 1:lr(e.type)&&rf(e);break;case 4:Ey(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ut(af,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ut(Et,Et.current&1),e.flags|=128,null):n&e.child.childLanes?vS(t,e,n):(ut(Et,Et.current&1),t=to(t,e,n),t!==null?t.sibling:null);ut(Et,Et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _S(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ut(Et,Et.current),r)break;return null;case 22:case 23:return e.lanes=0,mS(t,e,n)}return to(t,e,n)}var ES,_g,bS,SS;ES=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_g=function(){};bS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ys(wi.current);var o=null;switch(n){case"input":i=W0(t,i),r=W0(t,r),o=[];break;case"select":i=At({},i,{value:void 0}),r=At({},r,{value:void 0}),o=[];break;case"textarea":i=K0(t,i),r=K0(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=tf)}G0(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(_c.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(_c.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ht("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};SS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Bl(t,e){if(!wt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function rC(t,e,n){var r=e.pendingProps;switch(py(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(e),null;case 1:return lr(e.type)&&nf(),kn(e),null;case 3:return r=e.stateNode,Xa(),pt(ar),pt(Un),Sy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Nu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gr!==null&&(Ng(Gr),Gr=null))),_g(t,e),kn(e),null;case 5:by(e);var i=ys(Mc.current);if(n=e.type,t!==null&&e.stateNode!=null)bS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ie(166));return kn(e),null}if(t=ys(wi.current),Nu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ui]=e,r[kc]=o,t=(e.mode&1)!==0,n){case"dialog":ht("cancel",r),ht("close",r);break;case"iframe":case"object":case"embed":ht("load",r);break;case"video":case"audio":for(i=0;i<Kl.length;i++)ht(Kl[i],r);break;case"source":ht("error",r);break;case"img":case"image":case"link":ht("error",r),ht("load",r);break;case"details":ht("toggle",r);break;case"input":h1(r,o),ht("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ht("invalid",r);break;case"textarea":g1(r,o),ht("invalid",r)}G0(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Iu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Iu(r.textContent,a,t),i=["children",""+a]):_c.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ht("scroll",r)}switch(n){case"input":vu(r),p1(r,o,!0);break;case"textarea":vu(r),m1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=tf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=QE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[ui]=e,t[kc]=r,ES(t,e,!1,!1),e.stateNode=t;e:{switch(s=q0(n,r),n){case"dialog":ht("cancel",t),ht("close",t),i=r;break;case"iframe":case"object":case"embed":ht("load",t),i=r;break;case"video":case"audio":for(i=0;i<Kl.length;i++)ht(Kl[i],t);i=r;break;case"source":ht("error",t),i=r;break;case"img":case"image":case"link":ht("error",t),ht("load",t),i=r;break;case"details":ht("toggle",t),i=r;break;case"input":h1(t,r),i=W0(t,r),ht("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=At({},r,{value:void 0}),ht("invalid",t);break;case"textarea":g1(t,r),i=K0(t,r),ht("invalid",t);break;default:i=r}G0(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?eb(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&XE(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ec(t,l):typeof l=="number"&&Ec(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(_c.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ht("scroll",t):l!=null&&Jm(t,o,l,s))}switch(n){case"input":vu(t),p1(t,r,!1);break;case"textarea":vu(t),m1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Pa(t,!!r.multiple,o,!1):r.defaultValue!=null&&Pa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=tf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kn(e),null;case 6:if(t&&e.stateNode!=null)SS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ie(166));if(n=ys(Mc.current),ys(wi.current),Nu(e)){if(r=e.stateNode,n=e.memoizedProps,r[ui]=e,(o=r.nodeValue!==n)&&(t=vr,t!==null))switch(t.tag){case 3:Iu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Iu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ui]=e,e.stateNode=r}return kn(e),null;case 13:if(pt(Et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(wt&&wr!==null&&e.mode&1&&!(e.flags&128))Fb(),Za(),e.flags|=98560,o=!1;else if(o=Nu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ie(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ie(317));o[ui]=e}else Za(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kn(e),o=!1}else Gr!==null&&(Ng(Gr),Gr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Et.current&1?un===0&&(un=3):By())),e.updateQueue!==null&&(e.flags|=4),kn(e),null);case 4:return Xa(),_g(t,e),t===null&&Nc(e.stateNode.containerInfo),kn(e),null;case 10:return wy(e.type._context),kn(e),null;case 17:return lr(e.type)&&nf(),kn(e),null;case 19:if(pt(Et),o=e.memoizedState,o===null)return kn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Bl(o,!1);else{if(un!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=uf(t),s!==null){for(e.flags|=128,Bl(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ut(Et,Et.current&1|2),e.child}t=t.sibling}o.tail!==null&&Bt()>el&&(e.flags|=128,r=!0,Bl(o,!1),e.lanes=4194304)}else{if(!r)if(t=uf(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!wt)return kn(e),null}else 2*Bt()-o.renderingStartTime>el&&n!==1073741824&&(e.flags|=128,r=!0,Bl(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Bt(),e.sibling=null,n=Et.current,ut(Et,r?n&1|2:n&1),e):(kn(e),null);case 22:case 23:return Ly(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?pr&1073741824&&(kn(e),e.subtreeFlags&6&&(e.flags|=8192)):kn(e),null;case 24:return null;case 25:return null}throw Error(ie(156,e.tag))}function iC(t,e){switch(py(e),e.tag){case 1:return lr(e.type)&&nf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xa(),pt(ar),pt(Un),Sy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return by(e),null;case 13:if(pt(Et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ie(340));Za()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pt(Et),null;case 4:return Xa(),null;case 10:return wy(e.type._context),null;case 22:case 23:return Ly(),null;case 24:return null;default:return null}}var Cu=!1,Dn=!1,oC=typeof WeakSet=="function"?WeakSet:Set,ge=null;function ka(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Mt(t,e,r)}else n.current=null}function Eg(t,e,n){try{n()}catch(r){Mt(t,e,r)}}var ov=!1;function sC(t,e){if(ig=Xd,t=Nb(),fy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,d=0,g=t,p=null;t:for(;;){for(var f;g!==n||i!==0&&g.nodeType!==3||(a=s+i),g!==o||r!==0&&g.nodeType!==3||(l=s+r),g.nodeType===3&&(s+=g.nodeValue.length),(f=g.firstChild)!==null;)p=g,g=f;for(;;){if(g===t)break t;if(p===n&&++c===i&&(a=s),p===o&&++d===r&&(l=s),(f=g.nextSibling)!==null)break;g=p,p=g.parentNode}g=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(og={focusedElem:t,selectionRange:n},Xd=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var x=m.memoizedProps,R=m.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?x:Hr(e.type,x),R);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(I){Mt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return m=ov,ov=!1,m}function cc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Eg(e,n,o)}i=i.next}while(i!==r)}}function rh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function bg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function AS(t){var e=t.alternate;e!==null&&(t.alternate=null,AS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ui],delete e[kc],delete e[lg],delete e[Wk],delete e[$k])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xS(t){return t.tag===5||t.tag===3||t.tag===4}function sv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=tf));else if(r!==4&&(t=t.child,t!==null))for(Sg(t,e,n),t=t.sibling;t!==null;)Sg(t,e,n),t=t.sibling}function Ag(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ag(t,e,n),t=t.sibling;t!==null;)Ag(t,e,n),t=t.sibling}var bn=null,Vr=!1;function ao(t,e,n){for(n=n.child;n!==null;)RS(t,e,n),n=n.sibling}function RS(t,e,n){if(yi&&typeof yi.onCommitFiberUnmount=="function")try{yi.onCommitFiberUnmount(Yf,n)}catch{}switch(n.tag){case 5:Dn||ka(n,e);case 6:var r=bn,i=Vr;bn=null,ao(t,e,n),bn=r,Vr=i,bn!==null&&(Vr?(t=bn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bn.removeChild(n.stateNode));break;case 18:bn!==null&&(Vr?(t=bn,n=n.stateNode,t.nodeType===8?kp(t.parentNode,n):t.nodeType===1&&kp(t,n),xc(t)):kp(bn,n.stateNode));break;case 4:r=bn,i=Vr,bn=n.stateNode.containerInfo,Vr=!0,ao(t,e,n),bn=r,Vr=i;break;case 0:case 11:case 14:case 15:if(!Dn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Eg(n,e,s),i=i.next}while(i!==r)}ao(t,e,n);break;case 1:if(!Dn&&(ka(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Mt(n,e,a)}ao(t,e,n);break;case 21:ao(t,e,n);break;case 22:n.mode&1?(Dn=(r=Dn)||n.memoizedState!==null,ao(t,e,n),Dn=r):ao(t,e,n);break;default:ao(t,e,n)}}function av(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new oC),e.forEach(function(r){var i=gC.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Wr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:bn=a.stateNode,Vr=!1;break e;case 3:bn=a.stateNode.containerInfo,Vr=!0;break e;case 4:bn=a.stateNode.containerInfo,Vr=!0;break e}a=a.return}if(bn===null)throw Error(ie(160));RS(o,s,i),bn=null,Vr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Mt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)IS(e,t),e=e.sibling}function IS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wr(e,t),ii(t),r&4){try{cc(3,t,t.return),rh(3,t)}catch(x){Mt(t,t.return,x)}try{cc(5,t,t.return)}catch(x){Mt(t,t.return,x)}}break;case 1:Wr(e,t),ii(t),r&512&&n!==null&&ka(n,n.return);break;case 5:if(Wr(e,t),ii(t),r&512&&n!==null&&ka(n,n.return),t.flags&32){var i=t.stateNode;try{Ec(i,"")}catch(x){Mt(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&YE(i,o),q0(a,s);var c=q0(a,o);for(s=0;s<l.length;s+=2){var d=l[s],g=l[s+1];d==="style"?eb(i,g):d==="dangerouslySetInnerHTML"?XE(i,g):d==="children"?Ec(i,g):Jm(i,d,g,c)}switch(a){case"input":$0(i,o);break;case"textarea":ZE(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?Pa(i,!!o.multiple,f,!1):p!==!!o.multiple&&(o.defaultValue!=null?Pa(i,!!o.multiple,o.defaultValue,!0):Pa(i,!!o.multiple,o.multiple?[]:"",!1))}i[kc]=o}catch(x){Mt(t,t.return,x)}}break;case 6:if(Wr(e,t),ii(t),r&4){if(t.stateNode===null)throw Error(ie(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(x){Mt(t,t.return,x)}}break;case 3:if(Wr(e,t),ii(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xc(e.containerInfo)}catch(x){Mt(t,t.return,x)}break;case 4:Wr(e,t),ii(t);break;case 13:Wr(e,t),ii(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(My=Bt())),r&4&&av(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Dn=(c=Dn)||d,Wr(e,t),Dn=c):Wr(e,t),ii(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ge=t,d=t.child;d!==null;){for(g=ge=d;ge!==null;){switch(p=ge,f=p.child,p.tag){case 0:case 11:case 14:case 15:cc(4,p,p.return);break;case 1:ka(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(x){Mt(r,n,x)}}break;case 5:ka(p,p.return);break;case 22:if(p.memoizedState!==null){cv(g);continue}}f!==null?(f.return=p,ge=f):cv(g)}d=d.sibling}e:for(d=null,g=t;;){if(g.tag===5){if(d===null){d=g;try{i=g.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=g.stateNode,l=g.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=JE("display",s))}catch(x){Mt(t,t.return,x)}}}else if(g.tag===6){if(d===null)try{g.stateNode.nodeValue=c?"":g.memoizedProps}catch(x){Mt(t,t.return,x)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;d===g&&(d=null),g=g.return}d===g&&(d=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Wr(e,t),ii(t),r&4&&av(t);break;case 21:break;default:Wr(e,t),ii(t)}}function ii(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xS(n)){var r=n;break e}n=n.return}throw Error(ie(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ec(i,""),r.flags&=-33);var o=sv(t);Ag(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=sv(t);Sg(t,a,s);break;default:throw Error(ie(161))}}catch(l){Mt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function aC(t,e,n){ge=t,NS(t)}function NS(t,e,n){for(var r=(t.mode&1)!==0;ge!==null;){var i=ge,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Cu;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Dn;a=Cu;var c=Dn;if(Cu=s,(Dn=l)&&!c)for(ge=i;ge!==null;)s=ge,l=s.child,s.tag===22&&s.memoizedState!==null?uv(i):l!==null?(l.return=s,ge=l):uv(i);for(;o!==null;)ge=o,NS(o),o=o.sibling;ge=i,Cu=a,Dn=c}lv(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ge=o):lv(t)}}function lv(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Dn||rh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Dn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Hr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&V1(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}V1(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var g=d.dehydrated;g!==null&&xc(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}Dn||e.flags&512&&bg(e)}catch(p){Mt(e,e.return,p)}}if(e===t){ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,ge=n;break}ge=e.return}}function cv(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ge=n;break}ge=e.return}}function uv(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rh(4,e)}catch(l){Mt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Mt(e,i,l)}}var o=e.return;try{bg(e)}catch(l){Mt(e,o,l)}break;case 5:var s=e.return;try{bg(e)}catch(l){Mt(e,s,l)}}}catch(l){Mt(e,e.return,l)}if(e===t){ge=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ge=a;break}ge=e.return}}var lC=Math.ceil,hf=oo.ReactCurrentDispatcher,ky=oo.ReactCurrentOwner,Br=oo.ReactCurrentBatchConfig,ze=0,vn=null,rn=null,Rn=0,pr=0,Ca=Xo(0),un=0,Pc=null,Ps=0,ih=0,Cy=0,uc=null,Jn=null,My=0,el=1/0,Pi=null,pf=!1,xg=null,jo=null,Mu=!1,No=null,gf=0,dc=0,Rg=null,ld=-1,cd=0;function Hn(){return ze&6?Bt():ld!==-1?ld:ld=Bt()}function zo(t){return t.mode&1?ze&2&&Rn!==0?Rn&-Rn:Kk.transition!==null?(cd===0&&(cd=fb()),cd):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:vb(t.type)),t):1}function Jr(t,e,n,r){if(50<dc)throw dc=0,Rg=null,Error(ie(185));Yc(t,n,r),(!(ze&2)||t!==vn)&&(t===vn&&(!(ze&2)&&(ih|=n),un===4&&xo(t,Rn)),cr(t,r),n===1&&ze===0&&!(e.mode&1)&&(el=Bt()+500,eh&&Jo()))}function cr(t,e){var n=t.callbackNode;KT(t,e);var r=Qd(t,t===vn?Rn:0);if(r===0)n!==null&&v1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&v1(n),e===1)t.tag===0?Hk(dv.bind(null,t)):Ub(dv.bind(null,t)),zk(function(){!(ze&6)&&Jo()}),n=null;else{switch(hb(r)){case 1:n=iy;break;case 4:n=ub;break;case 16:n=Zd;break;case 536870912:n=db;break;default:n=Zd}n=PS(n,TS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function TS(t,e){if(ld=-1,cd=0,ze&6)throw Error(ie(327));var n=t.callbackNode;if(Fa()&&t.callbackNode!==n)return null;var r=Qd(t,t===vn?Rn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=mf(t,r);else{e=r;var i=ze;ze|=2;var o=CS();(vn!==t||Rn!==e)&&(Pi=null,el=Bt()+500,Cs(t,e));do try{dC();break}catch(a){kS(t,a)}while(!0);yy(),hf.current=o,ze=i,rn!==null?e=0:(vn=null,Rn=0,e=un)}if(e!==0){if(e===2&&(i=J0(t),i!==0&&(r=i,e=Ig(t,i))),e===1)throw n=Pc,Cs(t,0),xo(t,r),cr(t,Bt()),n;if(e===6)xo(t,r);else{if(i=t.current.alternate,!(r&30)&&!cC(i)&&(e=mf(t,r),e===2&&(o=J0(t),o!==0&&(r=o,e=Ig(t,o))),e===1))throw n=Pc,Cs(t,0),xo(t,r),cr(t,Bt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ie(345));case 2:ss(t,Jn,Pi);break;case 3:if(xo(t,r),(r&130023424)===r&&(e=My+500-Bt(),10<e)){if(Qd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Hn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ag(ss.bind(null,t,Jn,Pi),e);break}ss(t,Jn,Pi);break;case 4:if(xo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Xr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lC(r/1960))-r,10<r){t.timeoutHandle=ag(ss.bind(null,t,Jn,Pi),r);break}ss(t,Jn,Pi);break;case 5:ss(t,Jn,Pi);break;default:throw Error(ie(329))}}}return cr(t,Bt()),t.callbackNode===n?TS.bind(null,t):null}function Ig(t,e){var n=uc;return t.current.memoizedState.isDehydrated&&(Cs(t,e).flags|=256),t=mf(t,e),t!==2&&(e=Jn,Jn=n,e!==null&&Ng(e)),t}function Ng(t){Jn===null?Jn=t:Jn.push.apply(Jn,t)}function cC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ti(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xo(t,e){for(e&=~Cy,e&=~ih,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xr(e),r=1<<n;t[n]=-1,e&=~r}}function dv(t){if(ze&6)throw Error(ie(327));Fa();var e=Qd(t,0);if(!(e&1))return cr(t,Bt()),null;var n=mf(t,e);if(t.tag!==0&&n===2){var r=J0(t);r!==0&&(e=r,n=Ig(t,r))}if(n===1)throw n=Pc,Cs(t,0),xo(t,e),cr(t,Bt()),n;if(n===6)throw Error(ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ss(t,Jn,Pi),cr(t,Bt()),null}function Oy(t,e){var n=ze;ze|=1;try{return t(e)}finally{ze=n,ze===0&&(el=Bt()+500,eh&&Jo())}}function Ds(t){No!==null&&No.tag===0&&!(ze&6)&&Fa();var e=ze;ze|=1;var n=Br.transition,r=Qe;try{if(Br.transition=null,Qe=1,t)return t()}finally{Qe=r,Br.transition=n,ze=e,!(ze&6)&&Jo()}}function Ly(){pr=Ca.current,pt(Ca)}function Cs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,jk(n)),rn!==null)for(n=rn.return;n!==null;){var r=n;switch(py(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nf();break;case 3:Xa(),pt(ar),pt(Un),Sy();break;case 5:by(r);break;case 4:Xa();break;case 13:pt(Et);break;case 19:pt(Et);break;case 10:wy(r.type._context);break;case 22:case 23:Ly()}n=n.return}if(vn=t,rn=t=Fo(t.current,null),Rn=pr=e,un=0,Pc=null,Cy=ih=Ps=0,Jn=uc=null,ms!==null){for(e=0;e<ms.length;e++)if(n=ms[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ms=null}return t}function kS(t,e){do{var n=rn;try{if(yy(),od.current=ff,df){for(var r=St.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}df=!1}if(Bs=0,mn=ln=St=null,lc=!1,Oc=0,ky.current=null,n===null||n.return===null){un=1,Pc=e,rn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Rn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,g=d.tag;if(!(d.mode&1)&&(g===0||g===11||g===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=X1(s);if(f!==null){f.flags&=-257,J1(f,s,a,o,e),f.mode&1&&Q1(o,c,e),e=f,l=c;var m=e.updateQueue;if(m===null){var x=new Set;x.add(l),e.updateQueue=x}else m.add(l);break e}else{if(!(e&1)){Q1(o,c,e),By();break e}l=Error(ie(426))}}else if(wt&&a.mode&1){var R=X1(s);if(R!==null){!(R.flags&65536)&&(R.flags|=256),J1(R,s,a,o,e),gy(Ja(l,a));break e}}o=l=Ja(l,a),un!==4&&(un=2),uc===null?uc=[o]:uc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=hS(o,l,e);K1(o,y);break e;case 1:a=l;var b=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(jo===null||!jo.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var I=pS(o,a,e);K1(o,I);break e}}o=o.return}while(o!==null)}OS(n)}catch(L){e=L,rn===n&&n!==null&&(rn=n=n.return);continue}break}while(!0)}function CS(){var t=hf.current;return hf.current=ff,t===null?ff:t}function By(){(un===0||un===3||un===2)&&(un=4),vn===null||!(Ps&268435455)&&!(ih&268435455)||xo(vn,Rn)}function mf(t,e){var n=ze;ze|=2;var r=CS();(vn!==t||Rn!==e)&&(Pi=null,Cs(t,e));do try{uC();break}catch(i){kS(t,i)}while(!0);if(yy(),ze=n,hf.current=r,rn!==null)throw Error(ie(261));return vn=null,Rn=0,un}function uC(){for(;rn!==null;)MS(rn)}function dC(){for(;rn!==null&&!PT();)MS(rn)}function MS(t){var e=BS(t.alternate,t,pr);t.memoizedProps=t.pendingProps,e===null?OS(t):rn=e,ky.current=null}function OS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=iC(n,e),n!==null){n.flags&=32767,rn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{un=6,rn=null;return}}else if(n=rC(n,e,pr),n!==null){rn=n;return}if(e=e.sibling,e!==null){rn=e;return}rn=e=t}while(e!==null);un===0&&(un=5)}function ss(t,e,n){var r=Qe,i=Br.transition;try{Br.transition=null,Qe=1,fC(t,e,n,r)}finally{Br.transition=i,Qe=r}return null}function fC(t,e,n,r){do Fa();while(No!==null);if(ze&6)throw Error(ie(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ie(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(VT(t,o),t===vn&&(rn=vn=null,Rn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Mu||(Mu=!0,PS(Zd,function(){return Fa(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Br.transition,Br.transition=null;var s=Qe;Qe=1;var a=ze;ze|=4,ky.current=null,sC(t,n),IS(n,t),Mk(og),Xd=!!ig,og=ig=null,t.current=n,aC(n),DT(),ze=a,Qe=s,Br.transition=o}else t.current=n;if(Mu&&(Mu=!1,No=t,gf=i),o=t.pendingLanes,o===0&&(jo=null),zT(n.stateNode),cr(t,Bt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(pf)throw pf=!1,t=xg,xg=null,t;return gf&1&&t.tag!==0&&Fa(),o=t.pendingLanes,o&1?t===Rg?dc++:(dc=0,Rg=t):dc=0,Jo(),null}function Fa(){if(No!==null){var t=hb(gf),e=Br.transition,n=Qe;try{if(Br.transition=null,Qe=16>t?16:t,No===null)var r=!1;else{if(t=No,No=null,gf=0,ze&6)throw Error(ie(331));var i=ze;for(ze|=4,ge=t.current;ge!==null;){var o=ge,s=o.child;if(ge.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ge=c;ge!==null;){var d=ge;switch(d.tag){case 0:case 11:case 15:cc(8,d,o)}var g=d.child;if(g!==null)g.return=d,ge=g;else for(;ge!==null;){d=ge;var p=d.sibling,f=d.return;if(AS(d),d===c){ge=null;break}if(p!==null){p.return=f,ge=p;break}ge=f}}}var m=o.alternate;if(m!==null){var x=m.child;if(x!==null){m.child=null;do{var R=x.sibling;x.sibling=null,x=R}while(x!==null)}}ge=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ge=s;else e:for(;ge!==null;){if(o=ge,o.flags&2048)switch(o.tag){case 0:case 11:case 15:cc(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,ge=y;break e}ge=o.return}}var b=t.current;for(ge=b;ge!==null;){s=ge;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,ge=_;else e:for(s=b;ge!==null;){if(a=ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rh(9,a)}}catch(L){Mt(a,a.return,L)}if(a===s){ge=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,ge=I;break e}ge=a.return}}if(ze=i,Jo(),yi&&typeof yi.onPostCommitFiberRoot=="function")try{yi.onPostCommitFiberRoot(Yf,t)}catch{}r=!0}return r}finally{Qe=n,Br.transition=e}}return!1}function fv(t,e,n){e=Ja(n,e),e=hS(t,e,1),t=Uo(t,e,1),e=Hn(),t!==null&&(Yc(t,1,e),cr(t,e))}function Mt(t,e,n){if(t.tag===3)fv(t,t,n);else for(;e!==null;){if(e.tag===3){fv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jo===null||!jo.has(r))){t=Ja(n,t),t=pS(e,t,1),e=Uo(e,t,1),t=Hn(),e!==null&&(Yc(e,1,t),cr(e,t));break}}e=e.return}}function hC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Hn(),t.pingedLanes|=t.suspendedLanes&n,vn===t&&(Rn&n)===n&&(un===4||un===3&&(Rn&130023424)===Rn&&500>Bt()-My?Cs(t,0):Cy|=n),cr(t,e)}function LS(t,e){e===0&&(t.mode&1?(e=bu,bu<<=1,!(bu&130023424)&&(bu=4194304)):e=1);var n=Hn();t=eo(t,e),t!==null&&(Yc(t,e,n),cr(t,n))}function pC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),LS(t,n)}function gC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ie(314))}r!==null&&r.delete(e),LS(t,n)}var BS;BS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ar.current)ir=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ir=!1,nC(t,e,n);ir=!!(t.flags&131072)}else ir=!1,wt&&e.flags&1048576&&jb(e,sf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ad(t,e),t=e.pendingProps;var i=Ya(e,Un.current);za(e,n),i=xy(null,e,r,t,i,n);var o=Ry();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,lr(r)?(o=!0,rf(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_y(e),i.updater=nh,e.stateNode=i,i._reactInternals=e,pg(e,r,t,n),e=yg(null,e,r,!0,o,n)):(e.tag=0,wt&&o&&hy(e),Fn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ad(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=yC(r),t=Hr(r,t),i){case 0:e=mg(null,e,r,t,n);break e;case 1:e=nv(null,e,r,t,n);break e;case 11:e=ev(null,e,r,t,n);break e;case 14:e=tv(null,e,r,Hr(r.type,t),n);break e}throw Error(ie(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hr(r,i),mg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hr(r,i),nv(t,e,r,i,n);case 3:e:{if(wS(e),t===null)throw Error(ie(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Kb(t,e),cf(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ja(Error(ie(423)),e),e=rv(t,e,r,n,i);break e}else if(r!==i){i=Ja(Error(ie(424)),e),e=rv(t,e,r,n,i);break e}else for(wr=Do(e.stateNode.containerInfo.firstChild),vr=e,wt=!0,Gr=null,n=$b(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Za(),r===i){e=to(t,e,n);break e}Fn(t,e,r,n)}e=e.child}return e;case 5:return Vb(e),t===null&&dg(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,sg(r,i)?s=null:o!==null&&sg(r,o)&&(e.flags|=32),yS(t,e),Fn(t,e,s,n),e.child;case 6:return t===null&&dg(e),null;case 13:return vS(t,e,n);case 4:return Ey(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qa(e,null,r,n):Fn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hr(r,i),ev(t,e,r,i,n);case 7:return Fn(t,e,e.pendingProps,n),e.child;case 8:return Fn(t,e,e.pendingProps.children,n),e.child;case 12:return Fn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,ut(af,r._currentValue),r._currentValue=s,o!==null)if(ti(o.value,s)){if(o.children===i.children&&!ar.current){e=to(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Zi(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),fg(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ie(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),fg(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Fn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,za(e,n),i=Dr(i),r=r(i),e.flags|=1,Fn(t,e,r,n),e.child;case 14:return r=e.type,i=Hr(r,e.pendingProps),i=Hr(r.type,i),tv(t,e,r,i,n);case 15:return gS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hr(r,i),ad(t,e),e.tag=1,lr(r)?(t=!0,rf(e)):t=!1,za(e,n),fS(e,r,i),pg(e,r,i,n),yg(null,e,r,!0,t,n);case 19:return _S(t,e,n);case 22:return mS(t,e,n)}throw Error(ie(156,e.tag))};function PS(t,e){return cb(t,e)}function mC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(t,e,n,r){return new mC(t,e,n,r)}function Py(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yC(t){if(typeof t=="function")return Py(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ty)return 11;if(t===ny)return 14}return 2}function Fo(t,e){var n=t.alternate;return n===null?(n=Lr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ud(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Py(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ea:return Ms(n.children,i,o,e);case ey:s=8,i|=8;break;case U0:return t=Lr(12,n,e,i|2),t.elementType=U0,t.lanes=o,t;case j0:return t=Lr(13,n,e,i),t.elementType=j0,t.lanes=o,t;case z0:return t=Lr(19,n,e,i),t.elementType=z0,t.lanes=o,t;case VE:return oh(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case HE:s=10;break e;case KE:s=9;break e;case ty:s=11;break e;case ny:s=14;break e;case _o:s=16,r=null;break e}throw Error(ie(130,t==null?t:typeof t,""))}return e=Lr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ms(t,e,n,r){return t=Lr(7,t,r,e),t.lanes=n,t}function oh(t,e,n,r){return t=Lr(22,t,r,e),t.elementType=VE,t.lanes=n,t.stateNode={isHidden:!1},t}function Up(t,e,n){return t=Lr(6,t,null,e),t.lanes=n,t}function jp(t,e,n){return e=Lr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wC(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vp(0),this.expirationTimes=vp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Dy(t,e,n,r,i,o,s,a,l){return t=new wC(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Lr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_y(o),t}function vC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_a,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function DS(t){if(!t)return Go;t=t._reactInternals;e:{if(Hs(t)!==t||t.tag!==1)throw Error(ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(lr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ie(171))}if(t.tag===1){var n=t.type;if(lr(n))return Db(t,n,e)}return e}function US(t,e,n,r,i,o,s,a,l){return t=Dy(n,r,!0,t,i,o,s,a,l),t.context=DS(null),n=t.current,r=Hn(),i=zo(n),o=Zi(r,i),o.callback=e??null,Uo(n,o,i),t.current.lanes=i,Yc(t,i,r),cr(t,r),t}function sh(t,e,n,r){var i=e.current,o=Hn(),s=zo(i);return n=DS(n),e.context===null?e.context=n:e.pendingContext=n,e=Zi(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Uo(i,e,s),t!==null&&(Jr(t,i,s,o),id(t,i,s)),s}function yf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Uy(t,e){hv(t,e),(t=t.alternate)&&hv(t,e)}function _C(){return null}var jS=typeof reportError=="function"?reportError:function(t){console.error(t)};function jy(t){this._internalRoot=t}ah.prototype.render=jy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ie(409));sh(t,e,null,null)};ah.prototype.unmount=jy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ds(function(){sh(null,t,null,null)}),e[Ji]=null}};function ah(t){this._internalRoot=t}ah.prototype.unstable_scheduleHydration=function(t){if(t){var e=mb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ao.length&&e!==0&&e<Ao[n].priority;n++);Ao.splice(n,0,t),n===0&&wb(t)}};function zy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pv(){}function EC(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=yf(s);o.call(c)}}var s=US(e,r,t,0,null,!1,!1,"",pv);return t._reactRootContainer=s,t[Ji]=s.current,Nc(t.nodeType===8?t.parentNode:t),Ds(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=yf(l);a.call(c)}}var l=Dy(t,0,!1,null,null,!1,!1,"",pv);return t._reactRootContainer=l,t[Ji]=l.current,Nc(t.nodeType===8?t.parentNode:t),Ds(function(){sh(e,l,n,r)}),l}function ch(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=yf(s);a.call(l)}}sh(e,s,t,i)}else s=EC(n,e,t,i,r);return yf(s)}pb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Hl(e.pendingLanes);n!==0&&(oy(e,n|1),cr(e,Bt()),!(ze&6)&&(el=Bt()+500,Jo()))}break;case 13:Ds(function(){var r=eo(t,1);if(r!==null){var i=Hn();Jr(r,t,1,i)}}),Uy(t,1)}};sy=function(t){if(t.tag===13){var e=eo(t,134217728);if(e!==null){var n=Hn();Jr(e,t,134217728,n)}Uy(t,134217728)}};gb=function(t){if(t.tag===13){var e=zo(t),n=eo(t,e);if(n!==null){var r=Hn();Jr(n,t,e,r)}Uy(t,e)}};mb=function(){return Qe};yb=function(t,e){var n=Qe;try{return Qe=t,e()}finally{Qe=n}};Z0=function(t,e,n){switch(e){case"input":if($0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Jf(r);if(!i)throw Error(ie(90));qE(r),$0(r,i)}}}break;case"textarea":ZE(t,n);break;case"select":e=n.value,e!=null&&Pa(t,!!n.multiple,e,!1)}};rb=Oy;ib=Ds;var bC={usingClientEntryPoint:!1,Events:[Qc,xa,Jf,tb,nb,Oy]},Pl={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SC={bundleType:Pl.bundleType,version:Pl.version,rendererPackageName:Pl.rendererPackageName,rendererConfig:Pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ab(t),t===null?null:t.stateNode},findFiberByHostInstance:Pl.findFiberByHostInstance||_C,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ou.isDisabled&&Ou.supportsFiber)try{Yf=Ou.inject(SC),yi=Ou}catch{}}Ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bC;Ar.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zy(e))throw Error(ie(200));return vC(t,e,null,n)};Ar.createRoot=function(t,e){if(!zy(t))throw Error(ie(299));var n=!1,r="",i=jS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Dy(t,1,!1,null,null,n,!1,r,i),t[Ji]=e.current,Nc(t.nodeType===8?t.parentNode:t),new jy(e)};Ar.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ie(188)):(t=Object.keys(t).join(","),Error(ie(268,t)));return t=ab(e),t=t===null?null:t.stateNode,t};Ar.flushSync=function(t){return Ds(t)};Ar.hydrate=function(t,e,n){if(!lh(e))throw Error(ie(200));return ch(null,t,e,!0,n)};Ar.hydrateRoot=function(t,e,n){if(!zy(t))throw Error(ie(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=jS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=US(e,null,t,1,n??null,i,!1,o,s),t[Ji]=e.current,Nc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ah(e)};Ar.render=function(t,e,n){if(!lh(e))throw Error(ie(200));return ch(null,t,e,!1,n)};Ar.unmountComponentAtNode=function(t){if(!lh(t))throw Error(ie(40));return t._reactRootContainer?(Ds(function(){ch(null,null,t,!1,function(){t._reactRootContainer=null,t[Ji]=null})}),!0):!1};Ar.unstable_batchedUpdates=Oy;Ar.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!lh(n))throw Error(ie(200));if(t==null||t._reactInternals===void 0)throw Error(ie(38));return ch(t,e,n,!1,r)};Ar.version="18.3.1-next-f1338f8080-20240426";function zS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zS)}catch(t){console.error(t)}}zS(),zE.exports=Ar;var FS=zE.exports,gv=FS;P0.createRoot=gv.createRoot,P0.hydrateRoot=gv.hydrateRoot;var me={},uh={};uh.byteLength=RC;uh.toByteArray=NC;uh.fromByteArray=CC;var di=[],kr=[],AC=typeof Uint8Array<"u"?Uint8Array:Array,zp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Js=0,xC=zp.length;Js<xC;++Js)di[Js]=zp[Js],kr[zp.charCodeAt(Js)]=Js;kr[45]=62;kr[95]=63;function WS(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function RC(t){var e=WS(t),n=e[0],r=e[1];return(n+r)*3/4-r}function IC(t,e,n){return(e+n)*3/4-n}function NC(t){var e,n=WS(t),r=n[0],i=n[1],o=new AC(IC(t,r,i)),s=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=kr[t.charCodeAt(l)]<<18|kr[t.charCodeAt(l+1)]<<12|kr[t.charCodeAt(l+2)]<<6|kr[t.charCodeAt(l+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=kr[t.charCodeAt(l)]<<2|kr[t.charCodeAt(l+1)]>>4,o[s++]=e&255),i===1&&(e=kr[t.charCodeAt(l)]<<10|kr[t.charCodeAt(l+1)]<<4|kr[t.charCodeAt(l+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function TC(t){return di[t>>18&63]+di[t>>12&63]+di[t>>6&63]+di[t&63]}function kC(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(TC(r));return i.join("")}function CC(t){for(var e,n=t.length,r=n%3,i=[],o=16383,s=0,a=n-r;s<a;s+=o)i.push(kC(t,s,s+o>a?a:s+o));return r===1?(e=t[n-1],i.push(di[e>>2]+di[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(di[e>>10]+di[e>>4&63]+di[e<<2&63]+"=")),i.join("")}var Fy={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Fy.read=function(t,e,n,r,i){var o,s,a=i*8-r-1,l=(1<<a)-1,c=l>>1,d=-7,g=n?i-1:0,p=n?-1:1,f=t[e+g];for(g+=p,o=f&(1<<-d)-1,f>>=-d,d+=a;d>0;o=o*256+t[e+g],g+=p,d-=8);for(s=o&(1<<-d)-1,o>>=-d,d+=r;d>0;s=s*256+t[e+g],g+=p,d-=8);if(o===0)o=1-c;else{if(o===l)return s?NaN:(f?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-c}return(f?-1:1)*s*Math.pow(2,o-r)};Fy.write=function(t,e,n,r,i,o){var s,a,l,c=o*8-i-1,d=(1<<c)-1,g=d>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,m=r?1:-1,x=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=d):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+g>=1?e+=p/l:e+=p*Math.pow(2,1-g),e*l>=2&&(s++,l/=2),s+g>=d?(a=0,s=d):s+g>=1?(a=(e*l-1)*Math.pow(2,i),s=s+g):(a=e*Math.pow(2,g-1)*Math.pow(2,i),s=0));i>=8;t[n+f]=a&255,f+=m,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+f]=s&255,f+=m,s/=256,c-=8);t[n+f-m]|=x*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=uh,n=Fy,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const k=new Uint8Array(1),v={foo:function(){return 42}};return Object.setPrototypeOf(v,Uint8Array.prototype),Object.setPrototypeOf(k,v),k.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(k){if(k>i)throw new RangeError('The value "'+k+'" is invalid for option "size"');const v=new Uint8Array(k);return Object.setPrototypeOf(v,a.prototype),v}function a(k,v,E){if(typeof k=="number"){if(typeof v=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(k)}return l(k,v,E)}a.poolSize=8192;function l(k,v,E){if(typeof k=="string")return p(k,v);if(ArrayBuffer.isView(k))return m(k);if(k==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k);if(dr(k,ArrayBuffer)||k&&dr(k.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(dr(k,SharedArrayBuffer)||k&&dr(k.buffer,SharedArrayBuffer)))return x(k,v,E);if(typeof k=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const D=k.valueOf&&k.valueOf();if(D!=null&&D!==k)return a.from(D,v,E);const K=R(k);if(K)return K;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof k[Symbol.toPrimitive]=="function")return a.from(k[Symbol.toPrimitive]("string"),v,E);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k)}a.from=function(k,v,E){return l(k,v,E)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(k){if(typeof k!="number")throw new TypeError('"size" argument must be of type number');if(k<0)throw new RangeError('The value "'+k+'" is invalid for option "size"')}function d(k,v,E){return c(k),k<=0?s(k):v!==void 0?typeof E=="string"?s(k).fill(v,E):s(k).fill(v):s(k)}a.alloc=function(k,v,E){return d(k,v,E)};function g(k){return c(k),s(k<0?0:y(k)|0)}a.allocUnsafe=function(k){return g(k)},a.allocUnsafeSlow=function(k){return g(k)};function p(k,v){if((typeof v!="string"||v==="")&&(v="utf8"),!a.isEncoding(v))throw new TypeError("Unknown encoding: "+v);const E=_(k,v)|0;let D=s(E);const K=D.write(k,v);return K!==E&&(D=D.slice(0,K)),D}function f(k){const v=k.length<0?0:y(k.length)|0,E=s(v);for(let D=0;D<v;D+=1)E[D]=k[D]&255;return E}function m(k){if(dr(k,Uint8Array)){const v=new Uint8Array(k);return x(v.buffer,v.byteOffset,v.byteLength)}return f(k)}function x(k,v,E){if(v<0||k.byteLength<v)throw new RangeError('"offset" is outside of buffer bounds');if(k.byteLength<v+(E||0))throw new RangeError('"length" is outside of buffer bounds');let D;return v===void 0&&E===void 0?D=new Uint8Array(k):E===void 0?D=new Uint8Array(k,v):D=new Uint8Array(k,v,E),Object.setPrototypeOf(D,a.prototype),D}function R(k){if(a.isBuffer(k)){const v=y(k.length)|0,E=s(v);return E.length===0||k.copy(E,0,0,v),E}if(k.length!==void 0)return typeof k.length!="number"||mt(k.length)?s(0):f(k);if(k.type==="Buffer"&&Array.isArray(k.data))return f(k.data)}function y(k){if(k>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return k|0}function b(k){return+k!=k&&(k=0),a.alloc(+k)}a.isBuffer=function(v){return v!=null&&v._isBuffer===!0&&v!==a.prototype},a.compare=function(v,E){if(dr(v,Uint8Array)&&(v=a.from(v,v.offset,v.byteLength)),dr(E,Uint8Array)&&(E=a.from(E,E.offset,E.byteLength)),!a.isBuffer(v)||!a.isBuffer(E))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===E)return 0;let D=v.length,K=E.length;for(let G=0,Q=Math.min(D,K);G<Q;++G)if(v[G]!==E[G]){D=v[G],K=E[G];break}return D<K?-1:K<D?1:0},a.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(v,E){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return a.alloc(0);let D;if(E===void 0)for(E=0,D=0;D<v.length;++D)E+=v[D].length;const K=a.allocUnsafe(E);let G=0;for(D=0;D<v.length;++D){let Q=v[D];if(dr(Q,Uint8Array))G+Q.length>K.length?(a.isBuffer(Q)||(Q=a.from(Q)),Q.copy(K,G)):Uint8Array.prototype.set.call(K,Q,G);else if(a.isBuffer(Q))Q.copy(K,G);else throw new TypeError('"list" argument must be an Array of Buffers');G+=Q.length}return K};function _(k,v){if(a.isBuffer(k))return k.length;if(ArrayBuffer.isView(k)||dr(k,ArrayBuffer))return k.byteLength;if(typeof k!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof k);const E=k.length,D=arguments.length>2&&arguments[2]===!0;if(!D&&E===0)return 0;let K=!1;for(;;)switch(v){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":return ot(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E*2;case"hex":return E>>>1;case"base64":return vt(k).length;default:if(K)return D?-1:ot(k).length;v=(""+v).toLowerCase(),K=!0}}a.byteLength=_;function I(k,v,E){let D=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((E===void 0||E>this.length)&&(E=this.length),E<=0)||(E>>>=0,v>>>=0,E<=v))return"";for(k||(k="utf8");;)switch(k){case"hex":return O(this,v,E);case"utf8":case"utf-8":return u(this,v,E);case"ascii":return N(this,v,E);case"latin1":case"binary":return T(this,v,E);case"base64":return A(this,v,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,v,E);default:if(D)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),D=!0}}a.prototype._isBuffer=!0;function L(k,v,E){const D=k[v];k[v]=k[E],k[E]=D}a.prototype.swap16=function(){const v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let E=0;E<v;E+=2)L(this,E,E+1);return this},a.prototype.swap32=function(){const v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let E=0;E<v;E+=4)L(this,E,E+3),L(this,E+1,E+2);return this},a.prototype.swap64=function(){const v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let E=0;E<v;E+=8)L(this,E,E+7),L(this,E+1,E+6),L(this,E+2,E+5),L(this,E+3,E+4);return this},a.prototype.toString=function(){const v=this.length;return v===0?"":arguments.length===0?u(this,0,v):I.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(v){if(!a.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:a.compare(this,v)===0},a.prototype.inspect=function(){let v="";const E=t.INSPECT_MAX_BYTES;return v=this.toString("hex",0,E).replace(/(.{2})/g,"$1 ").trim(),this.length>E&&(v+=" ... "),"<Buffer "+v+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(v,E,D,K,G){if(dr(v,Uint8Array)&&(v=a.from(v,v.offset,v.byteLength)),!a.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(E===void 0&&(E=0),D===void 0&&(D=v?v.length:0),K===void 0&&(K=0),G===void 0&&(G=this.length),E<0||D>v.length||K<0||G>this.length)throw new RangeError("out of range index");if(K>=G&&E>=D)return 0;if(K>=G)return-1;if(E>=D)return 1;if(E>>>=0,D>>>=0,K>>>=0,G>>>=0,this===v)return 0;let Q=G-K,Ce=D-E;const Te=Math.min(Q,Ce),xe=this.slice(K,G),ft=v.slice(E,D);for(let Se=0;Se<Te;++Se)if(xe[Se]!==ft[Se]){Q=xe[Se],Ce=ft[Se];break}return Q<Ce?-1:Ce<Q?1:0};function z(k,v,E,D,K){if(k.length===0)return-1;if(typeof E=="string"?(D=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),E=+E,mt(E)&&(E=K?0:k.length-1),E<0&&(E=k.length+E),E>=k.length){if(K)return-1;E=k.length-1}else if(E<0)if(K)E=0;else return-1;if(typeof v=="string"&&(v=a.from(v,D)),a.isBuffer(v))return v.length===0?-1:B(k,v,E,D,K);if(typeof v=="number")return v=v&255,typeof Uint8Array.prototype.indexOf=="function"?K?Uint8Array.prototype.indexOf.call(k,v,E):Uint8Array.prototype.lastIndexOf.call(k,v,E):B(k,[v],E,D,K);throw new TypeError("val must be string, number or Buffer")}function B(k,v,E,D,K){let G=1,Q=k.length,Ce=v.length;if(D!==void 0&&(D=String(D).toLowerCase(),D==="ucs2"||D==="ucs-2"||D==="utf16le"||D==="utf-16le")){if(k.length<2||v.length<2)return-1;G=2,Q/=2,Ce/=2,E/=2}function Te(ft,Se){return G===1?ft[Se]:ft.readUInt16BE(Se*G)}let xe;if(K){let ft=-1;for(xe=E;xe<Q;xe++)if(Te(k,xe)===Te(v,ft===-1?0:xe-ft)){if(ft===-1&&(ft=xe),xe-ft+1===Ce)return ft*G}else ft!==-1&&(xe-=xe-ft),ft=-1}else for(E+Ce>Q&&(E=Q-Ce),xe=E;xe>=0;xe--){let ft=!0;for(let Se=0;Se<Ce;Se++)if(Te(k,xe+Se)!==Te(v,Se)){ft=!1;break}if(ft)return xe}return-1}a.prototype.includes=function(v,E,D){return this.indexOf(v,E,D)!==-1},a.prototype.indexOf=function(v,E,D){return z(this,v,E,D,!0)},a.prototype.lastIndexOf=function(v,E,D){return z(this,v,E,D,!1)};function F(k,v,E,D){E=Number(E)||0;const K=k.length-E;D?(D=Number(D),D>K&&(D=K)):D=K;const G=v.length;D>G/2&&(D=G/2);let Q;for(Q=0;Q<D;++Q){const Ce=parseInt(v.substr(Q*2,2),16);if(mt(Ce))return Q;k[E+Q]=Ce}return Q}function U(k,v,E,D){return dt(ot(v,k.length-E),k,E,D)}function W(k,v,E,D){return dt(Ve(v),k,E,D)}function $(k,v,E,D){return dt(vt(v),k,E,D)}function H(k,v,E,D){return dt(mu(v,k.length-E),k,E,D)}a.prototype.write=function(v,E,D,K){if(E===void 0)K="utf8",D=this.length,E=0;else if(D===void 0&&typeof E=="string")K=E,D=this.length,E=0;else if(isFinite(E))E=E>>>0,isFinite(D)?(D=D>>>0,K===void 0&&(K="utf8")):(K=D,D=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const G=this.length-E;if((D===void 0||D>G)&&(D=G),v.length>0&&(D<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");K||(K="utf8");let Q=!1;for(;;)switch(K){case"hex":return F(this,v,E,D);case"utf8":case"utf-8":return U(this,v,E,D);case"ascii":case"latin1":case"binary":return W(this,v,E,D);case"base64":return $(this,v,E,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,v,E,D);default:if(Q)throw new TypeError("Unknown encoding: "+K);K=(""+K).toLowerCase(),Q=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(k,v,E){return v===0&&E===k.length?e.fromByteArray(k):e.fromByteArray(k.slice(v,E))}function u(k,v,E){E=Math.min(k.length,E);const D=[];let K=v;for(;K<E;){const G=k[K];let Q=null,Ce=G>239?4:G>223?3:G>191?2:1;if(K+Ce<=E){let Te,xe,ft,Se;switch(Ce){case 1:G<128&&(Q=G);break;case 2:Te=k[K+1],(Te&192)===128&&(Se=(G&31)<<6|Te&63,Se>127&&(Q=Se));break;case 3:Te=k[K+1],xe=k[K+2],(Te&192)===128&&(xe&192)===128&&(Se=(G&15)<<12|(Te&63)<<6|xe&63,Se>2047&&(Se<55296||Se>57343)&&(Q=Se));break;case 4:Te=k[K+1],xe=k[K+2],ft=k[K+3],(Te&192)===128&&(xe&192)===128&&(ft&192)===128&&(Se=(G&15)<<18|(Te&63)<<12|(xe&63)<<6|ft&63,Se>65535&&Se<1114112&&(Q=Se))}}Q===null?(Q=65533,Ce=1):Q>65535&&(Q-=65536,D.push(Q>>>10&1023|55296),Q=56320|Q&1023),D.push(Q),K+=Ce}return S(D)}const h=4096;function S(k){const v=k.length;if(v<=h)return String.fromCharCode.apply(String,k);let E="",D=0;for(;D<v;)E+=String.fromCharCode.apply(String,k.slice(D,D+=h));return E}function N(k,v,E){let D="";E=Math.min(k.length,E);for(let K=v;K<E;++K)D+=String.fromCharCode(k[K]&127);return D}function T(k,v,E){let D="";E=Math.min(k.length,E);for(let K=v;K<E;++K)D+=String.fromCharCode(k[K]);return D}function O(k,v,E){const D=k.length;(!v||v<0)&&(v=0),(!E||E<0||E>D)&&(E=D);let K="";for(let G=v;G<E;++G)K+=It[k[G]];return K}function j(k,v,E){const D=k.slice(v,E);let K="";for(let G=0;G<D.length-1;G+=2)K+=String.fromCharCode(D[G]+D[G+1]*256);return K}a.prototype.slice=function(v,E){const D=this.length;v=~~v,E=E===void 0?D:~~E,v<0?(v+=D,v<0&&(v=0)):v>D&&(v=D),E<0?(E+=D,E<0&&(E=0)):E>D&&(E=D),E<v&&(E=v);const K=this.subarray(v,E);return Object.setPrototypeOf(K,a.prototype),K};function C(k,v,E){if(k%1!==0||k<0)throw new RangeError("offset is not uint");if(k+v>E)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(v,E,D){v=v>>>0,E=E>>>0,D||C(v,E,this.length);let K=this[v],G=1,Q=0;for(;++Q<E&&(G*=256);)K+=this[v+Q]*G;return K},a.prototype.readUintBE=a.prototype.readUIntBE=function(v,E,D){v=v>>>0,E=E>>>0,D||C(v,E,this.length);let K=this[v+--E],G=1;for(;E>0&&(G*=256);)K+=this[v+--E]*G;return K},a.prototype.readUint8=a.prototype.readUInt8=function(v,E){return v=v>>>0,E||C(v,1,this.length),this[v]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(v,E){return v=v>>>0,E||C(v,2,this.length),this[v]|this[v+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(v,E){return v=v>>>0,E||C(v,2,this.length),this[v]<<8|this[v+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(v,E){return v=v>>>0,E||C(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(v,E){return v=v>>>0,E||C(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},a.prototype.readBigUInt64LE=Fr(function(v){v=v>>>0,Yn(v,"offset");const E=this[v],D=this[v+7];(E===void 0||D===void 0)&&tt(v,this.length-8);const K=E+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24,G=this[++v]+this[++v]*2**8+this[++v]*2**16+D*2**24;return BigInt(K)+(BigInt(G)<<BigInt(32))}),a.prototype.readBigUInt64BE=Fr(function(v){v=v>>>0,Yn(v,"offset");const E=this[v],D=this[v+7];(E===void 0||D===void 0)&&tt(v,this.length-8);const K=E*2**24+this[++v]*2**16+this[++v]*2**8+this[++v],G=this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+D;return(BigInt(K)<<BigInt(32))+BigInt(G)}),a.prototype.readIntLE=function(v,E,D){v=v>>>0,E=E>>>0,D||C(v,E,this.length);let K=this[v],G=1,Q=0;for(;++Q<E&&(G*=256);)K+=this[v+Q]*G;return G*=128,K>=G&&(K-=Math.pow(2,8*E)),K},a.prototype.readIntBE=function(v,E,D){v=v>>>0,E=E>>>0,D||C(v,E,this.length);let K=E,G=1,Q=this[v+--K];for(;K>0&&(G*=256);)Q+=this[v+--K]*G;return G*=128,Q>=G&&(Q-=Math.pow(2,8*E)),Q},a.prototype.readInt8=function(v,E){return v=v>>>0,E||C(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},a.prototype.readInt16LE=function(v,E){v=v>>>0,E||C(v,2,this.length);const D=this[v]|this[v+1]<<8;return D&32768?D|4294901760:D},a.prototype.readInt16BE=function(v,E){v=v>>>0,E||C(v,2,this.length);const D=this[v+1]|this[v]<<8;return D&32768?D|4294901760:D},a.prototype.readInt32LE=function(v,E){return v=v>>>0,E||C(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},a.prototype.readInt32BE=function(v,E){return v=v>>>0,E||C(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},a.prototype.readBigInt64LE=Fr(function(v){v=v>>>0,Yn(v,"offset");const E=this[v],D=this[v+7];(E===void 0||D===void 0)&&tt(v,this.length-8);const K=this[v+4]+this[v+5]*2**8+this[v+6]*2**16+(D<<24);return(BigInt(K)<<BigInt(32))+BigInt(E+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24)}),a.prototype.readBigInt64BE=Fr(function(v){v=v>>>0,Yn(v,"offset");const E=this[v],D=this[v+7];(E===void 0||D===void 0)&&tt(v,this.length-8);const K=(E<<24)+this[++v]*2**16+this[++v]*2**8+this[++v];return(BigInt(K)<<BigInt(32))+BigInt(this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+D)}),a.prototype.readFloatLE=function(v,E){return v=v>>>0,E||C(v,4,this.length),n.read(this,v,!0,23,4)},a.prototype.readFloatBE=function(v,E){return v=v>>>0,E||C(v,4,this.length),n.read(this,v,!1,23,4)},a.prototype.readDoubleLE=function(v,E){return v=v>>>0,E||C(v,8,this.length),n.read(this,v,!0,52,8)},a.prototype.readDoubleBE=function(v,E){return v=v>>>0,E||C(v,8,this.length),n.read(this,v,!1,52,8)};function w(k,v,E,D,K,G){if(!a.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>K||v<G)throw new RangeError('"value" argument is out of bounds');if(E+D>k.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(v,E,D,K){if(v=+v,E=E>>>0,D=D>>>0,!K){const Ce=Math.pow(2,8*D)-1;w(this,v,E,D,Ce,0)}let G=1,Q=0;for(this[E]=v&255;++Q<D&&(G*=256);)this[E+Q]=v/G&255;return E+D},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(v,E,D,K){if(v=+v,E=E>>>0,D=D>>>0,!K){const Ce=Math.pow(2,8*D)-1;w(this,v,E,D,Ce,0)}let G=D-1,Q=1;for(this[E+G]=v&255;--G>=0&&(Q*=256);)this[E+G]=v/Q&255;return E+D},a.prototype.writeUint8=a.prototype.writeUInt8=function(v,E,D){return v=+v,E=E>>>0,D||w(this,v,E,1,255,0),this[E]=v&255,E+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(v,E,D){return v=+v,E=E>>>0,D||w(this,v,E,2,65535,0),this[E]=v&255,this[E+1]=v>>>8,E+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(v,E,D){return v=+v,E=E>>>0,D||w(this,v,E,2,65535,0),this[E]=v>>>8,this[E+1]=v&255,E+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(v,E,D){return v=+v,E=E>>>0,D||w(this,v,E,4,4294967295,0),this[E+3]=v>>>24,this[E+2]=v>>>16,this[E+1]=v>>>8,this[E]=v&255,E+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(v,E,D){return v=+v,E=E>>>0,D||w(this,v,E,4,4294967295,0),this[E]=v>>>24,this[E+1]=v>>>16,this[E+2]=v>>>8,this[E+3]=v&255,E+4};function P(k,v,E,D,K){et(v,D,K,k,E,7);let G=Number(v&BigInt(4294967295));k[E++]=G,G=G>>8,k[E++]=G,G=G>>8,k[E++]=G,G=G>>8,k[E++]=G;let Q=Number(v>>BigInt(32)&BigInt(4294967295));return k[E++]=Q,Q=Q>>8,k[E++]=Q,Q=Q>>8,k[E++]=Q,Q=Q>>8,k[E++]=Q,E}function ne(k,v,E,D,K){et(v,D,K,k,E,7);let G=Number(v&BigInt(4294967295));k[E+7]=G,G=G>>8,k[E+6]=G,G=G>>8,k[E+5]=G,G=G>>8,k[E+4]=G;let Q=Number(v>>BigInt(32)&BigInt(4294967295));return k[E+3]=Q,Q=Q>>8,k[E+2]=Q,Q=Q>>8,k[E+1]=Q,Q=Q>>8,k[E]=Q,E+8}a.prototype.writeBigUInt64LE=Fr(function(v,E=0){return P(this,v,E,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Fr(function(v,E=0){return ne(this,v,E,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(v,E,D,K){if(v=+v,E=E>>>0,!K){const Te=Math.pow(2,8*D-1);w(this,v,E,D,Te-1,-Te)}let G=0,Q=1,Ce=0;for(this[E]=v&255;++G<D&&(Q*=256);)v<0&&Ce===0&&this[E+G-1]!==0&&(Ce=1),this[E+G]=(v/Q>>0)-Ce&255;return E+D},a.prototype.writeIntBE=function(v,E,D,K){if(v=+v,E=E>>>0,!K){const Te=Math.pow(2,8*D-1);w(this,v,E,D,Te-1,-Te)}let G=D-1,Q=1,Ce=0;for(this[E+G]=v&255;--G>=0&&(Q*=256);)v<0&&Ce===0&&this[E+G+1]!==0&&(Ce=1),this[E+G]=(v/Q>>0)-Ce&255;return E+D},a.prototype.writeInt8=function(v,E,D){return v=+v,E=E>>>0,D||w(this,v,E,1,127,-128),v<0&&(v=255+v+1),this[E]=v&255,E+1},a.prototype.writeInt16LE=function(v,E,D){return v=+v,E=E>>>0,D||w(this,v,E,2,32767,-32768),this[E]=v&255,this[E+1]=v>>>8,E+2},a.prototype.writeInt16BE=function(v,E,D){return v=+v,E=E>>>0,D||w(this,v,E,2,32767,-32768),this[E]=v>>>8,this[E+1]=v&255,E+2},a.prototype.writeInt32LE=function(v,E,D){return v=+v,E=E>>>0,D||w(this,v,E,4,2147483647,-2147483648),this[E]=v&255,this[E+1]=v>>>8,this[E+2]=v>>>16,this[E+3]=v>>>24,E+4},a.prototype.writeInt32BE=function(v,E,D){return v=+v,E=E>>>0,D||w(this,v,E,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[E]=v>>>24,this[E+1]=v>>>16,this[E+2]=v>>>8,this[E+3]=v&255,E+4},a.prototype.writeBigInt64LE=Fr(function(v,E=0){return P(this,v,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Fr(function(v,E=0){return ne(this,v,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function oe(k,v,E,D,K,G){if(E+D>k.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function le(k,v,E,D,K){return v=+v,E=E>>>0,K||oe(k,v,E,4),n.write(k,v,E,D,23,4),E+4}a.prototype.writeFloatLE=function(v,E,D){return le(this,v,E,!0,D)},a.prototype.writeFloatBE=function(v,E,D){return le(this,v,E,!1,D)};function Ae(k,v,E,D,K){return v=+v,E=E>>>0,K||oe(k,v,E,8),n.write(k,v,E,D,52,8),E+8}a.prototype.writeDoubleLE=function(v,E,D){return Ae(this,v,E,!0,D)},a.prototype.writeDoubleBE=function(v,E,D){return Ae(this,v,E,!1,D)},a.prototype.copy=function(v,E,D,K){if(!a.isBuffer(v))throw new TypeError("argument should be a Buffer");if(D||(D=0),!K&&K!==0&&(K=this.length),E>=v.length&&(E=v.length),E||(E=0),K>0&&K<D&&(K=D),K===D||v.length===0||this.length===0)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(D<0||D>=this.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("sourceEnd out of bounds");K>this.length&&(K=this.length),v.length-E<K-D&&(K=v.length-E+D);const G=K-D;return this===v&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(E,D,K):Uint8Array.prototype.set.call(v,this.subarray(D,K),E),G},a.prototype.fill=function(v,E,D,K){if(typeof v=="string"){if(typeof E=="string"?(K=E,E=0,D=this.length):typeof D=="string"&&(K=D,D=this.length),K!==void 0&&typeof K!="string")throw new TypeError("encoding must be a string");if(typeof K=="string"&&!a.isEncoding(K))throw new TypeError("Unknown encoding: "+K);if(v.length===1){const Q=v.charCodeAt(0);(K==="utf8"&&Q<128||K==="latin1")&&(v=Q)}}else typeof v=="number"?v=v&255:typeof v=="boolean"&&(v=Number(v));if(E<0||this.length<E||this.length<D)throw new RangeError("Out of range index");if(D<=E)return this;E=E>>>0,D=D===void 0?this.length:D>>>0,v||(v=0);let G;if(typeof v=="number")for(G=E;G<D;++G)this[G]=v;else{const Q=a.isBuffer(v)?v:a.from(v,K),Ce=Q.length;if(Ce===0)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for(G=0;G<D-E;++G)this[G+E]=Q[G%Ce]}return this};const be={};function _e(k,v,E){be[k]=class extends E{constructor(){super(),Object.defineProperty(this,"message",{value:v.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${k}]`,this.stack,delete this.name}get code(){return k}set code(K){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:K,writable:!0})}toString(){return`${this.name} [${k}]: ${this.message}`}}}_e("ERR_BUFFER_OUT_OF_BOUNDS",function(k){return k?`${k} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),_e("ERR_INVALID_ARG_TYPE",function(k,v){return`The "${k}" argument must be of type number. Received type ${typeof v}`},TypeError),_e("ERR_OUT_OF_RANGE",function(k,v,E){let D=`The value of "${k}" is out of range.`,K=E;return Number.isInteger(E)&&Math.abs(E)>2**32?K=gt(String(E)):typeof E=="bigint"&&(K=String(E),(E>BigInt(2)**BigInt(32)||E<-(BigInt(2)**BigInt(32)))&&(K=gt(K)),K+="n"),D+=` It must be ${v}. Received ${K}`,D},RangeError);function gt(k){let v="",E=k.length;const D=k[0]==="-"?1:0;for(;E>=D+4;E-=3)v=`_${k.slice(E-3,E)}${v}`;return`${k.slice(0,E)}${v}`}function qe(k,v,E){Yn(v,"offset"),(k[v]===void 0||k[v+E]===void 0)&&tt(v,k.length-(E+1))}function et(k,v,E,D,K,G){if(k>E||k<v){const Q=typeof v=="bigint"?"n":"";let Ce;throw v===0||v===BigInt(0)?Ce=`>= 0${Q} and < 2${Q} ** ${(G+1)*8}${Q}`:Ce=`>= -(2${Q} ** ${(G+1)*8-1}${Q}) and < 2 ** ${(G+1)*8-1}${Q}`,new be.ERR_OUT_OF_RANGE("value",Ce,k)}qe(D,K,G)}function Yn(k,v){if(typeof k!="number")throw new be.ERR_INVALID_ARG_TYPE(v,"number",k)}function tt(k,v,E){throw Math.floor(k)!==k?(Yn(k,E),new be.ERR_OUT_OF_RANGE("offset","an integer",k)):v<0?new be.ERR_BUFFER_OUT_OF_BOUNDS:new be.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${v}`,k)}const J=/[^+/0-9A-Za-z-_]/g;function Ie(k){if(k=k.split("=")[0],k=k.trim().replace(J,""),k.length<2)return"";for(;k.length%4!==0;)k=k+"=";return k}function ot(k,v){v=v||1/0;let E;const D=k.length;let K=null;const G=[];for(let Q=0;Q<D;++Q){if(E=k.charCodeAt(Q),E>55295&&E<57344){if(!K){if(E>56319){(v-=3)>-1&&G.push(239,191,189);continue}else if(Q+1===D){(v-=3)>-1&&G.push(239,191,189);continue}K=E;continue}if(E<56320){(v-=3)>-1&&G.push(239,191,189),K=E;continue}E=(K-55296<<10|E-56320)+65536}else K&&(v-=3)>-1&&G.push(239,191,189);if(K=null,E<128){if((v-=1)<0)break;G.push(E)}else if(E<2048){if((v-=2)<0)break;G.push(E>>6|192,E&63|128)}else if(E<65536){if((v-=3)<0)break;G.push(E>>12|224,E>>6&63|128,E&63|128)}else if(E<1114112){if((v-=4)<0)break;G.push(E>>18|240,E>>12&63|128,E>>6&63|128,E&63|128)}else throw new Error("Invalid code point")}return G}function Ve(k){const v=[];for(let E=0;E<k.length;++E)v.push(k.charCodeAt(E)&255);return v}function mu(k,v){let E,D,K;const G=[];for(let Q=0;Q<k.length&&!((v-=2)<0);++Q)E=k.charCodeAt(Q),D=E>>8,K=E%256,G.push(K),G.push(D);return G}function vt(k){return e.toByteArray(Ie(k))}function dt(k,v,E,D){let K;for(K=0;K<D&&!(K+E>=v.length||K>=k.length);++K)v[K+E]=k[K];return K}function dr(k,v){return k instanceof v||k!=null&&k.constructor!=null&&k.constructor.name!=null&&k.constructor.name===v.name}function mt(k){return k!==k}const It=function(){const k="0123456789abcdef",v=new Array(256);for(let E=0;E<16;++E){const D=E*16;for(let K=0;K<16;++K)v[D+K]=k[E]+k[K]}return v}();function Fr(k){return typeof BigInt>"u"?Nt:k}function Nt(){throw new Error("BigInt not supported")}})(me);const ea=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function es(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function tl(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function bi(t,...e){if(!es(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function $S(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");tl(t.outputLen),tl(t.blockLen)}function nl(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function HS(t,e){bi(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function MC(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function qo(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Fp(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function oi(t,e){return t<<32-e|t>>>e}const OC=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function LC(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function BC(t){for(let e=0;e<t.length;e++)t[e]=LC(t[e]);return t}const mv=OC?t=>t:BC,KS=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",PC=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function vi(t){if(bi(t),KS)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=PC[t[n]];return e}const Ci={_0:48,_9:57,A:65,F:70,a:97,f:102};function yv(t){if(t>=Ci._0&&t<=Ci._9)return t-Ci._0;if(t>=Ci.A&&t<=Ci.F)return t-(Ci.A-10);if(t>=Ci.a&&t<=Ci.f)return t-(Ci.a-10)}function rl(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(KS)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=yv(t.charCodeAt(o)),a=yv(t.charCodeAt(o+1));if(s===void 0||a===void 0){const l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=s*16+a}return r}function DC(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function dh(t){return typeof t=="string"&&(t=DC(t)),bi(t),t}function Or(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];bi(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}class Wy{}function $y(t){const e=r=>t().update(dh(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function fh(t=32){if(ea&&typeof ea.getRandomValues=="function")return ea.getRandomValues(new Uint8Array(t));if(ea&&typeof ea.randomBytes=="function")return Uint8Array.from(ea.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function UC(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,c=r?0:4;t.setUint32(e+l,s,r),t.setUint32(e+c,a,r)}function jC(t,e,n){return t&e^~t&n}function zC(t,e,n){return t&e^t&n^e&n}class VS extends Wy{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Fp(this.buffer)}update(e){nl(this),e=dh(e),bi(e);const{view:n,buffer:r,blockLen:i}=this,o=e.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=Fp(e);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){nl(this),HS(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,qo(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(r,0),s=0);for(let g=s;g<i;g++)n[g]=0;UC(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=Fp(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<c;g++)a.setUint32(4*g,d[g],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=o,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const lo=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Cn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Lu=BigInt(2**32-1),wv=BigInt(32);function FC(t,e=!1){return e?{h:Number(t&Lu),l:Number(t>>wv&Lu)}:{h:Number(t>>wv&Lu)|0,l:Number(t&Lu)|0}}function GS(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:s,l:a}=FC(t[o],e);[r[o],i[o]]=[s,a]}return[r,i]}const vv=(t,e,n)=>t>>>n,_v=(t,e,n)=>t<<32-n|e>>>n,ta=(t,e,n)=>t>>>n|e<<32-n,na=(t,e,n)=>t<<32-n|e>>>n,Bu=(t,e,n)=>t<<64-n|e>>>n-32,Pu=(t,e,n)=>t>>>n-32|e<<64-n,WC=(t,e,n)=>t<<n|e>>>32-n,$C=(t,e,n)=>e<<n|t>>>32-n,HC=(t,e,n)=>e<<n-32|t>>>64-n,KC=(t,e,n)=>t<<n-32|e>>>64-n;function Mi(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const VC=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),GC=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,qC=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),YC=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,ZC=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),QC=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0,XC=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),co=new Uint32Array(64);class JC extends VS{constructor(e=32){super(64,e,8,!1),this.A=lo[0]|0,this.B=lo[1]|0,this.C=lo[2]|0,this.D=lo[3]|0,this.E=lo[4]|0,this.F=lo[5]|0,this.G=lo[6]|0,this.H=lo[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[e,n,r,i,o,s,a,l]}set(e,n,r,i,o,s,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(e,n){for(let g=0;g<16;g++,n+=4)co[g]=e.getUint32(n,!1);for(let g=16;g<64;g++){const p=co[g-15],f=co[g-2],m=oi(p,7)^oi(p,18)^p>>>3,x=oi(f,17)^oi(f,19)^f>>>10;co[g]=x+co[g-7]+m+co[g-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:c,H:d}=this;for(let g=0;g<64;g++){const p=oi(a,6)^oi(a,11)^oi(a,25),f=d+p+jC(a,l,c)+XC[g]+co[g]|0,x=(oi(r,2)^oi(r,13)^oi(r,22))+zC(r,i,o)|0;d=c,c=l,l=a,a=s+f|0,s=o,o=i,i=r,r=f+x|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(r,i,o,s,a,l,c,d)}roundClean(){qo(co)}destroy(){this.set(0,0,0,0,0,0,0,0),qo(this.buffer)}}const qS=GS(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),eM=qS[0],tM=qS[1],uo=new Uint32Array(80),fo=new Uint32Array(80);class nM extends VS{constructor(e=64){super(128,e,16,!1),this.Ah=Cn[0]|0,this.Al=Cn[1]|0,this.Bh=Cn[2]|0,this.Bl=Cn[3]|0,this.Ch=Cn[4]|0,this.Cl=Cn[5]|0,this.Dh=Cn[6]|0,this.Dl=Cn[7]|0,this.Eh=Cn[8]|0,this.El=Cn[9]|0,this.Fh=Cn[10]|0,this.Fl=Cn[11]|0,this.Gh=Cn[12]|0,this.Gl=Cn[13]|0,this.Hh=Cn[14]|0,this.Hl=Cn[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:l,Eh:c,El:d,Fh:g,Fl:p,Gh:f,Gl:m,Hh:x,Hl:R}=this;return[e,n,r,i,o,s,a,l,c,d,g,p,f,m,x,R]}set(e,n,r,i,o,s,a,l,c,d,g,p,f,m,x,R){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=d|0,this.Fh=g|0,this.Fl=p|0,this.Gh=f|0,this.Gl=m|0,this.Hh=x|0,this.Hl=R|0}process(e,n){for(let _=0;_<16;_++,n+=4)uo[_]=e.getUint32(n),fo[_]=e.getUint32(n+=4);for(let _=16;_<80;_++){const I=uo[_-15]|0,L=fo[_-15]|0,z=ta(I,L,1)^ta(I,L,8)^vv(I,L,7),B=na(I,L,1)^na(I,L,8)^_v(I,L,7),F=uo[_-2]|0,U=fo[_-2]|0,W=ta(F,U,19)^Bu(F,U,61)^vv(F,U,6),$=na(F,U,19)^Pu(F,U,61)^_v(F,U,6),H=qC(B,$,fo[_-7],fo[_-16]),A=YC(H,z,W,uo[_-7],uo[_-16]);uo[_]=A|0,fo[_]=H|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:l,Dh:c,Dl:d,Eh:g,El:p,Fh:f,Fl:m,Gh:x,Gl:R,Hh:y,Hl:b}=this;for(let _=0;_<80;_++){const I=ta(g,p,14)^ta(g,p,18)^Bu(g,p,41),L=na(g,p,14)^na(g,p,18)^Pu(g,p,41),z=g&f^~g&x,B=p&m^~p&R,F=ZC(b,L,B,tM[_],fo[_]),U=QC(F,y,I,z,eM[_],uo[_]),W=F|0,$=ta(r,i,28)^Bu(r,i,34)^Bu(r,i,39),H=na(r,i,28)^Pu(r,i,34)^Pu(r,i,39),A=r&o^r&a^o&a,u=i&s^i&l^s&l;y=x|0,b=R|0,x=f|0,R=m|0,f=g|0,m=p|0,{h:g,l:p}=Mi(c|0,d|0,U|0,W|0),c=a|0,d=l|0,a=o|0,l=s|0,o=r|0,s=i|0;const h=VC(W,H,u);r=GC(h,U,$,A),i=h|0}({h:r,l:i}=Mi(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=Mi(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l}=Mi(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:d}=Mi(this.Dh|0,this.Dl|0,c|0,d|0),{h:g,l:p}=Mi(this.Eh|0,this.El|0,g|0,p|0),{h:f,l:m}=Mi(this.Fh|0,this.Fl|0,f|0,m|0),{h:x,l:R}=Mi(this.Gh|0,this.Gl|0,x|0,R|0),{h:y,l:b}=Mi(this.Hh|0,this.Hl|0,y|0,b|0),this.set(r,i,o,s,a,l,c,d,g,p,f,m,x,R,y,b)}roundClean(){qo(uo,fo)}destroy(){qo(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const YS=$y(()=>new JC),ZS=$y(()=>new nM);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Hy=BigInt(0),Tg=BigInt(1);function Us(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function qr(t,e,n=""){const r=es(t),i=t==null?void 0:t.length,o=e!==void 0;if(!r||o&&i!==e){const s=n&&`"${n}" `,a=o?` of length ${e}`:"",l=r?`length=${i}`:`type=${typeof t}`;throw new Error(s+"expected Uint8Array"+a+", got "+l)}return t}function Du(t){const e=t.toString(16);return e.length&1?"0"+e:e}function QS(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Hy:BigInt("0x"+t)}function hh(t){return QS(vi(t))}function Dc(t){return bi(t),QS(vi(Uint8Array.from(t).reverse()))}function Ky(t,e){return rl(t.toString(16).padStart(e*2,"0"))}function XS(t,e){return Ky(t,e).reverse()}function Ct(t,e,n){let r;if(typeof e=="string")try{r=rl(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(es(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function Ev(t){return Uint8Array.from(t)}const Wp=t=>typeof t=="bigint"&&Hy<=t;function rM(t,e,n){return Wp(t)&&Wp(e)&&Wp(n)&&e<=t&&t<n}function kg(t,e,n,r){if(!rM(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function JS(t){let e;for(e=0;t>Hy;t>>=Tg,e+=1);return e}const Jc=t=>(Tg<<BigInt(t))-Tg;function iM(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=f=>new Uint8Array(f),i=f=>Uint8Array.of(f);let o=r(t),s=r(t),a=0;const l=()=>{o.fill(1),s.fill(0),a=0},c=(...f)=>n(s,o,...f),d=(f=r(0))=>{s=c(i(0),f),o=c(),f.length!==0&&(s=c(i(1),f),o=c())},g=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const m=[];for(;f<e;){o=c();const x=o.slice();m.push(x),f+=o.length}return Or(...m)};return(f,m)=>{l(),d(f);let x;for(;!(x=m(g()));)d();return l(),x}}function eu(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,o,s){const a=t[i];if(s&&a===void 0)return;const l=typeof a;if(l!==o||a===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${l}`)}Object.entries(e).forEach(([i,o])=>r(i,o,!1)),Object.entries(n).forEach(([i,o])=>r(i,o,!0))}function wf(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const o=t(n,...r);return e.set(n,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const or=BigInt(0),In=BigInt(1),ws=BigInt(2),eA=BigInt(3),tA=BigInt(4),nA=BigInt(5),oM=BigInt(7),rA=BigInt(8),sM=BigInt(9),iA=BigInt(16);function tn(t,e){const n=t%e;return n>=or?n:e+n}function kt(t,e,n){let r=t;for(;e-- >or;)r*=r,r%=n;return r}function bv(t,e){if(t===or)throw new Error("invert: expected non-zero number");if(e<=or)throw new Error("invert: expected positive modulus, got "+e);let n=tn(t,e),r=e,i=or,o=In;for(;n!==or;){const a=r/n,l=r%n,c=i-o*a;r=n,n=l,i=o,o=c}if(r!==In)throw new Error("invert: does not exist");return tn(i,e)}function Vy(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function oA(t,e){const n=(t.ORDER+In)/tA,r=t.pow(e,n);return Vy(t,r,e),r}function aM(t,e){const n=(t.ORDER-nA)/rA,r=t.mul(e,ws),i=t.pow(r,n),o=t.mul(e,i),s=t.mul(t.mul(o,ws),i),a=t.mul(o,t.sub(s,t.ONE));return Vy(t,a,e),a}function lM(t){const e=Ks(t),n=sA(t),r=n(e,e.neg(e.ONE)),i=n(e,r),o=n(e,e.neg(r)),s=(t+oM)/iA;return(a,l)=>{let c=a.pow(l,s),d=a.mul(c,r);const g=a.mul(c,i),p=a.mul(c,o),f=a.eql(a.sqr(d),l),m=a.eql(a.sqr(g),l);c=a.cmov(c,d,f),d=a.cmov(p,g,m);const x=a.eql(a.sqr(d),l),R=a.cmov(c,d,x);return Vy(a,R,l),R}}function sA(t){if(t<eA)throw new Error("sqrt is not defined for small field");let e=t-In,n=0;for(;e%ws===or;)e/=ws,n++;let r=ws;const i=Ks(t);for(;Sv(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return oA;let o=i.pow(r,e);const s=(e+In)/ws;return function(l,c){if(l.is0(c))return c;if(Sv(l,c)!==1)throw new Error("Cannot find square root");let d=n,g=l.mul(l.ONE,o),p=l.pow(c,e),f=l.pow(c,s);for(;!l.eql(p,l.ONE);){if(l.is0(p))return l.ZERO;let m=1,x=l.sqr(p);for(;!l.eql(x,l.ONE);)if(m++,x=l.sqr(x),m===d)throw new Error("Cannot find square root");const R=In<<BigInt(d-m-1),y=l.pow(g,R);d=m,g=l.sqr(y),p=l.mul(p,g),f=l.mul(f,y)}return f}}function cM(t){return t%tA===eA?oA:t%rA===nA?aM:t%iA===sM?lM(t):sA(t)}const uM=(t,e)=>(tn(t,e)&In)===In,dM=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function fM(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=dM.reduce((r,i)=>(r[i]="function",r),e);return eu(t,n),t}function hM(t,e,n){if(n<or)throw new Error("invalid exponent, negatives unsupported");if(n===or)return t.ONE;if(n===In)return e;let r=t.ONE,i=e;for(;n>or;)n&In&&(r=t.mul(r,i)),i=t.sqr(i),n>>=In;return r}function aA(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((s,a,l)=>t.is0(a)?s:(r[l]=s,t.mul(s,a)),t.ONE),o=t.inv(i);return e.reduceRight((s,a,l)=>t.is0(a)?s:(r[l]=t.mul(s,r[l]),t.mul(s,a)),o),r}function Sv(t,e){const n=(t.ORDER-In)/ws,r=t.pow(e,n),i=t.eql(r,t.ONE),o=t.eql(r,t.ZERO),s=t.eql(r,t.neg(t.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function lA(t,e){e!==void 0&&tl(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Ks(t,e,n=!1,r={}){if(t<=or)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,o,s=!1,a;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const p=e;p.BITS&&(i=p.BITS),p.sqrt&&(o=p.sqrt),typeof p.isLE=="boolean"&&(n=p.isLE),typeof p.modFromBytes=="boolean"&&(s=p.modFromBytes),a=p.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(o=r.sqrt);const{nBitLength:l,nByteLength:c}=lA(t,i);if(c>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let d;const g=Object.freeze({ORDER:t,isLE:n,BITS:l,BYTES:c,MASK:Jc(l),ZERO:or,ONE:In,allowedLengths:a,create:p=>tn(p,t),isValid:p=>{if(typeof p!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof p);return or<=p&&p<t},is0:p=>p===or,isValidNot0:p=>!g.is0(p)&&g.isValid(p),isOdd:p=>(p&In)===In,neg:p=>tn(-p,t),eql:(p,f)=>p===f,sqr:p=>tn(p*p,t),add:(p,f)=>tn(p+f,t),sub:(p,f)=>tn(p-f,t),mul:(p,f)=>tn(p*f,t),pow:(p,f)=>hM(g,p,f),div:(p,f)=>tn(p*bv(f,t),t),sqrN:p=>p*p,addN:(p,f)=>p+f,subN:(p,f)=>p-f,mulN:(p,f)=>p*f,inv:p=>bv(p,t),sqrt:o||(p=>(d||(d=cM(t)),d(g,p))),toBytes:p=>n?XS(p,c):Ky(p,c),fromBytes:(p,f=!0)=>{if(a){if(!a.includes(p.length)||p.length>c)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+p.length);const x=new Uint8Array(c);x.set(p,n?0:x.length-p.length),p=x}if(p.length!==c)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+p.length);let m=n?Dc(p):hh(p);if(s&&(m=tn(m,t)),!f&&!g.isValid(m))throw new Error("invalid field element: outside of range 0..ORDER");return m},invertBatch:p=>aA(g,p),cmov:(p,f,m)=>m?f:p});return Object.freeze(g)}function cA(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function uA(t){const e=cA(t);return e+Math.ceil(e/2)}function pM(t,e,n=!1){const r=t.length,i=cA(e),o=uA(e);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=n?Dc(t):hh(t),a=tn(s,e-In)+In;return n?XS(a,i):Ky(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const il=BigInt(0),vs=BigInt(1);function vf(t,e){const n=e.negate();return t?n:e}function _s(t,e){const n=aA(t.Fp,e.map(r=>r.Z));return e.map((r,i)=>t.fromAffine(r.toAffine(n[i])))}function dA(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function $p(t,e){dA(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,o=Jc(t),s=BigInt(t);return{windows:n,windowSize:r,mask:o,maxNumber:i,shiftBy:s}}function Av(t,e,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=n;let a=Number(t&i),l=t>>s;a>r&&(a-=o,l+=vs);const c=e*r,d=c+Math.abs(a)-1,g=a===0,p=a<0,f=e%2!==0;return{nextN:l,offset:d,isZero:g,isNeg:p,isNegF:f,offsetF:c}}function gM(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function mM(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Hp=new WeakMap,fA=new WeakMap;function Kp(t){return fA.get(t)||1}function xv(t){if(t!==il)throw new Error("invalid wNAF")}let hA=class{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let i=e;for(;n>il;)n&vs&&(r=r.add(i)),i=i.double(),n>>=vs;return r}precomputeWindow(e,n){const{windows:r,windowSize:i}=$p(n,this.bits),o=[];let s=e,a=s;for(let l=0;l<r;l++){a=s,o.push(a);for(let c=1;c<i;c++)a=a.add(s),o.push(a);s=a.double()}return o}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,o=this.BASE;const s=$p(e,this.bits);for(let a=0;a<s.windows;a++){const{nextN:l,offset:c,isZero:d,isNeg:g,isNegF:p,offsetF:f}=Av(r,a,s);r=l,d?o=o.add(vf(p,n[f])):i=i.add(vf(g,n[c]))}return xv(r),{p:i,f:o}}wNAFUnsafe(e,n,r,i=this.ZERO){const o=$p(e,this.bits);for(let s=0;s<o.windows&&r!==il;s++){const{nextN:a,offset:l,isZero:c,isNeg:d}=Av(r,s,o);if(r=a,!c){const g=n[l];i=i.add(d?g.negate():g)}}return xv(r),i}getPrecomputes(e,n,r){let i=Hp.get(n);return i||(i=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(i=r(i)),Hp.set(n,i))),i}cached(e,n,r){const i=Kp(e);return this.wNAF(i,this.getPrecomputes(i,e,r),n)}unsafe(e,n,r,i){const o=Kp(e);return o===1?this._unsafeLadder(e,n,i):this.wNAFUnsafe(o,this.getPrecomputes(o,e,r),n,i)}createCache(e,n){dA(n,this.bits),fA.set(e,n),Hp.delete(e)}hasCache(e){return Kp(e)!==1}};function yM(t,e,n,r){let i=e,o=t.ZERO,s=t.ZERO;for(;n>il||r>il;)n&vs&&(o=o.add(i)),r&vs&&(s=s.add(i)),i=i.double(),n>>=vs,r>>=vs;return{p1:o,p2:s}}function pA(t,e,n,r){gM(n,t),mM(r,e);const i=n.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,a=JS(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=Jc(l),d=new Array(Number(c)+1).fill(s),g=Math.floor((e.BITS-1)/l)*l;let p=s;for(let f=g;f>=0;f-=l){d.fill(s);for(let x=0;x<o;x++){const R=r[x],y=Number(R>>BigInt(f)&c);d[y]=d[y].add(n[x])}let m=s;for(let x=d.length-1,R=s;x>0;x--)R=R.add(d[x]),m=m.add(R);if(p=p.add(m),f!==0)for(let x=0;x<l;x++)p=p.double()}return p}function Rv(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return fM(e),e}else return Ks(t,{isLE:n})}function gA(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const l of["p","n","h"]){const c=e[l];if(!(typeof c=="bigint"&&c>il))throw new Error(`CURVE.${l} must be positive bigint`)}const i=Rv(e.p,n.Fp,r),o=Rv(e.n,n.Fn,r),a=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(const l of a)if(!i.isValid(e[l]))throw new Error(`CURVE.${l} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ho=BigInt(0),hn=BigInt(1),Vp=BigInt(2),wM=BigInt(8);function vM(t,e,n,r){const i=t.sqr(n),o=t.sqr(r),s=t.add(t.mul(e.a,i),o),a=t.add(t.ONE,t.mul(e.d,t.mul(i,o)));return t.eql(s,a)}function _M(t,e={}){const n=gA("edwards",t,e,e.FpFnLE),{Fp:r,Fn:i}=n;let o=n.CURVE;const{h:s}=o;eu(e,{},{uvRatio:"function"});const a=Vp<<BigInt(i.BYTES*8)-hn,l=R=>r.create(R),c=e.uvRatio||((R,y)=>{try{return{isValid:!0,value:r.sqrt(r.div(R,y))}}catch{return{isValid:!1,value:ho}}});if(!vM(r,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function d(R,y,b=!1){const _=b?hn:ho;return kg("coordinate "+R,y,_,a),y}function g(R){if(!(R instanceof m))throw new Error("ExtendedPoint expected")}const p=wf((R,y)=>{const{X:b,Y:_,Z:I}=R,L=R.is0();y==null&&(y=L?wM:r.inv(I));const z=l(b*y),B=l(_*y),F=r.mul(I,y);if(L)return{x:ho,y:hn};if(F!==hn)throw new Error("invZ was invalid");return{x:z,y:B}}),f=wf(R=>{const{a:y,d:b}=o;if(R.is0())throw new Error("bad point: ZERO");const{X:_,Y:I,Z:L,T:z}=R,B=l(_*_),F=l(I*I),U=l(L*L),W=l(U*U),$=l(B*y),H=l(U*l($+F)),A=l(W+l(b*l(B*F)));if(H!==A)throw new Error("bad point: equation left != right (1)");const u=l(_*I),h=l(L*z);if(u!==h)throw new Error("bad point: equation left != right (2)");return!0});class m{constructor(y,b,_,I){this.X=d("x",y),this.Y=d("y",b),this.Z=d("z",_,!0),this.T=d("t",I),Object.freeze(this)}static CURVE(){return o}static fromAffine(y){if(y instanceof m)throw new Error("extended point not allowed");const{x:b,y:_}=y||{};return d("x",b),d("y",_),new m(b,_,hn,l(b*_))}static fromBytes(y,b=!1){const _=r.BYTES,{a:I,d:L}=o;y=Ev(qr(y,_,"point")),Us(b,"zip215");const z=Ev(y),B=y[_-1];z[_-1]=B&-129;const F=Dc(z),U=b?a:r.ORDER;kg("point.y",F,ho,U);const W=l(F*F),$=l(W-hn),H=l(L*W-I);let{isValid:A,value:u}=c($,H);if(!A)throw new Error("bad point: invalid y coordinate");const h=(u&hn)===hn,S=(B&128)!==0;if(!b&&u===ho&&S)throw new Error("bad point: x=0 and x_0=1");return S!==h&&(u=l(-u)),m.fromAffine({x:u,y:F})}static fromHex(y,b=!1){return m.fromBytes(Ct("point",y),b)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(y=8,b=!0){return x.createCache(this,y),b||this.multiply(Vp),this}assertValidity(){f(this)}equals(y){g(y);const{X:b,Y:_,Z:I}=this,{X:L,Y:z,Z:B}=y,F=l(b*B),U=l(L*I),W=l(_*B),$=l(z*I);return F===U&&W===$}is0(){return this.equals(m.ZERO)}negate(){return new m(l(-this.X),this.Y,this.Z,l(-this.T))}double(){const{a:y}=o,{X:b,Y:_,Z:I}=this,L=l(b*b),z=l(_*_),B=l(Vp*l(I*I)),F=l(y*L),U=b+_,W=l(l(U*U)-L-z),$=F+z,H=$-B,A=F-z,u=l(W*H),h=l($*A),S=l(W*A),N=l(H*$);return new m(u,h,N,S)}add(y){g(y);const{a:b,d:_}=o,{X:I,Y:L,Z:z,T:B}=this,{X:F,Y:U,Z:W,T:$}=y,H=l(I*F),A=l(L*U),u=l(B*_*$),h=l(z*W),S=l((I+L)*(F+U)-H-A),N=h-u,T=h+u,O=l(A-b*H),j=l(S*N),C=l(T*O),w=l(S*O),P=l(N*T);return new m(j,C,P,w)}subtract(y){return this.add(y.negate())}multiply(y){if(!i.isValidNot0(y))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:b,f:_}=x.cached(this,y,I=>_s(m,I));return _s(m,[b,_])[0]}multiplyUnsafe(y,b=m.ZERO){if(!i.isValid(y))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return y===ho?m.ZERO:this.is0()||y===hn?this:x.unsafe(this,y,_=>_s(m,_),b)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}isTorsionFree(){return x.unsafe(this,o.n).is0()}toAffine(y){return p(this,y)}clearCofactor(){return s===hn?this:this.multiplyUnsafe(s)}toBytes(){const{x:y,y:b}=this.toAffine(),_=r.toBytes(b);return _[_.length-1]|=y&hn?128:0,_}toHex(){return vi(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(y){return _s(m,y)}static msm(y,b){return pA(m,i,y,b)}_setWindowSize(y){this.precompute(y)}toRawBytes(){return this.toBytes()}}m.BASE=new m(o.Gx,o.Gy,hn,l(o.Gx*o.Gy)),m.ZERO=new m(ho,hn,hn,ho),m.Fp=r,m.Fn=i;const x=new hA(m,i.BITS);return m.BASE.precompute(8),m}function EM(t,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');eu(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:i,Fp:o,Fn:s}=t,a=n.randomBytes||fh,l=n.adjustScalarBytes||(U=>U),c=n.domain||((U,W,$)=>{if(Us($,"phflag"),W.length||$)throw new Error("Contexts/pre-hash are not supported");return U});function d(U){return s.create(Dc(U))}function g(U){const W=_.secretKey;U=Ct("private key",U,W);const $=Ct("hashed private key",e(U),2*W),H=l($.slice(0,W)),A=$.slice(W,2*W),u=d(H);return{head:H,prefix:A,scalar:u}}function p(U){const{head:W,prefix:$,scalar:H}=g(U),A=i.multiply(H),u=A.toBytes();return{head:W,prefix:$,scalar:H,point:A,pointBytes:u}}function f(U){return p(U).pointBytes}function m(U=Uint8Array.of(),...W){const $=Or(...W);return d(e(c($,Ct("context",U),!!r)))}function x(U,W,$={}){U=Ct("message",U),r&&(U=r(U));const{prefix:H,scalar:A,pointBytes:u}=p(W),h=m($.context,H,U),S=i.multiply(h).toBytes(),N=m($.context,S,u,U),T=s.create(h+N*A);if(!s.isValid(T))throw new Error("sign failed: invalid s");const O=Or(S,s.toBytes(T));return qr(O,_.signature,"result")}const R={zip215:!0};function y(U,W,$,H=R){const{context:A,zip215:u}=H,h=_.signature;U=Ct("signature",U,h),W=Ct("message",W),$=Ct("publicKey",$,_.publicKey),u!==void 0&&Us(u,"zip215"),r&&(W=r(W));const S=h/2,N=U.subarray(0,S),T=Dc(U.subarray(S,h));let O,j,C;try{O=t.fromBytes($,u),j=t.fromBytes(N,u),C=i.multiplyUnsafe(T)}catch{return!1}if(!u&&O.isSmallOrder())return!1;const w=m(A,j.toBytes(),O.toBytes(),W);return j.add(O.multiplyUnsafe(w)).subtract(C).clearCofactor().is0()}const b=o.BYTES,_={secretKey:b,publicKey:b,signature:2*b,seed:b};function I(U=a(_.seed)){return qr(U,_.seed,"seed")}function L(U){const W=F.randomSecretKey(U);return{secretKey:W,publicKey:f(W)}}function z(U){return es(U)&&U.length===s.BYTES}function B(U,W){try{return!!t.fromBytes(U,W)}catch{return!1}}const F={getExtendedPublicKey:p,randomSecretKey:I,isValidSecretKey:z,isValidPublicKey:B,toMontgomery(U){const{y:W}=t.fromBytes(U),$=_.publicKey,H=$===32;if(!H&&$!==57)throw new Error("only defined for 25519 and 448");const A=H?o.div(hn+W,hn-W):o.div(W-hn,W+hn);return o.toBytes(A)},toMontgomeryPriv(U){const W=_.secretKey;qr(U,W);const $=e(U.subarray(0,W));return l($).subarray(0,W)},randomPrivateKey:I,precompute(U=8,W=t.BASE){return W.precompute(U,!1)}};return Object.freeze({keygen:L,getPublicKey:f,sign:x,verify:y,utils:F,Point:t,lengths:_})}function bM(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=Ks(e.n,t.nBitLength,!0),i={Fp:n,Fn:r,uvRatio:t.uvRatio},o={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:i,hash:t.hash,eddsaOpts:o}}function SM(t,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:t,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function AM(t){const{CURVE:e,curveOpts:n,hash:r,eddsaOpts:i}=bM(t),o=_M(e,n),s=EM(o,r,i);return SM(t,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xM=BigInt(1),Iv=BigInt(2);BigInt(3);const RM=BigInt(5),IM=BigInt(8),Gy=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),mA={p:Gy,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:IM,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function NM(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=Gy,a=t*t%o*t%o,l=kt(a,Iv,o)*a%o,c=kt(l,xM,o)*t%o,d=kt(c,RM,o)*c%o,g=kt(d,e,o)*d%o,p=kt(g,n,o)*g%o,f=kt(p,r,o)*p%o,m=kt(f,i,o)*f%o,x=kt(m,i,o)*f%o,R=kt(x,e,o)*d%o;return{pow_p_5_8:kt(R,Iv,o)*t%o,b2:a}}function TM(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const Nv=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function kM(t,e){const n=Gy,r=tn(e*e*e,n),i=tn(r*r*e,n),o=NM(t*i).pow_p_5_8;let s=tn(t*r*o,n);const a=tn(e*s*s,n),l=s,c=tn(s*Nv,n),d=a===t,g=a===tn(-t,n),p=a===tn(-t*Nv,n);return d&&(s=l),(g||p)&&(s=c),uM(s,n)&&(s=tn(-s,n)),{isValid:d||g,value:s}}const CM=Ks(mA.p,{isLE:!0}),MM={...mA,Fp:CM,hash:ZS,adjustScalarBytes:TM,uvRatio:kM},El=AM(MM);var qy={exports:{}};const OM={},LM=Object.freeze(Object.defineProperty({__proto__:null,default:OM},Symbol.toStringTag,{value:"Module"})),BM=io(LM);qy.exports;(function(t){(function(e,n){function r(A,u){if(!A)throw new Error(u||"Assertion failed")}function i(A,u){A.super_=u;var h=function(){};h.prototype=u.prototype,A.prototype=new h,A.prototype.constructor=A}function o(A,u,h){if(o.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&((u==="le"||u==="be")&&(h=u,u=10),this._init(A||0,u||10,h||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=BM.Buffer}catch{}o.isBN=function(u){return u instanceof o?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===o.wordSize&&Array.isArray(u.words)},o.max=function(u,h){return u.cmp(h)>0?u:h},o.min=function(u,h){return u.cmp(h)<0?u:h},o.prototype._init=function(u,h,S){if(typeof u=="number")return this._initNumber(u,h,S);if(typeof u=="object")return this._initArray(u,h,S);h==="hex"&&(h=16),r(h===(h|0)&&h>=2&&h<=36),u=u.toString().replace(/\s+/g,"");var N=0;u[0]==="-"&&(N++,this.negative=1),N<u.length&&(h===16?this._parseHex(u,N,S):(this._parseBase(u,h,N),S==="le"&&this._initArray(this.toArray(),h,S)))},o.prototype._initNumber=function(u,h,S){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(r(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),h,S)},o.prototype._initArray=function(u,h,S){if(r(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var T,O,j=0;if(S==="be")for(N=u.length-1,T=0;N>=0;N-=3)O=u[N]|u[N-1]<<8|u[N-2]<<16,this.words[T]|=O<<j&67108863,this.words[T+1]=O>>>26-j&67108863,j+=24,j>=26&&(j-=26,T++);else if(S==="le")for(N=0,T=0;N<u.length;N+=3)O=u[N]|u[N+1]<<8|u[N+2]<<16,this.words[T]|=O<<j&67108863,this.words[T+1]=O>>>26-j&67108863,j+=24,j>=26&&(j-=26,T++);return this._strip()};function a(A,u){var h=A.charCodeAt(u);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;r(!1,"Invalid character in "+A)}function l(A,u,h){var S=a(A,h);return h-1>=u&&(S|=a(A,h-1)<<4),S}o.prototype._parseHex=function(u,h,S){this.length=Math.ceil((u.length-h)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var T=0,O=0,j;if(S==="be")for(N=u.length-1;N>=h;N-=2)j=l(u,h,N)<<T,this.words[O]|=j&67108863,T>=18?(T-=18,O+=1,this.words[O]|=j>>>26):T+=8;else{var C=u.length-h;for(N=C%2===0?h+1:h;N<u.length;N+=2)j=l(u,h,N)<<T,this.words[O]|=j&67108863,T>=18?(T-=18,O+=1,this.words[O]|=j>>>26):T+=8}this._strip()};function c(A,u,h,S){for(var N=0,T=0,O=Math.min(A.length,h),j=u;j<O;j++){var C=A.charCodeAt(j)-48;N*=S,C>=49?T=C-49+10:C>=17?T=C-17+10:T=C,r(C>=0&&T<S,"Invalid character"),N+=T}return N}o.prototype._parseBase=function(u,h,S){this.words=[0],this.length=1;for(var N=0,T=1;T<=67108863;T*=h)N++;N--,T=T/h|0;for(var O=u.length-S,j=O%N,C=Math.min(O,O-j)+S,w=0,P=S;P<C;P+=N)w=c(u,P,P+N,h),this.imuln(T),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w);if(j!==0){var ne=1;for(w=c(u,P,u.length,h),P=0;P<j;P++)ne*=h;this.imuln(ne),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w)}this._strip()},o.prototype.copy=function(u){u.words=new Array(this.length);for(var h=0;h<this.length;h++)u.words[h]=this.words[h];u.length=this.length,u.negative=this.negative,u.red=this.red};function d(A,u){A.words=u.words,A.length=u.length,A.negative=u.negative,A.red=u.red}if(o.prototype._move=function(u){d(u,this)},o.prototype.clone=function(){var u=new o(null);return this.copy(u),u},o.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{o.prototype.inspect=g}else o.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(u,h){u=u||10,h=h|0||1;var S;if(u===16||u==="hex"){S="";for(var N=0,T=0,O=0;O<this.length;O++){var j=this.words[O],C=((j<<N|T)&16777215).toString(16);T=j>>>24-N&16777215,N+=2,N>=26&&(N-=26,O--),T!==0||O!==this.length-1?S=p[6-C.length]+C+S:S=C+S}for(T!==0&&(S=T.toString(16)+S);S.length%h!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(u===(u|0)&&u>=2&&u<=36){var w=f[u],P=m[u];S="";var ne=this.clone();for(ne.negative=0;!ne.isZero();){var oe=ne.modrn(P).toString(u);ne=ne.idivn(P),ne.isZero()?S=oe+S:S=p[w-oe.length]+oe+S}for(this.isZero()&&(S="0"+S);S.length%h!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(u,h){return this.toArrayLike(s,u,h)}),o.prototype.toArray=function(u,h){return this.toArrayLike(Array,u,h)};var x=function(u,h){return u.allocUnsafe?u.allocUnsafe(h):new u(h)};o.prototype.toArrayLike=function(u,h,S){this._strip();var N=this.byteLength(),T=S||Math.max(1,N);r(N<=T,"byte array longer than desired length"),r(T>0,"Requested array length <= 0");var O=x(u,T),j=h==="le"?"LE":"BE";return this["_toArrayLike"+j](O,N),O},o.prototype._toArrayLikeLE=function(u,h){for(var S=0,N=0,T=0,O=0;T<this.length;T++){var j=this.words[T]<<O|N;u[S++]=j&255,S<u.length&&(u[S++]=j>>8&255),S<u.length&&(u[S++]=j>>16&255),O===6?(S<u.length&&(u[S++]=j>>24&255),N=0,O=0):(N=j>>>24,O+=2)}if(S<u.length)for(u[S++]=N;S<u.length;)u[S++]=0},o.prototype._toArrayLikeBE=function(u,h){for(var S=u.length-1,N=0,T=0,O=0;T<this.length;T++){var j=this.words[T]<<O|N;u[S--]=j&255,S>=0&&(u[S--]=j>>8&255),S>=0&&(u[S--]=j>>16&255),O===6?(S>=0&&(u[S--]=j>>24&255),N=0,O=0):(N=j>>>24,O+=2)}if(S>=0)for(u[S--]=N;S>=0;)u[S--]=0},Math.clz32?o.prototype._countBits=function(u){return 32-Math.clz32(u)}:o.prototype._countBits=function(u){var h=u,S=0;return h>=4096&&(S+=13,h>>>=13),h>=64&&(S+=7,h>>>=7),h>=8&&(S+=4,h>>>=4),h>=2&&(S+=2,h>>>=2),S+h},o.prototype._zeroBits=function(u){if(u===0)return 26;var h=u,S=0;return h&8191||(S+=13,h>>>=13),h&127||(S+=7,h>>>=7),h&15||(S+=4,h>>>=4),h&3||(S+=2,h>>>=2),h&1||S++,S},o.prototype.bitLength=function(){var u=this.words[this.length-1],h=this._countBits(u);return(this.length-1)*26+h};function R(A){for(var u=new Array(A.bitLength()),h=0;h<u.length;h++){var S=h/26|0,N=h%26;u[h]=A.words[S]>>>N&1}return u}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,h=0;h<this.length;h++){var S=this._zeroBits(this.words[h]);if(u+=S,S!==26)break}return u},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},o.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]|u.words[h];return this._strip()},o.prototype.ior=function(u){return r((this.negative|u.negative)===0),this.iuor(u)},o.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},o.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},o.prototype.iuand=function(u){var h;this.length>u.length?h=u:h=this;for(var S=0;S<h.length;S++)this.words[S]=this.words[S]&u.words[S];return this.length=h.length,this._strip()},o.prototype.iand=function(u){return r((this.negative|u.negative)===0),this.iuand(u)},o.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},o.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},o.prototype.iuxor=function(u){var h,S;this.length>u.length?(h=this,S=u):(h=u,S=this);for(var N=0;N<S.length;N++)this.words[N]=h.words[N]^S.words[N];if(this!==h)for(;N<h.length;N++)this.words[N]=h.words[N];return this.length=h.length,this._strip()},o.prototype.ixor=function(u){return r((this.negative|u.negative)===0),this.iuxor(u)},o.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},o.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},o.prototype.inotn=function(u){r(typeof u=="number"&&u>=0);var h=Math.ceil(u/26)|0,S=u%26;this._expand(h),S>0&&h--;for(var N=0;N<h;N++)this.words[N]=~this.words[N]&67108863;return S>0&&(this.words[N]=~this.words[N]&67108863>>26-S),this._strip()},o.prototype.notn=function(u){return this.clone().inotn(u)},o.prototype.setn=function(u,h){r(typeof u=="number"&&u>=0);var S=u/26|0,N=u%26;return this._expand(S+1),h?this.words[S]=this.words[S]|1<<N:this.words[S]=this.words[S]&~(1<<N),this._strip()},o.prototype.iadd=function(u){var h;if(this.negative!==0&&u.negative===0)return this.negative=0,h=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,h=this.isub(u),u.negative=1,h._normSign();var S,N;this.length>u.length?(S=this,N=u):(S=u,N=this);for(var T=0,O=0;O<N.length;O++)h=(S.words[O]|0)+(N.words[O]|0)+T,this.words[O]=h&67108863,T=h>>>26;for(;T!==0&&O<S.length;O++)h=(S.words[O]|0)+T,this.words[O]=h&67108863,T=h>>>26;if(this.length=S.length,T!==0)this.words[this.length]=T,this.length++;else if(S!==this)for(;O<S.length;O++)this.words[O]=S.words[O];return this},o.prototype.add=function(u){var h;return u.negative!==0&&this.negative===0?(u.negative=0,h=this.sub(u),u.negative^=1,h):u.negative===0&&this.negative!==0?(this.negative=0,h=u.sub(this),this.negative=1,h):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},o.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var h=this.iadd(u);return u.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var S=this.cmp(u);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var N,T;S>0?(N=this,T=u):(N=u,T=this);for(var O=0,j=0;j<T.length;j++)h=(N.words[j]|0)-(T.words[j]|0)+O,O=h>>26,this.words[j]=h&67108863;for(;O!==0&&j<N.length;j++)h=(N.words[j]|0)+O,O=h>>26,this.words[j]=h&67108863;if(O===0&&j<N.length&&N!==this)for(;j<N.length;j++)this.words[j]=N.words[j];return this.length=Math.max(this.length,j),N!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(u){return this.clone().isub(u)};function y(A,u,h){h.negative=u.negative^A.negative;var S=A.length+u.length|0;h.length=S,S=S-1|0;var N=A.words[0]|0,T=u.words[0]|0,O=N*T,j=O&67108863,C=O/67108864|0;h.words[0]=j;for(var w=1;w<S;w++){for(var P=C>>>26,ne=C&67108863,oe=Math.min(w,u.length-1),le=Math.max(0,w-A.length+1);le<=oe;le++){var Ae=w-le|0;N=A.words[Ae]|0,T=u.words[le]|0,O=N*T+ne,P+=O/67108864|0,ne=O&67108863}h.words[w]=ne|0,C=P|0}return C!==0?h.words[w]=C|0:h.length--,h._strip()}var b=function(u,h,S){var N=u.words,T=h.words,O=S.words,j=0,C,w,P,ne=N[0]|0,oe=ne&8191,le=ne>>>13,Ae=N[1]|0,be=Ae&8191,_e=Ae>>>13,gt=N[2]|0,qe=gt&8191,et=gt>>>13,Yn=N[3]|0,tt=Yn&8191,J=Yn>>>13,Ie=N[4]|0,ot=Ie&8191,Ve=Ie>>>13,mu=N[5]|0,vt=mu&8191,dt=mu>>>13,dr=N[6]|0,mt=dr&8191,It=dr>>>13,Fr=N[7]|0,Nt=Fr&8191,k=Fr>>>13,v=N[8]|0,E=v&8191,D=v>>>13,K=N[9]|0,G=K&8191,Q=K>>>13,Ce=T[0]|0,Te=Ce&8191,xe=Ce>>>13,ft=T[1]|0,Se=ft&8191,Dt=ft>>>13,Jw=T[2]|0,Ut=Jw&8191,jt=Jw>>>13,e1=T[3]|0,zt=e1&8191,Ft=e1>>>13,t1=T[4]|0,Wt=t1&8191,$t=t1>>>13,n1=T[5]|0,Ht=n1&8191,Kt=n1>>>13,r1=T[6]|0,Vt=r1&8191,Gt=r1>>>13,i1=T[7]|0,qt=i1&8191,Yt=i1>>>13,o1=T[8]|0,Zt=o1&8191,Qt=o1>>>13,s1=T[9]|0,Xt=s1&8191,Jt=s1>>>13;S.negative=u.negative^h.negative,S.length=19,C=Math.imul(oe,Te),w=Math.imul(oe,xe),w=w+Math.imul(le,Te)|0,P=Math.imul(le,xe);var Yh=(j+C|0)+((w&8191)<<13)|0;j=(P+(w>>>13)|0)+(Yh>>>26)|0,Yh&=67108863,C=Math.imul(be,Te),w=Math.imul(be,xe),w=w+Math.imul(_e,Te)|0,P=Math.imul(_e,xe),C=C+Math.imul(oe,Se)|0,w=w+Math.imul(oe,Dt)|0,w=w+Math.imul(le,Se)|0,P=P+Math.imul(le,Dt)|0;var Zh=(j+C|0)+((w&8191)<<13)|0;j=(P+(w>>>13)|0)+(Zh>>>26)|0,Zh&=67108863,C=Math.imul(qe,Te),w=Math.imul(qe,xe),w=w+Math.imul(et,Te)|0,P=Math.imul(et,xe),C=C+Math.imul(be,Se)|0,w=w+Math.imul(be,Dt)|0,w=w+Math.imul(_e,Se)|0,P=P+Math.imul(_e,Dt)|0,C=C+Math.imul(oe,Ut)|0,w=w+Math.imul(oe,jt)|0,w=w+Math.imul(le,Ut)|0,P=P+Math.imul(le,jt)|0;var Qh=(j+C|0)+((w&8191)<<13)|0;j=(P+(w>>>13)|0)+(Qh>>>26)|0,Qh&=67108863,C=Math.imul(tt,Te),w=Math.imul(tt,xe),w=w+Math.imul(J,Te)|0,P=Math.imul(J,xe),C=C+Math.imul(qe,Se)|0,w=w+Math.imul(qe,Dt)|0,w=w+Math.imul(et,Se)|0,P=P+Math.imul(et,Dt)|0,C=C+Math.imul(be,Ut)|0,w=w+Math.imul(be,jt)|0,w=w+Math.imul(_e,Ut)|0,P=P+Math.imul(_e,jt)|0,C=C+Math.imul(oe,zt)|0,w=w+Math.imul(oe,Ft)|0,w=w+Math.imul(le,zt)|0,P=P+Math.imul(le,Ft)|0;var Xh=(j+C|0)+((w&8191)<<13)|0;j=(P+(w>>>13)|0)+(Xh>>>26)|0,Xh&=67108863,C=Math.imul(ot,Te),w=Math.imul(ot,xe),w=w+Math.imul(Ve,Te)|0,P=Math.imul(Ve,xe),C=C+Math.imul(tt,Se)|0,w=w+Math.imul(tt,Dt)|0,w=w+Math.imul(J,Se)|0,P=P+Math.imul(J,Dt)|0,C=C+Math.imul(qe,Ut)|0,w=w+Math.imul(qe,jt)|0,w=w+Math.imul(et,Ut)|0,P=P+Math.imul(et,jt)|0,C=C+Math.imul(be,zt)|0,w=w+Math.imul(be,Ft)|0,w=w+Math.imul(_e,zt)|0,P=P+Math.imul(_e,Ft)|0,C=C+Math.imul(oe,Wt)|0,w=w+Math.imul(oe,$t)|0,w=w+Math.imul(le,Wt)|0,P=P+Math.imul(le,$t)|0;var Jh=(j+C|0)+((w&8191)<<13)|0;j=(P+(w>>>13)|0)+(Jh>>>26)|0,Jh&=67108863,C=Math.imul(vt,Te),w=Math.imul(vt,xe),w=w+Math.imul(dt,Te)|0,P=Math.imul(dt,xe),C=C+Math.imul(ot,Se)|0,w=w+Math.imul(ot,Dt)|0,w=w+Math.imul(Ve,Se)|0,P=P+Math.imul(Ve,Dt)|0,C=C+Math.imul(tt,Ut)|0,w=w+Math.imul(tt,jt)|0,w=w+Math.imul(J,Ut)|0,P=P+Math.imul(J,jt)|0,C=C+Math.imul(qe,zt)|0,w=w+Math.imul(qe,Ft)|0,w=w+Math.imul(et,zt)|0,P=P+Math.imul(et,Ft)|0,C=C+Math.imul(be,Wt)|0,w=w+Math.imul(be,$t)|0,w=w+Math.imul(_e,Wt)|0,P=P+Math.imul(_e,$t)|0,C=C+Math.imul(oe,Ht)|0,w=w+Math.imul(oe,Kt)|0,w=w+Math.imul(le,Ht)|0,P=P+Math.imul(le,Kt)|0;var ep=(j+C|0)+((w&8191)<<13)|0;j=(P+(w>>>13)|0)+(ep>>>26)|0,ep&=67108863,C=Math.imul(mt,Te),w=Math.imul(mt,xe),w=w+Math.imul(It,Te)|0,P=Math.imul(It,xe),C=C+Math.imul(vt,Se)|0,w=w+Math.imul(vt,Dt)|0,w=w+Math.imul(dt,Se)|0,P=P+Math.imul(dt,Dt)|0,C=C+Math.imul(ot,Ut)|0,w=w+Math.imul(ot,jt)|0,w=w+Math.imul(Ve,Ut)|0,P=P+Math.imul(Ve,jt)|0,C=C+Math.imul(tt,zt)|0,w=w+Math.imul(tt,Ft)|0,w=w+Math.imul(J,zt)|0,P=P+Math.imul(J,Ft)|0,C=C+Math.imul(qe,Wt)|0,w=w+Math.imul(qe,$t)|0,w=w+Math.imul(et,Wt)|0,P=P+Math.imul(et,$t)|0,C=C+Math.imul(be,Ht)|0,w=w+Math.imul(be,Kt)|0,w=w+Math.imul(_e,Ht)|0,P=P+Math.imul(_e,Kt)|0,C=C+Math.imul(oe,Vt)|0,w=w+Math.imul(oe,Gt)|0,w=w+Math.imul(le,Vt)|0,P=P+Math.imul(le,Gt)|0;var tp=(j+C|0)+((w&8191)<<13)|0;j=(P+(w>>>13)|0)+(tp>>>26)|0,tp&=67108863,C=Math.imul(Nt,Te),w=Math.imul(Nt,xe),w=w+Math.imul(k,Te)|0,P=Math.imul(k,xe),C=C+Math.imul(mt,Se)|0,w=w+Math.imul(mt,Dt)|0,w=w+Math.imul(It,Se)|0,P=P+Math.imul(It,Dt)|0,C=C+Math.imul(vt,Ut)|0,w=w+Math.imul(vt,jt)|0,w=w+Math.imul(dt,Ut)|0,P=P+Math.imul(dt,jt)|0,C=C+Math.imul(ot,zt)|0,w=w+Math.imul(ot,Ft)|0,w=w+Math.imul(Ve,zt)|0,P=P+Math.imul(Ve,Ft)|0,C=C+Math.imul(tt,Wt)|0,w=w+Math.imul(tt,$t)|0,w=w+Math.imul(J,Wt)|0,P=P+Math.imul(J,$t)|0,C=C+Math.imul(qe,Ht)|0,w=w+Math.imul(qe,Kt)|0,w=w+Math.imul(et,Ht)|0,P=P+Math.imul(et,Kt)|0,C=C+Math.imul(be,Vt)|0,w=w+Math.imul(be,Gt)|0,w=w+Math.imul(_e,Vt)|0,P=P+Math.imul(_e,Gt)|0,C=C+Math.imul(oe,qt)|0,w=w+Math.imul(oe,Yt)|0,w=w+Math.imul(le,qt)|0,P=P+Math.imul(le,Yt)|0;var np=(j+C|0)+((w&8191)<<13)|0;j=(P+(w>>>13)|0)+(np>>>26)|0,np&=67108863,C=Math.imul(E,Te),w=Math.imul(E,xe),w=w+Math.imul(D,Te)|0,P=Math.imul(D,xe),C=C+Math.imul(Nt,Se)|0,w=w+Math.imul(Nt,Dt)|0,w=w+Math.imul(k,Se)|0,P=P+Math.imul(k,Dt)|0,C=C+Math.imul(mt,Ut)|0,w=w+Math.imul(mt,jt)|0,w=w+Math.imul(It,Ut)|0,P=P+Math.imul(It,jt)|0,C=C+Math.imul(vt,zt)|0,w=w+Math.imul(vt,Ft)|0,w=w+Math.imul(dt,zt)|0,P=P+Math.imul(dt,Ft)|0,C=C+Math.imul(ot,Wt)|0,w=w+Math.imul(ot,$t)|0,w=w+Math.imul(Ve,Wt)|0,P=P+Math.imul(Ve,$t)|0,C=C+Math.imul(tt,Ht)|0,w=w+Math.imul(tt,Kt)|0,w=w+Math.imul(J,Ht)|0,P=P+Math.imul(J,Kt)|0,C=C+Math.imul(qe,Vt)|0,w=w+Math.imul(qe,Gt)|0,w=w+Math.imul(et,Vt)|0,P=P+Math.imul(et,Gt)|0,C=C+Math.imul(be,qt)|0,w=w+Math.imul(be,Yt)|0,w=w+Math.imul(_e,qt)|0,P=P+Math.imul(_e,Yt)|0,C=C+Math.imul(oe,Zt)|0,w=w+Math.imul(oe,Qt)|0,w=w+Math.imul(le,Zt)|0,P=P+Math.imul(le,Qt)|0;var rp=(j+C|0)+((w&8191)<<13)|0;j=(P+(w>>>13)|0)+(rp>>>26)|0,rp&=67108863,C=Math.imul(G,Te),w=Math.imul(G,xe),w=w+Math.imul(Q,Te)|0,P=Math.imul(Q,xe),C=C+Math.imul(E,Se)|0,w=w+Math.imul(E,Dt)|0,w=w+Math.imul(D,Se)|0,P=P+Math.imul(D,Dt)|0,C=C+Math.imul(Nt,Ut)|0,w=w+Math.imul(Nt,jt)|0,w=w+Math.imul(k,Ut)|0,P=P+Math.imul(k,jt)|0,C=C+Math.imul(mt,zt)|0,w=w+Math.imul(mt,Ft)|0,w=w+Math.imul(It,zt)|0,P=P+Math.imul(It,Ft)|0,C=C+Math.imul(vt,Wt)|0,w=w+Math.imul(vt,$t)|0,w=w+Math.imul(dt,Wt)|0,P=P+Math.imul(dt,$t)|0,C=C+Math.imul(ot,Ht)|0,w=w+Math.imul(ot,Kt)|0,w=w+Math.imul(Ve,Ht)|0,P=P+Math.imul(Ve,Kt)|0,C=C+Math.imul(tt,Vt)|0,w=w+Math.imul(tt,Gt)|0,w=w+Math.imul(J,Vt)|0,P=P+Math.imul(J,Gt)|0,C=C+Math.imul(qe,qt)|0,w=w+Math.imul(qe,Yt)|0,w=w+Math.imul(et,qt)|0,P=P+Math.imul(et,Yt)|0,C=C+Math.imul(be,Zt)|0,w=w+Math.imul(be,Qt)|0,w=w+Math.imul(_e,Zt)|0,P=P+Math.imul(_e,Qt)|0,C=C+Math.imul(oe,Xt)|0,w=w+Math.imul(oe,Jt)|0,w=w+Math.imul(le,Xt)|0,P=P+Math.imul(le,Jt)|0;var ip=(j+C|0)+((w&8191)<<13)|0;j=(P+(w>>>13)|0)+(ip>>>26)|0,ip&=67108863,C=Math.imul(G,Se),w=Math.imul(G,Dt),w=w+Math.imul(Q,Se)|0,P=Math.imul(Q,Dt),C=C+Math.imul(E,Ut)|0,w=w+Math.imul(E,jt)|0,w=w+Math.imul(D,Ut)|0,P=P+Math.imul(D,jt)|0,C=C+Math.imul(Nt,zt)|0,w=w+Math.imul(Nt,Ft)|0,w=w+Math.imul(k,zt)|0,P=P+Math.imul(k,Ft)|0,C=C+Math.imul(mt,Wt)|0,w=w+Math.imul(mt,$t)|0,w=w+Math.imul(It,Wt)|0,P=P+Math.imul(It,$t)|0,C=C+Math.imul(vt,Ht)|0,w=w+Math.imul(vt,Kt)|0,w=w+Math.imul(dt,Ht)|0,P=P+Math.imul(dt,Kt)|0,C=C+Math.imul(ot,Vt)|0,w=w+Math.imul(ot,Gt)|0,w=w+Math.imul(Ve,Vt)|0,P=P+Math.imul(Ve,Gt)|0,C=C+Math.imul(tt,qt)|0,w=w+Math.imul(tt,Yt)|0,w=w+Math.imul(J,qt)|0,P=P+Math.imul(J,Yt)|0,C=C+Math.imul(qe,Zt)|0,w=w+Math.imul(qe,Qt)|0,w=w+Math.imul(et,Zt)|0,P=P+Math.imul(et,Qt)|0,C=C+Math.imul(be,Xt)|0,w=w+Math.imul(be,Jt)|0,w=w+Math.imul(_e,Xt)|0,P=P+Math.imul(_e,Jt)|0;var op=(j+C|0)+((w&8191)<<13)|0;j=(P+(w>>>13)|0)+(op>>>26)|0,op&=67108863,C=Math.imul(G,Ut),w=Math.imul(G,jt),w=w+Math.imul(Q,Ut)|0,P=Math.imul(Q,jt),C=C+Math.imul(E,zt)|0,w=w+Math.imul(E,Ft)|0,w=w+Math.imul(D,zt)|0,P=P+Math.imul(D,Ft)|0,C=C+Math.imul(Nt,Wt)|0,w=w+Math.imul(Nt,$t)|0,w=w+Math.imul(k,Wt)|0,P=P+Math.imul(k,$t)|0,C=C+Math.imul(mt,Ht)|0,w=w+Math.imul(mt,Kt)|0,w=w+Math.imul(It,Ht)|0,P=P+Math.imul(It,Kt)|0,C=C+Math.imul(vt,Vt)|0,w=w+Math.imul(vt,Gt)|0,w=w+Math.imul(dt,Vt)|0,P=P+Math.imul(dt,Gt)|0,C=C+Math.imul(ot,qt)|0,w=w+Math.imul(ot,Yt)|0,w=w+Math.imul(Ve,qt)|0,P=P+Math.imul(Ve,Yt)|0,C=C+Math.imul(tt,Zt)|0,w=w+Math.imul(tt,Qt)|0,w=w+Math.imul(J,Zt)|0,P=P+Math.imul(J,Qt)|0,C=C+Math.imul(qe,Xt)|0,w=w+Math.imul(qe,Jt)|0,w=w+Math.imul(et,Xt)|0,P=P+Math.imul(et,Jt)|0;var sp=(j+C|0)+((w&8191)<<13)|0;j=(P+(w>>>13)|0)+(sp>>>26)|0,sp&=67108863,C=Math.imul(G,zt),w=Math.imul(G,Ft),w=w+Math.imul(Q,zt)|0,P=Math.imul(Q,Ft),C=C+Math.imul(E,Wt)|0,w=w+Math.imul(E,$t)|0,w=w+Math.imul(D,Wt)|0,P=P+Math.imul(D,$t)|0,C=C+Math.imul(Nt,Ht)|0,w=w+Math.imul(Nt,Kt)|0,w=w+Math.imul(k,Ht)|0,P=P+Math.imul(k,Kt)|0,C=C+Math.imul(mt,Vt)|0,w=w+Math.imul(mt,Gt)|0,w=w+Math.imul(It,Vt)|0,P=P+Math.imul(It,Gt)|0,C=C+Math.imul(vt,qt)|0,w=w+Math.imul(vt,Yt)|0,w=w+Math.imul(dt,qt)|0,P=P+Math.imul(dt,Yt)|0,C=C+Math.imul(ot,Zt)|0,w=w+Math.imul(ot,Qt)|0,w=w+Math.imul(Ve,Zt)|0,P=P+Math.imul(Ve,Qt)|0,C=C+Math.imul(tt,Xt)|0,w=w+Math.imul(tt,Jt)|0,w=w+Math.imul(J,Xt)|0,P=P+Math.imul(J,Jt)|0;var ap=(j+C|0)+((w&8191)<<13)|0;j=(P+(w>>>13)|0)+(ap>>>26)|0,ap&=67108863,C=Math.imul(G,Wt),w=Math.imul(G,$t),w=w+Math.imul(Q,Wt)|0,P=Math.imul(Q,$t),C=C+Math.imul(E,Ht)|0,w=w+Math.imul(E,Kt)|0,w=w+Math.imul(D,Ht)|0,P=P+Math.imul(D,Kt)|0,C=C+Math.imul(Nt,Vt)|0,w=w+Math.imul(Nt,Gt)|0,w=w+Math.imul(k,Vt)|0,P=P+Math.imul(k,Gt)|0,C=C+Math.imul(mt,qt)|0,w=w+Math.imul(mt,Yt)|0,w=w+Math.imul(It,qt)|0,P=P+Math.imul(It,Yt)|0,C=C+Math.imul(vt,Zt)|0,w=w+Math.imul(vt,Qt)|0,w=w+Math.imul(dt,Zt)|0,P=P+Math.imul(dt,Qt)|0,C=C+Math.imul(ot,Xt)|0,w=w+Math.imul(ot,Jt)|0,w=w+Math.imul(Ve,Xt)|0,P=P+Math.imul(Ve,Jt)|0;var lp=(j+C|0)+((w&8191)<<13)|0;j=(P+(w>>>13)|0)+(lp>>>26)|0,lp&=67108863,C=Math.imul(G,Ht),w=Math.imul(G,Kt),w=w+Math.imul(Q,Ht)|0,P=Math.imul(Q,Kt),C=C+Math.imul(E,Vt)|0,w=w+Math.imul(E,Gt)|0,w=w+Math.imul(D,Vt)|0,P=P+Math.imul(D,Gt)|0,C=C+Math.imul(Nt,qt)|0,w=w+Math.imul(Nt,Yt)|0,w=w+Math.imul(k,qt)|0,P=P+Math.imul(k,Yt)|0,C=C+Math.imul(mt,Zt)|0,w=w+Math.imul(mt,Qt)|0,w=w+Math.imul(It,Zt)|0,P=P+Math.imul(It,Qt)|0,C=C+Math.imul(vt,Xt)|0,w=w+Math.imul(vt,Jt)|0,w=w+Math.imul(dt,Xt)|0,P=P+Math.imul(dt,Jt)|0;var cp=(j+C|0)+((w&8191)<<13)|0;j=(P+(w>>>13)|0)+(cp>>>26)|0,cp&=67108863,C=Math.imul(G,Vt),w=Math.imul(G,Gt),w=w+Math.imul(Q,Vt)|0,P=Math.imul(Q,Gt),C=C+Math.imul(E,qt)|0,w=w+Math.imul(E,Yt)|0,w=w+Math.imul(D,qt)|0,P=P+Math.imul(D,Yt)|0,C=C+Math.imul(Nt,Zt)|0,w=w+Math.imul(Nt,Qt)|0,w=w+Math.imul(k,Zt)|0,P=P+Math.imul(k,Qt)|0,C=C+Math.imul(mt,Xt)|0,w=w+Math.imul(mt,Jt)|0,w=w+Math.imul(It,Xt)|0,P=P+Math.imul(It,Jt)|0;var up=(j+C|0)+((w&8191)<<13)|0;j=(P+(w>>>13)|0)+(up>>>26)|0,up&=67108863,C=Math.imul(G,qt),w=Math.imul(G,Yt),w=w+Math.imul(Q,qt)|0,P=Math.imul(Q,Yt),C=C+Math.imul(E,Zt)|0,w=w+Math.imul(E,Qt)|0,w=w+Math.imul(D,Zt)|0,P=P+Math.imul(D,Qt)|0,C=C+Math.imul(Nt,Xt)|0,w=w+Math.imul(Nt,Jt)|0,w=w+Math.imul(k,Xt)|0,P=P+Math.imul(k,Jt)|0;var dp=(j+C|0)+((w&8191)<<13)|0;j=(P+(w>>>13)|0)+(dp>>>26)|0,dp&=67108863,C=Math.imul(G,Zt),w=Math.imul(G,Qt),w=w+Math.imul(Q,Zt)|0,P=Math.imul(Q,Qt),C=C+Math.imul(E,Xt)|0,w=w+Math.imul(E,Jt)|0,w=w+Math.imul(D,Xt)|0,P=P+Math.imul(D,Jt)|0;var fp=(j+C|0)+((w&8191)<<13)|0;j=(P+(w>>>13)|0)+(fp>>>26)|0,fp&=67108863,C=Math.imul(G,Xt),w=Math.imul(G,Jt),w=w+Math.imul(Q,Xt)|0,P=Math.imul(Q,Jt);var hp=(j+C|0)+((w&8191)<<13)|0;return j=(P+(w>>>13)|0)+(hp>>>26)|0,hp&=67108863,O[0]=Yh,O[1]=Zh,O[2]=Qh,O[3]=Xh,O[4]=Jh,O[5]=ep,O[6]=tp,O[7]=np,O[8]=rp,O[9]=ip,O[10]=op,O[11]=sp,O[12]=ap,O[13]=lp,O[14]=cp,O[15]=up,O[16]=dp,O[17]=fp,O[18]=hp,j!==0&&(O[19]=j,S.length++),S};Math.imul||(b=y);function _(A,u,h){h.negative=u.negative^A.negative,h.length=A.length+u.length;for(var S=0,N=0,T=0;T<h.length-1;T++){var O=N;N=0;for(var j=S&67108863,C=Math.min(T,u.length-1),w=Math.max(0,T-A.length+1);w<=C;w++){var P=T-w,ne=A.words[P]|0,oe=u.words[w]|0,le=ne*oe,Ae=le&67108863;O=O+(le/67108864|0)|0,Ae=Ae+j|0,j=Ae&67108863,O=O+(Ae>>>26)|0,N+=O>>>26,O&=67108863}h.words[T]=j,S=O,O=N}return S!==0?h.words[T]=S:h.length--,h._strip()}function I(A,u,h){return _(A,u,h)}o.prototype.mulTo=function(u,h){var S,N=this.length+u.length;return this.length===10&&u.length===10?S=b(this,u,h):N<63?S=y(this,u,h):N<1024?S=_(this,u,h):S=I(this,u,h),S},o.prototype.mul=function(u){var h=new o(null);return h.words=new Array(this.length+u.length),this.mulTo(u,h)},o.prototype.mulf=function(u){var h=new o(null);return h.words=new Array(this.length+u.length),I(this,u,h)},o.prototype.imul=function(u){return this.clone().mulTo(u,this)},o.prototype.imuln=function(u){var h=u<0;h&&(u=-u),r(typeof u=="number"),r(u<67108864);for(var S=0,N=0;N<this.length;N++){var T=(this.words[N]|0)*u,O=(T&67108863)+(S&67108863);S>>=26,S+=T/67108864|0,S+=O>>>26,this.words[N]=O&67108863}return S!==0&&(this.words[N]=S,this.length++),this.length=u===0?1:this.length,h?this.ineg():this},o.prototype.muln=function(u){return this.clone().imuln(u)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(u){var h=R(u);if(h.length===0)return new o(1);for(var S=this,N=0;N<h.length&&h[N]===0;N++,S=S.sqr());if(++N<h.length)for(var T=S.sqr();N<h.length;N++,T=T.sqr())h[N]!==0&&(S=S.mul(T));return S},o.prototype.iushln=function(u){r(typeof u=="number"&&u>=0);var h=u%26,S=(u-h)/26,N=67108863>>>26-h<<26-h,T;if(h!==0){var O=0;for(T=0;T<this.length;T++){var j=this.words[T]&N,C=(this.words[T]|0)-j<<h;this.words[T]=C|O,O=j>>>26-h}O&&(this.words[T]=O,this.length++)}if(S!==0){for(T=this.length-1;T>=0;T--)this.words[T+S]=this.words[T];for(T=0;T<S;T++)this.words[T]=0;this.length+=S}return this._strip()},o.prototype.ishln=function(u){return r(this.negative===0),this.iushln(u)},o.prototype.iushrn=function(u,h,S){r(typeof u=="number"&&u>=0);var N;h?N=(h-h%26)/26:N=0;var T=u%26,O=Math.min((u-T)/26,this.length),j=67108863^67108863>>>T<<T,C=S;if(N-=O,N=Math.max(0,N),C){for(var w=0;w<O;w++)C.words[w]=this.words[w];C.length=O}if(O!==0)if(this.length>O)for(this.length-=O,w=0;w<this.length;w++)this.words[w]=this.words[w+O];else this.words[0]=0,this.length=1;var P=0;for(w=this.length-1;w>=0&&(P!==0||w>=N);w--){var ne=this.words[w]|0;this.words[w]=P<<26-T|ne>>>T,P=ne&j}return C&&P!==0&&(C.words[C.length++]=P),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(u,h,S){return r(this.negative===0),this.iushrn(u,h,S)},o.prototype.shln=function(u){return this.clone().ishln(u)},o.prototype.ushln=function(u){return this.clone().iushln(u)},o.prototype.shrn=function(u){return this.clone().ishrn(u)},o.prototype.ushrn=function(u){return this.clone().iushrn(u)},o.prototype.testn=function(u){r(typeof u=="number"&&u>=0);var h=u%26,S=(u-h)/26,N=1<<h;if(this.length<=S)return!1;var T=this.words[S];return!!(T&N)},o.prototype.imaskn=function(u){r(typeof u=="number"&&u>=0);var h=u%26,S=(u-h)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(h!==0&&S++,this.length=Math.min(S,this.length),h!==0){var N=67108863^67108863>>>h<<h;this.words[this.length-1]&=N}return this._strip()},o.prototype.maskn=function(u){return this.clone().imaskn(u)},o.prototype.iaddn=function(u){return r(typeof u=="number"),r(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},o.prototype._iaddn=function(u){this.words[0]+=u;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},o.prototype.isubn=function(u){if(r(typeof u=="number"),r(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},o.prototype.addn=function(u){return this.clone().iaddn(u)},o.prototype.subn=function(u){return this.clone().isubn(u)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(u,h,S){var N=u.length+S,T;this._expand(N);var O,j=0;for(T=0;T<u.length;T++){O=(this.words[T+S]|0)+j;var C=(u.words[T]|0)*h;O-=C&67108863,j=(O>>26)-(C/67108864|0),this.words[T+S]=O&67108863}for(;T<this.length-S;T++)O=(this.words[T+S]|0)+j,j=O>>26,this.words[T+S]=O&67108863;if(j===0)return this._strip();for(r(j===-1),j=0,T=0;T<this.length;T++)O=-(this.words[T]|0)+j,j=O>>26,this.words[T]=O&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(u,h){var S=this.length-u.length,N=this.clone(),T=u,O=T.words[T.length-1]|0,j=this._countBits(O);S=26-j,S!==0&&(T=T.ushln(S),N.iushln(S),O=T.words[T.length-1]|0);var C=N.length-T.length,w;if(h!=="mod"){w=new o(null),w.length=C+1,w.words=new Array(w.length);for(var P=0;P<w.length;P++)w.words[P]=0}var ne=N.clone()._ishlnsubmul(T,1,C);ne.negative===0&&(N=ne,w&&(w.words[C]=1));for(var oe=C-1;oe>=0;oe--){var le=(N.words[T.length+oe]|0)*67108864+(N.words[T.length+oe-1]|0);for(le=Math.min(le/O|0,67108863),N._ishlnsubmul(T,le,oe);N.negative!==0;)le--,N.negative=0,N._ishlnsubmul(T,1,oe),N.isZero()||(N.negative^=1);w&&(w.words[oe]=le)}return w&&w._strip(),N._strip(),h!=="div"&&S!==0&&N.iushrn(S),{div:w||null,mod:N}},o.prototype.divmod=function(u,h,S){if(r(!u.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var N,T,O;return this.negative!==0&&u.negative===0?(O=this.neg().divmod(u,h),h!=="mod"&&(N=O.div.neg()),h!=="div"&&(T=O.mod.neg(),S&&T.negative!==0&&T.iadd(u)),{div:N,mod:T}):this.negative===0&&u.negative!==0?(O=this.divmod(u.neg(),h),h!=="mod"&&(N=O.div.neg()),{div:N,mod:O.mod}):this.negative&u.negative?(O=this.neg().divmod(u.neg(),h),h!=="div"&&(T=O.mod.neg(),S&&T.negative!==0&&T.isub(u)),{div:O.div,mod:T}):u.length>this.length||this.cmp(u)<0?{div:new o(0),mod:this}:u.length===1?h==="div"?{div:this.divn(u.words[0]),mod:null}:h==="mod"?{div:null,mod:new o(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new o(this.modrn(u.words[0]))}:this._wordDiv(u,h)},o.prototype.div=function(u){return this.divmod(u,"div",!1).div},o.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},o.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},o.prototype.divRound=function(u){var h=this.divmod(u);if(h.mod.isZero())return h.div;var S=h.div.negative!==0?h.mod.isub(u):h.mod,N=u.ushrn(1),T=u.andln(1),O=S.cmp(N);return O<0||T===1&&O===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},o.prototype.modrn=function(u){var h=u<0;h&&(u=-u),r(u<=67108863);for(var S=(1<<26)%u,N=0,T=this.length-1;T>=0;T--)N=(S*N+(this.words[T]|0))%u;return h?-N:N},o.prototype.modn=function(u){return this.modrn(u)},o.prototype.idivn=function(u){var h=u<0;h&&(u=-u),r(u<=67108863);for(var S=0,N=this.length-1;N>=0;N--){var T=(this.words[N]|0)+S*67108864;this.words[N]=T/u|0,S=T%u}return this._strip(),h?this.ineg():this},o.prototype.divn=function(u){return this.clone().idivn(u)},o.prototype.egcd=function(u){r(u.negative===0),r(!u.isZero());var h=this,S=u.clone();h.negative!==0?h=h.umod(u):h=h.clone();for(var N=new o(1),T=new o(0),O=new o(0),j=new o(1),C=0;h.isEven()&&S.isEven();)h.iushrn(1),S.iushrn(1),++C;for(var w=S.clone(),P=h.clone();!h.isZero();){for(var ne=0,oe=1;!(h.words[0]&oe)&&ne<26;++ne,oe<<=1);if(ne>0)for(h.iushrn(ne);ne-- >0;)(N.isOdd()||T.isOdd())&&(N.iadd(w),T.isub(P)),N.iushrn(1),T.iushrn(1);for(var le=0,Ae=1;!(S.words[0]&Ae)&&le<26;++le,Ae<<=1);if(le>0)for(S.iushrn(le);le-- >0;)(O.isOdd()||j.isOdd())&&(O.iadd(w),j.isub(P)),O.iushrn(1),j.iushrn(1);h.cmp(S)>=0?(h.isub(S),N.isub(O),T.isub(j)):(S.isub(h),O.isub(N),j.isub(T))}return{a:O,b:j,gcd:S.iushln(C)}},o.prototype._invmp=function(u){r(u.negative===0),r(!u.isZero());var h=this,S=u.clone();h.negative!==0?h=h.umod(u):h=h.clone();for(var N=new o(1),T=new o(0),O=S.clone();h.cmpn(1)>0&&S.cmpn(1)>0;){for(var j=0,C=1;!(h.words[0]&C)&&j<26;++j,C<<=1);if(j>0)for(h.iushrn(j);j-- >0;)N.isOdd()&&N.iadd(O),N.iushrn(1);for(var w=0,P=1;!(S.words[0]&P)&&w<26;++w,P<<=1);if(w>0)for(S.iushrn(w);w-- >0;)T.isOdd()&&T.iadd(O),T.iushrn(1);h.cmp(S)>=0?(h.isub(S),N.isub(T)):(S.isub(h),T.isub(N))}var ne;return h.cmpn(1)===0?ne=N:ne=T,ne.cmpn(0)<0&&ne.iadd(u),ne},o.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var h=this.clone(),S=u.clone();h.negative=0,S.negative=0;for(var N=0;h.isEven()&&S.isEven();N++)h.iushrn(1),S.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;S.isEven();)S.iushrn(1);var T=h.cmp(S);if(T<0){var O=h;h=S,S=O}else if(T===0||S.cmpn(1)===0)break;h.isub(S)}while(!0);return S.iushln(N)},o.prototype.invm=function(u){return this.egcd(u).a.umod(u)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(u){return this.words[0]&u},o.prototype.bincn=function(u){r(typeof u=="number");var h=u%26,S=(u-h)/26,N=1<<h;if(this.length<=S)return this._expand(S+1),this.words[S]|=N,this;for(var T=N,O=S;T!==0&&O<this.length;O++){var j=this.words[O]|0;j+=T,T=j>>>26,j&=67108863,this.words[O]=j}return T!==0&&(this.words[O]=T,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(u){var h=u<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var S;if(this.length>1)S=1;else{h&&(u=-u),r(u<=67108863,"Number is too big");var N=this.words[0]|0;S=N===u?0:N<u?-1:1}return this.negative!==0?-S|0:S},o.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var h=this.ucmp(u);return this.negative!==0?-h|0:h},o.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var h=0,S=this.length-1;S>=0;S--){var N=this.words[S]|0,T=u.words[S]|0;if(N!==T){N<T?h=-1:N>T&&(h=1);break}}return h},o.prototype.gtn=function(u){return this.cmpn(u)===1},o.prototype.gt=function(u){return this.cmp(u)===1},o.prototype.gten=function(u){return this.cmpn(u)>=0},o.prototype.gte=function(u){return this.cmp(u)>=0},o.prototype.ltn=function(u){return this.cmpn(u)===-1},o.prototype.lt=function(u){return this.cmp(u)===-1},o.prototype.lten=function(u){return this.cmpn(u)<=0},o.prototype.lte=function(u){return this.cmp(u)<=0},o.prototype.eqn=function(u){return this.cmpn(u)===0},o.prototype.eq=function(u){return this.cmp(u)===0},o.red=function(u){return new $(u)},o.prototype.toRed=function(u){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(u){return this.red=u,this},o.prototype.forceRed=function(u){return r(!this.red,"Already a number in reduction context"),this._forceRed(u)},o.prototype.redAdd=function(u){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},o.prototype.redIAdd=function(u){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},o.prototype.redSub=function(u){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},o.prototype.redISub=function(u){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},o.prototype.redShl=function(u){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},o.prototype.redMul=function(u){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},o.prototype.redIMul=function(u){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(u){return r(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var L={k256:null,p224:null,p192:null,p25519:null};function z(A,u){this.name=A,this.p=new o(u,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}z.prototype._tmp=function(){var u=new o(null);return u.words=new Array(Math.ceil(this.n/13)),u},z.prototype.ireduce=function(u){var h=u,S;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),S=h.bitLength();while(S>this.n);var N=S<this.n?-1:h.ucmp(this.p);return N===0?(h.words[0]=0,h.length=1):N>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},z.prototype.split=function(u,h){u.iushrn(this.n,0,h)},z.prototype.imulK=function(u){return u.imul(this.k)};function B(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(B,z),B.prototype.split=function(u,h){for(var S=4194303,N=Math.min(u.length,9),T=0;T<N;T++)h.words[T]=u.words[T];if(h.length=N,u.length<=9){u.words[0]=0,u.length=1;return}var O=u.words[9];for(h.words[h.length++]=O&S,T=10;T<u.length;T++){var j=u.words[T]|0;u.words[T-10]=(j&S)<<4|O>>>22,O=j}O>>>=22,u.words[T-10]=O,O===0&&u.length>10?u.length-=10:u.length-=9},B.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var h=0,S=0;S<u.length;S++){var N=u.words[S]|0;h+=N*977,u.words[S]=h&67108863,h=N*64+(h/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function F(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(F,z);function U(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(U,z);function W(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(W,z),W.prototype.imulK=function(u){for(var h=0,S=0;S<u.length;S++){var N=(u.words[S]|0)*19+h,T=N&67108863;N>>>=26,u.words[S]=T,h=N}return h!==0&&(u.words[u.length++]=h),u},o._prime=function(u){if(L[u])return L[u];var h;if(u==="k256")h=new B;else if(u==="p224")h=new F;else if(u==="p192")h=new U;else if(u==="p25519")h=new W;else throw new Error("Unknown prime "+u);return L[u]=h,h};function $(A){if(typeof A=="string"){var u=o._prime(A);this.m=u.p,this.prime=u}else r(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}$.prototype._verify1=function(u){r(u.negative===0,"red works only with positives"),r(u.red,"red works only with red numbers")},$.prototype._verify2=function(u,h){r((u.negative|h.negative)===0,"red works only with positives"),r(u.red&&u.red===h.red,"red works only with red numbers")},$.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(d(u,u.umod(this.m)._forceRed(this)),u)},$.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},$.prototype.add=function(u,h){this._verify2(u,h);var S=u.add(h);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},$.prototype.iadd=function(u,h){this._verify2(u,h);var S=u.iadd(h);return S.cmp(this.m)>=0&&S.isub(this.m),S},$.prototype.sub=function(u,h){this._verify2(u,h);var S=u.sub(h);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},$.prototype.isub=function(u,h){this._verify2(u,h);var S=u.isub(h);return S.cmpn(0)<0&&S.iadd(this.m),S},$.prototype.shl=function(u,h){return this._verify1(u),this.imod(u.ushln(h))},$.prototype.imul=function(u,h){return this._verify2(u,h),this.imod(u.imul(h))},$.prototype.mul=function(u,h){return this._verify2(u,h),this.imod(u.mul(h))},$.prototype.isqr=function(u){return this.imul(u,u.clone())},$.prototype.sqr=function(u){return this.mul(u,u)},$.prototype.sqrt=function(u){if(u.isZero())return u.clone();var h=this.m.andln(3);if(r(h%2===1),h===3){var S=this.m.add(new o(1)).iushrn(2);return this.pow(u,S)}for(var N=this.m.subn(1),T=0;!N.isZero()&&N.andln(1)===0;)T++,N.iushrn(1);r(!N.isZero());var O=new o(1).toRed(this),j=O.redNeg(),C=this.m.subn(1).iushrn(1),w=this.m.bitLength();for(w=new o(2*w*w).toRed(this);this.pow(w,C).cmp(j)!==0;)w.redIAdd(j);for(var P=this.pow(w,N),ne=this.pow(u,N.addn(1).iushrn(1)),oe=this.pow(u,N),le=T;oe.cmp(O)!==0;){for(var Ae=oe,be=0;Ae.cmp(O)!==0;be++)Ae=Ae.redSqr();r(be<le);var _e=this.pow(P,new o(1).iushln(le-be-1));ne=ne.redMul(_e),P=_e.redSqr(),oe=oe.redMul(P),le=be}return ne},$.prototype.invm=function(u){var h=u._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},$.prototype.pow=function(u,h){if(h.isZero())return new o(1).toRed(this);if(h.cmpn(1)===0)return u.clone();var S=4,N=new Array(1<<S);N[0]=new o(1).toRed(this),N[1]=u;for(var T=2;T<N.length;T++)N[T]=this.mul(N[T-1],u);var O=N[0],j=0,C=0,w=h.bitLength()%26;for(w===0&&(w=26),T=h.length-1;T>=0;T--){for(var P=h.words[T],ne=w-1;ne>=0;ne--){var oe=P>>ne&1;if(O!==N[0]&&(O=this.sqr(O)),oe===0&&j===0){C=0;continue}j<<=1,j|=oe,C++,!(C!==S&&(T!==0||ne!==0))&&(O=this.mul(O,N[j]),C=0,j=0)}w=26}return O},$.prototype.convertTo=function(u){var h=u.umod(this.m);return h===u?h.clone():h},$.prototype.convertFrom=function(u){var h=u.clone();return h.red=null,h},o.mont=function(u){return new H(u)};function H(A){$.call(this,A),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(H,$),H.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},H.prototype.convertFrom=function(u){var h=this.imod(u.mul(this.rinv));return h.red=null,h},H.prototype.imul=function(u,h){if(u.isZero()||h.isZero())return u.words[0]=0,u.length=1,u;var S=u.imul(h),N=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=S.isub(N).iushrn(this.shift),O=T;return T.cmp(this.m)>=0?O=T.isub(this.m):T.cmpn(0)<0&&(O=T.iadd(this.m)),O._forceRed(this)},H.prototype.mul=function(u,h){if(u.isZero()||h.isZero())return new o(0)._forceRed(this);var S=u.mul(h),N=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=S.isub(N).iushrn(this.shift),O=T;return T.cmp(this.m)>=0?O=T.isub(this.m):T.cmpn(0)<0&&(O=T.iadd(this.m)),O._forceRed(this)},H.prototype.invm=function(u){var h=this.imod(u._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(t,br)})(qy);var Yy=qy.exports;const er=ro(Yy);var Cg={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=me,r=n.Buffer;function i(s,a){for(var l in s)a[l]=s[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=o);function o(s,a,l){return r(s,a,l)}o.prototype=Object.create(r.prototype),i(r,o),o.from=function(s,a,l){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,a,l)},o.alloc=function(s,a,l){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=r(s);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(s)}})(Cg,Cg.exports);var Zy=Cg.exports,Uu=Zy.Buffer;function PM(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function d(f){if((Array.isArray(f)||f instanceof Uint8Array)&&(f=Uu.from(f)),!Uu.isBuffer(f))throw new TypeError("Expected Buffer");if(f.length===0)return"";for(var m=0,x=0,R=0,y=f.length;R!==y&&f[R]===0;)R++,m++;for(var b=(y-R)*c+1>>>0,_=new Uint8Array(b);R!==y;){for(var I=f[R],L=0,z=b-1;(I!==0||L<x)&&z!==-1;z--,L++)I+=256*_[z]>>>0,_[z]=I%s>>>0,I=I/s>>>0;if(I!==0)throw new Error("Non-zero carry");x=L,R++}for(var B=b-x;B!==b&&_[B]===0;)B++;for(var F=a.repeat(m);B<b;++B)F+=t.charAt(_[B]);return F}function g(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return Uu.alloc(0);for(var m=0,x=0,R=0;f[m]===a;)x++,m++;for(var y=(f.length-m)*l+1>>>0,b=new Uint8Array(y);m<f.length;){var _=f.charCodeAt(m);if(_>255)return;var I=e[_];if(I===255)return;for(var L=0,z=y-1;(I!==0||L<R)&&z!==-1;z--,L++)I+=s*b[z]>>>0,b[z]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");R=L,m++}for(var B=y-R;B!==y&&b[B]===0;)B++;var F=Uu.allocUnsafe(x+(y-B));F.fill(0,0,x);for(var U=x;B!==y;)F[U++]=b[B++];return F}function p(f){var m=g(f);if(m)return m;throw new Error("Non-base"+s+" character")}return{encode:d,decodeUnsafe:g,decode:p}}var DM=PM,UM=DM,jM="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",zM=UM(jM);const xn=ro(zM),Tv=YS;var An={},ju=Zy.Buffer;function FM(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function d(f){if((Array.isArray(f)||f instanceof Uint8Array)&&(f=ju.from(f)),!ju.isBuffer(f))throw new TypeError("Expected Buffer");if(f.length===0)return"";for(var m=0,x=0,R=0,y=f.length;R!==y&&f[R]===0;)R++,m++;for(var b=(y-R)*c+1>>>0,_=new Uint8Array(b);R!==y;){for(var I=f[R],L=0,z=b-1;(I!==0||L<x)&&z!==-1;z--,L++)I+=256*_[z]>>>0,_[z]=I%s>>>0,I=I/s>>>0;if(I!==0)throw new Error("Non-zero carry");x=L,R++}for(var B=b-x;B!==b&&_[B]===0;)B++;for(var F=a.repeat(m);B<b;++B)F+=t.charAt(_[B]);return F}function g(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return ju.alloc(0);for(var m=0,x=0,R=0;f[m]===a;)x++,m++;for(var y=(f.length-m)*l+1>>>0,b=new Uint8Array(y);m<f.length;){var _=f.charCodeAt(m);if(_>255)return;var I=e[_];if(I===255)return;for(var L=0,z=y-1;(I!==0||L<R)&&z!==-1;z--,L++)I+=s*b[z]>>>0,b[z]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");R=L,m++}for(var B=y-R;B!==y&&b[B]===0;)B++;var F=ju.allocUnsafe(x+(y-B));F.fill(0,0,x);for(var U=x;B!==y;)F[U++]=b[B++];return F}function p(f){var m=g(f);if(m)return m;throw new Error("Non-base"+s+" character")}return{encode:d,decodeUnsafe:g,decode:p}}var WM=FM,$M=WM,HM="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",KM=$M(HM);function Fi(t,e,n){return e<=t&&t<=n}function ph(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function VM(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var o=e.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)i.push(65533);else{var s=t.charCodeAt(r+1);if(56320<=s&&s<=57343){var a=o&1023,l=s&1023;i.push(65536+(a<<10)+l),r+=1}else i.push(65533)}r+=1}return i}function GM(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var _f=-1;function Qy(t){this.tokens=[].slice.call(t)}Qy.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():_f},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var ol=-1;function Gp(t,e){if(t)throw TypeError("Decoder error");return e||65533}var Ef="utf-8";function bf(t,e){if(!(this instanceof bf))return new bf(t,e);if(t=t!==void 0?String(t).toLowerCase():Ef,t!==Ef)throw new Error("Encoding not supported. Only utf-8 is supported");e=ph(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}bf.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=ph(n),this._streaming||(this._decoder=new qM({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new Qy(r),o=[],s;!i.endOfStream()&&(s=this._decoder.handler(i,i.read()),s!==ol);)s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s));if(!this._streaming){do{if(s=this._decoder.handler(i,i.read()),s===ol)break;s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s))}while(!i.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),GM(o)}};function Sf(t,e){if(!(this instanceof Sf))return new Sf(t,e);if(t=t!==void 0?String(t).toLowerCase():Ef,t!==Ef)throw new Error("Encoding not supported. Only utf-8 is supported");e=ph(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Sf.prototype={encode:function(e,n){e=e?String(e):"",n=ph(n),this._streaming||(this._encoder=new YM(this._options)),this._streaming=!!n.stream;for(var r=[],i=new Qy(VM(e)),o;!i.endOfStream()&&(o=this._encoder.handler(i,i.read()),o!==ol);)Array.isArray(o)?r.push.apply(r,o):r.push(o);if(!this._streaming){for(;o=this._encoder.handler(i,i.read()),o!==ol;)Array.isArray(o)?r.push.apply(r,o):r.push(o);this._encoder=null}return new Uint8Array(r)}};function qM(t){var e=t.fatal,n=0,r=0,i=0,o=128,s=191;this.handler=function(a,l){if(l===_f&&i!==0)return i=0,Gp(e);if(l===_f)return ol;if(i===0){if(Fi(l,0,127))return l;if(Fi(l,194,223))i=1,n=l-192;else if(Fi(l,224,239))l===224&&(o=160),l===237&&(s=159),i=2,n=l-224;else if(Fi(l,240,244))l===240&&(o=144),l===244&&(s=143),i=3,n=l-240;else return Gp(e);return n=n<<6*i,null}if(!Fi(l,o,s))return n=i=r=0,o=128,s=191,a.prepend(l),Gp(e);if(o=128,s=191,r+=1,n+=l-128<<6*(i-r),r!==i)return null;var c=n;return n=i=r=0,c}}function YM(t){t.fatal,this.handler=function(e,n){if(n===_f)return ol;if(Fi(n,0,127))return n;var r,i;Fi(n,128,2047)?(r=1,i=192):Fi(n,2048,65535)?(r=2,i=224):Fi(n,65536,1114111)&&(r=3,i=240);for(var o=[(n>>6*r)+i];r>0;){var s=n>>6*(r-1);o.push(128|s&63),r-=1}return o}}const ZM=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:bf,TextEncoder:Sf},Symbol.toStringTag,{value:"Module"})),QM=io(ZM);var XM=br&&br.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),JM=br&&br.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ai=br&&br.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},eO=br&&br.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&XM(e,t,n);return JM(e,t),e},yA=br&&br.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(An,"__esModule",{value:!0});var wA=An.deserializeUnchecked=AA=An.deserialize=SA=An.serialize=An.BinaryReader=An.BinaryWriter=An.BorshError=An.baseDecode=An.baseEncode=void 0;const To=yA(Yy),vA=yA(KM),tO=eO(QM),nO=typeof TextDecoder!="function"?tO.TextDecoder:TextDecoder,rO=new nO("utf-8",{fatal:!0});function iO(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),vA.default.encode(Buffer.from(t))}An.baseEncode=iO;function oO(t){return Buffer.from(vA.default.decode(t))}An.baseDecode=oO;const qp=1024;class $n extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}An.BorshError=$n;class _A{constructor(){this.buf=Buffer.alloc(qp),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(qp)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new To.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new To.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new To.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new To.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(qp)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}An.BinaryWriter=_A;function xi(t,e,n){const r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(o){if(o instanceof RangeError){const s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new $n("Reached the end of buffer when deserializing")}throw o}}}class Rr{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new To.default(e,"le")}readU128(){const e=this.readBuffer(16);return new To.default(e,"le")}readU256(){const e=this.readBuffer(32);return new To.default(e,"le")}readU512(){const e=this.readBuffer(64);return new To.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new $n(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return rO.decode(n)}catch(r){throw new $n(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(e());return r}}Ai([xi],Rr.prototype,"readU8",null);Ai([xi],Rr.prototype,"readU16",null);Ai([xi],Rr.prototype,"readU32",null);Ai([xi],Rr.prototype,"readU64",null);Ai([xi],Rr.prototype,"readU128",null);Ai([xi],Rr.prototype,"readU256",null);Ai([xi],Rr.prototype,"readU512",null);Ai([xi],Rr.prototype,"readString",null);Ai([xi],Rr.prototype,"readFixedArray",null);Ai([xi],Rr.prototype,"readArray",null);An.BinaryReader=Rr;function EA(t){return t.charAt(0).toUpperCase()+t.slice(1)}function us(t,e,n,r,i){try{if(typeof r=="string")i[`write${EA(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new $n(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new $n(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let o=0;o<r[1];o++)us(t,null,n[o],r[0],i)}else i.writeArray(n,o=>{us(t,e,o,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),us(t,e,n,r.type,i));break}case"map":{i.writeU32(n.size),n.forEach((o,s)=>{us(t,e,s,r.key,i),us(t,e,o,r.value,i)});break}default:throw new $n(`FieldType ${r} unrecognized`)}else bA(t,n,i)}catch(o){throw o instanceof $n&&o.addToFieldPath(e),o}}function bA(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new $n(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,o])=>{us(t,i,e[i],o,n)});else if(r.kind==="enum"){const i=e[r.field];for(let o=0;o<r.values.length;++o){const[s,a]=r.values[o];if(s===i){n.writeU8(o),us(t,s,e[s],a,n);break}}}else throw new $n(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function sO(t,e,n=_A){const r=new n;return bA(t,e,r),r.toArray()}var SA=An.serialize=sO;function ds(t,e,n,r){try{if(typeof n=="string")return r[`read${EA(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const i=[];for(let o=0;o<n[1];o++)i.push(ds(t,null,n[0],r));return i}else return r.readArray(()=>ds(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?ds(t,e,n.type,r):void 0;if(n.kind==="map"){let i=new Map;const o=r.readU32();for(let s=0;s<o;s++){const a=ds(t,e,n.key,r),l=ds(t,e,n.value,r);i.set(a,l)}return i}return Xy(t,n,r)}catch(i){throw i instanceof $n&&i.addToFieldPath(e),i}}function Xy(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new $n(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[o,s]of t.get(e).fields)i[o]=ds(t,o,s,n);return new e(i)}if(r.kind==="enum"){const i=n.readU8();if(i>=r.values.length)throw new $n(`Enum index: ${i} is out of range`);const[o,s]=r.values[i],a=ds(t,o,s,n);return new e({[o]:a})}throw new $n(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function aO(t,e,n,r=Rr){const i=new r(n),o=Xy(t,e,i);if(i.offset<n.length)throw new $n(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return o}var AA=An.deserialize=aO;function lO(t,e,n,r=Rr){const i=new r(n);return Xy(t,e,i)}wA=An.deserializeUnchecked=lO;var Z={};Object.defineProperty(Z,"__esModule",{value:!0});var Mg=Z.s16=Z.s8=Z.nu64be=Z.u48be=Z.u40be=Z.u32be=Z.u24be=Z.u16be=En=Z.nu64=Z.u48=Z.u40=he=Z.u32=Z.u24=mr=Z.u16=Ne=Z.u8=Wo=Z.offset=WA=Z.greedy=Z.Constant=Z.UTF8=Z.CString=Z.Blob=Z.Boolean=Z.BitField=Z.BitStructure=Z.VariantLayout=Z.Union=Z.UnionLayoutDiscriminator=Z.UnionDiscriminator=Z.Structure=Z.Sequence=Z.DoubleBE=Z.Double=Z.FloatBE=Z.Float=Z.NearInt64BE=Z.NearInt64=Z.NearUInt64BE=Z.NearUInt64=Z.IntBE=Z.Int=Z.UIntBE=Z.UInt=Z.OffsetLayout=Z.GreedyCount=Z.ExternalLayout=Z.bindConstructorLayout=Z.nameWithProperty=Z.Layout=Z.uint8ArrayToBuffer=Z.checkUint8Array=void 0;Z.constant=Z.utf8=Z.cstr=it=Z.blob=Z.unionLayoutDiscriminator=Z.union=wn=Z.seq=Z.bits=se=Z.struct=Z.f64be=Z.f64=Z.f32be=Z.f32=Z.ns64be=Z.s48be=Z.s40be=Z.s32be=Z.s24be=Z.s16be=Wn=Z.ns64=Z.s48=Z.s40=Z.s32=Z.s24=void 0;const Jy=me;function bl(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Z.checkUint8Array=bl;function He(t){return bl(t),Jy.Buffer.from(t.buffer,t.byteOffset,t.length)}Z.uint8ArrayToBuffer=He;let Xe=class{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}};Z.Layout=Xe;function ew(t,e){return e.property?t+"["+e.property+"]":t}Z.nameWithProperty=ew;function cO(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Xe))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}Z.bindConstructorLayout=cO;let tr=class extends Xe{isCount(){throw new Error("ExternalLayout is abstract")}};Z.ExternalLayout=tr;let xA=class extends tr{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){bl(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}};Z.GreedyCount=xA;let tw=class extends tr{constructor(e,n=0,r){if(!(e instanceof Xe))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Pr||this.layout instanceof ei}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}};Z.OffsetLayout=tw;let Pr=class extends Xe{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return He(e).readUIntLE(n,this.span)}encode(e,n,r=0){return He(n).writeUIntLE(e,r,this.span),this.span}};Z.UInt=Pr;let ei=class extends Xe{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return He(e).readUIntBE(n,this.span)}encode(e,n,r=0){return He(n).writeUIntBE(e,r,this.span),this.span}};Z.UIntBE=ei;let Vs=class extends Xe{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return He(e).readIntLE(n,this.span)}encode(e,n,r=0){return He(n).writeIntLE(e,r,this.span),this.span}};Z.Int=Vs;let Sl=class extends Xe{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return He(e).readIntBE(n,this.span)}encode(e,n,r=0){return He(n).writeIntBE(e,r,this.span),this.span}};Z.IntBE=Sl;const Og=Math.pow(2,32);function gh(t){const e=Math.floor(t/Og),n=t-e*Og;return{hi32:e,lo32:n}}function mh(t,e){return t*Og+e}let RA=class extends Xe{constructor(e){super(8,e)}decode(e,n=0){const r=He(e),i=r.readUInt32LE(n),o=r.readUInt32LE(n+4);return mh(o,i)}encode(e,n,r=0){const i=gh(e),o=He(n);return o.writeUInt32LE(i.lo32,r),o.writeUInt32LE(i.hi32,r+4),8}};Z.NearUInt64=RA;let IA=class extends Xe{constructor(e){super(8,e)}decode(e,n=0){const r=He(e),i=r.readUInt32BE(n),o=r.readUInt32BE(n+4);return mh(i,o)}encode(e,n,r=0){const i=gh(e),o=He(n);return o.writeUInt32BE(i.hi32,r),o.writeUInt32BE(i.lo32,r+4),8}};Z.NearUInt64BE=IA;let NA=class extends Xe{constructor(e){super(8,e)}decode(e,n=0){const r=He(e),i=r.readUInt32LE(n),o=r.readInt32LE(n+4);return mh(o,i)}encode(e,n,r=0){const i=gh(e),o=He(n);return o.writeUInt32LE(i.lo32,r),o.writeInt32LE(i.hi32,r+4),8}};Z.NearInt64=NA;let TA=class extends Xe{constructor(e){super(8,e)}decode(e,n=0){const r=He(e),i=r.readInt32BE(n),o=r.readUInt32BE(n+4);return mh(i,o)}encode(e,n,r=0){const i=gh(e),o=He(n);return o.writeInt32BE(i.hi32,r),o.writeUInt32BE(i.lo32,r+4),8}};Z.NearInt64BE=TA;let kA=class extends Xe{constructor(e){super(4,e)}decode(e,n=0){return He(e).readFloatLE(n)}encode(e,n,r=0){return He(n).writeFloatLE(e,r),4}};Z.Float=kA;let CA=class extends Xe{constructor(e){super(4,e)}decode(e,n=0){return He(e).readFloatBE(n)}encode(e,n,r=0){return He(n).writeFloatBE(e,r),4}};Z.FloatBE=CA;let MA=class extends Xe{constructor(e){super(8,e)}decode(e,n=0){return He(e).readDoubleLE(n)}encode(e,n,r=0){return He(n).writeDoubleLE(e,r),8}};Z.Double=MA;let OA=class extends Xe{constructor(e){super(8,e)}decode(e,n=0){return He(e).readDoubleBE(n)}encode(e,n,r=0){return He(n).writeDoubleBE(e,r),8}};Z.DoubleBE=OA;let LA=class extends Xe{constructor(e,n,r){if(!(e instanceof Xe))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof tr&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof tr)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof tr&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let o=0;for(;o<i;)r+=this.elementLayout.getSpan(e,n+r),++o}return r}decode(e,n=0){const r=[];let i=0,o=this.count;for(o instanceof tr&&(o=o.decode(e,n));i<o;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r=0){const i=this.elementLayout,o=e.reduce((s,a)=>s+i.encode(a,n,r+s),0);return this.count instanceof tr&&this.count.encode(e.length,n,r),o}};Z.Sequence=LA;let BA=class extends Xe{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof Xe,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,o)=>{const s=o.getSpan(e,n);return n+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){bl(e);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const i=r;let o=0,s=0;for(const a of this.fields){let l=a.span;if(s=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(s=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}o=r,r+=l}return o+s-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}};Z.Structure=BA;let nw=class{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}};Z.UnionDiscriminator=nw;let Af=class extends nw{constructor(e,n){if(!(e instanceof tr&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}};Z.UnionLayoutDiscriminator=Af;let rw=class extends Xe{constructor(e,n,r){let i;if(e instanceof Pr||e instanceof ei)i=new Af(new tw(e));else if(e instanceof tr&&e.isCount())i=new Af(e);else if(e instanceof nw)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Xe))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let o=-1;n&&(o=n.span,0<=o&&(e instanceof Pr||e instanceof ei)&&(o+=i.layout.span)),super(o,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof Pr||e instanceof ei,this.defaultLayout=n,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const i=this.discriminator,o=i.decode(e,n),s=this.registry[o];if(s===void 0){const a=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),r=this.makeDestinationObject(),r[i.property]=o,r[a.property]=a.decode(e,n+l)}else r=s.decode(e,n);return r}encode(e,n,r=0){const i=this.getSourceVariant(e);if(i===void 0){const o=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],n,r),a+s.encode(e[s.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new PA(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}};Z.Union=rw;let PA=class extends Xe{constructor(e,n,r,i){if(!(e instanceof rw))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof Xe))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,n+r)),r+i}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let o=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),o+=this.layout.getSpan(n,r+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};Z.VariantLayout=PA;function aa(t){return 0>t&&(t+=4294967296),t}let iw=class extends Xe{constructor(e,n,r){if(!(e instanceof Pr||e instanceof ei))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(o){return i=aa(o),this},this._packedGetValue=function(){return i}}decode(e,n=0){const r=this.makeDestinationObject(),i=this.word.decode(e,n);this._packedSetValue(i);for(const o of this.fields)o.property!==void 0&&(r[o.property]=o.decode(e));return r}encode(e,n,r=0){const i=this.word.decode(n,r);this._packedSetValue(i);for(const o of this.fields)if(o.property!==void 0){const s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new ow(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new DA(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}};Z.BitStructure=iw;let ow=class{constructor(e,n,r){if(!(e instanceof iw))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,o=e.fields.reduce((s,a)=>s+a.bits,0);if(n+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-n),this.wordMask=aa(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return aa(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==aa(e&this.valueMask))throw new TypeError(ew("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=aa(e<<this.start);this.container._packedSetValue(aa(n&~this.wordMask)|r)}};Z.BitField=ow;let DA=class extends ow{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};Z.Boolean=DA;let UA=class extends Xe{constructor(e,n){if(!(e instanceof tr&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof tr||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),He(e).slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof tr&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(ew("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>n.length)throw new RangeError("encoding overruns Uint8Array");const o=He(e);return He(n).write(o.toString("hex"),r,i,"hex"),this.length instanceof tr&&this.length.encode(i,n,r),i}};Z.Blob=UA;let jA=class extends Xe{constructor(e){super(-1,e)}getSpan(e,n=0){bl(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return He(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=Jy.Buffer.from(e,"utf8"),o=i.length;if(r+o>n.length)throw new RangeError("encoding overruns Buffer");const s=He(n);return i.copy(s,r),s[r+o]=0,o+1}};Z.CString=jA;let zA=class extends Xe{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return bl(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return He(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=Jy.Buffer.from(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(He(n),r),o}};Z.UTF8=zA;let FA=class extends Xe{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}};Z.Constant=FA;var WA=Z.greedy=(t,e)=>new xA(t,e),Wo=Z.offset=(t,e,n)=>new tw(t,e,n),Ne=Z.u8=t=>new Pr(1,t),mr=Z.u16=t=>new Pr(2,t);Z.u24=t=>new Pr(3,t);var he=Z.u32=t=>new Pr(4,t);Z.u40=t=>new Pr(5,t);Z.u48=t=>new Pr(6,t);var En=Z.nu64=t=>new RA(t);Z.u16be=t=>new ei(2,t);Z.u24be=t=>new ei(3,t);Z.u32be=t=>new ei(4,t);Z.u40be=t=>new ei(5,t);Z.u48be=t=>new ei(6,t);Z.nu64be=t=>new IA(t);Z.s8=t=>new Vs(1,t);Mg=Z.s16=t=>new Vs(2,t);Z.s24=t=>new Vs(3,t);Z.s32=t=>new Vs(4,t);Z.s40=t=>new Vs(5,t);Z.s48=t=>new Vs(6,t);var Wn=Z.ns64=t=>new NA(t);Z.s16be=t=>new Sl(2,t);Z.s24be=t=>new Sl(3,t);Z.s32be=t=>new Sl(4,t);Z.s40be=t=>new Sl(5,t);Z.s48be=t=>new Sl(6,t);Z.ns64be=t=>new TA(t);Z.f32=t=>new kA(t);Z.f32be=t=>new CA(t);Z.f64=t=>new MA(t);Z.f64be=t=>new OA(t);var se=Z.struct=(t,e,n)=>new BA(t,e,n);Z.bits=(t,e,n)=>new iw(t,e,n);var wn=Z.seq=(t,e,n)=>new LA(t,e,n);Z.union=(t,e,n)=>new rw(t,e,n);Z.unionLayoutDiscriminator=(t,e)=>new Af(t,e);var it=Z.blob=(t,e)=>new UA(t,e);Z.cstr=t=>new jA(t);Z.utf8=(t,e)=>new zA(t,e);Z.constant=(t,e)=>new FA(t,e);var uO=8078e3,dO=8078001,fO=8078004,hO=8078005,pO=8078006,gO=8078011;function $A(t){return Array.isArray(t)?"%5B"+t.map($A).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function mO([t,e]){return`${t}=${$A(e)}`}function yO(t){const e=Object.entries(t).map(mO).join("&");return btoa(e)}function wO(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${yO(e)}'`),`${n}\``}}var Wa=class extends Error{constructor(...[e,n]){let r,i;if(n){const{cause:s,...a}=n;s&&(i={cause:s}),Object.keys(a).length>0&&(r=a)}const o=wO(e,r);super(o,i);Tt(this,"cause",this.cause);Tt(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function vO(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function _O(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(vO(e,t));return t.write(e,n,0),n}})}function EO(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function ra(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function bO(t,e){if(ra(t)!==ra(e))throw new Wa(fO);if(ra(t)&&ra(e)&&t.fixedSize!==e.fixedSize)throw new Wa(hO,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!ra(t)&&!ra(e)&&t.maxSize!==e.maxSize)throw new Wa(pO,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function SO(t,e,n=0){if(e.length-n<=0)throw new Wa(uO,{codecDescription:t})}function AO(t,e,n,r=0){const i=n.length-r;if(i<e)throw new Wa(dO,{bytesLength:i,codecDescription:t,expected:e})}function xO(t,e,n,r){if(r<e||r>n)throw new Wa(gO,{codecDescription:t,max:n,min:e,value:r})}function HA(t){return(t==null?void 0:t.endian)!==1}function RO(t){return _O({fixedSize:t.size,write(e,n,r){t.range&&xO(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,HA(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function IO(t){return EO({fixedSize:t.size,read(e,n=0){SO(t.name,e,n),AO(t.name,t.size,e,n);const r=new DataView(NO(e,n,t.size));return[t.get(r,HA(t.config)),n+t.size]}})}function NO(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var KA=(t={})=>RO({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),TO=(t={})=>IO({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),kO=(t={})=>bO(KA(t),TO(t));let CO=class extends TypeError{constructor(e,n){let r;const{message:i,explanation:o,...s}=e,{path:a}=e,l=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??l),o!=null&&(this.cause=l),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}};function MO(t){return tu(t)&&typeof t[Symbol.iterator]=="function"}function tu(t){return typeof t=="object"&&t!=null}function xf(t){return tu(t)&&!Array.isArray(t)}function ni(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function OO(t){const{done:e,value:n}=t.next();return e?void 0:n}function LO(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:o}=e,{type:s}=n,{refinement:a,message:l=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${ni(r)}\``}=t;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:l}}function*kv(t,e,n,r){MO(t)||(t=[t]);for(const i of t){const o=LO(i,e,n,r);o&&(yield o)}}function*sw(t,e,n={}){const{path:r=[],branch:i=[t],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i,mask:s};o&&(t=e.coercer(t,a));let l="valid";for(const c of e.validator(t,a))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,d,g]of e.entries(t,a)){const p=sw(d,g,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,d],coerce:o,mask:s,message:n.message});for(const f of p)f[0]?(l=f[0].refinement!=null?"not_refined":"not_valid",yield[f[0],void 0]):o&&(d=f[1],c===void 0?t=d:t instanceof Map?t.set(c,d):t instanceof Set?t.add(d):tu(t)&&(d!==void 0||c in t)&&(t[c]=d))}if(l!=="not_valid")for(const c of e.refiner(t,a))c.explanation=n.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,t])}let Ri=class{constructor(e){const{type:n,schema:r,validator:i,refiner:o,coercer:s=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=s,i?this.validator=(l,c)=>{const d=i(l,c);return kv(d,c,this,l)}:this.validator=()=>[],o?this.refiner=(l,c)=>{const d=o(l,c);return kv(d,c,this,l)}:this.refiner=()=>[]}assert(e,n){return VA(e,this,n)}create(e,n){return ce(e,this,n)}is(e){return GA(e,this)}mask(e,n){return BO(e,this,n)}validate(e,n={}){return nu(e,this,n)}};function VA(t,e,n){const r=nu(t,e,{message:n});if(r[0])throw r[0]}function ce(t,e,n){const r=nu(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function BO(t,e,n){const r=nu(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function GA(t,e){return!nu(t,e)[0]}function nu(t,e,n={}){const r=sw(t,e,n),i=OO(r);return i[0]?[new CO(i[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function Gs(t,e){return new Ri({type:t,schema:null,validator:e})}function PO(){return Gs("any",()=>!0)}function de(t){return new Ri({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${ni(e)}`}})}function Si(){return Gs("boolean",t=>typeof t=="boolean")}function aw(t){return Gs("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${ni(e)}`)}function bt(t){const e=ni(t),n=typeof t;return new Ri({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${ni(r)}`}})}function DO(){return Gs("never",()=>!1)}function fe(t){return new Ri({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function q(){return Gs("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${ni(t)}`)}function ve(t){return new Ri({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function qA(t,e){return new Ri({type:"record",schema:null,*entries(n){if(tu(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return xf(n)||`Expected an object, but received: ${ni(n)}`},coercer(n){return xf(n)?{...n}:n}})}function ae(){return Gs("string",t=>typeof t=="string"||`Expected a string, but received: ${ni(t)}`)}function lw(t){const e=DO();return new Ri({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${ni(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function te(t){const e=Object.keys(t);return new Ri({type:"type",schema:t,*entries(n){if(tu(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return xf(n)||`Expected an object, but received: ${ni(n)}`},coercer(n){return xf(n)?{...n}:n}})}function Vn(t){const e=t.map(n=>n.type).join(" | ");return new Ri({type:"union",schema:null,coercer(n,r){for(const i of t){const[o,s]=i.validate(n,{coerce:!0,mask:r.mask});if(!o)return s}return n},validator(n,r){const i=[];for(const o of t){const[...s]=sw(n,o,r),[a]=s;if(a[0])for(const[l]of s)l&&i.push(l);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${ni(n)}`,...i]}})}function Al(){return Gs("unknown",()=>!0)}function ru(t,e,n){return new Ri({...t,coercer:(r,i)=>GA(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var zu,UO=new Uint8Array(16);function YA(){if(!zu&&(zu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!zu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zu(UO)}const jO=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function yh(t){return typeof t=="string"&&jO.test(t)}var _n=[];for(var Yp=0;Yp<256;++Yp)_n.push((Yp+256).toString(16).substr(1));function wh(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(_n[t[e+0]]+_n[t[e+1]]+_n[t[e+2]]+_n[t[e+3]]+"-"+_n[t[e+4]]+_n[t[e+5]]+"-"+_n[t[e+6]]+_n[t[e+7]]+"-"+_n[t[e+8]]+_n[t[e+9]]+"-"+_n[t[e+10]]+_n[t[e+11]]+_n[t[e+12]]+_n[t[e+13]]+_n[t[e+14]]+_n[t[e+15]]).toLowerCase();if(!yh(n))throw TypeError("Stringified UUID is invalid");return n}var Cv,Zp,Qp=0,Xp=0;function zO(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var o=t.node||Cv,s=t.clockseq!==void 0?t.clockseq:Zp;if(o==null||s==null){var a=t.random||(t.rng||YA)();o==null&&(o=Cv=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),s==null&&(s=Zp=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:Xp+1,d=l-Qp+(c-Xp)/1e4;if(d<0&&t.clockseq===void 0&&(s=s+1&16383),(d<0||l>Qp)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Qp=l,Xp=c,Zp=s,l+=122192928e5;var g=((l&268435455)*1e4+c)%4294967296;i[r++]=g>>>24&255,i[r++]=g>>>16&255,i[r++]=g>>>8&255,i[r++]=g&255;var p=l/4294967296*1e4&268435455;i[r++]=p>>>8&255,i[r++]=p&255,i[r++]=p>>>24&15|16,i[r++]=p>>>16&255,i[r++]=s>>>8|128,i[r++]=s&255;for(var f=0;f<6;++f)i[r+f]=o[f];return e||wh(i)}function ZA(t){if(!yh(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function FO(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var WO="6ba7b810-9dad-11d1-80b4-00c04fd430c8",$O="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function QA(t,e,n){function r(i,o,s,a){if(typeof i=="string"&&(i=FO(i)),typeof o=="string"&&(o=ZA(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(o),l.set(i,o.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,s){a=a||0;for(var c=0;c<16;++c)s[a+c]=l[c];return s}return wh(l)}try{r.name=t}catch{}return r.DNS=WO,r.URL=$O,r}function HO(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return KO(VO(GO(t),t.length*8))}function KO(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var o=t[i>>5]>>>i%32&255,s=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);e.push(s)}return e}function XA(t){return(t+64>>>9<<4)+14+1}function VO(t,e){t[e>>5]|=128<<e%32,t[XA(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<t.length;s+=16){var a=n,l=r,c=i,d=o;n=Mn(n,r,i,o,t[s],7,-680876936),o=Mn(o,n,r,i,t[s+1],12,-389564586),i=Mn(i,o,n,r,t[s+2],17,606105819),r=Mn(r,i,o,n,t[s+3],22,-1044525330),n=Mn(n,r,i,o,t[s+4],7,-176418897),o=Mn(o,n,r,i,t[s+5],12,1200080426),i=Mn(i,o,n,r,t[s+6],17,-1473231341),r=Mn(r,i,o,n,t[s+7],22,-45705983),n=Mn(n,r,i,o,t[s+8],7,1770035416),o=Mn(o,n,r,i,t[s+9],12,-1958414417),i=Mn(i,o,n,r,t[s+10],17,-42063),r=Mn(r,i,o,n,t[s+11],22,-1990404162),n=Mn(n,r,i,o,t[s+12],7,1804603682),o=Mn(o,n,r,i,t[s+13],12,-40341101),i=Mn(i,o,n,r,t[s+14],17,-1502002290),r=Mn(r,i,o,n,t[s+15],22,1236535329),n=On(n,r,i,o,t[s+1],5,-165796510),o=On(o,n,r,i,t[s+6],9,-1069501632),i=On(i,o,n,r,t[s+11],14,643717713),r=On(r,i,o,n,t[s],20,-373897302),n=On(n,r,i,o,t[s+5],5,-701558691),o=On(o,n,r,i,t[s+10],9,38016083),i=On(i,o,n,r,t[s+15],14,-660478335),r=On(r,i,o,n,t[s+4],20,-405537848),n=On(n,r,i,o,t[s+9],5,568446438),o=On(o,n,r,i,t[s+14],9,-1019803690),i=On(i,o,n,r,t[s+3],14,-187363961),r=On(r,i,o,n,t[s+8],20,1163531501),n=On(n,r,i,o,t[s+13],5,-1444681467),o=On(o,n,r,i,t[s+2],9,-51403784),i=On(i,o,n,r,t[s+7],14,1735328473),r=On(r,i,o,n,t[s+12],20,-1926607734),n=Ln(n,r,i,o,t[s+5],4,-378558),o=Ln(o,n,r,i,t[s+8],11,-2022574463),i=Ln(i,o,n,r,t[s+11],16,1839030562),r=Ln(r,i,o,n,t[s+14],23,-35309556),n=Ln(n,r,i,o,t[s+1],4,-1530992060),o=Ln(o,n,r,i,t[s+4],11,1272893353),i=Ln(i,o,n,r,t[s+7],16,-155497632),r=Ln(r,i,o,n,t[s+10],23,-1094730640),n=Ln(n,r,i,o,t[s+13],4,681279174),o=Ln(o,n,r,i,t[s],11,-358537222),i=Ln(i,o,n,r,t[s+3],16,-722521979),r=Ln(r,i,o,n,t[s+6],23,76029189),n=Ln(n,r,i,o,t[s+9],4,-640364487),o=Ln(o,n,r,i,t[s+12],11,-421815835),i=Ln(i,o,n,r,t[s+15],16,530742520),r=Ln(r,i,o,n,t[s+2],23,-995338651),n=Bn(n,r,i,o,t[s],6,-198630844),o=Bn(o,n,r,i,t[s+7],10,1126891415),i=Bn(i,o,n,r,t[s+14],15,-1416354905),r=Bn(r,i,o,n,t[s+5],21,-57434055),n=Bn(n,r,i,o,t[s+12],6,1700485571),o=Bn(o,n,r,i,t[s+3],10,-1894986606),i=Bn(i,o,n,r,t[s+10],15,-1051523),r=Bn(r,i,o,n,t[s+1],21,-2054922799),n=Bn(n,r,i,o,t[s+8],6,1873313359),o=Bn(o,n,r,i,t[s+15],10,-30611744),i=Bn(i,o,n,r,t[s+6],15,-1560198380),r=Bn(r,i,o,n,t[s+13],21,1309151649),n=Bn(n,r,i,o,t[s+4],6,-145523070),o=Bn(o,n,r,i,t[s+11],10,-1120210379),i=Bn(i,o,n,r,t[s+2],15,718787259),r=Bn(r,i,o,n,t[s+9],21,-343485551),n=ko(n,a),r=ko(r,l),i=ko(i,c),o=ko(o,d)}return[n,r,i,o]}function GO(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(XA(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function ko(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function qO(t,e){return t<<e|t>>>32-e}function vh(t,e,n,r,i,o){return ko(qO(ko(ko(e,t),ko(r,o)),i),n)}function Mn(t,e,n,r,i,o,s){return vh(e&n|~e&r,t,e,i,o,s)}function On(t,e,n,r,i,o,s){return vh(e&r|n&~r,t,e,i,o,s)}function Ln(t,e,n,r,i,o,s){return vh(e^n^r,t,e,i,o,s)}function Bn(t,e,n,r,i,o,s){return vh(n^(e|~r),t,e,i,o,s)}var YO=QA("v3",48,HO);function ZO(t,e,n){t=t||{};var r=t.random||(t.rng||YA)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return wh(r)}function QO(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function Jp(t,e){return t<<e|t>>>32-e}function XO(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var o=t.length/4+2,s=Math.ceil(o/16),a=new Array(s),l=0;l<s;++l){for(var c=new Uint32Array(16),d=0;d<16;++d)c[d]=t[l*64+d*4]<<24|t[l*64+d*4+1]<<16|t[l*64+d*4+2]<<8|t[l*64+d*4+3];a[l]=c}a[s-1][14]=(t.length-1)*8/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=(t.length-1)*8&4294967295;for(var g=0;g<s;++g){for(var p=new Uint32Array(80),f=0;f<16;++f)p[f]=a[g][f];for(var m=16;m<80;++m)p[m]=Jp(p[m-3]^p[m-8]^p[m-14]^p[m-16],1);for(var x=n[0],R=n[1],y=n[2],b=n[3],_=n[4],I=0;I<80;++I){var L=Math.floor(I/20),z=Jp(x,5)+QO(L,R,y,b)+_+e[L]+p[I]>>>0;_=b,b=y,y=Jp(R,30)>>>0,R=x,x=z}n[0]=n[0]+x>>>0,n[1]=n[1]+R>>>0,n[2]=n[2]+y>>>0,n[3]=n[3]+b>>>0,n[4]=n[4]+_>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var JO=QA("v5",80,XO);const e4="00000000-0000-0000-0000-000000000000";function t4(t){if(!yh(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const n4=Object.freeze(Object.defineProperty({__proto__:null,NIL:e4,parse:ZA,stringify:wh,v1:zO,v3:YO,v4:ZO,v5:JO,validate:yh,version:t4},Symbol.toStringTag,{value:"Module"})),JA=io(n4),r4=JA.v4,i4=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const o={method:t};if(i===2&&(o.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");o.params=e}if(typeof n>"u"){const s=typeof r.generator=="function"?r.generator:function(){return r4()};o.id=s(o,r)}else i===2&&n===null?r.notificationIdNull&&(o.id=null):o.id=n;return o};var o4=i4;const s4=JA.v4,a4=o4,Uc=function(t,e){if(!(this instanceof Uc))return new Uc(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return s4()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var l4=Uc;Uc.prototype.request=function(t,e,n,r){const i=this;let o=null;const s=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&t&&typeof t=="object"&&typeof e=="function")r=e,o=t;else{typeof n=="function"&&(r=n,n=void 0);const c=typeof r=="function";try{o=a4(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(d){if(c)return r(d);throw d}if(!c)return o}let l;try{l=JSON.stringify(o,this.options.replacer)}catch(c){return r(c)}return this.callServer(l,function(c,d){i._parseResponse(c,d,r)}),o};Uc.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return n(i)}if(n.length===3)if(Array.isArray(r)){const i=function(s){return typeof s.error<"u"},o=function(s){return!i(s)};return n(null,r.filter(i),r.filter(o))}else return n(null,r.error,r.result);n(null,r)};const c4=ro(l4);var ex={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,g,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var f=new i(d,g||l,p),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],f]:l._events[m].push(f):(l._events[m]=f,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,g;if(this._eventsCount===0)return c;for(g in d=this._events)e.call(d,g)&&c.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,g=this._events[d];if(!g)return[];if(g.fn)return[g.fn];for(var p=0,f=g.length,m=new Array(f);p<f;p++)m[p]=g[p].fn;return m},a.prototype.listenerCount=function(c){var d=n?n+c:c,g=this._events[d];return g?g.fn?1:g.length:0},a.prototype.emit=function(c,d,g,p,f,m){var x=n?n+c:c;if(!this._events[x])return!1;var R=this._events[x],y=arguments.length,b,_;if(R.fn){switch(R.once&&this.removeListener(c,R.fn,void 0,!0),y){case 1:return R.fn.call(R.context),!0;case 2:return R.fn.call(R.context,d),!0;case 3:return R.fn.call(R.context,d,g),!0;case 4:return R.fn.call(R.context,d,g,p),!0;case 5:return R.fn.call(R.context,d,g,p,f),!0;case 6:return R.fn.call(R.context,d,g,p,f,m),!0}for(_=1,b=new Array(y-1);_<y;_++)b[_-1]=arguments[_];R.fn.apply(R.context,b)}else{var I=R.length,L;for(_=0;_<I;_++)switch(R[_].once&&this.removeListener(c,R[_].fn,void 0,!0),y){case 1:R[_].fn.call(R[_].context);break;case 2:R[_].fn.call(R[_].context,d);break;case 3:R[_].fn.call(R[_].context,d,g);break;case 4:R[_].fn.call(R[_].context,d,g,p);break;default:if(!b)for(L=1,b=new Array(y-1);L<y;L++)b[L-1]=arguments[L];R[_].fn.apply(R[_].context,b)}}return!0},a.prototype.on=function(c,d,g){return o(this,c,d,g,!1)},a.prototype.once=function(c,d,g){return o(this,c,d,g,!0)},a.prototype.removeListener=function(c,d,g,p){var f=n?n+c:c;if(!this._events[f])return this;if(!d)return s(this,f),this;var m=this._events[f];if(m.fn)m.fn===d&&(!p||m.once)&&(!g||m.context===g)&&s(this,f);else{for(var x=0,R=[],y=m.length;x<y;x++)(m[x].fn!==d||p&&!m[x].once||g&&m[x].context!==g)&&R.push(m[x]);R.length?this._events[f]=R.length===1?R[0]:R:s(this,f)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(ex);var u4=ex.exports;const _h=ro(u4);var d4=class extends _h{constructor(e,n,r){super();Tt(this,"socket");this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=i=>this.emit("message",i.data),this.socket.onerror=i=>this.emit("error",i),this.socket.onclose=i=>{this.emit("close",i.code,i.reason)}}send(e,n,r){const i=r||n;try{this.socket.send(e),i()}catch(o){i(o)}}close(e,n){this.socket.close(e,n)}addEventListener(e,n,r){this.socket.addEventListener(e,n,r)}};function f4(t,e){return new d4(t,e)}var h4=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},p4=class extends _h{constructor(e,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:i=!0,reconnect_interval:o=1e3,max_reconnects:s=5,...a}={},l,c){super();Tt(this,"address");Tt(this,"rpc_id");Tt(this,"queue");Tt(this,"options");Tt(this,"autoconnect");Tt(this,"ready");Tt(this,"reconnect");Tt(this,"reconnect_timer_id");Tt(this,"reconnect_interval");Tt(this,"max_reconnects");Tt(this,"rest_options");Tt(this,"current_reconnects");Tt(this,"generate_request_id");Tt(this,"socket");Tt(this,"webSocketFactory");Tt(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=s,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=l||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),c?this.dataPack=c:this.dataPack=new h4,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,n,r,i){return!i&&typeof r=="object"&&(i=r,r=null),new Promise((o,s)=>{if(!this.ready)return s(new Error("socket not ready"));const a=this.generate_request_id(e,n),l={jsonrpc:"2.0",method:e,params:n||void 0,id:a};this.socket.send(this.dataPack.encode(l),i,c=>{if(c)return s(c);this.queue[a]={promise:[o,s]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],s(new Error("reply timeout"))},r))})})}async login(e){const n=await this.call("rpc.login",e);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(e,n){return new Promise((r,i)=>{if(!this.ready)return i(new Error("socket not ready"));const o={jsonrpc:"2.0",method:e,params:n};this.socket.send(this.dataPack.encode(o),s=>{if(s)return i(s);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.on",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);return n}async unsubscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.off",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(e,n){this.socket.close(e||1e3,n)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=me.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const i=[r.notification];if(r.params.constructor===Object)i.push(r.params);else for(let o=0;o<r.params.length;o++)i.push(r.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",r,i),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,n),this.reconnect_interval)))})}};const g4=BigInt(0),Dl=BigInt(1),m4=BigInt(2),y4=BigInt(7),w4=BigInt(256),v4=BigInt(113),tx=[],nx=[],rx=[];for(let t=0,e=Dl,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],tx.push(2*(5*r+n)),nx.push((t+1)*(t+2)/2%64);let i=g4;for(let o=0;o<7;o++)e=(e<<Dl^(e>>y4)*v4)%w4,e&m4&&(i^=Dl<<(Dl<<BigInt(o))-Dl);rx.push(i)}const ix=GS(rx,!0),_4=ix[0],E4=ix[1],Mv=(t,e,n)=>n>32?HC(t,e,n):WC(t,e,n),Ov=(t,e,n)=>n>32?KC(t,e,n):$C(t,e,n);function b4(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,l=(s+2)%10,c=n[l],d=n[l+1],g=Mv(c,d,1)^n[a],p=Ov(c,d,1)^n[a+1];for(let f=0;f<50;f+=10)t[s+f]^=g,t[s+f+1]^=p}let i=t[2],o=t[3];for(let s=0;s<24;s++){const a=nx[s],l=Mv(i,o,a),c=Ov(i,o,a),d=tx[s];i=t[d],o=t[d+1],t[d]=l,t[d+1]=c}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=_4[r],t[1]^=E4[r]}qo(n)}class cw extends Wy{constructor(e,n,r,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,tl(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=MC(this.state)}clone(){return this._cloneInto()}keccak(){mv(this.state32),b4(this.state32,this.rounds),mv(this.state32),this.posOut=0,this.pos=0}update(e){nl(this),e=dh(e),bi(e);const{blockLen:n,state:r}=this,i=e.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){nl(this,!1),bi(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return tl(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(HS(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,qo(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new cw(n,r,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}const S4=(t,e,n)=>$y(()=>new cw(e,t,n)),Lv=S4(1,136,256/8);class ox extends Wy{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,$S(e);const r=dh(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),qo(o)}update(e){return nl(this),this.iHash.update(e),this}digestInto(e){nl(this),bi(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const sx=(t,e,n)=>new ox(t,e).update(n).digest();sx.create=(t,e)=>new ox(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Bv=(t,e)=>(t+(t>=0?e:-e)/ax)/e;function A4(t,e,n){const[[r,i],[o,s]]=e,a=Bv(s*t,n),l=Bv(-i*t,n);let c=t-a*r-l*o,d=-a*i-l*s;const g=c<Gi,p=d<Gi;g&&(c=-c),p&&(d=-d);const f=Jc(Math.ceil(JS(n)/2))+$a;if(c<Gi||c>=f||d<Gi||d>=f)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:g,k1:c,k2neg:p,k2:d}}function Lg(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function e0(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return Us(n.lowS,"lowS"),Us(n.prehash,"prehash"),n.format!==void 0&&Lg(n.format),n}class x4 extends Error{constructor(e=""){super(e)}}const Ui={Err:x4,_tlv:{encode:(t,e)=>{const{Err:n}=Ui;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=Du(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Du(i.length/2|128):"";return Du(t)+o+i+e},decode(t,e){const{Err:n}=Ui;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],o=!!(i&128);let s=0;if(!o)s=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of c)s=s<<8|d;if(r+=l,s<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+s)}}},_int:{encode(t){const{Err:e}=Ui;if(t<Gi)throw new e("integer: negative integers are not allowed");let n=Du(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Ui;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return hh(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Ui,i=Ct("signature",t),{v:o,l:s}=r.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,o),{v:c,l:d}=r.decode(2,l);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=Ui,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),o=r+i;return e.encode(48,o)}},Gi=BigInt(0),$a=BigInt(1),ax=BigInt(2),Fu=BigInt(3),R4=BigInt(4);function Ma(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let i=Ct("private key",e);try{r=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function I4(t,e={}){const n=gA("weierstrass",t,e),{Fp:r,Fn:i}=n;let o=n.CURVE;const{h:s,n:a}=o;eu(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:l}=e;if(l&&(!r.is0(o.a)||typeof l.beta!="bigint"||!Array.isArray(l.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const c=cx(r,i);function d(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function g(H,A,u){const{x:h,y:S}=A.toAffine(),N=r.toBytes(h);if(Us(u,"isCompressed"),u){d();const T=!r.isOdd(S);return Or(lx(T),N)}else return Or(Uint8Array.of(4),N,r.toBytes(S))}function p(H){qr(H,void 0,"Point");const{publicKey:A,publicKeyUncompressed:u}=c,h=H.length,S=H[0],N=H.subarray(1);if(h===A&&(S===2||S===3)){const T=r.fromBytes(N);if(!r.isValid(T))throw new Error("bad point: is not on curve, wrong x");const O=x(T);let j;try{j=r.sqrt(O)}catch(P){const ne=P instanceof Error?": "+P.message:"";throw new Error("bad point: is not on curve, sqrt error"+ne)}d();const C=r.isOdd(j);return(S&1)===1!==C&&(j=r.neg(j)),{x:T,y:j}}else if(h===u&&S===4){const T=r.BYTES,O=r.fromBytes(N.subarray(0,T)),j=r.fromBytes(N.subarray(T,T*2));if(!R(O,j))throw new Error("bad point: is not on curve");return{x:O,y:j}}else throw new Error(`bad point: got length ${h}, expected compressed=${A} or uncompressed=${u}`)}const f=e.toBytes||g,m=e.fromBytes||p;function x(H){const A=r.sqr(H),u=r.mul(A,H);return r.add(r.add(u,r.mul(H,o.a)),o.b)}function R(H,A){const u=r.sqr(A),h=x(H);return r.eql(u,h)}if(!R(o.Gx,o.Gy))throw new Error("bad curve params: generator point");const y=r.mul(r.pow(o.a,Fu),R4),b=r.mul(r.sqr(o.b),BigInt(27));if(r.is0(r.add(y,b)))throw new Error("bad curve params: a or b");function _(H,A,u=!1){if(!r.isValid(A)||u&&r.is0(A))throw new Error(`bad point coordinate ${H}`);return A}function I(H){if(!(H instanceof U))throw new Error("ProjectivePoint expected")}function L(H){if(!l||!l.basises)throw new Error("no endo");return A4(H,l.basises,i.ORDER)}const z=wf((H,A)=>{const{X:u,Y:h,Z:S}=H;if(r.eql(S,r.ONE))return{x:u,y:h};const N=H.is0();A==null&&(A=N?r.ONE:r.inv(S));const T=r.mul(u,A),O=r.mul(h,A),j=r.mul(S,A);if(N)return{x:r.ZERO,y:r.ZERO};if(!r.eql(j,r.ONE))throw new Error("invZ was invalid");return{x:T,y:O}}),B=wf(H=>{if(H.is0()){if(e.allowInfinityPoint&&!r.is0(H.Y))return;throw new Error("bad point: ZERO")}const{x:A,y:u}=H.toAffine();if(!r.isValid(A)||!r.isValid(u))throw new Error("bad point: x or y not field elements");if(!R(A,u))throw new Error("bad point: equation left != right");if(!H.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function F(H,A,u,h,S){return u=new U(r.mul(u.X,H),u.Y,u.Z),A=vf(h,A),u=vf(S,u),A.add(u)}class U{constructor(A,u,h){this.X=_("x",A),this.Y=_("y",u,!0),this.Z=_("z",h),Object.freeze(this)}static CURVE(){return o}static fromAffine(A){const{x:u,y:h}=A||{};if(!A||!r.isValid(u)||!r.isValid(h))throw new Error("invalid affine point");if(A instanceof U)throw new Error("projective point not allowed");return r.is0(u)&&r.is0(h)?U.ZERO:new U(u,h,r.ONE)}static fromBytes(A){const u=U.fromAffine(m(qr(A,void 0,"point")));return u.assertValidity(),u}static fromHex(A){return U.fromBytes(Ct("pointHex",A))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(A=8,u=!0){return $.createCache(this,A),u||this.multiply(Fu),this}assertValidity(){B(this)}hasEvenY(){const{y:A}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(A)}equals(A){I(A);const{X:u,Y:h,Z:S}=this,{X:N,Y:T,Z:O}=A,j=r.eql(r.mul(u,O),r.mul(N,S)),C=r.eql(r.mul(h,O),r.mul(T,S));return j&&C}negate(){return new U(this.X,r.neg(this.Y),this.Z)}double(){const{a:A,b:u}=o,h=r.mul(u,Fu),{X:S,Y:N,Z:T}=this;let O=r.ZERO,j=r.ZERO,C=r.ZERO,w=r.mul(S,S),P=r.mul(N,N),ne=r.mul(T,T),oe=r.mul(S,N);return oe=r.add(oe,oe),C=r.mul(S,T),C=r.add(C,C),O=r.mul(A,C),j=r.mul(h,ne),j=r.add(O,j),O=r.sub(P,j),j=r.add(P,j),j=r.mul(O,j),O=r.mul(oe,O),C=r.mul(h,C),ne=r.mul(A,ne),oe=r.sub(w,ne),oe=r.mul(A,oe),oe=r.add(oe,C),C=r.add(w,w),w=r.add(C,w),w=r.add(w,ne),w=r.mul(w,oe),j=r.add(j,w),ne=r.mul(N,T),ne=r.add(ne,ne),w=r.mul(ne,oe),O=r.sub(O,w),C=r.mul(ne,P),C=r.add(C,C),C=r.add(C,C),new U(O,j,C)}add(A){I(A);const{X:u,Y:h,Z:S}=this,{X:N,Y:T,Z:O}=A;let j=r.ZERO,C=r.ZERO,w=r.ZERO;const P=o.a,ne=r.mul(o.b,Fu);let oe=r.mul(u,N),le=r.mul(h,T),Ae=r.mul(S,O),be=r.add(u,h),_e=r.add(N,T);be=r.mul(be,_e),_e=r.add(oe,le),be=r.sub(be,_e),_e=r.add(u,S);let gt=r.add(N,O);return _e=r.mul(_e,gt),gt=r.add(oe,Ae),_e=r.sub(_e,gt),gt=r.add(h,S),j=r.add(T,O),gt=r.mul(gt,j),j=r.add(le,Ae),gt=r.sub(gt,j),w=r.mul(P,_e),j=r.mul(ne,Ae),w=r.add(j,w),j=r.sub(le,w),w=r.add(le,w),C=r.mul(j,w),le=r.add(oe,oe),le=r.add(le,oe),Ae=r.mul(P,Ae),_e=r.mul(ne,_e),le=r.add(le,Ae),Ae=r.sub(oe,Ae),Ae=r.mul(P,Ae),_e=r.add(_e,Ae),oe=r.mul(le,_e),C=r.add(C,oe),oe=r.mul(gt,_e),j=r.mul(be,j),j=r.sub(j,oe),oe=r.mul(be,le),w=r.mul(gt,w),w=r.add(w,oe),new U(j,C,w)}subtract(A){return this.add(A.negate())}is0(){return this.equals(U.ZERO)}multiply(A){const{endo:u}=e;if(!i.isValidNot0(A))throw new Error("invalid scalar: out of range");let h,S;const N=T=>$.cached(this,T,O=>_s(U,O));if(u){const{k1neg:T,k1:O,k2neg:j,k2:C}=L(A),{p:w,f:P}=N(O),{p:ne,f:oe}=N(C);S=P.add(oe),h=F(u.beta,w,ne,T,j)}else{const{p:T,f:O}=N(A);h=T,S=O}return _s(U,[h,S])[0]}multiplyUnsafe(A){const{endo:u}=e,h=this;if(!i.isValid(A))throw new Error("invalid scalar: out of range");if(A===Gi||h.is0())return U.ZERO;if(A===$a)return h;if($.hasCache(this))return this.multiply(A);if(u){const{k1neg:S,k1:N,k2neg:T,k2:O}=L(A),{p1:j,p2:C}=yM(U,h,N,O);return F(u.beta,j,C,S,T)}else return $.unsafe(h,A)}multiplyAndAddUnsafe(A,u,h){const S=this.multiplyUnsafe(u).add(A.multiplyUnsafe(h));return S.is0()?void 0:S}toAffine(A){return z(this,A)}isTorsionFree(){const{isTorsionFree:A}=e;return s===$a?!0:A?A(U,this):$.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:A}=e;return s===$a?this:A?A(U,this):this.multiplyUnsafe(s)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}toBytes(A=!0){return Us(A,"isCompressed"),this.assertValidity(),f(U,this,A)}toHex(A=!0){return vi(this.toBytes(A))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(A=!0){return this.toBytes(A)}_setWindowSize(A){this.precompute(A)}static normalizeZ(A){return _s(U,A)}static msm(A,u){return pA(U,i,A,u)}static fromPrivateKey(A){return U.BASE.multiply(Ma(i,A))}}U.BASE=new U(o.Gx,o.Gy,r.ONE),U.ZERO=new U(r.ZERO,r.ONE,r.ZERO),U.Fp=r,U.Fn=i;const W=i.BITS,$=new hA(U,e.endo?Math.ceil(W/2):W);return U.BASE.precompute(8),U}function lx(t){return Uint8Array.of(t?2:3)}function cx(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function N4(t,e={}){const{Fn:n}=t,r=e.randomBytes||fh,i=Object.assign(cx(t.Fp,n),{seed:uA(n.ORDER)});function o(f){try{return!!Ma(n,f)}catch{return!1}}function s(f,m){const{publicKey:x,publicKeyUncompressed:R}=i;try{const y=f.length;return m===!0&&y!==x||m===!1&&y!==R?!1:!!t.fromBytes(f)}catch{return!1}}function a(f=r(i.seed)){return pM(qr(f,i.seed,"seed"),n.ORDER)}function l(f,m=!0){return t.BASE.multiply(Ma(n,f)).toBytes(m)}function c(f){const m=a(f);return{secretKey:m,publicKey:l(m)}}function d(f){if(typeof f=="bigint")return!1;if(f instanceof t)return!0;const{secretKey:m,publicKey:x,publicKeyUncompressed:R}=i;if(n.allowedLengths||m===x)return;const y=Ct("key",f).length;return y===x||y===R}function g(f,m,x=!0){if(d(f)===!0)throw new Error("first arg must be private key");if(d(m)===!1)throw new Error("second arg must be public key");const R=Ma(n,f);return t.fromHex(m).multiply(R).toBytes(x)}return Object.freeze({getPublicKey:l,getSharedSecret:g,keygen:c,Point:t,utils:{isValidSecretKey:o,isValidPublicKey:s,randomSecretKey:a,isValidPrivateKey:o,randomPrivateKey:a,normPrivateKeyToScalar:f=>Ma(n,f),precompute(f=8,m=t.BASE){return m.precompute(f,!1)}},lengths:i})}function T4(t,e,n={}){$S(e),eu(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||fh,i=n.hmac||((u,...h)=>sx(e,u,Or(...h))),{Fp:o,Fn:s}=t,{ORDER:a,BITS:l}=s,{keygen:c,getPublicKey:d,getSharedSecret:g,utils:p,lengths:f}=N4(t,n),m={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},x="compact";function R(u){const h=a>>$a;return u>h}function y(u,h){if(!s.isValidNot0(h))throw new Error(`invalid signature ${u}: out of range 1..Point.Fn.ORDER`);return h}function b(u,h){Lg(h);const S=f.signature,N=h==="compact"?S:h==="recovered"?S+1:void 0;return qr(u,N,`${h} signature`)}class _{constructor(h,S,N){this.r=y("r",h),this.s=y("s",S),N!=null&&(this.recovery=N),Object.freeze(this)}static fromBytes(h,S=x){b(h,S);let N;if(S==="der"){const{r:C,s:w}=Ui.toSig(qr(h));return new _(C,w)}S==="recovered"&&(N=h[0],S="compact",h=h.subarray(1));const T=s.BYTES,O=h.subarray(0,T),j=h.subarray(T,T*2);return new _(s.fromBytes(O),s.fromBytes(j),N)}static fromHex(h,S){return this.fromBytes(rl(h),S)}addRecoveryBit(h){return new _(this.r,this.s,h)}recoverPublicKey(h){const S=o.ORDER,{r:N,s:T,recovery:O}=this;if(O==null||![0,1,2,3].includes(O))throw new Error("recovery id invalid");if(a*ax<S&&O>1)throw new Error("recovery id is ambiguous for h>1 curve");const C=O===2||O===3?N+a:N;if(!o.isValid(C))throw new Error("recovery id 2 or 3 invalid");const w=o.toBytes(C),P=t.fromBytes(Or(lx((O&1)===0),w)),ne=s.inv(C),oe=L(Ct("msgHash",h)),le=s.create(-oe*ne),Ae=s.create(T*ne),be=t.BASE.multiplyUnsafe(le).add(P.multiplyUnsafe(Ae));if(be.is0())throw new Error("point at infinify");return be.assertValidity(),be}hasHighS(){return R(this.s)}toBytes(h=x){if(Lg(h),h==="der")return rl(Ui.hexFromSig(this));const S=s.toBytes(this.r),N=s.toBytes(this.s);if(h==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Or(Uint8Array.of(this.recovery),S,N)}return Or(S,N)}toHex(h){return vi(this.toBytes(h))}assertValidity(){}static fromCompact(h){return _.fromBytes(Ct("sig",h),"compact")}static fromDER(h){return _.fromBytes(Ct("sig",h),"der")}normalizeS(){return this.hasHighS()?new _(this.r,s.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return vi(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return vi(this.toBytes("compact"))}}const I=n.bits2int||function(h){if(h.length>8192)throw new Error("input is too large");const S=hh(h),N=h.length*8-l;return N>0?S>>BigInt(N):S},L=n.bits2int_modN||function(h){return s.create(I(h))},z=Jc(l);function B(u){return kg("num < 2^"+l,u,Gi,z),s.toBytes(u)}function F(u,h){return qr(u,void 0,"message"),h?qr(e(u),void 0,"prehashed message"):u}function U(u,h,S){if(["recovered","canonical"].some(le=>le in S))throw new Error("sign() legacy options not supported");const{lowS:N,prehash:T,extraEntropy:O}=e0(S,m);u=F(u,T);const j=L(u),C=Ma(s,h),w=[B(C),B(j)];if(O!=null&&O!==!1){const le=O===!0?r(f.secretKey):O;w.push(Ct("extraEntropy",le))}const P=Or(...w),ne=j;function oe(le){const Ae=I(le);if(!s.isValidNot0(Ae))return;const be=s.inv(Ae),_e=t.BASE.multiply(Ae).toAffine(),gt=s.create(_e.x);if(gt===Gi)return;const qe=s.create(be*s.create(ne+gt*C));if(qe===Gi)return;let et=(_e.x===gt?0:2)|Number(_e.y&$a),Yn=qe;return N&&R(qe)&&(Yn=s.neg(qe),et^=1),new _(gt,Yn,et)}return{seed:P,k2sig:oe}}function W(u,h,S={}){u=Ct("message",u);const{seed:N,k2sig:T}=U(u,h,S);return iM(e.outputLen,s.BYTES,i)(N,T)}function $(u){let h;const S=typeof u=="string"||es(u),N=!S&&u!==null&&typeof u=="object"&&typeof u.r=="bigint"&&typeof u.s=="bigint";if(!S&&!N)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(N)h=new _(u.r,u.s);else if(S){try{h=_.fromBytes(Ct("sig",u),"der")}catch(T){if(!(T instanceof Ui.Err))throw T}if(!h)try{h=_.fromBytes(Ct("sig",u),"compact")}catch{return!1}}return h||!1}function H(u,h,S,N={}){const{lowS:T,prehash:O,format:j}=e0(N,m);if(S=Ct("publicKey",S),h=F(Ct("message",h),O),"strict"in N)throw new Error("options.strict was renamed to lowS");const C=j===void 0?$(u):_.fromBytes(Ct("sig",u),j);if(C===!1)return!1;try{const w=t.fromBytes(S);if(T&&C.hasHighS())return!1;const{r:P,s:ne}=C,oe=L(h),le=s.inv(ne),Ae=s.create(oe*le),be=s.create(P*le),_e=t.BASE.multiplyUnsafe(Ae).add(w.multiplyUnsafe(be));return _e.is0()?!1:s.create(_e.x)===P}catch{return!1}}function A(u,h,S={}){const{prehash:N}=e0(S,m);return h=F(h,N),_.fromBytes(u,"recovered").recoverPublicKey(h).toBytes()}return Object.freeze({keygen:c,getPublicKey:d,getSharedSecret:g,utils:p,lengths:f,Point:t,sign:W,verify:H,recoverPublicKey:A,Signature:_,hash:e})}function k4(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(s=>Math.ceil(s/2)))):void 0;const i=Ks(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),o={Fp:n,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:o}}function C4(t){const{CURVE:e,curveOpts:n}=k4(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function M4(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,lA(n.Fn.ORDER,n.Fn.BITS))})}function O4(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:i}=C4(t),o=I4(e,n),s=T4(o,r,i);return M4(t,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function L4(t,e){const n=r=>O4({...t,hash:r});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const uw={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},B4={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},Pv=BigInt(2);function P4(t){const e=uw.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,d=c*c*t%e,g=kt(d,n,e)*d%e,p=kt(g,n,e)*d%e,f=kt(p,Pv,e)*c%e,m=kt(f,i,e)*f%e,x=kt(m,o,e)*m%e,R=kt(x,a,e)*x%e,y=kt(R,l,e)*R%e,b=kt(y,a,e)*x%e,_=kt(b,n,e)*d%e,I=kt(_,s,e)*m%e,L=kt(I,r,e)*c%e,z=kt(L,Pv,e);if(!Bg.eql(Bg.sqr(z),t))throw new Error("Cannot find square root");return z}const Bg=Ks(uw.p,{sqrt:P4}),dw=L4({...uw,Fp:Bg,lowS:!0,endo:B4},YS),D4=El.utils.randomPrivateKey,Dv=()=>{const t=El.utils.randomPrivateKey(),e=Rf(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),{publicKey:e,secretKey:n}},Rf=El.getPublicKey;function Uv(t){try{return El.ExtendedPoint.fromHex(t),!0}catch{return!1}}const fw=(t,e)=>El.sign(t,e.slice(0,32)),U4=El.verify,Oe=t=>me.Buffer.isBuffer(t)?t:t instanceof Uint8Array?me.Buffer.from(t.buffer,t.byteOffset,t.byteLength):me.Buffer.from(t);let hw=class{constructor(e){Object.assign(this,e)}encode(){return me.Buffer.from(SA(fc,this))}static decode(e){return AA(fc,this,e)}static decodeUnchecked(e){return wA(fc,this,e)}};class j4 extends hw{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(n=>{this.enum=n})}}const fc=new Map;var ux;const dx=32,_i=32;function z4(t){return t._bn!==void 0}let jv=1;class X extends hw{constructor(e){if(super({}),this._bn=void 0,z4(e))this._bn=e._bn;else{if(typeof e=="string"){const n=xn.decode(e);if(n.length!=_i)throw new Error("Invalid public key input");this._bn=new er(n)}else this._bn=new er(e);if(this._bn.byteLength()>_i)throw new Error("Invalid public key input")}}static unique(){const e=new X(jv);return jv+=1,new X(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return xn.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(me.Buffer);if(e.length===_i)return e;const n=me.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const i=me.Buffer.concat([e.toBuffer(),me.Buffer.from(n),r.toBuffer()]),o=Tv(i);return new X(o)}static createProgramAddressSync(e,n){let r=me.Buffer.alloc(0);e.forEach(function(o){if(o.length>dx)throw new TypeError("Max seed length exceeded");r=me.Buffer.concat([r,Oe(o)])}),r=me.Buffer.concat([r,n.toBuffer(),me.Buffer.from("ProgramDerivedAddress")]);const i=Tv(r);if(Uv(i))throw new Error("Invalid seeds, address must fall off the curve");return new X(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{const o=e.concat(me.Buffer.from([r]));i=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new X(e);return Uv(n.toBytes())}}ux=X;X.default=new ux("11111111111111111111111111111111");fc.set(X,{kind:"struct",fields:[["_bn","u256"]]});class F4{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const n=Oe(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=n.slice(32,64),this._secretKey=n.slice(0,32)}else this._secretKey=Oe(D4()),this._publicKey=Oe(Rf(this._secretKey))}get publicKey(){return new X(this._publicKey)}get secretKey(){return me.Buffer.concat([this._secretKey,this._publicKey],64)}}const W4=new X("BPFLoader1111111111111111111111111111111111"),$o=1232,Eh=127,sl=64;class pw extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(pw.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class gw extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(gw.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Oa extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Oa.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class jc{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,s)=>{r.set(o.toBase58(),s)});const i=o=>{const s=r.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}}const Pe=(t="publicKey")=>it(32,t),$4=(t="signature")=>it(64,t),Es=(t="string")=>{const e=se([he("length"),he("lengthPadding"),it(Wo(he(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(o,s)=>n(o,s).chars.toString(),i.encode=(o,s,a)=>{const l={chars:me.Buffer.from(o,"utf8")};return r(l,s,a)},i.alloc=o=>he().span+he().span+me.Buffer.from(o,"utf8").length,i},H4=(t="authorized")=>se([Pe("staker"),Pe("withdrawer")],t),K4=(t="lockup")=>se([Wn("unixTimestamp"),Wn("epoch"),Pe("custodian")],t),V4=(t="voteInit")=>se([Pe("nodePubkey"),Pe("authorizedVoter"),Pe("authorizedWithdrawer"),Ne("commission")],t),G4=(t="voteAuthorizeWithSeedArgs")=>se([he("voteAuthorizationType"),Pe("currentAuthorityDerivedKeyOwnerPubkey"),Es("currentAuthorityDerivedKeySeed"),Pe("newAuthorized")],t);function fx(t,e){const n=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const o=e[i.property];if(Array.isArray(o))return o.length*n(i.elementLayout)}else if("fields"in i)return fx({layout:i},e[i.property]);return 0};let r=0;return t.layout.fields.forEach(i=>{r+=n(i)}),r}function Qn(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function yr(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function We(t,e){if(!t)throw new Error(e||"Assertion failed")}class bh{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,i=s=>{const a=s.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},o=i(n);o.isSigner=!0,o.isWritable=!0;for(const s of e){i(s.programId).isInvoked=!0;for(const a of s.keys){const l=i(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new bh(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];We(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,l])=>l.isSigner&&l.isWritable),r=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),o=e.filter(([,l])=>!l.isSigner&&!l.isWritable),s={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{We(n.length>0,"Expected at least one writable signer key");const[l]=n[0];We(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new X(l)),...r.map(([l])=>new X(l)),...i.map(([l])=>new X(l)),...o.map(([l])=>new X(l))];return[s,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(e,n){const r=new Array,i=new Array;for(const[o,s]of this.keyMetaMap.entries())if(n(s)){const a=new X(o),l=e.findIndex(c=>c.equals(a));l>=0&&(We(l<256,"Max lookup table index exceeded"),r.push(l),i.push(a),this.keyMetaMap.delete(o))}return[r,i]}}const hx="Reached end of buffer unexpectedly";function fi(t){if(t.length===0)throw new Error(hx);return t.shift()}function Xn(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(hx);return t.splice(...e)}class ri{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new X(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:xn.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new jc(this.staticAccountKeys)}static compile(e){const n=bh.compile(e.instructions,e.payerKey),[r,i]=n.getMessageComponents(),s=new jc(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:xn.encode(a.data)}));return new ri({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];yr(n,e);const r=this.instructions.map(g=>{const{accounts:p,programIdIndex:f}=g,m=Array.from(xn.decode(g.data));let x=[];yr(x,p.length);let R=[];return yr(R,m.length),{programIdIndex:f,keyIndicesCount:me.Buffer.from(x),keyIndices:p,dataLength:me.Buffer.from(R),data:m}});let i=[];yr(i,r.length);let o=me.Buffer.alloc($o);me.Buffer.from(i).copy(o);let s=i.length;r.forEach(g=>{const f=se([Ne("programIdIndex"),it(g.keyIndicesCount.length,"keyIndicesCount"),wn(Ne("keyIndex"),g.keyIndices.length,"keyIndices"),it(g.dataLength.length,"dataLength"),wn(Ne("userdatum"),g.data.length,"data")]).encode(g,o,s);s+=f}),o=o.slice(0,s);const a=se([it(1,"numRequiredSignatures"),it(1,"numReadonlySignedAccounts"),it(1,"numReadonlyUnsignedAccounts"),it(n.length,"keyCount"),wn(Pe("key"),e,"keys"),Pe("recentBlockhash")]),l={numRequiredSignatures:me.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:me.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:me.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:me.Buffer.from(n),keys:this.accountKeys.map(g=>Oe(g.toBytes())),recentBlockhash:xn.decode(this.recentBlockhash)};let c=me.Buffer.alloc(2048);const d=a.encode(l,c);return o.copy(c,d),c.slice(0,d+o.length)}static from(e){let n=[...e];const r=fi(n);if(r!==(r&Eh))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=fi(n),o=fi(n),s=Qn(n);let a=[];for(let p=0;p<s;p++){const f=Xn(n,0,_i);a.push(new X(me.Buffer.from(f)))}const l=Xn(n,0,_i),c=Qn(n);let d=[];for(let p=0;p<c;p++){const f=fi(n),m=Qn(n),x=Xn(n,0,m),R=Qn(n),y=Xn(n,0,R),b=xn.encode(me.Buffer.from(y));d.push({programIdIndex:f,accounts:x,data:b})}const g={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:xn.encode(me.Buffer.from(l)),accountKeys:a,instructions:d};return new ri(g)}}class js{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new jc(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(e>=this.header.numRequiredSignatures){const i=e-n,s=r-n-this.header.numReadonlyUnsignedAccounts;return i<s}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(o=>o.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const o of r.writableIndexes)if(o<i.state.addresses.length)n.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`);for(const o of r.readonlyIndexes)if(o<i.state.addresses.length)n.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=bh.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(const d of o){const g=n.extractTableLookup(d);if(g!==void 0){const[p,{writable:f,readonly:m}]=g;r.push(p),i.writable.push(...f),i.readonly.push(...m)}}const[s,a]=n.getMessageComponents(),c=new jc(a,i).compileInstructions(e.instructions);return new js({header:s,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const e=Array();yr(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();yr(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),o=Array();yr(o,this.addressTableLookups.length);const s=se([Ne("prefix"),se([Ne("numRequiredSignatures"),Ne("numReadonlySignedAccounts"),Ne("numReadonlyUnsignedAccounts")],"header"),it(e.length,"staticAccountKeysLength"),wn(Pe(),this.staticAccountKeys.length,"staticAccountKeys"),Pe("recentBlockhash"),it(r.length,"instructionsLength"),it(n.length,"serializedInstructions"),it(o.length,"addressTableLookupsLength"),it(i.length,"serializedAddressTableLookups")]),a=new Uint8Array($o),c=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:xn.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,c)}serializeInstructions(){let e=0;const n=new Uint8Array($o);for(const r of this.compiledInstructions){const i=Array();yr(i,r.accountKeyIndexes.length);const o=Array();yr(o,r.data.length);const s=se([Ne("programIdIndex"),it(i.length,"encodedAccountKeyIndexesLength"),wn(Ne(),r.accountKeyIndexes.length,"accountKeyIndexes"),it(o.length,"encodedDataLength"),it(r.data.length,"data")]);e+=s.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array($o);for(const r of this.addressTableLookups){const i=Array();yr(i,r.writableIndexes.length);const o=Array();yr(o,r.readonlyIndexes.length);const s=se([Pe("accountKey"),it(i.length,"encodedWritableIndexesLength"),wn(Ne(),r.writableIndexes.length,"writableIndexes"),it(o.length,"encodedReadonlyIndexesLength"),wn(Ne(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=fi(n),i=r&Eh;We(r!==i,"Expected versioned message but received legacy message");const o=i;We(o===0,`Expected versioned message with version 0 but found version ${o}`);const s={numRequiredSignatures:fi(n),numReadonlySignedAccounts:fi(n),numReadonlyUnsignedAccounts:fi(n)},a=[],l=Qn(n);for(let m=0;m<l;m++)a.push(new X(Xn(n,0,_i)));const c=xn.encode(Xn(n,0,_i)),d=Qn(n),g=[];for(let m=0;m<d;m++){const x=fi(n),R=Qn(n),y=Xn(n,0,R),b=Qn(n),_=new Uint8Array(Xn(n,0,b));g.push({programIdIndex:x,accountKeyIndexes:y,data:_})}const p=Qn(n),f=[];for(let m=0;m<p;m++){const x=new X(Xn(n,0,_i)),R=Qn(n),y=Xn(n,0,R),b=Qn(n),_=Xn(n,0,b);f.push({accountKey:x,writableIndexes:y,readonlyIndexes:_})}return new js({header:s,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:g,addressTableLookups:f})}}const Sh={deserializeMessageVersion(t){const e=t[0],n=e&Eh;return n===e?"legacy":n},deserialize:t=>{const e=Sh.deserializeMessageVersion(t);if(e==="legacy")return ri.from(t);if(e===0)return js.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Li=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const q4=me.Buffer.alloc(sl).fill(0);class Ke{constructor(e){this.keys=void 0,this.programId=void 0,this.data=me.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Be{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new Ke(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let x=0;x<n.length;x++)if(n[x].programId===void 0)throw new Error(`Transaction instruction index ${x} has undefined program id`);const i=[],o=[];n.forEach(x=>{x.keys.forEach(y=>{o.push({...y})});const R=x.programId.toString();i.includes(R)||i.push(R)}),i.forEach(x=>{o.push({pubkey:new X(x),isSigner:!1,isWritable:!1})});const s=[];o.forEach(x=>{const R=x.pubkey.toString(),y=s.findIndex(b=>b.pubkey.toString()===R);y>-1?(s[y].isWritable=s[y].isWritable||x.isWritable,s[y].isSigner=s[y].isSigner||x.isSigner):s.push(x)}),s.sort(function(x,R){if(x.isSigner!==R.isSigner)return x.isSigner?-1:1;if(x.isWritable!==R.isWritable)return x.isWritable?-1:1;const y={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return x.pubkey.toBase58().localeCompare(R.pubkey.toBase58(),"en",y)});const a=s.findIndex(x=>x.pubkey.equals(r));if(a>-1){const[x]=s.splice(a,1);x.isSigner=!0,x.isWritable=!0,s.unshift(x)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const x of this.signatures){const R=s.findIndex(y=>y.pubkey.equals(x.publicKey));if(R>-1)s[R].isSigner||(s[R].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${x.publicKey.toString()}`)}let l=0,c=0,d=0;const g=[],p=[];s.forEach(({pubkey:x,isSigner:R,isWritable:y})=>{R?(g.push(x.toString()),l+=1,y||(c+=1)):(p.push(x.toString()),y||(d+=1))});const f=g.concat(p),m=n.map(x=>{const{data:R,programId:y}=x;return{programIdIndex:f.indexOf(y.toString()),accounts:x.keys.map(b=>f.indexOf(b.pubkey.toString())),data:xn.encode(R)}});return m.forEach(x=>{We(x.programIdIndex>=0),x.accounts.forEach(R=>We(R>=0))}),new ri({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:d},accountKeys:f,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,o)=>n[o].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of e){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of e){const s=o.publicKey.toString();n.has(s)||(n.add(s),r.push(o))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(i=>{const o=fw(r,i.secretKey);this._addSignature(i.publicKey,Oe(o))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){We(n.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=me.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:i,publicKey:o}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(o):U4(i,e,o.toBytes())||(r.invalid||(r.invalid=[])).push(o);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const o=this._getMessageSignednessErrors(i,n);if(o){let s="Signature verification failed.";throw o.invalid&&(s+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(s+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(i)}_serialize(e){const{signatures:n}=this,r=[];yr(r,n.length);const i=r.length+n.length*64+e.length,o=me.Buffer.alloc(i);return We(n.length<256),me.Buffer.from(r).copy(o,0),n.forEach(({signature:s},a)=>{s!==null&&(We(s.length===64,"signature has invalid length"),me.Buffer.from(s).copy(o,r.length+a*64))}),e.copy(o,r.length+n.length*64),We(o.length<=$o,`Transaction too large: ${o.length} > ${$o}`),o}get keys(){return We(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return We(this.instructions.length===1),this.instructions[0].programId}get data(){return We(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=Qn(n);let i=[];for(let o=0;o<r;o++){const s=Xn(n,0,sl);i.push(xn.encode(me.Buffer.from(s)))}return Be.populate(ri.from(n),i)}static populate(e,n=[]){const r=new Be;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((i,o)=>{const s={signature:i==xn.encode(q4)?null:xn.decode(i),publicKey:e.accountKeys[o]};r.signatures.push(s)}),e.instructions.forEach(i=>{const o=i.accounts.map(s=>{const a=e.accountKeys[s];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});r.instructions.push(new Ke({keys:o,programId:e.accountKeys[i.programIdIndex],data:xn.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}class mw{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,n){const{header:r,compiledInstructions:i,recentBlockhash:o}=e,{numRequiredSignatures:s,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:l}=r,c=s-a;We(c>0,"Message header is invalid");const d=e.staticAccountKeys.length-s-l;We(d>=0,"Message header is invalid");const g=e.getAccountKeys(n),p=g.get(0);if(p===void 0)throw new Error("Failed to decompile message because no account keys were found");const f=[];for(const m of i){const x=[];for(const y of m.accountKeyIndexes){const b=g.get(y);if(b===void 0)throw new Error(`Failed to find key for account key index ${y}`);const _=y<s;let I;_?I=y<c:y<g.staticAccountKeys.length?I=y-s<d:I=y-g.staticAccountKeys.length<g.accountKeysFromLookups.writable.length,x.push({pubkey:b,isSigner:y<r.numRequiredSignatures,isWritable:I})}const R=g.get(m.programIdIndex);if(R===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);f.push(new Ke({programId:R,data:Oe(m.data),keys:x}))}return new mw({payerKey:p,instructions:f,recentBlockhash:o})}compileToLegacyMessage(){return ri.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return js.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class al{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)We(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(sl));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();yr(n,this.signatures.length);const r=se([it(n.length,"encodedSignaturesLength"),wn($4(),this.signatures.length,"signatures"),it(e.length,"serializedMessage")]),i=new Uint8Array(2048),o=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,o)}static deserialize(e){let n=[...e];const r=[],i=Qn(n);for(let s=0;s<i;s++)r.push(new Uint8Array(Xn(n,0,sl)));const o=Sh.deserialize(new Uint8Array(n));return new al(o,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const o=r.findIndex(s=>s.equals(i.publicKey));We(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=fw(n,i.secretKey)}}addSignature(e,n){We(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));We(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}}const Y4=160,Z4=64,Q4=Y4/Z4,px=1e3/Q4,ci=new X("SysvarC1ock11111111111111111111111111111111"),X4=new X("SysvarEpochSchedu1e111111111111111111111111"),J4=new X("Sysvar1nstructions1111111111111111111111111"),dd=new X("SysvarRecentB1ockHashes11111111111111111111"),Qi=new X("SysvarRent111111111111111111111111111111111"),e3=new X("SysvarRewards111111111111111111111111111111"),t3=new X("SysvarS1otHashes111111111111111111111111111"),n3=new X("SysvarS1otHistory11111111111111111111111111"),fd=new X("SysvarStakeHistory1111111111111111111111111");class Yo extends Error{constructor({action:e,signature:n,transactionMessage:r,logs:i}){const o=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+o+s;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+o+s;break;default:a=`Unknown action '${(l=>l)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const o=i.meta.logMessages;this.transactionLogs=o,n(o)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const r3={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class we extends Error{constructor({code:e,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function ll(t,e,n,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},o=await t.sendTransaction(e,n,i);let s;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)s=(await t.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,l=a.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:l,nonceValue:e.nonceInfo.nonce,signature:o},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(o,r&&r.commitment)).value;if(s.err)throw o!=null?new Yo({action:"send",signature:o,transactionMessage:`Status: (${JSON.stringify(s)})`}):new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function fs(t){return new Promise(e=>setTimeout(e,t))}function je(t,e){const n=t.layout.span>=0?t.layout.span:fx(t,e),r=me.Buffer.alloc(n),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,r),r}function Ge(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${t.index}`);return n}const gx=En("lamportsPerSignature"),mx=se([he("version"),he("state"),Pe("authorizedPubkey"),Pe("nonce"),se([gx],"feeCalculator")]),Pg=mx.span;class Ah{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=mx.decode(Oe(e),0);return new Ah({authorizedPubkey:new X(n.authorizedPubkey),nonce:new X(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function cl(t){const e=it(8,t),n=e.decode.bind(e),r=e.encode.bind(e),i=e,o=kO();return i.decode=(s,a)=>{const l=n(s,a);return o.decode(l)},i.encode=(s,a,l)=>{const c=o.encode(s);return r(c,a,l)},i}class i3{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=he("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(ct))if(s.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n,space:r,programId:i}=Ge(ct.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:n,space:r,programId:new X(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n}=Ge(ct.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:n}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n,seed:r,programId:i}=Ge(ct.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:n,seed:r,programId:new X(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:n}=Ge(ct.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:n}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:r,space:i,programId:o}=Ge(ct.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new X(n),seed:r,space:i,programId:new X(o)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:n}=Ge(ct.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new X(n)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:r,programId:i}=Ge(ct.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new X(n),seed:r,programId:new X(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:n,seed:r,lamports:i,space:o,programId:s}=Ge(ct.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new X(n),seed:r,lamports:i,space:o,programId:new X(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:n}=Ge(ct.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new X(n)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Ge(ct.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=Ge(ct.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n}=Ge(ct.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new X(n)}}static checkProgramId(e){if(!e.equals(at.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const ct=Object.freeze({Create:{index:0,layout:se([he("instruction"),Wn("lamports"),Wn("space"),Pe("programId")])},Assign:{index:1,layout:se([he("instruction"),Pe("programId")])},Transfer:{index:2,layout:se([he("instruction"),cl("lamports")])},CreateWithSeed:{index:3,layout:se([he("instruction"),Pe("base"),Es("seed"),Wn("lamports"),Wn("space"),Pe("programId")])},AdvanceNonceAccount:{index:4,layout:se([he("instruction")])},WithdrawNonceAccount:{index:5,layout:se([he("instruction"),Wn("lamports")])},InitializeNonceAccount:{index:6,layout:se([he("instruction"),Pe("authorized")])},AuthorizeNonceAccount:{index:7,layout:se([he("instruction"),Pe("authorized")])},Allocate:{index:8,layout:se([he("instruction"),Wn("space")])},AllocateWithSeed:{index:9,layout:se([he("instruction"),Pe("base"),Es("seed"),Wn("space"),Pe("programId")])},AssignWithSeed:{index:10,layout:se([he("instruction"),Pe("base"),Es("seed"),Pe("programId")])},TransferWithSeed:{index:11,layout:se([he("instruction"),cl("lamports"),Es("seed"),Pe("programId")])},UpgradeNonceAccount:{index:12,layout:se([he("instruction")])}});class at{constructor(){}static createAccount(e){const n=ct.Create,r=je(n,{lamports:e.lamports,space:e.space,programId:Oe(e.programId.toBuffer())});return new Ke({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){const i=ct.TransferWithSeed;n=je(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Oe(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=ct.Transfer;n=je(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Ke({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){const i=ct.AssignWithSeed;n=je(i,{base:Oe(e.basePubkey.toBuffer()),seed:e.seed,programId:Oe(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=ct.Assign;n=je(i,{programId:Oe(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ke({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=ct.CreateWithSeed,r=je(n,{base:Oe(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Oe(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Ke({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const n=new Be;"basePubkey"in e&&"seed"in e?n.add(at.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Pg,programId:this.programId})):n.add(at.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Pg,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){const n=ct.InitializeNonceAccount,r=je(n,{authorized:Oe(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:dd,isSigner:!1,isWritable:!1},{pubkey:Qi,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Ke(i)}static nonceAdvance(e){const n=ct.AdvanceNonceAccount,r=je(n),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:dd,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Ke(i)}static nonceWithdraw(e){const n=ct.WithdrawNonceAccount,r=je(n,{lamports:e.lamports});return new Ke({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:dd,isSigner:!1,isWritable:!1},{pubkey:Qi,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const n=ct.AuthorizeNonceAccount,r=je(n,{authorized:Oe(e.newAuthorizedPubkey.toBuffer())});return new Ke({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){const i=ct.AllocateWithSeed;n=je(i,{base:Oe(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Oe(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=ct.Allocate;n=je(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ke({keys:r,programId:this.programId,data:n})}}at.programId=new X("11111111111111111111111111111111");const o3=$o-300;class zs{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/zs.chunkSize)+1+1)}static async load(e,n,r,i,o){{const g=await e.getMinimumBalanceForRentExemption(o.length),p=await e.getAccountInfo(r.publicKey,"confirmed");let f=null;if(p!==null){if(p.executable)return console.error("Program load failed, account is already executable"),!1;p.data.length!==o.length&&(f=f||new Be,f.add(at.allocate({accountPubkey:r.publicKey,space:o.length}))),p.owner.equals(i)||(f=f||new Be,f.add(at.assign({accountPubkey:r.publicKey,programId:i}))),p.lamports<g&&(f=f||new Be,f.add(at.transfer({fromPubkey:n.publicKey,toPubkey:r.publicKey,lamports:g-p.lamports})))}else f=new Be().add(at.createAccount({fromPubkey:n.publicKey,newAccountPubkey:r.publicKey,lamports:g>0?g:1,space:o.length,programId:i}));f!==null&&await ll(e,f,[n,r],{commitment:"confirmed"})}const s=se([he("instruction"),he("offset"),he("bytesLength"),he("bytesLengthPadding"),wn(Ne("byte"),Wo(he(),-8),"bytes")]),a=zs.chunkSize;let l=0,c=o,d=[];for(;c.length>0;){const g=c.slice(0,a),p=me.Buffer.alloc(a+16);s.encode({instruction:0,offset:l,bytes:g,bytesLength:0,bytesLengthPadding:0},p);const f=new Be().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:p});d.push(ll(e,f,[n,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await fs(1e3/4),l+=a,c=c.slice(a)}await Promise.all(d);{const g=se([he("instruction")]),p=me.Buffer.alloc(g.span);g.encode({instruction:1},p);const f=new Be().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:Qi,isSigner:!1,isWritable:!1}],programId:i,data:p}),m="processed",x=await e.sendTransaction(f,[n,r],{preflightCommitment:m}),{context:R,value:y}=await e.confirmTransaction({signature:x,lastValidBlockHeight:f.lastValidBlockHeight,blockhash:f.recentBlockhash},m);if(y.err)throw new Error(`Transaction ${x} failed (${JSON.stringify(y)})`);for(;;){try{if(await e.getSlot({commitment:m})>R.slot)break}catch{}await new Promise(b=>setTimeout(b,Math.round(px/2)))}}return!0}}zs.chunkSize=o3;const s3=new X("BPFLoader2111111111111111111111111111111111");class a3{static getMinNumSignatures(e){return zs.getMinNumSignatures(e)}static load(e,n,r,i,o){return zs.load(e,n,r,o,i)}}function l3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var t0,zv;function c3(){if(zv)return t0;zv=1;var t=Object.prototype.toString,e=Object.keys||function(r){var i=[];for(var o in r)i.push(o);return i};function n(r,i){var o,s,a,l,c,d,g;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),i);if(g=t.call(r),g==="[object Array]"){for(a="[",s=r.length-1,o=0;o<s;o++)a+=n(r[o],!0)+",";return s>-1&&(a+=n(r[o],!0)),a+"]"}else if(g==="[object Object]"){for(l=e(r).sort(),s=l.length,a="",o=0;o<s;)c=l[o],d=n(r[c],!1),d!==void 0&&(a&&(a+=","),a+=JSON.stringify(c)+":"+d),o++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return t0=function(r){var i=n(r,!1);if(i!==void 0)return""+i},t0}var u3=c3(),Fv=l3(u3);const Ul=32;function n0(t){let e=0;for(;t>1;)t/=2,e++;return e}function d3(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class yx{constructor(e,n,r,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=n0(d3(e+Ul+1))-n0(Ul)-1,r=this.getSlotsInEpoch(n),i=e-(r-Ul);return[n,i]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,o=n%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*Ul:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+n0(Ul)):this.slotsPerEpoch}}var f3=globalThis.fetch;class h3 extends p4{constructor(e,n,r){const i=o=>{const s=f4(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,e,n,r),this.underlyingSocket=void 0}call(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function p3(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const Wv=56;class Dg{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=p3(g3,e),r=e.length-Wv;We(r>=0,"lookup table is invalid"),We(r%32===0,"lookup table is invalid");const i=r/32,{addresses:o}=se([wn(Pe(),i,"addresses")]).decode(e.slice(Wv));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new X(n.authority[0]):void 0,addresses:o.map(s=>new X(s))}}}const g3={index:1,layout:se([he("typeIndex"),cl("deactivationSlot"),En("lastExtendedSlot"),Ne("lastExtendedStartIndex"),Ne(),wn(Pe(),Wo(Ne(),-1),"authority")])},m3=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function y3(t){const e=t.match(m3);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,i,o]=e,s=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),l=a==null?"":`:${a+1}`;return`${s}//${r}${l}${o}`}const xt=ru(aw(X),ae(),t=>new X(t)),wx=lw([ae(),bt("base64")]),yw=ru(aw(me.Buffer),wx,t=>me.Buffer.from(t[0],"base64")),vx=30*1e3;function w3(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function lt(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...i}=t;e=r,n=i}return{commitment:e,config:n}}function $v(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function _x(t){return Vn([te({jsonrpc:bt("2.0"),id:ae(),result:t}),te({jsonrpc:bt("2.0"),id:ae(),error:te({code:Al(),message:ae(),data:ve(PO())})})])}const v3=_x(Al());function Me(t){return ru(_x(t),v3,e=>"error"in e?e:{...e,result:ce(e.result,t)})}function Lt(t){return Me(te({context:te({slot:q()}),value:t}))}function xh(t){return te({context:te({slot:q()}),value:t})}function r0(t,e){return t===0?new js({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new X(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:xn.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new ri(e)}const _3=te({foundation:q(),foundationTerm:q(),initial:q(),taper:q(),terminal:q()}),E3=Me(de(fe(te({epoch:q(),effectiveSlot:q(),amount:q(),postBalance:q(),commission:ve(fe(q()))})))),b3=de(te({slot:q(),prioritizationFee:q()})),S3=te({total:q(),validator:q(),foundation:q(),epoch:q()}),A3=te({epoch:q(),slotIndex:q(),slotsInEpoch:q(),absoluteSlot:q(),blockHeight:ve(q()),transactionCount:ve(q())}),x3=te({slotsPerEpoch:q(),leaderScheduleSlotOffset:q(),warmup:Si(),firstNormalEpoch:q(),firstNormalSlot:q()}),R3=qA(ae(),de(q())),qs=fe(Vn([te({}),ae()])),I3=te({err:qs}),N3=bt("receivedSignature"),T3=te({"solana-core":ae(),"feature-set":ve(q())}),k3=te({program:ae(),programId:xt,parsed:Al()}),C3=te({programId:xt,accounts:de(xt),data:ae()}),Hv=Lt(te({err:fe(Vn([te({}),ae()])),logs:fe(de(ae())),accounts:ve(fe(de(fe(te({executable:Si(),owner:ae(),lamports:q(),data:de(ae()),rentEpoch:ve(q())}))))),unitsConsumed:ve(q()),returnData:ve(fe(te({programId:ae(),data:lw([ae(),bt("base64")])}))),innerInstructions:ve(fe(de(te({index:q(),instructions:de(Vn([k3,C3]))}))))})),M3=Lt(te({byIdentity:qA(ae(),de(q())),range:te({firstSlot:q(),lastSlot:q()})}));function O3(t,e,n,r,i,o){const s=n||f3;let a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return r&&(l=async(d,g)=>{const p=await new Promise((f,m)=>{try{r(d,g,(x,R)=>f([x,R]))}catch(x){m(x)}});return await s(...p)}),new c4(async(d,g)=>{const p={method:"POST",body:d,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},O6)};try{let f=5,m,x=500;for(;l?m=await l(t,p):m=await s(t,p),!(m.status!==429||i===!0||(f-=1,f===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${x}ms delay...`),await fs(x),x*=2;const R=await m.text();m.ok?g(null,R):g(new Error(`${m.status} ${m.statusText}: ${R}`))}catch(f){f instanceof Error&&g(f)}},{})}function L3(t){return(e,n)=>new Promise((r,i)=>{t.request(e,n,(o,s)=>{if(o){i(o);return}r(s)})})}function B3(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const i=e.map(o=>t.request(o.methodName,o.args));t.request(i,(o,s)=>{if(o){r(o);return}n(s)})})}const P3=Me(_3),D3=Me(S3),U3=Me(b3),j3=Me(A3),z3=Me(x3),F3=Me(R3),W3=Me(q()),$3=Lt(te({total:q(),circulating:q(),nonCirculating:q(),nonCirculatingAccounts:de(xt)})),Ug=te({amount:ae(),uiAmount:fe(q()),decimals:q(),uiAmountString:ve(ae())}),H3=Lt(de(te({address:xt,amount:ae(),uiAmount:fe(q()),decimals:q(),uiAmountString:ve(ae())}))),K3=Lt(de(te({pubkey:xt,account:te({executable:Si(),owner:xt,lamports:q(),data:yw,rentEpoch:q()})}))),jg=te({program:ae(),parsed:Al(),space:q()}),V3=Lt(de(te({pubkey:xt,account:te({executable:Si(),owner:xt,lamports:q(),data:jg,rentEpoch:q()})}))),G3=Lt(de(te({lamports:q(),address:xt}))),zc=te({executable:Si(),owner:xt,lamports:q(),data:yw,rentEpoch:q()}),q3=te({pubkey:xt,account:zc}),Y3=ru(Vn([aw(me.Buffer),jg]),Vn([wx,jg]),t=>Array.isArray(t)?ce(t,yw):t),zg=te({executable:Si(),owner:xt,lamports:q(),data:Y3,rentEpoch:q()}),Z3=te({pubkey:xt,account:zg}),Q3=te({state:Vn([bt("active"),bt("inactive"),bt("activating"),bt("deactivating")]),active:q(),inactive:q()}),X3=Me(de(te({signature:ae(),slot:q(),err:qs,memo:fe(ae()),blockTime:ve(fe(q()))}))),J3=Me(de(te({signature:ae(),slot:q(),err:qs,memo:fe(ae()),blockTime:ve(fe(q()))}))),e6=te({subscription:q(),result:xh(zc)}),t6=te({pubkey:xt,account:zc}),n6=te({subscription:q(),result:xh(t6)}),r6=te({parent:q(),slot:q(),root:q()}),i6=te({subscription:q(),result:r6}),o6=Vn([te({type:Vn([bt("firstShredReceived"),bt("completed"),bt("optimisticConfirmation"),bt("root")]),slot:q(),timestamp:q()}),te({type:bt("createdBank"),parent:q(),slot:q(),timestamp:q()}),te({type:bt("frozen"),slot:q(),timestamp:q(),stats:te({numTransactionEntries:q(),numSuccessfulTransactions:q(),numFailedTransactions:q(),maxTransactionsPerEntry:q()})}),te({type:bt("dead"),slot:q(),timestamp:q(),err:ae()})]),s6=te({subscription:q(),result:o6}),a6=te({subscription:q(),result:xh(Vn([I3,N3]))}),l6=te({subscription:q(),result:q()}),c6=te({pubkey:ae(),gossip:fe(ae()),tpu:fe(ae()),rpc:fe(ae()),version:fe(ae())}),Kv=te({votePubkey:ae(),nodePubkey:ae(),activatedStake:q(),epochVoteAccount:Si(),epochCredits:de(lw([q(),q(),q()])),commission:q(),lastVote:q(),rootSlot:fe(q())}),u6=Me(te({current:de(Kv),delinquent:de(Kv)})),d6=Vn([bt("processed"),bt("confirmed"),bt("finalized")]),f6=te({slot:q(),confirmations:fe(q()),err:qs,confirmationStatus:ve(d6)}),h6=Lt(de(fe(f6))),p6=Me(q()),Ex=te({accountKey:xt,writableIndexes:de(q()),readonlyIndexes:de(q())}),ww=te({signatures:de(ae()),message:te({accountKeys:de(ae()),header:te({numRequiredSignatures:q(),numReadonlySignedAccounts:q(),numReadonlyUnsignedAccounts:q()}),instructions:de(te({accounts:de(q()),data:ae(),programIdIndex:q()})),recentBlockhash:ae(),addressTableLookups:ve(de(Ex))})}),bx=te({pubkey:xt,signer:Si(),writable:Si(),source:ve(Vn([bt("transaction"),bt("lookupTable")]))}),Sx=te({accountKeys:de(bx),signatures:de(ae())}),Ax=te({parsed:Al(),program:ae(),programId:xt}),xx=te({accounts:de(xt),data:ae(),programId:xt}),g6=Vn([xx,Ax]),m6=Vn([te({parsed:Al(),program:ae(),programId:ae()}),te({accounts:de(ae()),data:ae(),programId:ae()})]),Rx=ru(g6,m6,t=>"accounts"in t?ce(t,xx):ce(t,Ax)),Ix=te({signatures:de(ae()),message:te({accountKeys:de(bx),instructions:de(Rx),recentBlockhash:ae(),addressTableLookups:ve(fe(de(Ex)))})}),If=te({accountIndex:q(),mint:ae(),owner:ve(ae()),programId:ve(ae()),uiTokenAmount:Ug}),Nx=te({writable:de(xt),readonly:de(xt)}),Rh=te({err:qs,fee:q(),innerInstructions:ve(fe(de(te({index:q(),instructions:de(te({accounts:de(q()),data:ae(),programIdIndex:q()}))})))),preBalances:de(q()),postBalances:de(q()),logMessages:ve(fe(de(ae()))),preTokenBalances:ve(fe(de(If))),postTokenBalances:ve(fe(de(If))),loadedAddresses:ve(Nx),computeUnitsConsumed:ve(q()),costUnits:ve(q())}),vw=te({err:qs,fee:q(),innerInstructions:ve(fe(de(te({index:q(),instructions:de(Rx)})))),preBalances:de(q()),postBalances:de(q()),logMessages:ve(fe(de(ae()))),preTokenBalances:ve(fe(de(If))),postTokenBalances:ve(fe(de(If))),loadedAddresses:ve(Nx),computeUnitsConsumed:ve(q()),costUnits:ve(q())}),xl=Vn([bt(0),bt("legacy")]),Ys=te({pubkey:ae(),lamports:q(),postBalance:fe(q()),rewardType:fe(ae()),commission:ve(fe(q()))}),y6=Me(fe(te({blockhash:ae(),previousBlockhash:ae(),parentSlot:q(),transactions:de(te({transaction:ww,meta:fe(Rh),version:ve(xl)})),rewards:ve(de(Ys)),blockTime:fe(q()),blockHeight:fe(q())}))),w6=Me(fe(te({blockhash:ae(),previousBlockhash:ae(),parentSlot:q(),rewards:ve(de(Ys)),blockTime:fe(q()),blockHeight:fe(q())}))),v6=Me(fe(te({blockhash:ae(),previousBlockhash:ae(),parentSlot:q(),transactions:de(te({transaction:Sx,meta:fe(Rh),version:ve(xl)})),rewards:ve(de(Ys)),blockTime:fe(q()),blockHeight:fe(q())}))),_6=Me(fe(te({blockhash:ae(),previousBlockhash:ae(),parentSlot:q(),transactions:de(te({transaction:Ix,meta:fe(vw),version:ve(xl)})),rewards:ve(de(Ys)),blockTime:fe(q()),blockHeight:fe(q())}))),E6=Me(fe(te({blockhash:ae(),previousBlockhash:ae(),parentSlot:q(),transactions:de(te({transaction:Sx,meta:fe(vw),version:ve(xl)})),rewards:ve(de(Ys)),blockTime:fe(q()),blockHeight:fe(q())}))),b6=Me(fe(te({blockhash:ae(),previousBlockhash:ae(),parentSlot:q(),rewards:ve(de(Ys)),blockTime:fe(q()),blockHeight:fe(q())}))),S6=Me(fe(te({blockhash:ae(),previousBlockhash:ae(),parentSlot:q(),transactions:de(te({transaction:ww,meta:fe(Rh)})),rewards:ve(de(Ys)),blockTime:fe(q())}))),Vv=Me(fe(te({blockhash:ae(),previousBlockhash:ae(),parentSlot:q(),signatures:de(ae()),blockTime:fe(q())}))),i0=Me(fe(te({slot:q(),meta:fe(Rh),blockTime:ve(fe(q())),transaction:ww,version:ve(xl)}))),Wu=Me(fe(te({slot:q(),transaction:Ix,meta:fe(vw),blockTime:ve(fe(q())),version:ve(xl)}))),A6=Lt(te({blockhash:ae(),lastValidBlockHeight:q()})),x6=Lt(Si()),R6=te({slot:q(),numTransactions:q(),numSlots:q(),samplePeriodSecs:q()}),I6=Me(de(R6)),N6=Lt(fe(te({feeCalculator:te({lamportsPerSignature:q()})}))),T6=Me(ae()),k6=Me(ae()),C6=te({err:qs,logs:de(ae()),signature:ae()}),M6=te({result:xh(C6),subscription:q()}),O6={"solana-client":"js/1.0.0-maintenance"};class Tx{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const c={};return async d=>{const{commitment:g,config:p}=lt(d),f=this._buildArgs([],g,void 0,p),m=Fv(f);return c[m]=c[m]??(async()=>{try{const x=await this._rpcRequest("getBlockHeight",f),R=ce(x,Me(q()));if("error"in R)throw new we(R.error,"failed to get block height information");return R.result}finally{delete c[m]}})(),await c[m]}})();let r,i,o,s,a,l;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,o=n.fetch,s=n.fetchMiddleware,a=n.disableRetryOnRateLimit,l=n.httpAgent),this._rpcEndpoint=w3(e),this._rpcWsEndpoint=r||y3(e),this._rpcClient=O3(e,i,o,s,a,l),this._rpcRequest=L3(this._rpcClient),this._rpcBatchRequest=B3(this._rpcClient),this._rpcWebSocket=new h3(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:i}=lt(n),o=this._buildArgs([e.toBase58()],r,void 0,i),s=await this._rpcRequest("getBalance",o),a=ce(s,Lt(q()));if("error"in a)throw new we(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=ce(n,Me(fe(q())));if("error"in r)throw new we(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=ce(e,Me(q()));if("error"in n)throw new we(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=ce(e,W3);if("error"in n)throw new we(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=ce(r,$3);if("error"in i)throw new we(i.error,"failed to get supply");return i.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),o=ce(i,Lt(Ug));if("error"in o)throw new we(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),o=ce(i,Lt(Ug));if("error"in o)throw new we(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,n,r){const{commitment:i,config:o}=lt(r);let s=[e.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const a=this._buildArgs(s,i,"base64",o),l=await this._rpcRequest("getTokenAccountsByOwner",a),c=ce(l,K3);if("error"in c)throw new we(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(e,n,r){let i=[e.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const o=this._buildArgs(i,r,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),a=ce(s,V3);if("error"in a)throw new we(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),o=ce(i,G3);if("error"in o)throw new we(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),o=ce(i,H3);if("error"in o)throw new we(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:i}=lt(n),o=this._buildArgs([e.toBase58()],r,"base64",i),s=await this._rpcRequest("getAccountInfo",o),a=ce(s,Lt(fe(zc)));if("error"in a)throw new we(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,n){const{commitment:r,config:i}=lt(n),o=this._buildArgs([e.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),a=ce(s,Lt(fe(zg)));if("error"in a)throw new we(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:i}=lt(n),o=e.map(c=>c.toBase58()),s=this._buildArgs([o],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",s),l=ce(a,Lt(de(fe(zg))));if("error"in l)throw new we(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:i}=lt(n),o=e.map(c=>c.toBase58()),s=this._buildArgs([o],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",s),l=ce(a,Lt(de(fe(zc))));if("error"in l)throw new we(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:i,config:o}=lt(n),s=this._buildArgs([e.toBase58()],i,void 0,{...o,epoch:r??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getStakeActivation",s),l=ce(a,Me(Q3));if("error"in l)throw new we(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,n){const{commitment:r,config:i}=lt(n),{encoding:o,...s}=i||{},a=this._buildArgs([e.toBase58()],r,o||"base64",{...s,...s.filters?{filters:$v(s.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",a),c=de(q3),d=s.withContext===!0?ce(l,Lt(c)):ce(l,Me(c));if("error"in d)throw new we(d.error,`failed to get accounts owned by program ${e.toBase58()}`);return d.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:i}=lt(n),o=this._buildArgs([e.toBase58()],r,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),a=ce(s,Me(de(Z3)));if("error"in a)throw new we(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,n){var o;let r;if(typeof e=="string")r=e;else{const s=e;if((o=s.abortSignal)!=null&&o.aborted)return Promise.reject(s.abortSignal.reason);r=s.signature}let i;try{i=xn.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return We(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,i,o=!1;const s=new Promise((l,c)=>{try{r=this.onSignature(n,(g,p)=>{r=void 0;const f={context:p,value:g};l({__type:Li.PROCESSED,response:f})},e);const d=new Promise(g=>{r==null?g():i=this._onSubscriptionStateChange(r,p=>{p==="subscribed"&&g()})});(async()=>{if(await d,o)return;const g=await this.getSignatureStatus(n);if(o||g==null)return;const{context:p,value:f}=g;if(f!=null)if(f!=null&&f.err)c(f.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(f.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(f.confirmationStatus==="processed"||f.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,l({__type:Li.PROCESSED,response:{context:p,value:f}})}})()}catch(d){c(d)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let o=!1;const s=new Promise(g=>{const p=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let f=await p();if(!o){for(;f<=r;)if(await fs(1e3),o||(f=await p(),o))return;g({__type:Li.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),c=this.getCancellationPromise(n);let d;try{const g=await Promise.race([c,l,s]);if(g.__type===Li.PROCESSED)d=g.response;else throw new pw(i)}finally{o=!0,a()}return d}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let a=!1;const l=new Promise(f=>{let m=o,x=null;const R=async()=>{try{const{context:y,value:b}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return x=y.slot,b==null?void 0:b.nonce}catch{return m}};(async()=>{if(m=await R(),!a)for(;;){if(o!==m){f({__type:Li.NONCE_INVALID,slotInWhichNonceDidAdvance:x});return}if(await fs(2e3),a||(m=await R(),a))return}})()}),{abortConfirmation:c,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),g=this.getCancellationPromise(n);let p;try{const f=await Promise.race([g,d,l]);if(f.__type===Li.PROCESSED)p=f.response;else{let m;for(;;){const x=await this.getSignatureStatus(s);if(x==null)break;if(x.context.slot<(f.slotInWhichNonceDidAdvance??r)){await fs(400);continue}m=x;break}if(m!=null&&m.value){const x=e||"finalized",{confirmationStatus:R}=m.value;switch(x){case"processed":case"recent":if(R!=="processed"&&R!=="confirmed"&&R!=="finalized")throw new Oa(s);break;case"confirmed":case"single":case"singleGossip":if(R!=="confirmed"&&R!=="finalized")throw new Oa(s);break;case"finalized":case"max":case"root":if(R!=="finalized")throw new Oa(s);break;default:}p={context:m.context,value:{err:m.value.err}}}else throw new Oa(s)}}finally{a=!0,c()}return p}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const i=new Promise(l=>{let c=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{c=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>l({__type:Li.TIMED_OUT,timeoutMs:c}),c)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let a;try{const l=await Promise.race([s,i]);if(l.__type===Li.PROCESSED)a=l.response;else throw new gw(n,l.timeoutMs/1e3)}finally{clearTimeout(r),o()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=ce(e,Me(de(c6)));if("error"in n)throw new we(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),i=ce(r,u6);if("error"in i)throw new we(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:n,config:r}=lt(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlot",i),s=ce(o,Me(q()));if("error"in s)throw new we(s.error,"failed to get slot");return s.result}async getSlotLeader(e){const{commitment:n,config:r}=lt(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlotLeader",i),s=ce(o,Me(ae()));if("error"in s)throw new we(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,n){const r=[e,n],i=await this._rpcRequest("getSlotLeaders",r),o=ce(i,Me(de(xt)));if("error"in o)throw new we(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,n){const{context:r,value:i}=await this.getSignatureStatuses([e],n);We(i.length===1);const o=i[0];return{context:r,value:o}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),o=ce(i,h6);if("error"in o)throw new we(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){const{commitment:n,config:r}=lt(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getTransactionCount",i),s=ce(o,Me(q()));if("error"in s)throw new we(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),i=ce(r,P3);if("error"in i)throw new we(i.error,"failed to get inflation");return i.result}async getInflationReward(e,n,r){const{commitment:i,config:o}=lt(r),s=this._buildArgs([e.map(c=>c.toBase58())],i,void 0,{...o,epoch:n??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getInflationReward",s),l=ce(a,E3);if("error"in l)throw new we(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=ce(e,D3);if("error"in n)throw new we(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=lt(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getEpochInfo",i),s=ce(o,j3);if("error"in s)throw new we(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=ce(e,z3);if("error"in n)throw new we(n.error,"failed to get epoch schedule");const r=n.result;return new yx(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=ce(e,F3);if("error"in n)throw new we(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),o=ce(i,p6);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=ce(n,I6);if("error"in r)throw new we(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),o=ce(i,N6);if("error"in o)throw new we(o.error,"failed to get fee calculator");const{context:s,value:a}=o.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,n){const r=Oe(e.serialize()).toString("base64"),i=this._buildArgs([r],n),o=await this._rpcRequest("getFeeForMessage",i),s=ce(o,Lt(fe(q())));if("error"in s)throw new we(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentPrioritizationFees(e){var s;const n=(s=e==null?void 0:e.lockedWritableAccounts)==null?void 0:s.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),o=ce(i,U3);if("error"in o)throw new we(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=lt(e),i=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getLatestBlockhash",i),s=ce(o,A6);if("error"in s)throw new we(s.error,"failed to get latest blockhash");return s.result}async isBlockhashValid(e,n){const{commitment:r,config:i}=lt(n),o=this._buildArgs([e],r,void 0,i),s=await this._rpcRequest("isBlockhashValid",o),a=ce(s,x6);if("error"in a)throw new we(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=ce(e,Me(T3));if("error"in n)throw new we(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=ce(e,Me(ae()));if("error"in n)throw new we(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:i}=lt(n),o=this._buildArgsAtLeastConfirmed([e],r,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=ce(s,v6);if("error"in a)throw a.error;return a.result}case"none":{const a=ce(s,w6);if("error"in a)throw a.error;return a.result}default:{const a=ce(s,y6);if("error"in a)throw a.error;const{result:l}=a;return l?{...l,transactions:l.transactions.map(({transaction:c,meta:d,version:g})=>({meta:d,transaction:{...c,message:r0(g,c.message)},version:g}))}:null}}}catch(a){throw new we(a,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:i}=lt(n),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=ce(s,E6);if("error"in a)throw a.error;return a.result}case"none":{const a=ce(s,b6);if("error"in a)throw a.error;return a.result}default:{const a=ce(s,_6);if("error"in a)throw a.error;return a.result}}}catch(a){throw new we(a,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...l}=e;r=a,n=l}const i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getBlockProduction",i),s=ce(o,M3);if("error"in s)throw new we(s.error,"failed to get block production information");return s.result}async getTransaction(e,n){const{commitment:r,config:i}=lt(n),o=this._buildArgsAtLeastConfirmed([e],r,void 0,i),s=await this._rpcRequest("getTransaction",o),a=ce(s,i0);if("error"in a)throw new we(a.error,"failed to get transaction");const l=a.result;return l&&{...l,transaction:{...l.transaction,message:r0(l.version,l.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:i}=lt(n),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),a=ce(s,Wu);if("error"in a)throw new we(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,n){const{commitment:r,config:i}=lt(n),o=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(l=>{const c=ce(l,Wu);if("error"in c)throw new we(c.error,"failed to get transactions");return c.result})}async getTransactions(e,n){const{commitment:r,config:i}=lt(n),o=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,void 0,i)}));return(await this._rpcBatchRequest(o)).map(l=>{const c=ce(l,i0);if("error"in c)throw new we(c.error,"failed to get transactions");const d=c.result;return d&&{...d,transaction:{...d.transaction,message:r0(d.version,d.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getBlock",r),o=ce(i,S6);if("error"in o)throw new we(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");const a={...s,transactions:s.transactions.map(({transaction:l,meta:c})=>{const d=new ri(l.message);return{meta:c,transaction:{...l,message:d}}})};return{...a,transactions:a.transactions.map(({transaction:l,meta:c})=>({meta:c,transaction:Be.populate(l.message,l.signatures)}))}}async getBlocks(e,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),o=await this._rpcRequest("getBlocks",i),s=ce(o,Me(de(q())));if("error"in s)throw new we(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=ce(i,Vv);if("error"in o)throw new we(o.error,"failed to get block");const s=o.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),o=ce(i,Vv);if("error"in o)throw new we(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getTransaction",r),o=ce(i,i0);if("error"in o)throw new we(o.error,"failed to get transaction");const s=o.result;if(!s)return s;const a=new ri(s.transaction.message),l=s.transaction.signatures;return{...s,transaction:Be.populate(a,l)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),i=await this._rpcRequest("getTransaction",r),o=ce(i,Wu);if("error"in o)throw new we(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,n){const r=e.map(s=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([s],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(s=>{const a=ce(s,Wu);if("error"in a)throw new we(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,n,r){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<o));)try{const l=await this.getConfirmedBlockSignatures(n,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let s=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>s));)try{const l=await this.getConfirmedBlockSignatures(r);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=ce(o,X3);if("error"in s)throw new we(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),o=await this._rpcRequest("getSignaturesForAddress",i),s=ce(o,J3);if("error"in s)throw new we(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let o=null;return i!==null&&(o=new Dg({key:e,state:Dg.deserialize(i.data)})),{context:r,value:o}}async getNonceAndContext(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let o=null;return i!==null&&(o=Ah.fromAccountData(i.data)),{context:r,value:o}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),i=ce(r,T6);if("error"in i)throw new we(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await fs(100);const r=Date.now()-this._blockhashInfo.lastFetch>=vx;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const o=await this.getLatestBlockhash("finalized");if(r!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await fs(px/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=lt(e),i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=ce(o,Lt(q()));if("error"in s)throw new we(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,n,r){if("message"in e){const x=e.serialize(),R=me.Buffer.from(x).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const y=n||{};y.encoding="base64","commitment"in y||(y.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(y.innerInstructions=n.innerInstructions);const b=[R,y],_=await this._rpcRequest("simulateTransaction",b),I=ce(_,Hv);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let i;if(e instanceof Be){let m=e;i=new Be,i.feePayer=m.feePayer,i.instructions=e.instructions,i.nonceInfo=m.nonceInfo,i.signatures=m.signatures}else i=Be.populate(e),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(i.nonceInfo&&o)i.sign(...o);else{let m=this._disableBlockhashCaching;for(;;){const x=await this._blockhashWithExpiryBlockHeight(m);if(i.lastValidBlockHeight=x.lastValidBlockHeight,i.recentBlockhash=x.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");const R=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(R)&&!this._blockhashInfo.transactionSignatures.includes(R)){this._blockhashInfo.simulatedSignatures.push(R);break}else m=!0}}const s=i._compile(),a=s.serialize(),c=i._serialize(a).toString("base64"),d={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:s.nonProgramIds()).map(x=>x.toBase58());d.accounts={encoding:"base64",addresses:m}}o&&(d.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(d.innerInstructions=n.innerInstructions);const g=[c,d],p=await this._rpcRequest("simulateTransaction",g),f=ce(p,Hv);if("error"in f){let m;if("data"in f.error&&(m=f.error.data.logs,m&&Array.isArray(m))){const x=`
    `,R=x+m.join(x);console.error(f.error.message,R)}throw new Yo({action:"simulate",signature:"",transactionMessage:f.error.message,logs:m})}return f.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const s=e.serialize();return await this.sendRawTransaction(s,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(e.nonceInfo)e.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(s);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))s=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const o=e.serialize();return await this.sendRawTransaction(o,r)}async sendRawTransaction(e,n){const r=Oe(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},i=n&&n.skipPreflight,o=i===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),o&&(r.preflightCommitment=o);const s=[e,r],a=await this._rpcRequest("sendTransaction",s),l=ce(a,k6);if("error"in l){let c;throw"data"in l.error&&(c=l.error.data.logs),new Yo({action:i?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:c})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const o=this._subscriptionStateChangeCallbacksByHash[e];o&&o.forEach(s=>{try{s(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){var o;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(o=this._subscriptionStateChangeCallbacksByHash)[r]||(o[r]=new Set);return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:s}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(s,o);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${s}\``,{args:o,error:a}),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=ce(e,e6);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,i=Fv([e.method,n]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const s=this._subscriptionsByHash[i];We(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),s.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const{commitment:i,config:o}=lt(r),s=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=ce(e,n6);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,i){const{commitment:o,config:s}=lt(r),a=this._buildArgs([e.toBase58()],o||this._commitment||"finalized","base64",s||(i?{filters:$v(i)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=ce(e,M6);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=ce(e,i6);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=ce(e,s6);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,i){const o=n||this._commitment;if(o||r||i){let s={};r&&(s.encoding=r),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),e.push(s)}return e}_buildArgsAtLeastConfirmed(e,n,r,i){const o=n||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,i)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=ce(e,a6);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){n(s.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(e,n,r){const{commitment:i,...o}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([e],i,void 0,o),a=this._makeSubscription({callback:(l,c)=>{n(l,c);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=ce(e,l6);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Ho{constructor(e){this._keypair=void 0,this._keypair=e??Dv()}static generate(){return new Ho(Dv())}static fromSecretKey(e,n){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!n||!n.skipValidation){const i=e.slice(0,32),o=Rf(i);for(let s=0;s<32;s++)if(r[s]!==o[s])throw new Error("provided secretKey is invalid")}return new Ho({publicKey:r,secretKey:e})}static fromSeed(e){const n=Rf(e),r=new Uint8Array(64);return r.set(e),r.set(n,32),new Ho({publicKey:n,secretKey:r})}get publicKey(){return new X(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Wi=Object.freeze({CreateLookupTable:{index:0,layout:se([he("instruction"),cl("recentSlot"),Ne("bumpSeed")])},FreezeLookupTable:{index:1,layout:se([he("instruction")])},ExtendLookupTable:{index:2,layout:se([he("instruction"),cl(),wn(Pe(),Wo(he(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:se([he("instruction")])},CloseLookupTable:{index:4,layout:se([he("instruction")])}});class L6{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=he("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(Wi))if(s.index==r){i=o;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:n}=Ge(Wi.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(n)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:n}=Ge(Wi.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:n.map(r=>new X(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(_w.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}class _w{constructor(){}static createLookupTable(e){const[n,r]=X.findProgramAddressSync([e.authority.toBuffer(),KA().encode(e.recentSlot)],this.programId),i=Wi.CreateLookupTable,o=je(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),s=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:at.programId,isSigner:!1,isWritable:!1}];return[new Ke({programId:this.programId,keys:s,data:o}),n]}static freezeLookupTable(e){const n=Wi.FreezeLookupTable,r=je(n),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ke({programId:this.programId,keys:i,data:r})}static extendLookupTable(e){const n=Wi.ExtendLookupTable,r=je(n,{addresses:e.addresses.map(o=>o.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:at.programId,isSigner:!1,isWritable:!1}),new Ke({programId:this.programId,keys:i,data:r})}static deactivateLookupTable(e){const n=Wi.DeactivateLookupTable,r=je(n),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ke({programId:this.programId,keys:i,data:r})}static closeLookupTable(e){const n=Wi.CloseLookupTable,r=je(n),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Ke({programId:this.programId,keys:i,data:r})}}_w.programId=new X("AddressLookupTab1e1111111111111111111111111");class B6{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Ne("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(hi))if(s.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:n,additionalFee:r}=Ge(hi.RequestUnits,e.data);return{units:n,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:n}=Ge(hi.RequestHeapFrame,e.data);return{bytes:n}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:n}=Ge(hi.SetComputeUnitLimit,e.data);return{units:n}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:n}=Ge(hi.SetComputeUnitPrice,e.data);return{microLamports:n}}static checkProgramId(e){if(!e.equals(Ew.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const hi=Object.freeze({RequestUnits:{index:0,layout:se([Ne("instruction"),he("units"),he("additionalFee")])},RequestHeapFrame:{index:1,layout:se([Ne("instruction"),he("bytes")])},SetComputeUnitLimit:{index:2,layout:se([Ne("instruction"),he("units")])},SetComputeUnitPrice:{index:3,layout:se([Ne("instruction"),cl("microLamports")])}});class Ew{constructor(){}static requestUnits(e){const n=hi.RequestUnits,r=je(n,e);return new Ke({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const n=hi.RequestHeapFrame,r=je(n,e);return new Ke({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const n=hi.SetComputeUnitLimit,r=je(n,e);return new Ke({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const n=hi.SetComputeUnitPrice,r=je(n,{microLamports:BigInt(e.microLamports)});return new Ke({keys:[],programId:this.programId,data:r})}}Ew.programId=new X("ComputeBudget111111111111111111111111111111");const Gv=64,qv=32,Yv=64,Zv=se([Ne("numSignatures"),Ne("padding"),mr("signatureOffset"),mr("signatureInstructionIndex"),mr("publicKeyOffset"),mr("publicKeyInstructionIndex"),mr("messageDataOffset"),mr("messageDataSize"),mr("messageInstructionIndex")]);class Ih{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:n,message:r,signature:i,instructionIndex:o}=e;We(n.length===qv,`Public Key must be ${qv} bytes but received ${n.length} bytes`),We(i.length===Yv,`Signature must be ${Yv} bytes but received ${i.length} bytes`);const s=Zv.span,a=s+n.length,l=a+i.length,c=1,d=me.Buffer.alloc(l+r.length),g=o??65535;return Zv.encode({numSignatures:c,padding:0,signatureOffset:a,signatureInstructionIndex:g,publicKeyOffset:s,publicKeyInstructionIndex:g,messageDataOffset:l,messageDataSize:r.length,messageInstructionIndex:g},d),d.fill(n,s),d.fill(i,a),d.fill(r,l),new Ke({keys:[],programId:Ih.programId,data:d})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:r,instructionIndex:i}=e;We(n.length===Gv,`Private key must be ${Gv} bytes but received ${n.length} bytes`);try{const o=Ho.fromSecretKey(n),s=o.publicKey.toBytes(),a=fw(r,o.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:a,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}Ih.programId=new X("Ed25519SigVerify111111111111111111111111111");const P6=(t,e)=>{const n=dw.sign(t,e);return[n.toCompactRawBytes(),n.recovery]};dw.utils.isValidPrivateKey;const D6=dw.getPublicKey,Qv=32,o0=20,Xv=64,U6=11,s0=se([Ne("numSignatures"),mr("signatureOffset"),Ne("signatureInstructionIndex"),mr("ethAddressOffset"),Ne("ethAddressInstructionIndex"),mr("messageDataOffset"),mr("messageDataSize"),Ne("messageInstructionIndex"),it(20,"ethAddress"),it(64,"signature"),Ne("recoveryId")]);class Ha{constructor(){}static publicKeyToEthAddress(e){We(e.length===Xv,`Public key must be ${Xv} bytes but received ${e.length} bytes`);try{return me.Buffer.from(Lv(Oe(e))).slice(-o0)}catch(n){throw new Error(`Error constructing Ethereum address: ${n}`)}}static createInstructionWithPublicKey(e){const{publicKey:n,message:r,signature:i,recoveryId:o,instructionIndex:s}=e;return Ha.createInstructionWithEthAddress({ethAddress:Ha.publicKeyToEthAddress(n),message:r,signature:i,recoveryId:o,instructionIndex:s})}static createInstructionWithEthAddress(e){const{ethAddress:n,message:r,signature:i,recoveryId:o,instructionIndex:s=0}=e;let a;typeof n=="string"?n.startsWith("0x")?a=me.Buffer.from(n.substr(2),"hex"):a=me.Buffer.from(n,"hex"):a=n,We(a.length===o0,`Address must be ${o0} bytes but received ${a.length} bytes`);const l=1+U6,c=l,d=l+a.length,g=d+i.length+1,p=1,f=me.Buffer.alloc(s0.span+r.length);return s0.encode({numSignatures:p,signatureOffset:d,signatureInstructionIndex:s,ethAddressOffset:c,ethAddressInstructionIndex:s,messageDataOffset:g,messageDataSize:r.length,messageInstructionIndex:s,signature:Oe(i),ethAddress:Oe(a),recoveryId:o},f),f.fill(Oe(r),s0.span),new Ke({keys:[],programId:Ha.programId,data:f})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:r,instructionIndex:i}=e;We(n.length===Qv,`Private key must be ${Qv} bytes but received ${n.length} bytes`);try{const o=Oe(n),s=D6(o,!1).slice(1),a=me.Buffer.from(Lv(Oe(r))),[l,c]=P6(a,o);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:l,recoveryId:c,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}Ha.programId=new X("KeccakSecp256k11111111111111111111111111111");var kx;const Cx=new X("StakeConfig11111111111111111111111111111111");class Mx{constructor(e,n){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=n}}class iu{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}kx=iu;iu.default=new kx(0,0,X.default);class j6{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=he("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(gn))if(s.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n,lockup:r}=Ge(gn.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Mx(new X(n.staker),new X(n.withdrawer)),lockup:new iu(r.unixTimestamp,r.epoch,new X(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Ge(gn.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,stakeAuthorizationType:r}=Ge(gn.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new X(n),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:n,stakeAuthorizationType:r,authoritySeed:i,authorityOwner:o}=Ge(gn.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new X(o),newAuthorizedPubkey:new X(n),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=Ge(gn.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:n}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Ge(gn.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=Ge(gn.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Ge(gn.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Nh.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const gn=Object.freeze({Initialize:{index:0,layout:se([he("instruction"),H4(),K4()])},Authorize:{index:1,layout:se([he("instruction"),Pe("newAuthorized"),he("stakeAuthorizationType")])},Delegate:{index:2,layout:se([he("instruction")])},Split:{index:3,layout:se([he("instruction"),Wn("lamports")])},Withdraw:{index:4,layout:se([he("instruction"),Wn("lamports")])},Deactivate:{index:5,layout:se([he("instruction")])},Merge:{index:7,layout:se([he("instruction")])},AuthorizeWithSeed:{index:8,layout:se([he("instruction"),Pe("newAuthorized"),he("stakeAuthorizationType"),Es("authoritySeed"),Pe("authorityOwner")])}}),z6=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Nh{constructor(){}static initialize(e){const{stakePubkey:n,authorized:r,lockup:i}=e,o=i||iu.default,s=gn.Initialize,a=je(s,{authorized:{staker:Oe(r.staker.toBuffer()),withdrawer:Oe(r.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:Oe(o.custodian.toBuffer())}}),l={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Qi,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new Ke(l)}static createAccountWithSeed(e){const n=new Be;n.add(at.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:o}=e;return n.add(this.initialize({stakePubkey:r,authorized:i,lockup:o}))}static createAccount(e){const n=new Be;n.add(at.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:o}=e;return n.add(this.initialize({stakePubkey:r,authorized:i,lockup:o}))}static delegate(e){const{stakePubkey:n,authorizedPubkey:r,votePubkey:i}=e,o=gn.Delegate,s=je(o);return new Be().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:ci,isSigner:!1,isWritable:!1},{pubkey:fd,isSigner:!1,isWritable:!1},{pubkey:Cx,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){const{stakePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:s}=e,a=gn.Authorize,l=je(a,{newAuthorized:Oe(i.toBuffer()),stakeAuthorizationType:o.index}),c=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:ci,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&c.push({pubkey:s,isSigner:!0,isWritable:!1}),new Be().add({keys:c,programId:this.programId,data:l})}static authorizeWithSeed(e){const{stakePubkey:n,authorityBase:r,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:s,stakeAuthorizationType:a,custodianPubkey:l}=e,c=gn.AuthorizeWithSeed,d=je(c,{newAuthorized:Oe(s.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Oe(o.toBuffer())}),g=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:ci,isSigner:!1,isWritable:!1}];return l&&g.push({pubkey:l,isSigner:!0,isWritable:!1}),new Be().add({keys:g,programId:this.programId,data:d})}static splitInstruction(e){const{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,lamports:o}=e,s=gn.Split,a=je(s,{lamports:o});return new Ke({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,n){const r=new Be;return r.add(at.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:n,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,n){const{stakePubkey:r,authorizedPubkey:i,splitStakePubkey:o,basePubkey:s,seed:a,lamports:l}=e,c=new Be;return c.add(at.allocate({accountPubkey:o,basePubkey:s,seed:a,space:this.space,programId:this.programId})),n&&n>0&&c.add(at.transfer({fromPubkey:e.authorizedPubkey,toPubkey:o,lamports:n})),c.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:i,splitStakePubkey:o,lamports:l}))}static merge(e){const{stakePubkey:n,sourceStakePubKey:r,authorizedPubkey:i}=e,o=gn.Merge,s=je(o);return new Be().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ci,isSigner:!1,isWritable:!1},{pubkey:fd,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){const{stakePubkey:n,authorizedPubkey:r,toPubkey:i,lamports:o,custodianPubkey:s}=e,a=gn.Withdraw,l=je(a,{lamports:o}),c=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:ci,isSigner:!1,isWritable:!1},{pubkey:fd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&c.push({pubkey:s,isSigner:!0,isWritable:!1}),new Be().add({keys:c,programId:this.programId,data:l})}static deactivate(e){const{stakePubkey:n,authorizedPubkey:r}=e,i=gn.Deactivate,o=je(i);return new Be().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:ci,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}}Nh.programId=new X("Stake11111111111111111111111111111111111111");Nh.space=200;class Ox{constructor(e,n,r,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=n,this.authorizedWithdrawer=r,this.commission=i}}class F6{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=he("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(pi))if(s.index==r){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:n}=Ge(pi.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Ox(new X(n.nodePubkey),new X(n.authorizedVoter),new X(n.authorizedWithdrawer),n.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,voteAuthorizationType:r}=Ge(pi.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new X(n),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorized:i,voteAuthorizationType:o}}=Ge(pi.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new X(n),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new X(i),voteAuthorizationType:{index:o},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=Ge(pi.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:n,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Rl.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const pi=Object.freeze({InitializeAccount:{index:0,layout:se([he("instruction"),V4()])},Authorize:{index:1,layout:se([he("instruction"),Pe("newAuthorized"),he("voteAuthorizationType")])},Withdraw:{index:3,layout:se([he("instruction"),Wn("lamports")])},UpdateValidatorIdentity:{index:4,layout:se([he("instruction")])},AuthorizeWithSeed:{index:10,layout:se([he("instruction"),G4()])}}),W6=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Rl{constructor(){}static initializeAccount(e){const{votePubkey:n,nodePubkey:r,voteInit:i}=e,o=pi.InitializeAccount,s=je(o,{voteInit:{nodePubkey:Oe(i.nodePubkey.toBuffer()),authorizedVoter:Oe(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Oe(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Qi,isSigner:!1,isWritable:!1},{pubkey:ci,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new Ke(a)}static createAccount(e){const n=new Be;return n.add(at.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),n.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:o}=e,s=pi.Authorize,a=je(s,{newAuthorized:Oe(i.toBuffer()),voteAuthorizationType:o.index}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:ci,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Be().add({keys:l,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:n,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:s,votePubkey:a}=e,l=pi.AuthorizeWithSeed,c=je(l,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Oe(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Oe(o.toBuffer()),voteAuthorizationType:s.index}}),d=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:ci,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Be().add({keys:d,programId:this.programId,data:c})}static withdraw(e){const{votePubkey:n,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:o}=e,s=pi.Withdraw,a=je(s,{lamports:i}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Be().add({keys:l,programId:this.programId,data:a})}static safeWithdraw(e,n,r){if(e.lamports>n-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return Rl.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:n,authorizedWithdrawerPubkey:r,nodePubkey:i}=e,o=pi.UpdateValidatorIdentity,s=je(o),a=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Be().add({keys:a,programId:this.programId,data:s})}}Rl.programId=new X("Vote111111111111111111111111111111111111111");Rl.space=3762;const Lx=new X("Va1idator1nfo111111111111111111111111111111"),$6=te({name:ae(),website:ve(ae()),details:ve(ae()),iconUrl:ve(ae()),keybaseUsername:ve(ae())});class bw{constructor(e,n){this.key=void 0,this.info=void 0,this.key=e,this.info=n}static fromConfigData(e){let n=[...e];if(Qn(n)!==2)return null;const i=[];for(let o=0;o<2;o++){const s=new X(Xn(n,0,_i)),a=fi(n)===1;i.push({publicKey:s,isSigner:a})}if(i[0].publicKey.equals(Lx)&&i[1].isSigner){const o=Es().decode(me.Buffer.from(n)),s=JSON.parse(o);return VA(s,$6),new bw(i[1].publicKey,s)}return null}}const H6=new X("Vote111111111111111111111111111111111111111"),K6=se([Pe("nodePubkey"),Pe("authorizedWithdrawer"),Ne("commission"),En(),wn(se([En("slot"),he("confirmationCount")]),Wo(he(),-8),"votes"),Ne("rootSlotValid"),En("rootSlot"),En(),wn(se([En("epoch"),Pe("authorizedVoter")]),Wo(he(),-8),"authorizedVoters"),se([wn(se([Pe("authorizedPubkey"),En("epochOfLastAuthorizedSwitch"),En("targetEpoch")]),32,"buf"),En("idx"),Ne("isEmpty")],"priorVoters"),En(),wn(se([En("epoch"),En("credits"),En("prevCredits")]),Wo(he(),-8),"epochCredits"),se([En("slot"),En("timestamp")],"lastTimestamp")]);class Sw{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=K6.decode(Oe(e),4);let i=r.rootSlot;return r.rootSlotValid||(i=null),new Sw({nodePubkey:new X(r.nodePubkey),authorizedWithdrawer:new X(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:i,authorizedVoters:r.authorizedVoters.map(V6),priorVoters:G6(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function V6({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new X(t)}}function Jv({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:n}){return{authorizedPubkey:new X(t),epochOfLastAuthorizedSwitch:e,targetEpoch:n}}function G6({buf:t,idx:e,isEmpty:n}){return n?[]:[...t.slice(e+1).map(Jv),...t.slice(0,e).map(Jv)]}const e_={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Bx(t,e){const n=e===!1?"http":"https";if(!t)return e_[n].devnet;const r=e_[n][t];if(!r)throw new Error(`Unknown ${n} cluster: ${t}`);return r}async function q6(t,e,n,r){let i,o;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(i=n,o=r):o=n;const s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await t.sendRawTransaction(e,s),l=o&&o.commitment,d=(await(i?t.confirmTransaction(i,l):t.confirmTransaction(a,l))).value;if(d.err)throw a!=null?new Yo({action:s!=null&&s.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(d)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(d)})`);return a}const Y6=1e9,Z6=Object.freeze(Object.defineProperty({__proto__:null,Account:F4,AddressLookupTableAccount:Dg,AddressLookupTableInstruction:L6,AddressLookupTableProgram:_w,Authorized:Mx,BLOCKHASH_CACHE_TIMEOUT_MS:vx,BPF_LOADER_DEPRECATED_PROGRAM_ID:W4,BPF_LOADER_PROGRAM_ID:s3,BpfLoader:a3,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:hi,ComputeBudgetInstruction:B6,ComputeBudgetProgram:Ew,Connection:Tx,Ed25519Program:Ih,Enum:j4,EpochSchedule:yx,FeeCalculatorLayout:gx,Keypair:Ho,LAMPORTS_PER_SOL:Y6,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Wi,Loader:zs,Lockup:iu,MAX_SEED_LENGTH:dx,Message:ri,MessageAccountKeys:jc,MessageV0:js,NONCE_ACCOUNT_LENGTH:Pg,NonceAccount:Ah,PACKET_DATA_SIZE:$o,PUBLIC_KEY_LENGTH:_i,PublicKey:X,SIGNATURE_LENGTH_IN_BYTES:sl,SOLANA_SCHEMA:fc,STAKE_CONFIG_ID:Cx,STAKE_INSTRUCTION_LAYOUTS:gn,SYSTEM_INSTRUCTION_LAYOUTS:ct,SYSVAR_CLOCK_PUBKEY:ci,SYSVAR_EPOCH_SCHEDULE_PUBKEY:X4,SYSVAR_INSTRUCTIONS_PUBKEY:J4,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:dd,SYSVAR_RENT_PUBKEY:Qi,SYSVAR_REWARDS_PUBKEY:e3,SYSVAR_SLOT_HASHES_PUBKEY:t3,SYSVAR_SLOT_HISTORY_PUBKEY:n3,SYSVAR_STAKE_HISTORY_PUBKEY:fd,Secp256k1Program:Ha,SendTransactionError:Yo,SolanaJSONRPCError:we,SolanaJSONRPCErrorCode:r3,StakeAuthorizationLayout:z6,StakeInstruction:j6,StakeProgram:Nh,Struct:hw,SystemInstruction:i3,SystemProgram:at,Transaction:Be,TransactionExpiredBlockheightExceededError:pw,TransactionExpiredNonceInvalidError:Oa,TransactionExpiredTimeoutError:gw,TransactionInstruction:Ke,TransactionMessage:mw,TransactionStatus:Li,VALIDATOR_INFO_KEY:Lx,VERSION_PREFIX_MASK:Eh,VOTE_PROGRAM_ID:H6,ValidatorInfo:bw,VersionedMessage:Sh,VersionedTransaction:al,VoteAccount:Sw,VoteAuthorizationLayout:W6,VoteInit:Ox,VoteInstruction:F6,VoteProgram:Rl,clusterApiUrl:Bx,sendAndConfirmRawTransaction:q6,sendAndConfirmTransaction:ll},Symbol.toStringTag,{value:"Module"})),Px=ee.createContext({});function Dx(){return ee.useContext(Px)}const Q6=({children:t,endpoint:e,config:n={commitment:"confirmed"}})=>{const r=ee.useMemo(()=>new Tx(e,n),[e,n]);return re.createElement(Px.Provider,{value:{connection:r}},t)};class Rt extends Error{constructor(e,n){super(e),this.error=n}}class ul extends Rt{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class Ux extends Rt{constructor(){super(...arguments),this.name="WalletLoadError"}}class bs extends Rt{constructor(){super(...arguments),this.name="WalletConfigError"}}class Fc extends Rt{constructor(){super(...arguments),this.name="WalletConnectionError"}}class Th extends Rt{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class kh extends Rt{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class Co extends Rt{constructor(){super(...arguments),this.name="WalletAccountError"}}class dl extends Rt{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class X6 extends Rt{constructor(){super(...arguments),this.name="WalletKeypairError"}}class Pt extends Rt{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class qi extends Rt{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class Yr extends Rt{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class Ch extends Rt{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class Fg extends Rt{constructor(){super(...arguments),this.name="WalletSignInError"}}class J6 extends Rt{constructor(){super(...arguments),this.name="WalletTimeoutError"}}class eL extends Rt{constructor(){super(...arguments),this.name="WalletWindowBlockedError"}}class tL extends Rt{constructor(){super(...arguments),this.name="WalletWindowClosedError"}}var $e;(function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"})($e||($e={}));class Aw extends _h{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,n,r={}){const i=this.publicKey;if(!i)throw new Pt;return e.feePayer=e.feePayer||i,e.recentBlockhash=e.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,e}}function xw(t){if(typeof window>"u"||typeof document>"u")return;const e=[];function n(){if(t())for(const o of e)o()}const r=setInterval(n,1e3);e.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),document.readyState!=="complete"&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}function Nf(){if(!navigator)return!1;const t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),n=t.includes("safari");return e&&n}function mi(t){return"version"in t}class jx extends Aw{async sendTransaction(e,n,r={}){let i=!0;try{if(mi(e)){if(!this.supportedTransactionVersions)throw new qi("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new qi(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const o=e.serialize();return await n.sendRawTransaction(o,r)}catch(o){throw o instanceof Yr?(i=!1,o):new qi(o==null?void 0:o.message,o)}}else try{const{signers:o,...s}=r;e=await this.prepareTransaction(e,n,s),o!=null&&o.length&&e.partialSign(...o),e=await this.signTransaction(e);const a=e.serialize();return await n.sendRawTransaction(a,s)}catch(o){throw o instanceof Yr?(i=!1,o):new qi(o==null?void 0:o.message,o)}}catch(o){throw i&&this.emit("error",o),o}}async signAllTransactions(e){for(const r of e)if(mi(r)){if(!this.supportedTransactionVersions)throw new Yr("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new Yr(`Signing transaction version ${r.version} isn't supported by this wallet`)}const n=[];for(const r of e)n.push(await this.signTransaction(r));return n}}class Mh extends jx{}class nL extends Mh{}const gi="solana:signAndSendTransaction",hd="solana:signIn",hs="solana:signMessage",an="solana:signTransaction",rL="solana:signAndSendAllTransactions",iL=Object.freeze(Object.defineProperty({__proto__:null,SignAndSendAllTransactions:rL,SolanaSignAndSendTransaction:gi,SolanaSignIn:hd,SolanaSignMessage:hs,SolanaSignTransaction:an},Symbol.toStringTag,{value:"Module"})),ou="standard:connect",oL=ou,Wc="standard:disconnect",sL=Wc,su="standard:events",aL=su,lL=Object.freeze(Object.defineProperty({__proto__:null,Connect:oL,Disconnect:sL,Events:aL,StandardConnect:ou,StandardDisconnect:Wc,StandardEvents:su},Symbol.toStringTag,{value:"Module"}));function zx(t){return ou in t.features&&su in t.features&&(gi in t.features||an in t.features)}var Tf;(function(t){t.Mainnet="mainnet-beta",t.Testnet="testnet",t.Devnet="devnet"})(Tf||(Tf={}));const cL=Object.freeze(Object.defineProperty({__proto__:null,BaseMessageSignerWalletAdapter:Mh,BaseSignInMessageSignerWalletAdapter:nL,BaseSignerWalletAdapter:jx,BaseWalletAdapter:Aw,EventEmitter:_h,WalletAccountError:Co,get WalletAdapterNetwork(){return Tf},WalletConfigError:bs,WalletConnectionError:Fc,WalletDisconnectedError:Th,WalletDisconnectionError:kh,WalletError:Rt,WalletKeypairError:X6,WalletLoadError:Ux,WalletNotConnectedError:Pt,WalletNotReadyError:ul,WalletPublicKeyError:dl,get WalletReadyState(){return $e},WalletSendTransactionError:qi,WalletSignInError:Fg,WalletSignMessageError:Ch,WalletSignTransactionError:Yr,WalletTimeoutError:J6,WalletWindowBlockedError:eL,WalletWindowClosedError:tL,isIosAndRedirectable:Nf,isVersionedTransaction:mi,isWalletAdapterCompatibleStandardWallet:zx,scopePollingDetectionStrategy:xw},Symbol.toStringTag,{value:"Module"}));class t_ extends Rt{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const uL=[],Oh={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){Kr("call","select")},connect(){return Promise.reject(Kr("call","connect"))},disconnect(){return Promise.reject(Kr("call","disconnect"))},sendTransaction(){return Promise.reject(Kr("call","sendTransaction"))},signTransaction(){return Promise.reject(Kr("call","signTransaction"))},signAllTransactions(){return Promise.reject(Kr("call","signAllTransactions"))},signMessage(){return Promise.reject(Kr("call","signMessage"))},signIn(){return Promise.reject(Kr("call","signIn"))}};Object.defineProperty(Oh,"wallets",{get(){return Kr("read","wallets"),uL}});Object.defineProperty(Oh,"wallet",{get(){return Kr("read","wallet"),null}});Object.defineProperty(Oh,"publicKey",{get(){return Kr("read","publicKey"),null}});function Kr(t,e){const n=new Error(`You have tried to ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}const Fx=ee.createContext(Oh);function Lh(){return ee.useContext(Fx)}function dL(t,e){const n=ee.useState(()=>{try{const o=localStorage.getItem(t);if(o)return JSON.parse(o)}catch(o){typeof window<"u"&&console.error(o)}return e}),r=n[0],i=ee.useRef(!0);return ee.useEffect(()=>{if(i.current){i.current=!1;return}try{r===null?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(r))}catch(o){typeof window<"u"&&console.error(o)}},[r,t]),n}var ts={};const fL=io(cL),Rw=io(Z6),Wx=io(iL);var Ii={},au={},hL=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},$x={},Ir={};let Iw;const pL=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ir.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Ir.getSymbolTotalCodewords=function(e){return pL[e]};Ir.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Ir.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Iw=e};Ir.isKanjiModeEnabled=function(){return typeof Iw<"u"};Ir.toSJIS=function(e){return Iw(e)};var Bh={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(Bh);function Hx(){this.buffer=[],this.length=0}Hx.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var gL=Hx;function lu(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}lu.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)};lu.prototype.get=function(t,e){return this.data[t*this.size+e]};lu.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};lu.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var mL=lu,Kx={};(function(t){const e=Ir.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,o=e(r),s=o===145?26:Math.ceil((o-13)/(2*i-2))*2,a=[o-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-s;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],o=t.getRowColCoords(r),s=o.length;for(let a=0;a<s;a++)for(let l=0;l<s;l++)a===0&&l===0||a===0&&l===s-1||a===s-1&&l===0||i.push([o[a],o[l]]);return i}})(Kx);var Vx={};const yL=Ir.getSymbolSize,n_=7;Vx.getPositions=function(e){const n=yL(e);return[[0,0],[n-n_,0],[0,n-n_]]};var Gx={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const o=i.size;let s=0,a=0,l=0,c=null,d=null;for(let g=0;g<o;g++){a=l=0,c=d=null;for(let p=0;p<o;p++){let f=i.get(g,p);f===c?a++:(a>=5&&(s+=e.N1+(a-5)),c=f,a=1),f=i.get(p,g),f===d?l++:(l>=5&&(s+=e.N1+(l-5)),d=f,l=1)}a>=5&&(s+=e.N1+(a-5)),l>=5&&(s+=e.N1+(l-5))}return s},t.getPenaltyN2=function(i){const o=i.size;let s=0;for(let a=0;a<o-1;a++)for(let l=0;l<o-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&s++}return s*e.N2},t.getPenaltyN3=function(i){const o=i.size;let s=0,a=0,l=0;for(let c=0;c<o;c++){a=l=0;for(let d=0;d<o;d++)a=a<<1&2047|i.get(c,d),d>=10&&(a===1488||a===93)&&s++,l=l<<1&2047|i.get(d,c),d>=10&&(l===1488||l===93)&&s++}return s*e.N3},t.getPenaltyN4=function(i){let o=0;const s=i.data.length;for(let l=0;l<s;l++)o+=i.data[l];return Math.abs(Math.ceil(o*100/s/5)-10)*e.N4};function n(r,i,o){switch(r){case t.Patterns.PATTERN000:return(i+o)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return o%3===0;case t.Patterns.PATTERN011:return(i+o)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(o/3))%2===0;case t.Patterns.PATTERN101:return i*o%2+i*o%3===0;case t.Patterns.PATTERN110:return(i*o%2+i*o%3)%2===0;case t.Patterns.PATTERN111:return(i*o%3+(i+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,o){const s=o.size;for(let a=0;a<s;a++)for(let l=0;l<s;l++)o.isReserved(l,a)||o.xor(l,a,n(i,l,a))},t.getBestMask=function(i,o){const s=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<s;c++){o(c),t.applyMask(c,i);const d=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(c,i),d<l&&(l=d,a=c)}return a}})(Gx);var Ph={};const Mo=Bh,$u=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Hu=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Ph.getBlocksCount=function(e,n){switch(n){case Mo.L:return $u[(e-1)*4+0];case Mo.M:return $u[(e-1)*4+1];case Mo.Q:return $u[(e-1)*4+2];case Mo.H:return $u[(e-1)*4+3];default:return}};Ph.getTotalCodewordsCount=function(e,n){switch(n){case Mo.L:return Hu[(e-1)*4+0];case Mo.M:return Hu[(e-1)*4+1];case Mo.Q:return Hu[(e-1)*4+2];case Mo.H:return Hu[(e-1)*4+3];default:return}};var qx={},Dh={};const hc=new Uint8Array(512),kf=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)hc[n]=e,kf[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)hc[n]=hc[n-255]})();Dh.log=function(e){if(e<1)throw new Error("log("+e+")");return kf[e]};Dh.exp=function(e){return hc[e]};Dh.mul=function(e,n){return e===0||n===0?0:hc[kf[e]+kf[n]]};(function(t){const e=Dh;t.mul=function(r,i){const o=new Uint8Array(r.length+i.length-1);for(let s=0;s<r.length;s++)for(let a=0;a<i.length;a++)o[s+a]^=e.mul(r[s],i[a]);return o},t.mod=function(r,i){let o=new Uint8Array(r);for(;o.length-i.length>=0;){const s=o[0];for(let l=0;l<i.length;l++)o[l]^=e.mul(i[l],s);let a=0;for(;a<o.length&&o[a]===0;)a++;o=o.slice(a)}return o},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let o=0;o<r;o++)i=t.mul(i,new Uint8Array([1,e.exp(o)]));return i}})(qx);const Yx=qx;function Nw(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Nw.prototype.initialize=function(e){this.degree=e,this.genPoly=Yx.generateECPolynomial(this.degree)};Nw.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=Yx.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const o=new Uint8Array(this.degree);return o.set(r,i),o}return r};var wL=Nw,Zx={},ns={},Tw={};Tw.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Ni={};const Qx="[0-9]+",vL="[A-Z $%*+\\-./:]+";let $c="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";$c=$c.replace(/u/g,"\\u");const _L="(?:(?![A-Z0-9 $%*+\\-./:]|"+$c+`)(?:.|[\r
]))+`;Ni.KANJI=new RegExp($c,"g");Ni.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Ni.BYTE=new RegExp(_L,"g");Ni.NUMERIC=new RegExp(Qx,"g");Ni.ALPHANUMERIC=new RegExp(vL,"g");const EL=new RegExp("^"+$c+"$"),bL=new RegExp("^"+Qx+"$"),SL=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Ni.testKanji=function(e){return EL.test(e)};Ni.testNumeric=function(e){return bL.test(e)};Ni.testAlphanumeric=function(e){return SL.test(e)};(function(t){const e=Tw,n=Ni;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(o,s){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?o.ccBits[0]:s<27?o.ccBits[1]:o.ccBits[2]},t.getBestModeForData=function(o){return n.testNumeric(o)?t.NUMERIC:n.testAlphanumeric(o)?t.ALPHANUMERIC:n.testKanji(o)?t.KANJI:t.BYTE},t.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},t.isValid=function(o){return o&&o.bit&&o.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(o,s){if(t.isValid(o))return o;try{return r(o)}catch{return s}}})(ns);(function(t){const e=Ir,n=Ph,r=Bh,i=ns,o=Tw,s=7973,a=e.getBCHDigit(s);function l(p,f,m){for(let x=1;x<=40;x++)if(f<=t.getCapacity(x,m,p))return x}function c(p,f){return i.getCharCountIndicator(p,f)+4}function d(p,f){let m=0;return p.forEach(function(x){const R=c(x.mode,f);m+=R+x.getBitsLength()}),m}function g(p,f){for(let m=1;m<=40;m++)if(d(p,m)<=t.getCapacity(m,f,i.MIXED))return m}t.from=function(f,m){return o.isValid(f)?parseInt(f,10):m},t.getCapacity=function(f,m,x){if(!o.isValid(f))throw new Error("Invalid QR Code version");typeof x>"u"&&(x=i.BYTE);const R=e.getSymbolTotalCodewords(f),y=n.getTotalCodewordsCount(f,m),b=(R-y)*8;if(x===i.MIXED)return b;const _=b-c(x,f);switch(x){case i.NUMERIC:return Math.floor(_/10*3);case i.ALPHANUMERIC:return Math.floor(_/11*2);case i.KANJI:return Math.floor(_/13);case i.BYTE:default:return Math.floor(_/8)}},t.getBestVersionForData=function(f,m){let x;const R=r.from(m,r.M);if(Array.isArray(f)){if(f.length>1)return g(f,R);if(f.length===0)return 1;x=f[0]}else x=f;return l(x.mode,x.getLength(),R)},t.getEncodedBits=function(f){if(!o.isValid(f)||f<7)throw new Error("Invalid QR Code version");let m=f<<12;for(;e.getBCHDigit(m)-a>=0;)m^=s<<e.getBCHDigit(m)-a;return f<<12|m}})(Zx);var Xx={};const Wg=Ir,Jx=1335,AL=21522,r_=Wg.getBCHDigit(Jx);Xx.getEncodedBits=function(e,n){const r=e.bit<<3|n;let i=r<<10;for(;Wg.getBCHDigit(i)-r_>=0;)i^=Jx<<Wg.getBCHDigit(i)-r_;return(r<<10|i)^AL};var e2={};const xL=ns;function fl(t){this.mode=xL.NUMERIC,this.data=t.toString()}fl.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};fl.prototype.getLength=function(){return this.data.length};fl.prototype.getBitsLength=function(){return fl.getBitsLength(this.data.length)};fl.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);const o=this.data.length-n;o>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,o*3+1))};var RL=fl;const IL=ns,a0=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function hl(t){this.mode=IL.ALPHANUMERIC,this.data=t}hl.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};hl.prototype.getLength=function(){return this.data.length};hl.prototype.getBitsLength=function(){return hl.getBitsLength(this.data.length)};hl.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=a0.indexOf(this.data[n])*45;r+=a0.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(a0.indexOf(this.data[n]),6)};var NL=hl;const TL=ns;function pl(t){this.mode=TL.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}pl.getBitsLength=function(e){return e*8};pl.prototype.getLength=function(){return this.data.length};pl.prototype.getBitsLength=function(){return pl.getBitsLength(this.data.length)};pl.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var kL=pl;const CL=ns,ML=Ir;function gl(t){this.mode=CL.KANJI,this.data=t}gl.getBitsLength=function(e){return e*13};gl.prototype.getLength=function(){return this.data.length};gl.prototype.getBitsLength=function(){return gl.getBitsLength(this.data.length)};gl.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=ML.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var OL=gl,t2={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,i){var o={},s={};s[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,d,g,p,f,m,x,R;!a.empty();){l=a.pop(),c=l.value,g=l.cost,p=n[c]||{};for(d in p)p.hasOwnProperty(d)&&(f=p[d],m=g+f,x=s[d],R=typeof s[d]>"u",(R||x>m)&&(s[d]=m,a.push(d,m),o[d]=c))}if(typeof i<"u"&&typeof s[i]>"u"){var y=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(y)}return o},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],o=r;o;)i.push(o),n[o],o=n[o];return i.reverse(),i},find_path:function(n,r,i){var o=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(o,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},o;n=n||{};for(o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(t2);var LL=t2.exports;(function(t){const e=ns,n=RL,r=NL,i=kL,o=OL,s=Ni,a=Ir,l=LL;function c(y){return unescape(encodeURIComponent(y)).length}function d(y,b,_){const I=[];let L;for(;(L=y.exec(_))!==null;)I.push({data:L[0],index:L.index,mode:b,length:L[0].length});return I}function g(y){const b=d(s.NUMERIC,e.NUMERIC,y),_=d(s.ALPHANUMERIC,e.ALPHANUMERIC,y);let I,L;return a.isKanjiModeEnabled()?(I=d(s.BYTE,e.BYTE,y),L=d(s.KANJI,e.KANJI,y)):(I=d(s.BYTE_KANJI,e.BYTE,y),L=[]),b.concat(_,I,L).sort(function(B,F){return B.index-F.index}).map(function(B){return{data:B.data,mode:B.mode,length:B.length}})}function p(y,b){switch(b){case e.NUMERIC:return n.getBitsLength(y);case e.ALPHANUMERIC:return r.getBitsLength(y);case e.KANJI:return o.getBitsLength(y);case e.BYTE:return i.getBitsLength(y)}}function f(y){return y.reduce(function(b,_){const I=b.length-1>=0?b[b.length-1]:null;return I&&I.mode===_.mode?(b[b.length-1].data+=_.data,b):(b.push(_),b)},[])}function m(y){const b=[];for(let _=0;_<y.length;_++){const I=y[_];switch(I.mode){case e.NUMERIC:b.push([I,{data:I.data,mode:e.ALPHANUMERIC,length:I.length},{data:I.data,mode:e.BYTE,length:I.length}]);break;case e.ALPHANUMERIC:b.push([I,{data:I.data,mode:e.BYTE,length:I.length}]);break;case e.KANJI:b.push([I,{data:I.data,mode:e.BYTE,length:c(I.data)}]);break;case e.BYTE:b.push([{data:I.data,mode:e.BYTE,length:c(I.data)}])}}return b}function x(y,b){const _={},I={start:{}};let L=["start"];for(let z=0;z<y.length;z++){const B=y[z],F=[];for(let U=0;U<B.length;U++){const W=B[U],$=""+z+U;F.push($),_[$]={node:W,lastCount:0},I[$]={};for(let H=0;H<L.length;H++){const A=L[H];_[A]&&_[A].node.mode===W.mode?(I[A][$]=p(_[A].lastCount+W.length,W.mode)-p(_[A].lastCount,W.mode),_[A].lastCount+=W.length):(_[A]&&(_[A].lastCount=W.length),I[A][$]=p(W.length,W.mode)+4+e.getCharCountIndicator(W.mode,b))}}L=F}for(let z=0;z<L.length;z++)I[L[z]].end=0;return{map:I,table:_}}function R(y,b){let _;const I=e.getBestModeForData(y);if(_=e.from(b,I),_!==e.BYTE&&_.bit<I.bit)throw new Error('"'+y+'" cannot be encoded with mode '+e.toString(_)+`.
 Suggested mode is: `+e.toString(I));switch(_===e.KANJI&&!a.isKanjiModeEnabled()&&(_=e.BYTE),_){case e.NUMERIC:return new n(y);case e.ALPHANUMERIC:return new r(y);case e.KANJI:return new o(y);case e.BYTE:return new i(y)}}t.fromArray=function(b){return b.reduce(function(_,I){return typeof I=="string"?_.push(R(I,null)):I.data&&_.push(R(I.data,I.mode)),_},[])},t.fromString=function(b,_){const I=g(b,a.isKanjiModeEnabled()),L=m(I),z=x(L,_),B=l.find_path(z.map,"start","end"),F=[];for(let U=1;U<B.length-1;U++)F.push(z.table[B[U]].node);return t.fromArray(f(F))},t.rawSplit=function(b){return t.fromArray(g(b,a.isKanjiModeEnabled()))}})(e2);const Uh=Ir,l0=Bh,BL=gL,PL=mL,DL=Kx,UL=Vx,$g=Gx,Hg=Ph,jL=wL,Cf=Zx,zL=Xx,FL=ns,c0=e2;function WL(t,e){const n=t.size,r=UL.getPositions(e);for(let i=0;i<r.length;i++){const o=r[i][0],s=r[i][1];for(let a=-1;a<=7;a++)if(!(o+a<=-1||n<=o+a))for(let l=-1;l<=7;l++)s+l<=-1||n<=s+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(o+a,s+l,!0,!0):t.set(o+a,s+l,!1,!0))}}function $L(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function HL(t,e){const n=DL.getPositions(e);for(let r=0;r<n.length;r++){const i=n[r][0],o=n[r][1];for(let s=-2;s<=2;s++)for(let a=-2;a<=2;a++)s===-2||s===2||a===-2||a===2||s===0&&a===0?t.set(i+s,o+a,!0,!0):t.set(i+s,o+a,!1,!0)}}function KL(t,e){const n=t.size,r=Cf.getEncodedBits(e);let i,o,s;for(let a=0;a<18;a++)i=Math.floor(a/3),o=a%3+n-8-3,s=(r>>a&1)===1,t.set(i,o,s,!0),t.set(o,i,s,!0)}function u0(t,e,n){const r=t.size,i=zL.getEncodedBits(e,n);let o,s;for(o=0;o<15;o++)s=(i>>o&1)===1,o<6?t.set(o,8,s,!0):o<8?t.set(o+1,8,s,!0):t.set(r-15+o,8,s,!0),o<8?t.set(8,r-o-1,s,!0):o<9?t.set(8,15-o-1+1,s,!0):t.set(8,15-o-1,s,!0);t.set(r-8,8,1,!0)}function VL(t,e){const n=t.size;let r=-1,i=n-1,o=7,s=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(i,a-l)){let c=!1;s<e.length&&(c=(e[s]>>>o&1)===1),t.set(i,a-l,c),o--,o===-1&&(s++,o=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function GL(t,e,n){const r=new BL;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),FL.getCharCountIndicator(l.mode,t)),l.write(r)});const i=Uh.getSymbolTotalCodewords(t),o=Hg.getTotalCodewordsCount(t,e),s=(i-o)*8;for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(s-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return qL(r,t,e)}function qL(t,e,n){const r=Uh.getSymbolTotalCodewords(e),i=Hg.getTotalCodewordsCount(e,n),o=r-i,s=Hg.getBlocksCount(e,n),a=r%s,l=s-a,c=Math.floor(r/s),d=Math.floor(o/s),g=d+1,p=c-d,f=new jL(p);let m=0;const x=new Array(s),R=new Array(s);let y=0;const b=new Uint8Array(t.buffer);for(let B=0;B<s;B++){const F=B<l?d:g;x[B]=b.slice(m,m+F),R[B]=f.encode(x[B]),m+=F,y=Math.max(y,F)}const _=new Uint8Array(r);let I=0,L,z;for(L=0;L<y;L++)for(z=0;z<s;z++)L<x[z].length&&(_[I++]=x[z][L]);for(L=0;L<p;L++)for(z=0;z<s;z++)_[I++]=R[z][L];return _}function YL(t,e,n,r){let i;if(Array.isArray(t))i=c0.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const d=c0.rawSplit(t);c=Cf.getBestVersionForData(d,n)}i=c0.fromString(t,c||40)}else throw new Error("Invalid data");const o=Cf.getBestVersionForData(i,n);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);const s=GL(e,n,i),a=Uh.getSymbolSize(e),l=new PL(a);return WL(l,e),$L(l),HL(l,e),u0(l,n,0),e>=7&&KL(l,e),VL(l,s),isNaN(r)&&(r=$g.getBestMask(l,u0.bind(null,l,n))),$g.applyMask(r,l),u0(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}$x.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=l0.M,i,o;return typeof n<"u"&&(r=l0.from(n.errorCorrectionLevel,l0.M),i=Cf.from(n.version),o=$g.from(n.maskPattern),n.toSJISFunc&&Uh.setToSJISFunction(n.toSJISFunc)),YL(e,i,r,o)};var n2={},kw={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,s=r.scale||4;return{width:o,scale:o?4:s,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const o=t.getScale(r,i);return Math.floor((r+i.margin*2)*o)},t.qrToImageData=function(r,i,o){const s=i.modules.size,a=i.modules.data,l=t.getScale(s,o),c=Math.floor((s+o.margin*2)*l),d=o.margin*l,g=[o.color.light,o.color.dark];for(let p=0;p<c;p++)for(let f=0;f<c;f++){let m=(p*c+f)*4,x=o.color.light;if(p>=d&&f>=d&&p<c-d&&f<c-d){const R=Math.floor((p-d)/l),y=Math.floor((f-d)/l);x=g[a[R*s+y]?1:0]}r[m++]=x.r,r[m++]=x.g,r[m++]=x.b,r[m]=x.a}}})(kw);(function(t){const e=kw;function n(i,o,s){i.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=s,o.width=s,o.style.height=s+"px",o.style.width=s+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(o,s,a){let l=a,c=s;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),s||(c=r()),l=e.getOptions(l);const d=e.getImageWidth(o.modules.size,l),g=c.getContext("2d"),p=g.createImageData(d,d);return e.qrToImageData(p.data,o,l),n(g,c,d),g.putImageData(p,0,0),c},t.renderToDataURL=function(o,s,a){let l=a;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),l||(l={});const c=t.render(o,s,l),d=l.type||"image/png",g=l.rendererOpts||{};return c.toDataURL(d,g.quality)}})(n2);var r2={};const ZL=kw;function i_(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function d0(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function QL(t,e,n){let r="",i=0,o=!1,s=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!o&&(o=!0),t[a]?(s++,a>0&&l>0&&t[a-1]||(r+=o?d0("M",l+n,.5+c+n):d0("m",i,0),i=0,o=!1),l+1<e&&t[a+1]||(r+=d0("h",s),s=0)):i++}return r}r2.render=function(e,n,r){const i=ZL.getOptions(n),o=e.modules.size,s=e.modules.data,a=o+i.margin*2,l=i.color.light.a?"<path "+i_(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+i_(i.color.dark,"stroke")+' d="'+QL(s,o,i.margin)+'"/>',d='viewBox="0 0 '+a+" "+a+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+d+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,p),p};const XL=hL,Kg=$x,i2=n2,JL=r2;function Cw(t,e,n,r,i){const o=[].slice.call(arguments,1),s=o.length,a=typeof o[s-1]=="function";if(!a&&!XL())throw new Error("Callback required as last argument");if(a){if(s<2)throw new Error("Too few arguments provided");s===2?(i=n,n=e,e=r=void 0):s===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(n=e,e=r=void 0):s===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,c){try{const d=Kg.create(n,r);l(t(d,e,r))}catch(d){c(d)}})}try{const l=Kg.create(n,r);i(null,t(l,e,r))}catch(l){i(l)}}au.create=Kg.create;au.toCanvas=Cw.bind(null,i2.render);au.toDataURL=Cw.bind(null,i2.renderToDataURL);au.toString=Cw.bind(null,function(t,e,n){return JL.render(t,n)});const e8=io(lL);var nr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SOLANA_CHAINS=t.SOLANA_LOCALNET_CHAIN=t.SOLANA_TESTNET_CHAIN=t.SOLANA_DEVNET_CHAIN=t.SOLANA_MAINNET_CHAIN=void 0,t.isSolanaChain=e,t.SOLANA_MAINNET_CHAIN="solana:mainnet",t.SOLANA_DEVNET_CHAIN="solana:devnet",t.SOLANA_TESTNET_CHAIN="solana:testnet",t.SOLANA_LOCALNET_CHAIN="solana:localnet",t.SOLANA_CHAINS=[t.SOLANA_MAINNET_CHAIN,t.SOLANA_DEVNET_CHAIN,t.SOLANA_TESTNET_CHAIN,t.SOLANA_LOCALNET_CHAIN];function e(n){return t.SOLANA_CHAINS.includes(n)}})(nr);var Ti={};function pd(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const Mf="https://api.mainnet-beta.solana.com",o2="https://api.devnet.solana.com",s2="https://api.testnet.solana.com",a2="http://localhost:8899";function l2(t){return t.includes(Mf)?nr.SOLANA_MAINNET_CHAIN:/\bdevnet\b/i.test(t)?nr.SOLANA_DEVNET_CHAIN:/\btestnet\b/i.test(t)?nr.SOLANA_TESTNET_CHAIN:/\blocalhost\b/i.test(t)||/\b127\.0\.0\.1\b/.test(t)?nr.SOLANA_LOCALNET_CHAIN:nr.SOLANA_MAINNET_CHAIN}function t8(t,e){return e||(t===nr.SOLANA_MAINNET_CHAIN?Mf:t===nr.SOLANA_DEVNET_CHAIN?o2:t===nr.SOLANA_TESTNET_CHAIN?s2:t===nr.SOLANA_LOCALNET_CHAIN?a2:Mf)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mw=BigInt(0),Vg=BigInt(1);function Gg(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function gd(t,e,n=""){const r=es(t),i=t==null?void 0:t.length,o=e!==void 0;if(!r||o&&i!==e){const s=n&&`"${n}" `,a=o?` of length ${e}`:"",l=r?`length=${i}`:`type=${typeof t}`;throw new Error(s+"expected Uint8Array"+a+", got "+l)}return t}function c2(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Mw:BigInt("0x"+t)}function n8(t){return c2(vi(t))}function Of(t){return bi(t),c2(vi(Uint8Array.from(t).reverse()))}function u2(t,e){return rl(t.toString(16).padStart(e*2,"0"))}function r8(t,e){return u2(t,e).reverse()}function go(t,e,n){let r;if(typeof e=="string")try{r=rl(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(es(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function o_(t){return Uint8Array.from(t)}const f0=t=>typeof t=="bigint"&&Mw<=t;function i8(t,e,n){return f0(t)&&f0(e)&&f0(n)&&e<=t&&t<n}function s_(t,e,n,r){if(!i8(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function o8(t){let e;for(e=0;t>Mw;t>>=Vg,e+=1);return e}const Ow=t=>(Vg<<BigInt(t))-Vg;function Lw(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,o,s){const a=t[i];if(s&&a===void 0)return;const l=typeof a;if(l!==o||a===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${l}`)}Object.entries(e).forEach(([i,o])=>r(i,o,!1)),Object.entries(n).forEach(([i,o])=>r(i,o,!0))}function a_(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const o=t(n,...r);return e.set(n,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sr=BigInt(0),Kn=BigInt(1),Ss=BigInt(2),d2=BigInt(3),f2=BigInt(4),h2=BigInt(5),s8=BigInt(7),p2=BigInt(8),a8=BigInt(9),g2=BigInt(16);function cn(t,e){const n=t%e;return n>=sr?n:e+n}function si(t,e,n){let r=t;for(;e-- >sr;)r*=r,r%=n;return r}function l_(t,e){if(t===sr)throw new Error("invert: expected non-zero number");if(e<=sr)throw new Error("invert: expected positive modulus, got "+e);let n=cn(t,e),r=e,i=sr,o=Kn;for(;n!==sr;){const a=r/n,l=r%n,c=i-o*a;r=n,n=l,i=o,o=c}if(r!==Kn)throw new Error("invert: does not exist");return cn(i,e)}function Bw(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function m2(t,e){const n=(t.ORDER+Kn)/f2,r=t.pow(e,n);return Bw(t,r,e),r}function l8(t,e){const n=(t.ORDER-h2)/p2,r=t.mul(e,Ss),i=t.pow(r,n),o=t.mul(e,i),s=t.mul(t.mul(o,Ss),i),a=t.mul(o,t.sub(s,t.ONE));return Bw(t,a,e),a}function c8(t){const e=cu(t),n=y2(t),r=n(e,e.neg(e.ONE)),i=n(e,r),o=n(e,e.neg(r)),s=(t+s8)/g2;return(a,l)=>{let c=a.pow(l,s),d=a.mul(c,r);const g=a.mul(c,i),p=a.mul(c,o),f=a.eql(a.sqr(d),l),m=a.eql(a.sqr(g),l);c=a.cmov(c,d,f),d=a.cmov(p,g,m);const x=a.eql(a.sqr(d),l),R=a.cmov(c,d,x);return Bw(a,R,l),R}}function y2(t){if(t<d2)throw new Error("sqrt is not defined for small field");let e=t-Kn,n=0;for(;e%Ss===sr;)e/=Ss,n++;let r=Ss;const i=cu(t);for(;c_(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return m2;let o=i.pow(r,e);const s=(e+Kn)/Ss;return function(l,c){if(l.is0(c))return c;if(c_(l,c)!==1)throw new Error("Cannot find square root");let d=n,g=l.mul(l.ONE,o),p=l.pow(c,e),f=l.pow(c,s);for(;!l.eql(p,l.ONE);){if(l.is0(p))return l.ZERO;let m=1,x=l.sqr(p);for(;!l.eql(x,l.ONE);)if(m++,x=l.sqr(x),m===d)throw new Error("Cannot find square root");const R=Kn<<BigInt(d-m-1),y=l.pow(g,R);d=m,g=l.sqr(y),p=l.mul(p,g),f=l.mul(f,y)}return f}}function u8(t){return t%f2===d2?m2:t%p2===h2?l8:t%g2===a8?c8(t):y2(t)}const d8=(t,e)=>(cn(t,e)&Kn)===Kn,f8=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function h8(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=f8.reduce((r,i)=>(r[i]="function",r),e);return Lw(t,n),t}function p8(t,e,n){if(n<sr)throw new Error("invalid exponent, negatives unsupported");if(n===sr)return t.ONE;if(n===Kn)return e;let r=t.ONE,i=e;for(;n>sr;)n&Kn&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Kn;return r}function w2(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((s,a,l)=>t.is0(a)?s:(r[l]=s,t.mul(s,a)),t.ONE),o=t.inv(i);return e.reduceRight((s,a,l)=>t.is0(a)?s:(r[l]=t.mul(s,r[l]),t.mul(s,a)),o),r}function c_(t,e){const n=(t.ORDER-Kn)/Ss,r=t.pow(e,n),i=t.eql(r,t.ONE),o=t.eql(r,t.ZERO),s=t.eql(r,t.neg(t.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function g8(t,e){e!==void 0&&tl(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function cu(t,e,n=!1,r={}){if(t<=sr)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,o,s=!1,a;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const p=e;p.BITS&&(i=p.BITS),p.sqrt&&(o=p.sqrt),typeof p.isLE=="boolean"&&(n=p.isLE),typeof p.modFromBytes=="boolean"&&(s=p.modFromBytes),a=p.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(o=r.sqrt);const{nBitLength:l,nByteLength:c}=g8(t,i);if(c>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let d;const g=Object.freeze({ORDER:t,isLE:n,BITS:l,BYTES:c,MASK:Ow(l),ZERO:sr,ONE:Kn,allowedLengths:a,create:p=>cn(p,t),isValid:p=>{if(typeof p!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof p);return sr<=p&&p<t},is0:p=>p===sr,isValidNot0:p=>!g.is0(p)&&g.isValid(p),isOdd:p=>(p&Kn)===Kn,neg:p=>cn(-p,t),eql:(p,f)=>p===f,sqr:p=>cn(p*p,t),add:(p,f)=>cn(p+f,t),sub:(p,f)=>cn(p-f,t),mul:(p,f)=>cn(p*f,t),pow:(p,f)=>p8(g,p,f),div:(p,f)=>cn(p*l_(f,t),t),sqrN:p=>p*p,addN:(p,f)=>p+f,subN:(p,f)=>p-f,mulN:(p,f)=>p*f,inv:p=>l_(p,t),sqrt:o||(p=>(d||(d=u8(t)),d(g,p))),toBytes:p=>n?r8(p,c):u2(p,c),fromBytes:(p,f=!0)=>{if(a){if(!a.includes(p.length)||p.length>c)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+p.length);const x=new Uint8Array(c);x.set(p,n?0:x.length-p.length),p=x}if(p.length!==c)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+p.length);let m=n?Of(p):n8(p);if(s&&(m=cn(m,t)),!f&&!g.isValid(m))throw new Error("invalid field element: outside of range 0..ORDER");return m},invertBatch:p=>w2(g,p),cmov:(p,f,m)=>m?f:p});return Object.freeze(g)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Lf=BigInt(0),qg=BigInt(1);function u_(t,e){const n=e.negate();return t?n:e}function Ku(t,e){const n=w2(t.Fp,e.map(r=>r.Z));return e.map((r,i)=>t.fromAffine(r.toAffine(n[i])))}function v2(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function h0(t,e){v2(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,o=Ow(t),s=BigInt(t);return{windows:n,windowSize:r,mask:o,maxNumber:i,shiftBy:s}}function d_(t,e,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=n;let a=Number(t&i),l=t>>s;a>r&&(a-=o,l+=qg);const c=e*r,d=c+Math.abs(a)-1,g=a===0,p=a<0,f=e%2!==0;return{nextN:l,offset:d,isZero:g,isNeg:p,isNegF:f,offsetF:c}}function m8(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function y8(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const p0=new WeakMap,_2=new WeakMap;function g0(t){return _2.get(t)||1}function f_(t){if(t!==Lf)throw new Error("invalid wNAF")}class w8{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let i=e;for(;n>Lf;)n&qg&&(r=r.add(i)),i=i.double(),n>>=qg;return r}precomputeWindow(e,n){const{windows:r,windowSize:i}=h0(n,this.bits),o=[];let s=e,a=s;for(let l=0;l<r;l++){a=s,o.push(a);for(let c=1;c<i;c++)a=a.add(s),o.push(a);s=a.double()}return o}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,o=this.BASE;const s=h0(e,this.bits);for(let a=0;a<s.windows;a++){const{nextN:l,offset:c,isZero:d,isNeg:g,isNegF:p,offsetF:f}=d_(r,a,s);r=l,d?o=o.add(u_(p,n[f])):i=i.add(u_(g,n[c]))}return f_(r),{p:i,f:o}}wNAFUnsafe(e,n,r,i=this.ZERO){const o=h0(e,this.bits);for(let s=0;s<o.windows&&r!==Lf;s++){const{nextN:a,offset:l,isZero:c,isNeg:d}=d_(r,s,o);if(r=a,!c){const g=n[l];i=i.add(d?g.negate():g)}}return f_(r),i}getPrecomputes(e,n,r){let i=p0.get(n);return i||(i=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(i=r(i)),p0.set(n,i))),i}cached(e,n,r){const i=g0(e);return this.wNAF(i,this.getPrecomputes(i,e,r),n)}unsafe(e,n,r,i){const o=g0(e);return o===1?this._unsafeLadder(e,n,i):this.wNAFUnsafe(o,this.getPrecomputes(o,e,r),n,i)}createCache(e,n){v2(n,this.bits),_2.set(e,n),p0.delete(e)}hasCache(e){return g0(e)!==1}}function v8(t,e,n,r){m8(n,t),y8(r,e);const i=n.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,a=o8(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=Ow(l),d=new Array(Number(c)+1).fill(s),g=Math.floor((e.BITS-1)/l)*l;let p=s;for(let f=g;f>=0;f-=l){d.fill(s);for(let x=0;x<o;x++){const R=r[x],y=Number(R>>BigInt(f)&c);d[y]=d[y].add(n[x])}let m=s;for(let x=d.length-1,R=s;x>0;x--)R=R.add(d[x]),m=m.add(R);if(p=p.add(m),f!==0)for(let x=0;x<l;x++)p=p.double()}return p}function h_(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return h8(e),e}else return cu(t,{isLE:n})}function _8(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const l of["p","n","h"]){const c=e[l];if(!(typeof c=="bigint"&&c>Lf))throw new Error(`CURVE.${l} must be positive bigint`)}const i=h_(e.p,n.Fp,r),o=h_(e.n,n.Fn,r),a=["Gx","Gy","a","d"];for(const l of a)if(!i.isValid(e[l]))throw new Error(`CURVE.${l} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const po=BigInt(0),pn=BigInt(1),m0=BigInt(2),E8=BigInt(8);function b8(t,e,n,r){const i=t.sqr(n),o=t.sqr(r),s=t.add(t.mul(e.a,i),o),a=t.add(t.ONE,t.mul(e.d,t.mul(i,o)));return t.eql(s,a)}function S8(t,e={}){const n=_8("edwards",t,e,e.FpFnLE),{Fp:r,Fn:i}=n;let o=n.CURVE;const{h:s}=o;Lw(e,{},{uvRatio:"function"});const a=m0<<BigInt(i.BYTES*8)-pn,l=R=>r.create(R),c=e.uvRatio||((R,y)=>{try{return{isValid:!0,value:r.sqrt(r.div(R,y))}}catch{return{isValid:!1,value:po}}});if(!b8(r,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function d(R,y,b=!1){const _=b?pn:po;return s_("coordinate "+R,y,_,a),y}function g(R){if(!(R instanceof m))throw new Error("ExtendedPoint expected")}const p=a_((R,y)=>{const{X:b,Y:_,Z:I}=R,L=R.is0();y==null&&(y=L?E8:r.inv(I));const z=l(b*y),B=l(_*y),F=r.mul(I,y);if(L)return{x:po,y:pn};if(F!==pn)throw new Error("invZ was invalid");return{x:z,y:B}}),f=a_(R=>{const{a:y,d:b}=o;if(R.is0())throw new Error("bad point: ZERO");const{X:_,Y:I,Z:L,T:z}=R,B=l(_*_),F=l(I*I),U=l(L*L),W=l(U*U),$=l(B*y),H=l(U*l($+F)),A=l(W+l(b*l(B*F)));if(H!==A)throw new Error("bad point: equation left != right (1)");const u=l(_*I),h=l(L*z);if(u!==h)throw new Error("bad point: equation left != right (2)");return!0});class m{constructor(y,b,_,I){this.X=d("x",y),this.Y=d("y",b),this.Z=d("z",_,!0),this.T=d("t",I),Object.freeze(this)}static CURVE(){return o}static fromAffine(y){if(y instanceof m)throw new Error("extended point not allowed");const{x:b,y:_}=y||{};return d("x",b),d("y",_),new m(b,_,pn,l(b*_))}static fromBytes(y,b=!1){const _=r.BYTES,{a:I,d:L}=o;y=o_(gd(y,_,"point")),Gg(b,"zip215");const z=o_(y),B=y[_-1];z[_-1]=B&-129;const F=Of(z),U=b?a:r.ORDER;s_("point.y",F,po,U);const W=l(F*F),$=l(W-pn),H=l(L*W-I);let{isValid:A,value:u}=c($,H);if(!A)throw new Error("bad point: invalid y coordinate");const h=(u&pn)===pn,S=(B&128)!==0;if(!b&&u===po&&S)throw new Error("bad point: x=0 and x_0=1");return S!==h&&(u=l(-u)),m.fromAffine({x:u,y:F})}static fromHex(y,b=!1){return m.fromBytes(go("point",y),b)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(y=8,b=!0){return x.createCache(this,y),b||this.multiply(m0),this}assertValidity(){f(this)}equals(y){g(y);const{X:b,Y:_,Z:I}=this,{X:L,Y:z,Z:B}=y,F=l(b*B),U=l(L*I),W=l(_*B),$=l(z*I);return F===U&&W===$}is0(){return this.equals(m.ZERO)}negate(){return new m(l(-this.X),this.Y,this.Z,l(-this.T))}double(){const{a:y}=o,{X:b,Y:_,Z:I}=this,L=l(b*b),z=l(_*_),B=l(m0*l(I*I)),F=l(y*L),U=b+_,W=l(l(U*U)-L-z),$=F+z,H=$-B,A=F-z,u=l(W*H),h=l($*A),S=l(W*A),N=l(H*$);return new m(u,h,N,S)}add(y){g(y);const{a:b,d:_}=o,{X:I,Y:L,Z:z,T:B}=this,{X:F,Y:U,Z:W,T:$}=y,H=l(I*F),A=l(L*U),u=l(B*_*$),h=l(z*W),S=l((I+L)*(F+U)-H-A),N=h-u,T=h+u,O=l(A-b*H),j=l(S*N),C=l(T*O),w=l(S*O),P=l(N*T);return new m(j,C,P,w)}subtract(y){return this.add(y.negate())}multiply(y){if(!i.isValidNot0(y))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:b,f:_}=x.cached(this,y,I=>Ku(m,I));return Ku(m,[b,_])[0]}multiplyUnsafe(y,b=m.ZERO){if(!i.isValid(y))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return y===po?m.ZERO:this.is0()||y===pn?this:x.unsafe(this,y,_=>Ku(m,_),b)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}isTorsionFree(){return x.unsafe(this,o.n).is0()}toAffine(y){return p(this,y)}clearCofactor(){return s===pn?this:this.multiplyUnsafe(s)}toBytes(){const{x:y,y:b}=this.toAffine(),_=r.toBytes(b);return _[_.length-1]|=y&pn?128:0,_}toHex(){return vi(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(y){return Ku(m,y)}static msm(y,b){return v8(m,i,y,b)}_setWindowSize(y){this.precompute(y)}toRawBytes(){return this.toBytes()}}m.BASE=new m(o.Gx,o.Gy,pn,l(o.Gx*o.Gy)),m.ZERO=new m(po,pn,pn,po),m.Fp=r,m.Fn=i;const x=new w8(m,i.BITS);return m.BASE.precompute(8),m}function A8(t,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');Lw(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:i,Fp:o,Fn:s}=t,a=n.randomBytes||fh,l=n.adjustScalarBytes||(U=>U),c=n.domain||((U,W,$)=>{if(Gg($,"phflag"),W.length||$)throw new Error("Contexts/pre-hash are not supported");return U});function d(U){return s.create(Of(U))}function g(U){const W=_.secretKey;U=go("private key",U,W);const $=go("hashed private key",e(U),2*W),H=l($.slice(0,W)),A=$.slice(W,2*W),u=d(H);return{head:H,prefix:A,scalar:u}}function p(U){const{head:W,prefix:$,scalar:H}=g(U),A=i.multiply(H),u=A.toBytes();return{head:W,prefix:$,scalar:H,point:A,pointBytes:u}}function f(U){return p(U).pointBytes}function m(U=Uint8Array.of(),...W){const $=Or(...W);return d(e(c($,go("context",U),!!r)))}function x(U,W,$={}){U=go("message",U),r&&(U=r(U));const{prefix:H,scalar:A,pointBytes:u}=p(W),h=m($.context,H,U),S=i.multiply(h).toBytes(),N=m($.context,S,u,U),T=s.create(h+N*A);if(!s.isValid(T))throw new Error("sign failed: invalid s");const O=Or(S,s.toBytes(T));return gd(O,_.signature,"result")}const R={zip215:!0};function y(U,W,$,H=R){const{context:A,zip215:u}=H,h=_.signature;U=go("signature",U,h),W=go("message",W),$=go("publicKey",$,_.publicKey),u!==void 0&&Gg(u,"zip215"),r&&(W=r(W));const S=h/2,N=U.subarray(0,S),T=Of(U.subarray(S,h));let O,j,C;try{O=t.fromBytes($,u),j=t.fromBytes(N,u),C=i.multiplyUnsafe(T)}catch{return!1}if(!u&&O.isSmallOrder())return!1;const w=m(A,j.toBytes(),O.toBytes(),W);return j.add(O.multiplyUnsafe(w)).subtract(C).clearCofactor().is0()}const b=o.BYTES,_={secretKey:b,publicKey:b,signature:2*b,seed:b};function I(U=a(_.seed)){return gd(U,_.seed,"seed")}function L(U){const W=F.randomSecretKey(U);return{secretKey:W,publicKey:f(W)}}function z(U){return es(U)&&U.length===s.BYTES}function B(U,W){try{return!!t.fromBytes(U,W)}catch{return!1}}const F={getExtendedPublicKey:p,randomSecretKey:I,isValidSecretKey:z,isValidPublicKey:B,toMontgomery(U){const{y:W}=t.fromBytes(U),$=_.publicKey,H=$===32;if(!H&&$!==57)throw new Error("only defined for 25519 and 448");const A=H?o.div(pn+W,pn-W):o.div(W-pn,W+pn);return o.toBytes(A)},toMontgomerySecret(U){const W=_.secretKey;gd(U,W);const $=e(U.subarray(0,W));return l($).subarray(0,W)},randomPrivateKey:I,precompute(U=8,W=t.BASE){return W.precompute(U,!1)}};return Object.freeze({keygen:L,getPublicKey:f,sign:x,verify:y,utils:F,Point:t,lengths:_})}function x8(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=cu(e.n,t.nBitLength,!0),i={Fp:n,Fn:r,uvRatio:t.uvRatio},o={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:i,hash:t.hash,eddsaOpts:o}}function R8(t,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:t,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function I8(t){const{CURVE:e,curveOpts:n,hash:r,eddsaOpts:i}=x8(t),o=S8(e,n),s=A8(o,r,i);return R8(t,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const N8=BigInt(1),p_=BigInt(2);BigInt(3);const T8=BigInt(5),k8=BigInt(8),Pw=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),E2={p:Pw,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:k8,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function C8(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=Pw,a=t*t%o*t%o,l=si(a,p_,o)*a%o,c=si(l,N8,o)*t%o,d=si(c,T8,o)*c%o,g=si(d,e,o)*d%o,p=si(g,n,o)*g%o,f=si(p,r,o)*p%o,m=si(f,i,o)*f%o,x=si(m,i,o)*f%o,R=si(x,e,o)*d%o;return{pow_p_5_8:si(R,p_,o)*t%o,b2:a}}function M8(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const g_=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function O8(t,e){const n=Pw,r=cn(e*e*e,n),i=cn(r*r*e,n),o=C8(t*i).pow_p_5_8;let s=cn(t*r*o,n);const a=cn(e*s*s,n),l=s,c=cn(s*g_,n),d=a===t,g=a===cn(-t,n),p=a===cn(-t*g_,n);return d&&(s=l),(g||p)&&(s=c),d8(s,n)&&(s=cn(-s,n)),{isValid:d||g,value:s}}const L8=cu(E2.p,{isLE:!0}),B8={...E2,Fp:L8,hash:ZS,adjustScalarBytes:M8,uvRatio:O8},P8=I8(B8);function b2(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function D8(t,e){return b2(t,e)}function Dw({message:t,signedMessage:e,signature:n,publicKey:r}){return D8(t,e)&&P8.verify(n,e,r)}function U8(t,e){const{message:n,account:{publicKey:r}}=t,{signedMessage:i,signature:o}=e;return Dw({message:n,signedMessage:i,signature:o,publicKey:r})}function j8(t,e){const{signedMessage:n,signature:r,account:{publicKey:i}}=e,o=S2(t,e);return!!o&&Dw({message:o,signedMessage:n,signature:r,publicKey:i})}function S2(t,e){const n=A2(t,e);return n?new TextEncoder().encode(n):null}function A2(t,e){const n=x2(e.signedMessage);if(!n||t.domain&&t.domain!==n.domain||t.address&&t.address!==n.address||t.statement!==n.statement||t.uri!==n.uri||t.version!==n.version||t.chainId!==n.chainId||t.nonce!==n.nonce||t.issuedAt!==n.issuedAt||t.expirationTime!==n.expirationTime||t.notBefore!==n.notBefore||t.requestId!==n.requestId)return null;if(t.resources){if(!n.resources||!b2(t.resources,n.resources))return null}else if(n.resources)return null;return Uw(n)}function x2(t){const e=new TextDecoder().decode(t);return R2(e)}const z8="(?<domain>[^\\n]+?) wants you to sign in with your Solana account:\\n",F8="(?<address>[^\\n]+)(?:\\n|$)",W8="(?:\\n(?<statement>[\\S\\s]*?)(?:\\n|$))??",$8="(?:\\nURI: (?<uri>[^\\n]+))?",H8="(?:\\nVersion: (?<version>[^\\n]+))?",K8="(?:\\nChain ID: (?<chainId>[^\\n]+))?",V8="(?:\\nNonce: (?<nonce>[^\\n]+))?",G8="(?:\\nIssued At: (?<issuedAt>[^\\n]+))?",q8="(?:\\nExpiration Time: (?<expirationTime>[^\\n]+))?",Y8="(?:\\nNot Before: (?<notBefore>[^\\n]+))?",Z8="(?:\\nRequest ID: (?<requestId>[^\\n]+))?",Q8="(?:\\nResources:(?<resources>(?:\\n- [^\\n]+)*))?",X8=`${$8}${H8}${K8}${V8}${G8}${q8}${Y8}${Z8}${Q8}`,J8=new RegExp(`^${z8}${F8}${W8}${X8}\\n*$`);function R2(t){var r;const e=J8.exec(t);if(!e)return null;const n=e.groups;return n?{domain:n.domain,address:n.address,statement:n.statement,uri:n.uri,version:n.version,nonce:n.nonce,chainId:n.chainId,issuedAt:n.issuedAt,expirationTime:n.expirationTime,notBefore:n.notBefore,requestId:n.requestId,resources:(r=n.resources)==null?void 0:r.split(`
- `).slice(1)}:null}function eB(t){const e=Uw(t);return new TextEncoder().encode(e)}function Uw(t){let e=`${t.domain} wants you to sign in with your Solana account:
`;e+=`${t.address}`,t.statement&&(e+=`

${t.statement}`);const n=[];if(t.uri&&n.push(`URI: ${t.uri}`),t.version&&n.push(`Version: ${t.version}`),t.chainId&&n.push(`Chain ID: ${t.chainId}`),t.nonce&&n.push(`Nonce: ${t.nonce}`),t.issuedAt&&n.push(`Issued At: ${t.issuedAt}`),t.expirationTime&&n.push(`Expiration Time: ${t.expirationTime}`),t.notBefore&&n.push(`Not Before: ${t.notBefore}`),t.requestId&&n.push(`Request ID: ${t.requestId}`),t.resources){n.push("Resources:");for(const r of t.resources)n.push(`- ${r}`)}return n.length&&(e+=`

${n.join(`
`)}`),e}const tB=Object.freeze(Object.defineProperty({__proto__:null,DEVNET_ENDPOINT:o2,LOCALNET_ENDPOINT:a2,MAINNET_ENDPOINT:Mf,TESTNET_ENDPOINT:s2,createSignInMessage:eB,createSignInMessageText:Uw,deriveSignInMessage:S2,deriveSignInMessageText:A2,getChainForEndpoint:l2,getCommitment:pd,getEndpointForChain:t8,parseSignInMessage:x2,parseSignInMessageText:R2,verifyMessageSignature:Dw,verifySignIn:j8,verifySignMessage:U8},Symbol.toStringTag,{value:"Module"})),nB=io(tB);Object.defineProperty(Ti,"__esModule",{value:!0});var rB=nB;const _r={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_REFLECTOR_ID_OUT_OF_RANGE:"ERROR_REFLECTOR_ID_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION",ERROR_BROWSER_NOT_SUPPORTED:"ERROR_BROWSER_NOT_SUPPORTED"};class Er extends Error{constructor(...e){const[n,r,i]=e;super(r),this.code=n,this.data=i,this.name="SolanaMobileWalletAdapterError"}}const iB={ERROR_AUTHORIZATION_FAILED:-1,ERROR_INVALID_PAYLOADS:-2,ERROR_NOT_SIGNED:-3,ERROR_NOT_SUBMITTED:-4,ERROR_TOO_MANY_PAYLOADS:-5,ERROR_ATTEST_ORIGIN_ANDROID:-100};class jh extends Error{constructor(...e){const[n,r,i,o]=e;super(i),this.code=r,this.data=o,this.jsonRpcMessageId=n,this.name="SolanaMobileWalletAdapterProtocolError"}}function Ze(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(g){s(g)}}function l(d){try{c(r.throw(d))}catch(g){s(g)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(t,[])).next())})}function oB(t){return window.btoa(t)}function Yg(t,e){const n=window.btoa(String.fromCharCode.call(null,...t));return e?n.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):n}function sB(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function md(t,e){return Ze(this,void 0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",t),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),i=new Uint8Array(n.byteLength+r.byteLength);return i.set(new Uint8Array(n),0),i.set(new Uint8Array(r),n.byteLength),i})}function aB(t){return rB.createSignInMessageText(t)}function lB(t){return oB(aB(t))}const I2="solana:signTransactions",Zg="solana:cloneAuthorization",cB="solana:signInWithSolana";function N2(t,e){return new Proxy({},{get(n,r){return r==="then"?null:(n[r]==null&&(n[r]=function(i){return Ze(this,void 0,void 0,function*(){const{method:o,params:s}=uB(r,i,t),a=yield e(o,s);return o==="authorize"&&s.sign_in_payload&&!a.sign_in_result&&(a.sign_in_result=yield fB(s.sign_in_payload,a,e)),dB(r,a,t)})}),n[r])},defineProperty(){return!1},deleteProperty(){return!1}})}function uB(t,e,n){let r=e,i=t.toString().replace(/[A-Z]/g,o=>`_${o.toLowerCase()}`).toLowerCase();switch(t){case"authorize":{let{chain:o}=r;if(n==="legacy"){switch(o){case"solana:testnet":{o="testnet";break}case"solana:devnet":{o="devnet";break}case"solana:mainnet":{o="mainnet-beta";break}default:o=r.cluster}r.cluster=o}else{switch(o){case"testnet":case"devnet":{o=`solana:${o}`;break}case"mainnet-beta":{o="solana:mainnet";break}}r.chain=o}}case"reauthorize":{const{auth_token:o,identity:s}=r;if(o)switch(n){case"legacy":{i="reauthorize",r={auth_token:o,identity:s};break}default:{i="authorize";break}}break}}return{method:i,params:r}}function dB(t,e,n){switch(t){case"getCapabilities":{const r=e;switch(n){case"legacy":{const i=[I2];return r.supports_clone_authorization===!0&&i.push(Zg),Object.assign(Object.assign({},r),{features:i})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(Zg)})}}}return e}function fB(t,e,n){var r;return Ze(this,void 0,void 0,function*(){const i=(r=t.domain)!==null&&r!==void 0?r:window.location.host,o=e.accounts[0].address,s=lB(Object.assign(Object.assign({},t),{domain:i,address:o})),a=yield n("sign_messages",{addresses:[o],payloads:[s]});return{address:o,signed_message:s,signature:a.signed_payloads[0].slice(s.length)}})}const Yi=4;function hB(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(Yi);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}const Qg=12,jw=65;function pB(t,e,n){return Ze(this,void 0,void 0,function*(){const r=hB(e),i=new Uint8Array(Qg);crypto.getRandomValues(i);const o=yield crypto.subtle.encrypt(k2(r,i),n,new TextEncoder().encode(t)),s=new Uint8Array(r.byteLength+i.byteLength+o.byteLength);return s.set(new Uint8Array(r),0),s.set(new Uint8Array(i),r.byteLength),s.set(new Uint8Array(o),r.byteLength+i.byteLength),s})}function T2(t,e){return Ze(this,void 0,void 0,function*(){const n=t.slice(0,Yi),r=t.slice(Yi,Yi+Qg),i=t.slice(Yi+Qg),o=yield crypto.subtle.decrypt(k2(n,r),e,i);return gB().decode(o)})}function k2(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let y0;function gB(){return y0===void 0&&(y0=new TextDecoder("utf-8")),y0}function C2(){return Ze(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function yd(){return Ze(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function M2(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let i=0;i<r;i++)e+=String.fromCharCode(n[i]);return window.btoa(e)}function mB(){return O2(49152+Math.floor(Math.random()*16384))}function O2(t){if(t<49152||t>65535)throw new Er(_r.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function L2(t){return t.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const yB="solana-wallet";function m_(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function B2(t,e){let n=null;if(e){try{n=new URL(e)}catch{}if((n==null?void 0:n.protocol)!=="https:")throw new Er(_r.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${yB}:/`));const r=t.startsWith("/")?t:[...m_(n.pathname),...m_(t)].join("/");return new URL(r,n)}function wB(t,e,n,r=["v1"]){return Ze(this,void 0,void 0,function*(){const i=O2(e),o=yield crypto.subtle.exportKey("raw",t),s=M2(o),a=B2("v1/associate/local",n);return a.searchParams.set("association",L2(s)),a.searchParams.set("port",`${i}`),r.forEach(l=>{a.searchParams.set("v",l)}),a})}function vB(t,e,n,r,i=["v1"]){return Ze(this,void 0,void 0,function*(){const o=yield crypto.subtle.exportKey("raw",t),s=M2(o),a=B2("v1/associate/remote",r);return a.searchParams.set("association",L2(s)),a.searchParams.set("reflector",`${e}`),a.searchParams.set("id",`${Yg(n,!0)}`),i.forEach(l=>{a.searchParams.set("v",l)}),a})}function P2(t,e){return Ze(this,void 0,void 0,function*(){const n=JSON.stringify(t),r=t.id;return pB(n,r,e)})}function D2(t,e){return Ze(this,void 0,void 0,function*(){const n=yield T2(t,e),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new jh(r.id,r.error.code,r.error.message);return r})}function U2(t,e,n){return Ze(this,void 0,void 0,function*(){const[r,i]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t.slice(0,jw),{name:"ECDH",namedCurve:"P-256"},!1,[])]),o=yield crypto.subtle.deriveBits({name:"ECDH",public:i},n,256),s=yield crypto.subtle.importKey("raw",o,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},s,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function j2(t,e){return Ze(this,void 0,void 0,function*(){const n=yield T2(t,e),r=JSON.parse(n);let i="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":i="v1";break;case"legacy":i="legacy";break;default:throw new Er(_r.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:i}})}const Bf={Firefox:0,Other:1};function _B(){return navigator.userAgent.indexOf("Firefox/")!==-1?Bf.Firefox:Bf.Other}function EB(){return new Promise((t,e)=>{function n(){clearTimeout(i),window.removeEventListener("blur",r)}function r(){n(),t()}window.addEventListener("blur",r);const i=setTimeout(()=>{n(),e()},3e3)})}let jl=null;function bB(t){jl==null&&(jl=document.createElement("iframe"),jl.style.display="none",document.body.appendChild(jl)),jl.contentWindow.location.href=t.toString()}function SB(t){return Ze(this,void 0,void 0,function*(){if(t.protocol==="https:")window.location.assign(t);else try{const e=_B();switch(e){case Bf.Firefox:bB(t);break;case Bf.Other:{const n=EB();window.location.assign(t),yield n;break}default:}}catch{throw new Er(_r.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function AB(t,e){return Ze(this,void 0,void 0,function*(){const n=mB(),r=yield wB(t,n,e);return yield SB(r),n})}const Pf={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},z2="com.solana.mobilewalletadapter.v1",y_="com.solana.mobilewalletadapter.v1.base64";function F2(){if(typeof window>"u"||window.isSecureContext!==!0)throw new Er(_r.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function W2(t){let e;try{e=new URL(t)}catch{throw new Er(_r.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new Er(_r.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function Df(t){return new DataView(t).getUint32(0,!1)}function xB(t){var e=new Uint8Array(t),n=t.byteLength,r=10,i=0,o=0,s;do{if(o>=n||o>r)throw new RangeError("Failed to decode varint");s=e[o++],i|=(s&127)<<7*o}while(s>=128);return{value:i,offset:o}}function RB(t){let{value:e,offset:n}=xB(t);return new Uint8Array(t.slice(n,n+e))}function IB(t,e){return Ze(this,void 0,void 0,function*(){F2();const n=yield C2(),i=`ws://localhost:${yield AB(n.publicKey,e==null?void 0:e.baseUri)}/solana-wallet`;let o;const s=(()=>{const d=[...Pf.retryDelayScheduleMs];return()=>d.length>1?d.shift():d[0]})();let a=1,l=0,c={__type:"disconnected"};return new Promise((d,g)=>{let p;const f={},m=()=>Ze(this,void 0,void 0,function*(){if(c.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${c.__type}\`.`);return}p.removeEventListener("open",m);const{associationKeypair:L}=c,z=yield yd();p.send(yield md(z.publicKey,L.privateKey)),c={__type:"hello_req_sent",associationPublicKey:L.publicKey,ecdhPrivateKey:z.privateKey}}),x=L=>{L.wasClean?c={__type:"disconnected"}:g(new Er(_r.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${L.code}: ${L.reason}).`,{closeEvent:L})),b()},R=L=>Ze(this,void 0,void 0,function*(){b(),Date.now()-o>=Pf.timeoutMs?g(new Er(_r.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${i}.`)):(yield new Promise(z=>{const B=s();_=window.setTimeout(z,B)}),I())}),y=L=>Ze(this,void 0,void 0,function*(){const z=yield L.data.arrayBuffer();switch(c.__type){case"connecting":if(z.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const B=yield yd();p.send(yield md(B.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:B.privateKey};break;case"connected":try{const F=z.slice(0,Yi),U=Df(F);if(U!==l+1)throw new Error("Encrypted message has invalid sequence number");l=U;const W=yield D2(z,c.sharedSecret),$=f[W.id];delete f[W.id],$.resolve(W.result)}catch(F){if(F instanceof jh){const U=f[F.jsonRpcMessageId];delete f[F.jsonRpcMessageId],U.reject(F)}else throw F}break;case"hello_req_sent":{if(z.byteLength===0){const H=yield yd();p.send(yield md(H.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:H.privateKey};break}const F=yield U2(z,c.associationPublicKey,c.ecdhPrivateKey),U=z.slice(jw),W=U.byteLength!==0?yield Ze(this,void 0,void 0,function*(){const H=U.slice(0,Yi),A=Df(H);if(A!==l+1)throw new Error("Encrypted message has invalid sequence number");return l=A,j2(U,F)}):{protocol_version:"legacy"};c={__type:"connected",sharedSecret:F,sessionProperties:W};const $=N2(W.protocol_version,(H,A)=>Ze(this,void 0,void 0,function*(){const u=a++;return p.send(yield P2({id:u,jsonrpc:"2.0",method:H,params:A??{}},F)),new Promise((h,S)=>{f[u]={resolve(N){switch(H){case"authorize":case"reauthorize":{const{wallet_uri_base:T}=N;if(T!=null)try{W2(T)}catch(O){S(O);return}break}}h(N)},reject:S}})}));try{d(yield t($))}catch(H){g(H)}finally{b(),p.close()}break}}});let b,_;const I=()=>{b&&b(),c={__type:"connecting",associationKeypair:n},o===void 0&&(o=Date.now()),p=new WebSocket(i,[z2]),p.addEventListener("open",m),p.addEventListener("close",x),p.addEventListener("error",R),p.addEventListener("message",y),b=()=>{window.clearTimeout(_),p.removeEventListener("open",m),p.removeEventListener("close",x),p.removeEventListener("error",R),p.removeEventListener("message",y)}};I()})})}function NB(t){return Ze(this,void 0,void 0,function*(){F2();const e=yield C2(),n=`wss://${t==null?void 0:t.remoteHostAuthority}/reflect`;let r;const i=(()=>{const x=[...Pf.retryDelayScheduleMs];return()=>x.length>1?x.shift():x[0]})();let o=1,s=0,a,l={__type:"disconnected"},c,d,g=x=>Ze(this,void 0,void 0,function*(){if(a=="base64"){const R=yield x.data;return sB(R).buffer}else return yield x.data.arrayBuffer()});const p=yield new Promise((x,R)=>{const y=()=>Ze(this,void 0,void 0,function*(){if(l.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${l.__type}\`.`);return}c.protocol.includes(y_)?a="base64":a="binary",c.removeEventListener("open",y)}),b=B=>{B.wasClean?l={__type:"disconnected"}:R(new Er(_r.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${B.code}: ${B.reason}).`,{closeEvent:B})),d()},_=B=>Ze(this,void 0,void 0,function*(){d(),Date.now()-r>=Pf.timeoutMs?R(new Er(_r.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${n}.`)):(yield new Promise(F=>{const U=i();L=window.setTimeout(F,U)}),z())}),I=B=>Ze(this,void 0,void 0,function*(){const F=yield g(B);if(l.__type==="connecting"){if(F.byteLength==0)throw new Error("Encountered unexpected message while connecting");const U=RB(F);l={__type:"reflector_id_received",reflectorId:U};const W=yield vB(e.publicKey,t.remoteHostAuthority,U,t==null?void 0:t.baseUri);c.removeEventListener("message",I),x(W)}});let L;const z=()=>{d&&d(),l={__type:"connecting",associationKeypair:e},r===void 0&&(r=Date.now()),c=new WebSocket(n,[z2,y_]),c.addEventListener("open",y),c.addEventListener("close",b),c.addEventListener("error",_),c.addEventListener("message",I),d=()=>{window.clearTimeout(L),c.removeEventListener("open",y),c.removeEventListener("close",b),c.removeEventListener("error",_),c.removeEventListener("message",I)}};z()});let f=!1,m;return{associationUrl:p,close:()=>{c.close(),m()},wallet:new Promise((x,R)=>{const y={},b=_=>Ze(this,void 0,void 0,function*(){const I=yield g(_);switch(l.__type){case"reflector_id_received":if(I.byteLength!==0)throw new Error("Encountered unexpected message while awaiting reflection");const L=yield yd(),z=yield md(L.publicKey,e.privateKey);a=="base64"?c.send(Yg(z)):c.send(z),l={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:L.privateKey};break;case"connected":try{const B=I.slice(0,Yi),F=Df(B);if(F!==s+1)throw new Error("Encrypted message has invalid sequence number");s=F;const U=yield D2(I,l.sharedSecret),W=y[U.id];delete y[U.id],W.resolve(U.result)}catch(B){if(B instanceof jh){const F=y[B.jsonRpcMessageId];delete y[B.jsonRpcMessageId],F.reject(B)}else throw B}break;case"hello_req_sent":{const B=yield U2(I,l.associationPublicKey,l.ecdhPrivateKey),F=I.slice(jw),U=F.byteLength!==0?yield Ze(this,void 0,void 0,function*(){const $=F.slice(0,Yi),H=Df($);if(H!==s+1)throw new Error("Encrypted message has invalid sequence number");return s=H,j2(F,B)}):{protocol_version:"legacy"};l={__type:"connected",sharedSecret:B,sessionProperties:U};const W=N2(U.protocol_version,($,H)=>Ze(this,void 0,void 0,function*(){const A=o++,u=yield P2({id:A,jsonrpc:"2.0",method:$,params:H??{}},B);return a=="base64"?c.send(Yg(u)):c.send(u),new Promise((h,S)=>{y[A]={resolve(N){switch($){case"authorize":case"reauthorize":{const{wallet_uri_base:T}=N;if(T!=null)try{W2(T)}catch(O){S(O);return}break}}h(N)},reject:S}})}));f=!0;try{x(W)}catch($){R($)}break}}});c.addEventListener("message",b),m=()=>{c.removeEventListener("message",b),d(),f||R(new Er(_r.ERROR_SESSION_CLOSED,"The wallet session was closed before connection.",{closeEvent:new CloseEvent("socket was closed before connection")}))}})}})}Ti.SolanaCloneAuthorization=Zg;Ti.SolanaMobileWalletAdapterError=Er;Ti.SolanaMobileWalletAdapterErrorCode=_r;Ti.SolanaMobileWalletAdapterProtocolError=jh;Ti.SolanaMobileWalletAdapterProtocolErrorCode=iB;Ti.SolanaSignInWithSolana=cB;Ti.SolanaSignTransactions=I2;var TB=Ti.startRemoteScenario=NB,kB=Ti.transact=IB;function CB(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function d(f){if(f instanceof Uint8Array||(ArrayBuffer.isView(f)?f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength):Array.isArray(f)&&(f=Uint8Array.from(f))),!(f instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(f.length===0)return"";for(var m=0,x=0,R=0,y=f.length;R!==y&&f[R]===0;)R++,m++;for(var b=(y-R)*c+1>>>0,_=new Uint8Array(b);R!==y;){for(var I=f[R],L=0,z=b-1;(I!==0||L<x)&&z!==-1;z--,L++)I+=256*_[z]>>>0,_[z]=I%s>>>0,I=I/s>>>0;if(I!==0)throw new Error("Non-zero carry");x=L,R++}for(var B=b-x;B!==b&&_[B]===0;)B++;for(var F=a.repeat(m);B<b;++B)F+=t.charAt(_[B]);return F}function g(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return new Uint8Array;for(var m=0,x=0,R=0;f[m]===a;)x++,m++;for(var y=(f.length-m)*l+1>>>0,b=new Uint8Array(y);f[m];){var _=f.charCodeAt(m);if(_>255)return;var I=e[_];if(I===255)return;for(var L=0,z=y-1;(I!==0||L<R)&&z!==-1;z--,L++)I+=s*b[z]>>>0,b[z]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");R=L,m++}for(var B=y-R;B!==y&&b[B]===0;)B++;for(var F=new Uint8Array(x+(y-B)),U=x;B!==y;)F[U++]=b[B++];return F}function p(f){var m=g(f);if(m)return m;throw new Error("Non-base"+s+" character")}return{encode:d,decodeUnsafe:g,decode:p}}var MB=CB;const OB=MB,LB="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var BB=OB(LB);const PB=ro(BB);function w0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function pc(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(g){s(g)}}function l(d){try{c(r.throw(d))}catch(g){s(g)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(t,[])).next())})}function $2(t){return window.btoa(String.fromCharCode.call(null,...t))}function v0(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function w_(t){const e="version"in t?t.serialize():t.serialize({requireAllSignatures:!1,verifySignatures:!1});return $2(e)}function DB(t){const n=t[0]*sl+1;return Sh.deserializeMessageVersion(t.slice(n,t.length))==="legacy"?Be.from(t):al.deserialize(t)}function UB(t,e){return pc(this,void 0,void 0,function*(){return yield kB(r=>t(H2(r)),e)})}function jB(t){return pc(this,void 0,void 0,function*(){const{wallet:e,close:n,associationUrl:r}=yield TB(t);return{wallet:e.then(o=>H2(o)),close:n,associationUrl:r}})}function H2(t){return new Proxy({},{get(e,n){if(e[n]==null)switch(n){case"signAndSendTransactions":e[n]=function(r){var{minContextSlot:i,commitment:o,skipPreflight:s,maxRetries:a,waitForCommitmentToSendNextTransaction:l,transactions:c}=r,d=w0(r,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return pc(this,void 0,void 0,function*(){const g=c.map(w_),p={min_context_slot:i,commitment:o,skip_preflight:s,max_retries:a,wait_for_commitment_to_send_next_transaction:l},{signatures:f}=yield t.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},d),Object.values(p).some(x=>x!=null)?{options:p}:null),{payloads:g}));return f.map(v0).map(PB.encode)})};break;case"signMessages":e[n]=function(r){var{payloads:i}=r,o=w0(r,["payloads"]);return pc(this,void 0,void 0,function*(){const s=i.map($2),{signed_payloads:a}=yield t.signMessages(Object.assign(Object.assign({},o),{payloads:s}));return a.map(v0)})};break;case"signTransactions":e[n]=function(r){var{transactions:i}=r,o=w0(r,["transactions"]);return pc(this,void 0,void 0,function*(){const s=i.map(w_),{signed_payloads:a}=yield t.signTransactions(Object.assign(Object.assign({},o),{payloads:s}));return a.map(v0).map(DB)})};break;default:{e[n]=t[n];break}}return e[n]},defineProperty(){return!1},deleteProperty(){return!1}})}const zB=Object.freeze(Object.defineProperty({__proto__:null,startRemoteScenario:jB,transact:UB},Symbol.toStringTag,{value:"Module"})),FB=io(zB);function WB(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function d(f){if(f instanceof Uint8Array||(ArrayBuffer.isView(f)?f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength):Array.isArray(f)&&(f=Uint8Array.from(f))),!(f instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(f.length===0)return"";for(var m=0,x=0,R=0,y=f.length;R!==y&&f[R]===0;)R++,m++;for(var b=(y-R)*c+1>>>0,_=new Uint8Array(b);R!==y;){for(var I=f[R],L=0,z=b-1;(I!==0||L<x)&&z!==-1;z--,L++)I+=256*_[z]>>>0,_[z]=I%s>>>0,I=I/s>>>0;if(I!==0)throw new Error("Non-zero carry");x=L,R++}for(var B=b-x;B!==b&&_[B]===0;)B++;for(var F=a.repeat(m);B<b;++B)F+=t.charAt(_[B]);return F}function g(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return new Uint8Array;for(var m=0,x=0,R=0;f[m]===a;)x++,m++;for(var y=(f.length-m)*l+1>>>0,b=new Uint8Array(y);f[m];){var _=f.charCodeAt(m);if(_>255)return;var I=e[_];if(I===255)return;for(var L=0,z=y-1;(I!==0||L<R)&&z!==-1;z--,L++)I+=s*b[z]>>>0,b[z]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");R=L,m++}for(var B=y-R;B!==y&&b[B]===0;)B++;for(var F=new Uint8Array(x+(y-B)),U=x;B!==y;)F[U++]=b[B++];return F}function p(f){var m=g(f);if(m)return m;throw new Error("Non-base"+s+" character")}return{encode:d,decodeUnsafe:g,decode:p}}var $B=WB;const HB=$B,KB="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var VB=HB(KB);Object.defineProperty(Ii,"__esModule",{value:!0});var yn=Wx,Hc=Rw,GB=au,Ka=e8,v_=nr,K2=FB,qB=VB;function V2(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var YB=V2(GB),Uf=V2(qB);function Re(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(g){s(g)}}function l(d){try{c(r.throw(d))}catch(g){s(g)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(t,[])).next())})}function V(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Le(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Vl,on,as,la,G2,q2,Y2,wd;const ZB=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,QB=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,XB=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class Z2{constructor(){Vl.add(this),on.set(this,null),as.set(this,{}),la.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),V(this,Vl,"m",q2).call(this),V(this,on,"f")&&(V(this,on,"f").style.display="flex")},this.close=(e=void 0)=>{var n;console.debug("Modal close"),V(this,Vl,"m",Y2).call(this),V(this,on,"f")&&(V(this,on,"f").style.display="none"),(n=V(this,as,"f").close)===null||n===void 0||n.forEach(r=>r(e))},wd.set(this,e=>{e.key==="Escape"&&this.close(e)}),this.init=this.init.bind(this),Le(this,on,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return Re(this,void 0,void 0,function*(){console.log("Injecting modal"),V(this,Vl,"m",G2).call(this)})}addEventListener(e,n){var r;return!((r=V(this,as,"f")[e])===null||r===void 0)&&r.push(n)||(V(this,as,"f")[e]=[n]),()=>this.removeEventListener(e,n)}removeEventListener(e,n){var r;V(this,as,"f")[e]=(r=V(this,as,"f")[e])===null||r===void 0?void 0:r.filter(i=>n!==i)}}on=new WeakMap,as=new WeakMap,la=new WeakMap,wd=new WeakMap,Vl=new WeakSet,G2=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){V(this,on,"f")||Le(this,on,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}Le(this,on,document.createElement("div")),V(this,on,"f").id="mobile-wallet-adapter-embedded-root-ui",V(this,on,"f").innerHTML=ZB,V(this,on,"f").style.display="none";const e=V(this,on,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);const n=document.createElement("style");n.id="mobile-wallet-adapter-embedded-modal-styles",n.textContent=QB+this.contentStyles;const r=document.createElement("div");r.innerHTML=XB,this.dom=r.attachShadow({mode:"closed"}),this.dom.appendChild(n),this.dom.appendChild(V(this,on,"f")),document.body.appendChild(r)},q2=function(){if(!V(this,on,"f")||V(this,la,"f"))return;[...V(this,on,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",V(this,wd,"f")),Le(this,la,!0)},Y2=function(){if(!V(this,la,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",V(this,wd,"f")),!V(this,on,"f")))return;[...V(this,on,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.removeEventListener("click",this.close)),Le(this,la,!1)};class JB extends Z2{constructor(){super(...arguments),this.contentStyles=t5,this.contentHtml=e5}initWithQR(e){const n=Object.create(null,{init:{get:()=>super.init}});return Re(this,void 0,void 0,function*(){n.init.call(this),this.populateQRCode(e)})}populateQRCode(e){var n;return Re(this,void 0,void 0,function*(){const r=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-embedded-modal-qr-code-container");if(r){const i=yield YB.default.toCanvas(e,{width:200,margin:0});r.firstElementChild!==null?r.replaceChild(i,r.firstElementChild):r.appendChild(i)}else console.error("QRCode Container not found")})}}const e5=`
<div class="mobile-wallet-adapter-embedded-modal-qr-content">
    <div>
        <svg class="mobile-wallet-adapter-embedded-modal-icon" width="100%" height="100%">
            <circle r="52" cx="53" cy="53" fill="#99b3be" stroke="#000000" stroke-width="2"/>
            <path d="m 53,82.7305 c -3.3116,0 -6.1361,-1.169 -8.4735,-3.507 -2.338,-2.338 -3.507,-5.1625 -3.507,-8.4735 0,-3.3116 1.169,-6.1364 3.507,-8.4744 2.3374,-2.338 5.1619,-3.507 8.4735,-3.507 3.3116,0 6.1361,1.169 8.4735,3.507 2.338,2.338 3.507,5.1628 3.507,8.4744 0,3.311 -1.169,6.1355 -3.507,8.4735 -2.3374,2.338 -5.1619,3.507 -8.4735,3.507 z m 0.007,-5.25 c 1.8532,0 3.437,-0.6598 4.7512,-1.9793 1.3149,-1.3195 1.9723,-2.9058 1.9723,-4.7591 0,-1.8526 -0.6598,-3.4364 -1.9793,-4.7512 -1.3195,-1.3149 -2.9055,-1.9723 -4.7582,-1.9723 -1.8533,0 -3.437,0.6598 -4.7513,1.9793 -1.3148,1.3195 -1.9722,2.9058 -1.9722,4.7591 0,1.8527 0.6597,3.4364 1.9792,4.7512 1.3195,1.3149 2.9056,1.9723 4.7583,1.9723 z m -28,-33.5729 -3.85,-3.6347 c 4.1195,-4.025 8.8792,-7.1984 14.2791,-9.52 5.4005,-2.3223 11.2551,-3.4834 17.5639,-3.4834 6.3087,0 12.1634,1.1611 17.5639,3.4834 5.3999,2.3216 10.1596,5.495 14.2791,9.52 l -3.85,3.6347 C 77.2999,40.358 73.0684,37.5726 68.2985,35.5514 63.5292,33.5301 58.4296,32.5195 53,32.5195 c -5.4297,0 -10.5292,1.0106 -15.2985,3.0319 -4.7699,2.0212 -9.0014,4.8066 -12.6945,8.3562 z m 44.625,10.8771 c -2.2709,-2.1046 -4.7962,-3.7167 -7.5758,-4.8361 -2.7795,-1.12 -5.7983,-1.68 -9.0562,-1.68 -3.2579,0 -6.2621,0.56 -9.0125,1.68 -2.7504,1.1194 -5.2903,2.7315 -7.6195,4.8361 L 32.5189,51.15 c 2.8355,-2.6028 5.9777,-4.6086 9.4263,-6.0174 3.4481,-1.4087 7.133,-2.1131 11.0548,-2.1131 3.9217,0 7.5979,0.7044 11.0285,2.1131 3.43,1.4088 6.5631,3.4146 9.3992,6.0174 z"/>
        </svg>
        <div class="mobile-wallet-adapter-embedded-modal-title">Remote Mobile Wallet Adapter</div>
    </div>
    <div>
        <div>
            <h4 class="mobile-wallet-adapter-embedded-modal-qr-label">
                Open your wallet and scan this code
            </h4>
        </div>
        <div id="mobile-wallet-adapter-embedded-modal-qr-code-container" class="mobile-wallet-adapter-embedded-modal-qr-code-container"></div>
    </div>
</div>
<div class="mobile-wallet-adapter-embedded-modal-divider"><hr></div>
<div class="mobile-wallet-adapter-embedded-modal-footer">
    <div class="mobile-wallet-adapter-embedded-modal-subtitle">
        Follow the instructions on your device. When you're finished, this screen will update.
    </div>
    <div class="mobile-wallet-adapter-embedded-modal-progress-badge">
        <div>
            <div class="spinner">
                <div class="leftWrapper">
                    <div class="left">
                        <div class="circle"></div>
                    </div>
                </div>
                <div class="rightWrapper">
                    <div class="right">
                        <div class="circle"></div>
                    </div>
                </div>
            </div>
        </div>
        <div>Waiting for scan</div>
    </div>
</div>
`,t5=`
.mobile-wallet-adapter-embedded-modal-qr-content {
    display: flex; 
    margin-top: 10px;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
    display: flex;
    flex-direction: column;
    flex: 2;
    margin-top: auto;
    margin-right: 30px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
    display: flex;
    flex-direction: column;
    flex: 1;
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-footer {
    display: flex;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-icon {}

.mobile-wallet-adapter-embedded-modal-title {
    color: #000000;
    font-size: 2.5em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-qr-label {
    text-align: right;
    color: #000000;
}

.mobile-wallet-adapter-embedded-modal-qr-code-container {
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-divider {
    margin-top: 20px;
    padding-left: 10px;
    padding-right: 10px;
}

.mobile-wallet-adapter-embedded-modal-divider hr {
    border-top: 1px solid #D9DEDE;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: auto;
    margin-right: 60px;
    padding: 20px;
    color: #6E8286;
}

.mobile-wallet-adapter-embedded-modal-progress-badge {
    display: flex;
    background: #F7F8F8;
    height: 56px;
    min-width: 200px;
    margin: auto;
    padding-left: 20px;
    padding-right: 20px;
    border-radius: 18px;
    color: #A8B6B8;
    align-items: center;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:first-child {
    margin-left: auto;
    margin-right: 20px;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:nth-child(2) {
    margin-right: auto;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-card {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
        margin: auto;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
        margin: auto;
        flex: 2 auto;
    }
    .mobile-wallet-adapter-embedded-modal-footer {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-icon {
        display: none;
    }
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: unset;
    }
    .mobile-wallet-adapter-embedded-modal-qr-label {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-code-container {
        margin: auto;
    }
}

/* Spinner */
@keyframes spinLeft {
    0% {
        transform: rotate(20deg);
    }
    50% {
        transform: rotate(160deg);
    }
    100% {
        transform: rotate(20deg);
    }
}
@keyframes spinRight {
    0% {
        transform: rotate(160deg);
    }
    50% {
        transform: rotate(20deg);
    }
    100% {
        transform: rotate(160deg);
    }
}
@keyframes spin {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(2520deg);
    }
}

.spinner {
    position: relative;
    width: 1.5em;
    height: 1.5em;
    margin: auto;
    animation: spin 10s linear infinite;
}
.spinner::before {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
}
.right, .rightWrapper, .left, .leftWrapper {
    position: absolute;
    top: 0;
    overflow: hidden;
    width: .75em;
    height: 1.5em;
}
.left, .leftWrapper {
    left: 0;
}
.right {
    left: -12px;
}
.rightWrapper {
    right: 0;
}
.circle {
    border: .125em solid #A8B6B8;
    width: 1.25em; /* 1.5em - 2*0.125em border */
    height: 1.25em; /* 1.5em - 2*0.125em border */
    border-radius: 0.75em; /* 0.5*1.5em spinner size 8 */
}
.left {
    transform-origin: 100% 50%;
    animation: spinLeft 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
.right {
    transform-origin: 100% 50%;
    animation: spinRight 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
`,Q2="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function X2(t){return"version"in t}function J2(t){return window.btoa(String.fromCharCode.call(null,...t))}function Oo(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}var ca,As,Xg,Jg,em,tm,Gl,jn,Bi,mo,ua,da,vd,ql,_d,nm,Ed,eR,rm,bd,fa,im,Yl,Sd,ha,Zl,Ad,om,sm,xd,am,lm,cm,Rd,pa,xs,um,dm,fm,hm,Ql,zn,yo,wo,ga,ma,Id,Xl,Nd,Td,$r,pm,kd,tR,gm,Cd,Jl,mm,ec,Md,ya,tc,Od,ym,wm,Ld,vm,_m,Em,Bd;const zw="Mobile Wallet Adapter",nR=64,rR=[yn.SolanaSignAndSendTransaction,yn.SolanaSignTransaction,yn.SolanaSignMessage,yn.SolanaSignIn];class iR{constructor(e){ca.add(this),As.set(this,{}),Xg.set(this,"1.0.0"),Jg.set(this,zw),em.set(this,"https://solanamobile.com/wallets"),tm.set(this,Q2),Gl.set(this,void 0),jn.set(this,void 0),Bi.set(this,void 0),mo.set(this,!1),ua.set(this,0),da.set(this,[]),vd.set(this,void 0),ql.set(this,void 0),_d.set(this,void 0),nm.set(this,(n,r)=>{var i;return!((i=V(this,As,"f")[n])===null||i===void 0)&&i.push(r)||(V(this,As,"f")[n]=[r]),()=>V(this,ca,"m",eR).call(this,n,r)}),rm.set(this,({silent:n}={})=>Re(this,void 0,void 0,function*(){if(V(this,mo,"f")||this.connected)return{accounts:this.accounts};Le(this,mo,!0);try{if(n){const r=yield V(this,Bi,"f").get();if(r)yield V(this,fa,"f").call(this,r);else return{accounts:this.accounts}}else yield V(this,bd,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{Le(this,mo,!1)}return{accounts:this.accounts}})),bd.set(this,n=>Re(this,void 0,void 0,function*(){try{const r=yield V(this,Bi,"f").get();if(r)return V(this,fa,"f").call(this,r),r;const i=yield V(this,vd,"f").select(V(this,da,"f"));return yield V(this,ha,"f").call(this,o=>Re(this,void 0,void 0,function*(){const[s,a]=yield Promise.all([o.getCapabilities(),o.authorize({chain:i,identity:V(this,Gl,"f"),sign_in_payload:n})]),l=V(this,Ad,"f").call(this,a.accounts),c=Object.assign(Object.assign({},a),{accounts:l,chain:i});return Promise.all([V(this,im,"f").call(this,s),V(this,Bi,"f").set(c),V(this,fa,"f").call(this,c)]),c}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),fa.set(this,n=>Re(this,void 0,void 0,function*(){var r;const i=V(this,jn,"f")==null||((r=V(this,jn,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||V(this,jn,"f").accounts.some((o,s)=>o.address!==n.accounts[s].address);Le(this,jn,n),i&&V(this,ca,"m",Ed).call(this,"change",{accounts:this.accounts})})),im.set(this,n=>Re(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),i=n.supports_sign_and_send_transactions,o=yn.SolanaSignAndSendTransaction in this.features!==i||yn.SolanaSignTransaction in this.features!==r;Le(this,ql,Object.assign(Object.assign({},(i||!i&&!r)&&{[yn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:V(this,xd,"f")}}),r&&{[yn.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:V(this,am,"f")}})),o&&V(this,ca,"m",Ed).call(this,"change",{features:this.features})})),Yl.set(this,(n,r,i)=>Re(this,void 0,void 0,function*(){try{const o=yield n.authorize({auth_token:r,identity:V(this,Gl,"f"),chain:i}),s=V(this,Ad,"f").call(this,o.accounts),a=Object.assign(Object.assign({},o),{accounts:s,chain:i});Promise.all([V(this,Bi,"f").set(a),V(this,fa,"f").call(this,a)])}catch(o){throw V(this,Sd,"f").call(this),new Error(o instanceof Error&&o.message||"Unknown error")}})),Sd.set(this,()=>Re(this,void 0,void 0,function*(){var n;V(this,Bi,"f").clear(),Le(this,mo,!1),Le(this,ua,(n=V(this,ua,"f"),n++,n)),Le(this,jn,void 0),V(this,ca,"m",Ed).call(this,"change",{accounts:this.accounts})})),ha.set(this,n=>Re(this,void 0,void 0,function*(){var r;const i=(r=V(this,jn,"f"))===null||r===void 0?void 0:r.wallet_uri_base,o=i?{baseUri:i}:void 0,s=V(this,ua,"f");try{return yield K2.transact(n,o)}catch(a){throw V(this,ua,"f")!==s&&(yield new Promise(()=>{})),a instanceof Error&&a.name==="SolanaMobileWalletAdapterError"&&a.code==="ERROR_WALLET_NOT_FOUND"&&(yield V(this,_d,"f").call(this,this)),a}})),Zl.set(this,()=>{if(!V(this,jn,"f"))throw new Error("Wallet not connected");return{authToken:V(this,jn,"f").auth_token,chain:V(this,jn,"f").chain}}),Ad.set(this,n=>n.map(r=>{var i,o;const s=Oo(r.address);return{address:Uf.default.encode(s),publicKey:s,label:r.label,icon:r.icon,chains:(i=r.chains)!==null&&i!==void 0?i:V(this,da,"f"),features:(o=r.features)!==null&&o!==void 0?o:rR}})),om.set(this,n=>Re(this,void 0,void 0,function*(){const{authToken:r,chain:i}=V(this,Zl,"f").call(this);try{return yield V(this,ha,"f").call(this,o=>Re(this,void 0,void 0,function*(){return yield V(this,Yl,"f").call(this,o,r,i),yield o.signTransactions({transactions:n})}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),sm.set(this,(n,r)=>Re(this,void 0,void 0,function*(){const{authToken:i,chain:o}=V(this,Zl,"f").call(this);try{return yield V(this,ha,"f").call(this,s=>Re(this,void 0,void 0,function*(){const[a,l]=yield Promise.all([s.getCapabilities(),V(this,Yl,"f").call(this,s,i,o)]);if(a.supports_sign_and_send_transactions)return(yield s.signAndSendTransactions(Object.assign(Object.assign({},r),{transactions:[n]})))[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}})),xd.set(this,(...n)=>Re(this,void 0,void 0,function*(){const r=[];for(const i of n){const o=Hc.VersionedTransaction.deserialize(i.transaction),s=yield V(this,sm,"f").call(this,o,i.options);r.push({signature:Uf.default.decode(s)})}return r})),am.set(this,(...n)=>Re(this,void 0,void 0,function*(){const r=n.map(({transaction:o})=>Hc.VersionedTransaction.deserialize(o));return(yield V(this,om,"f").call(this,r)).map(o=>({signedTransaction:X2(o)?o.serialize():new Uint8Array(o.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))})),lm.set(this,(...n)=>Re(this,void 0,void 0,function*(){const{authToken:r,chain:i}=V(this,Zl,"f").call(this),o=n.map(({account:a})=>J2(a.publicKey)),s=n.map(({message:a})=>a);try{return yield V(this,ha,"f").call(this,a=>Re(this,void 0,void 0,function*(){return yield V(this,Yl,"f").call(this,a,r,i),(yield a.signMessages({addresses:o,payloads:s})).map(c=>({signedMessage:c,signature:c.slice(-nR)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),cm.set(this,(...n)=>Re(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const i of n)r.push(yield V(this,Rd,"f").call(this,i));else return[yield V(this,Rd,"f").call(this,n[0])];return r})),Rd.set(this,n=>Re(this,void 0,void 0,function*(){var r,i;Le(this,mo,!0);try{const o=yield V(this,bd,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n==null?void 0:n.domain)!==null&&r!==void 0?r:window.location.host}));if(!o.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const s=o.sign_in_result.address;return{account:Object.assign(Object.assign({},(i=o.accounts.find(l=>l.address==s))!==null&&i!==void 0?i:{address:s}),{publicKey:Oo(s)}),signedMessage:Oo(o.sign_in_result.signed_message),signature:Oo(o.sign_in_result.signature)}}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}finally{Le(this,mo,!1)}})),Le(this,Bi,e.authorizationCache),Le(this,Gl,e.appIdentity),Le(this,da,e.chains),Le(this,vd,e.chainSelector),Le(this,_d,e.onWalletNotFound),Le(this,ql,{[yn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:V(this,xd,"f")}})}get version(){return V(this,Xg,"f")}get name(){return V(this,Jg,"f")}get url(){return V(this,em,"f")}get icon(){return V(this,tm,"f")}get chains(){return V(this,da,"f")}get features(){return Object.assign({[Ka.StandardConnect]:{version:"1.0.0",connect:V(this,rm,"f")},[Ka.StandardDisconnect]:{version:"1.0.0",disconnect:V(this,Sd,"f")},[Ka.StandardEvents]:{version:"1.0.0",on:V(this,nm,"f")},[yn.SolanaSignMessage]:{version:"1.0.0",signMessage:V(this,lm,"f")},[yn.SolanaSignIn]:{version:"1.0.0",signIn:V(this,cm,"f")}},V(this,ql,"f"))}get accounts(){var e,n;return(n=(e=V(this,jn,"f"))===null||e===void 0?void 0:e.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!V(this,jn,"f")}get isAuthorized(){return!!V(this,jn,"f")}get currentAuthorization(){return V(this,jn,"f")}get cachedAuthorizationResult(){return V(this,Bi,"f").get()}}As=new WeakMap,Xg=new WeakMap,Jg=new WeakMap,em=new WeakMap,tm=new WeakMap,Gl=new WeakMap,jn=new WeakMap,Bi=new WeakMap,mo=new WeakMap,ua=new WeakMap,da=new WeakMap,vd=new WeakMap,ql=new WeakMap,_d=new WeakMap,nm=new WeakMap,rm=new WeakMap,bd=new WeakMap,fa=new WeakMap,im=new WeakMap,Yl=new WeakMap,Sd=new WeakMap,ha=new WeakMap,Zl=new WeakMap,Ad=new WeakMap,om=new WeakMap,sm=new WeakMap,xd=new WeakMap,am=new WeakMap,lm=new WeakMap,cm=new WeakMap,Rd=new WeakMap,ca=new WeakSet,Ed=function(e,...n){var r;(r=V(this,As,"f")[e])===null||r===void 0||r.forEach(i=>i.apply(null,n))},eR=function(e,n){var r;V(this,As,"f")[e]=(r=V(this,As,"f")[e])===null||r===void 0?void 0:r.filter(i=>n!==i)};class oR{constructor(e){pa.add(this),xs.set(this,{}),um.set(this,"1.0.0"),dm.set(this,zw),fm.set(this,"https://solanamobile.com/wallets"),hm.set(this,Q2),Ql.set(this,void 0),zn.set(this,void 0),yo.set(this,void 0),wo.set(this,!1),ga.set(this,0),ma.set(this,[]),Id.set(this,void 0),Xl.set(this,void 0),Nd.set(this,void 0),Td.set(this,void 0),$r.set(this,void 0),pm.set(this,(n,r)=>{var i;return!((i=V(this,xs,"f")[n])===null||i===void 0)&&i.push(r)||(V(this,xs,"f")[n]=[r]),()=>V(this,pa,"m",tR).call(this,n,r)}),gm.set(this,({silent:n}={})=>Re(this,void 0,void 0,function*(){if(V(this,wo,"f")||this.connected)return{accounts:this.accounts};Le(this,wo,!0);try{yield V(this,Cd,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{Le(this,wo,!1)}return{accounts:this.accounts}})),Cd.set(this,n=>Re(this,void 0,void 0,function*(){try{const r=yield V(this,yo,"f").get();if(r)return V(this,Jl,"f").call(this,r),r;V(this,$r,"f")&&Le(this,$r,void 0,"f");const i=yield V(this,Id,"f").select(V(this,ma,"f"));return yield V(this,ya,"f").call(this,o=>Re(this,void 0,void 0,function*(){const[s,a]=yield Promise.all([o.getCapabilities(),o.authorize({chain:i,identity:V(this,Ql,"f"),sign_in_payload:n})]),l=V(this,Od,"f").call(this,a.accounts),c=Object.assign(Object.assign({},a),{accounts:l,chain:i});return Promise.all([V(this,mm,"f").call(this,s),V(this,yo,"f").set(c),V(this,Jl,"f").call(this,c)]),c}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),Jl.set(this,n=>Re(this,void 0,void 0,function*(){var r;const i=V(this,zn,"f")==null||((r=V(this,zn,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||V(this,zn,"f").accounts.some((o,s)=>o.address!==n.accounts[s].address);Le(this,zn,n),i&&V(this,pa,"m",kd).call(this,"change",{accounts:this.accounts})})),mm.set(this,n=>Re(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),i=n.supports_sign_and_send_transactions||n.features.includes("solana:signAndSendTransaction"),o=yn.SolanaSignAndSendTransaction in this.features!==i||yn.SolanaSignTransaction in this.features!==r;Le(this,Xl,Object.assign(Object.assign({},i&&{[yn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:n.supported_transaction_versions,signAndSendTransaction:V(this,Ld,"f")}}),r&&{[yn.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:n.supported_transaction_versions,signTransaction:V(this,vm,"f")}})),o&&V(this,pa,"m",kd).call(this,"change",{features:this.features})})),ec.set(this,(n,r,i)=>Re(this,void 0,void 0,function*(){try{const o=yield n.authorize({auth_token:r,identity:V(this,Ql,"f")}),s=V(this,Od,"f").call(this,o.accounts),a=Object.assign(Object.assign({},o),{accounts:s,chain:i});Promise.all([V(this,yo,"f").set(a),V(this,Jl,"f").call(this,a)])}catch(o){throw V(this,Md,"f").call(this),new Error(o instanceof Error&&o.message||"Unknown error")}})),Md.set(this,()=>Re(this,void 0,void 0,function*(){var n,r;(n=V(this,$r,"f"))===null||n===void 0||n.close(),V(this,yo,"f").clear(),Le(this,wo,!1),Le(this,ga,(r=V(this,ga,"f"),r++,r)),Le(this,zn,void 0),Le(this,$r,void 0),V(this,pa,"m",kd).call(this,"change",{accounts:this.accounts})})),ya.set(this,n=>Re(this,void 0,void 0,function*(){var r;const i=(r=V(this,zn,"f"))===null||r===void 0?void 0:r.wallet_uri_base,s=Object.assign(Object.assign({},i?{baseUri:i}:void 0),{remoteHostAuthority:V(this,Td,"f")}),a=V(this,ga,"f"),l=new JB;if(V(this,$r,"f"))return n(V(this,$r,"f").wallet);try{const{associationUrl:c,close:d,wallet:g}=yield K2.startRemoteScenario(s),p=l.addEventListener("close",f=>{f&&d()});return l.initWithQR(c.toString()),l.open(),Le(this,$r,{close:d,wallet:yield g},"f"),p(),l.close(),yield n(V(this,$r,"f").wallet)}catch(c){throw l.close(),V(this,ga,"f")!==a&&(yield new Promise(()=>{})),c instanceof Error&&c.name==="SolanaMobileWalletAdapterError"&&c.code==="ERROR_WALLET_NOT_FOUND"&&(yield V(this,Nd,"f").call(this,this)),c}})),tc.set(this,()=>{if(!V(this,zn,"f"))throw new Error("Wallet not connected");return{authToken:V(this,zn,"f").auth_token,chain:V(this,zn,"f").chain}}),Od.set(this,n=>n.map(r=>{var i,o;const s=Oo(r.address);return{address:Uf.default.encode(s),publicKey:s,label:r.label,icon:r.icon,chains:(i=r.chains)!==null&&i!==void 0?i:V(this,ma,"f"),features:(o=r.features)!==null&&o!==void 0?o:rR}})),ym.set(this,n=>Re(this,void 0,void 0,function*(){const{authToken:r,chain:i}=V(this,tc,"f").call(this);try{return yield V(this,ya,"f").call(this,o=>Re(this,void 0,void 0,function*(){return yield V(this,ec,"f").call(this,o,r,i),yield o.signTransactions({transactions:n})}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),wm.set(this,(n,r)=>Re(this,void 0,void 0,function*(){const{authToken:i,chain:o}=V(this,tc,"f").call(this);try{return yield V(this,ya,"f").call(this,s=>Re(this,void 0,void 0,function*(){const[a,l]=yield Promise.all([s.getCapabilities(),V(this,ec,"f").call(this,s,i,o)]);if(a.supports_sign_and_send_transactions)return(yield s.signAndSendTransactions(Object.assign(Object.assign({},r),{transactions:[n]})))[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}})),Ld.set(this,(...n)=>Re(this,void 0,void 0,function*(){const r=[];for(const i of n){const o=Hc.VersionedTransaction.deserialize(i.transaction),s=yield V(this,wm,"f").call(this,o,i.options);r.push({signature:Uf.default.decode(s)})}return r})),vm.set(this,(...n)=>Re(this,void 0,void 0,function*(){const r=n.map(({transaction:o})=>Hc.VersionedTransaction.deserialize(o));return(yield V(this,ym,"f").call(this,r)).map(o=>({signedTransaction:X2(o)?o.serialize():new Uint8Array(o.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))})),_m.set(this,(...n)=>Re(this,void 0,void 0,function*(){const{authToken:r,chain:i}=V(this,tc,"f").call(this),o=n.map(({account:a})=>J2(a.publicKey)),s=n.map(({message:a})=>a);try{return yield V(this,ya,"f").call(this,a=>Re(this,void 0,void 0,function*(){return yield V(this,ec,"f").call(this,a,r,i),(yield a.signMessages({addresses:o,payloads:s})).map(c=>({signedMessage:c,signature:c.slice(-nR)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),Em.set(this,(...n)=>Re(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const i of n)r.push(yield V(this,Bd,"f").call(this,i));else return[yield V(this,Bd,"f").call(this,n[0])];return r})),Bd.set(this,n=>Re(this,void 0,void 0,function*(){var r,i;Le(this,wo,!0);try{const o=yield V(this,Cd,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n==null?void 0:n.domain)!==null&&r!==void 0?r:window.location.host}));if(!o.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const s=o.sign_in_result.address;return{account:Object.assign(Object.assign({},(i=o.accounts.find(l=>l.address==s))!==null&&i!==void 0?i:{address:s}),{publicKey:Oo(s)}),signedMessage:Oo(o.sign_in_result.signed_message),signature:Oo(o.sign_in_result.signature)}}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}finally{Le(this,wo,!1)}})),Le(this,yo,e.authorizationCache),Le(this,Ql,e.appIdentity),Le(this,ma,e.chains),Le(this,Id,e.chainSelector),Le(this,Td,e.remoteHostAuthority),Le(this,Nd,e.onWalletNotFound),Le(this,Xl,{[yn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:V(this,Ld,"f")}})}get version(){return V(this,um,"f")}get name(){return V(this,dm,"f")}get url(){return V(this,fm,"f")}get icon(){return V(this,hm,"f")}get chains(){return V(this,ma,"f")}get features(){return Object.assign({[Ka.StandardConnect]:{version:"1.0.0",connect:V(this,gm,"f")},[Ka.StandardDisconnect]:{version:"1.0.0",disconnect:V(this,Md,"f")},[Ka.StandardEvents]:{version:"1.0.0",on:V(this,pm,"f")},[yn.SolanaSignMessage]:{version:"1.0.0",signMessage:V(this,_m,"f")},[yn.SolanaSignIn]:{version:"1.0.0",signIn:V(this,Em,"f")}},V(this,Xl,"f"))}get accounts(){var e,n;return(n=(e=V(this,zn,"f"))===null||e===void 0?void 0:e.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!V(this,$r,"f")&&!!V(this,zn,"f")}get isAuthorized(){return!!V(this,zn,"f")}get currentAuthorization(){return V(this,zn,"f")}get cachedAuthorizationResult(){return V(this,yo,"f").get()}}xs=new WeakMap,um=new WeakMap,dm=new WeakMap,fm=new WeakMap,hm=new WeakMap,Ql=new WeakMap,zn=new WeakMap,yo=new WeakMap,wo=new WeakMap,ga=new WeakMap,ma=new WeakMap,Id=new WeakMap,Xl=new WeakMap,Nd=new WeakMap,Td=new WeakMap,$r=new WeakMap,pm=new WeakMap,gm=new WeakMap,Cd=new WeakMap,Jl=new WeakMap,mm=new WeakMap,ec=new WeakMap,Md=new WeakMap,ya=new WeakMap,tc=new WeakMap,Od=new WeakMap,ym=new WeakMap,wm=new WeakMap,Ld=new WeakMap,vm=new WeakMap,_m=new WeakMap,Em=new WeakMap,Bd=new WeakMap,pa=new WeakSet,kd=function(e,...n){var r;(r=V(this,xs,"f")[e])===null||r===void 0||r.forEach(i=>i.apply(null,n))},tR=function(e,n){var r;V(this,xs,"f")[e]=(r=V(this,xs,"f")[e])===null||r===void 0?void 0:r.filter(i=>n!==i)};var n5=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},r5=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Pd;function __(t){const e=({register:n})=>n(t);try{window.dispatchEvent(new i5(e))}catch(n){console.error(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>e(n))}catch(n){console.error(`wallet-standard:app-ready event listener could not be added
`,n)}}let i5=class extends Event{constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),Pd.set(this,void 0),n5(this,Pd,e,"f")}get detail(){return r5(this,Pd,"f")}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}};Pd=new WeakMap;function o5(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}function s5(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function a5(t){o5()?__(new iR(t)):s5()&&t.remoteHostAuthority!==void 0&&__(new oR(Object.assign(Object.assign({},t),{remoteHostAuthority:t.remoteHostAuthority})))}const l5="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",c5="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class u5 extends Z2{constructor(){super(...arguments),this.contentStyles=f5,this.contentHtml=d5}initWithError(e){super.init(),this.populateError(e)}populateError(e){var n,r;const i=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-error-message"),o=(r=this.dom)===null||r===void 0?void 0:r.getElementById("mobile-wallet-adapter-error-action");if(i){if(e.name==="SolanaMobileWalletAdapterError")switch(e.code){case"ERROR_WALLET_NOT_FOUND":i.innerHTML=l5,o&&o.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":i.innerHTML=c5,o&&(o.style.display="none");return}i.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}}const d5=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,f5=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function sR(){return Re(this,void 0,void 0,function*(){if(typeof window<"u"){const t=window.navigator.userAgent.toLowerCase(),e=new u5;t.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}function h5(){return()=>Re(this,void 0,void 0,function*(){sR()})}const _0="SolanaMobileWalletAdapterDefaultAuthorizationCache";function p5(){let t;try{t=window.localStorage}catch{}return{clear(){return Re(this,void 0,void 0,function*(){if(t)try{t.removeItem(_0)}catch{}})},get(){return Re(this,void 0,void 0,function*(){if(t)try{const e=JSON.parse(t.getItem(_0));if(e&&e.accounts){const n=e.accounts.map(r=>Object.assign(Object.assign({},r),{publicKey:"publicKey"in r?new Uint8Array(Object.values(r.publicKey)):new Hc.PublicKey(r.address).toBytes()}));return Object.assign(Object.assign({},e),{accounts:n})}else return e||void 0}catch{}})},set(e){return Re(this,void 0,void 0,function*(){if(t)try{t.setItem(_0,JSON.stringify(e))}catch{}})}}}function g5(){return{select(t){return Re(this,void 0,void 0,function*(){return t.length===1?t[0]:t.includes(v_.SOLANA_MAINNET_CHAIN)?v_.SOLANA_MAINNET_CHAIN:t[0]})}}}Ii.LocalSolanaMobileWalletAdapterWallet=iR;Ii.RemoteSolanaMobileWalletAdapterWallet=oR;Ii.SolanaMobileWalletAdapterWalletName=zw;Ii.createDefaultAuthorizationCache=p5;Ii.createDefaultChainSelector=g5;Ii.createDefaultWalletNotFoundHandler=h5;Ii.defaultErrorModalWalletNotFoundHandler=sR;Ii.registerMwa=a5;Object.defineProperty(ts,"__esModule",{value:!0});var sn=fL,Dd=Rw,ps=Wx,ml=Ii;function nt(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(g){s(g)}}function l(d){try{c(r.throw(d))}catch(g){s(g)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((r=r.apply(t,[])).next())})}function Ee(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function hr(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}const bm="standard:connect",m5="standard:disconnect",y5="standard:events";function E0(t){return window.btoa(String.fromCharCode.call(null,...t))}function w5(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var fn,_t,Ro,$i,Ud,ji,ls,Sm,Am,aR,jf,jd,bo;const v5="Mobile Wallet Adapter",_5=64;function E5(t){return"version"in t}function Fw(t){switch(t){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return t}}class lR extends sn.BaseSignInMessageSignerWalletAdapter{constructor(e,n){super(),fn.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),_t.set(this,void 0),Ro.set(this,!1),$i.set(this,w5()?sn.WalletReadyState.Loadable:sn.WalletReadyState.Unsupported),Ud.set(this,void 0),ji.set(this,void 0),ls.set(this,void 0),Sm.set(this,r=>nt(this,void 0,void 0,function*(){if(r.accounts&&r.accounts.length>0){Ee(this,fn,"m",aR).call(this);const i=yield Ee(this,Ud,"f").call(this,r.accounts);i!==Ee(this,ji,"f")&&(hr(this,ji,i),hr(this,ls,void 0),this.emit("connect",this.publicKey))}})),hr(this,Ud,r=>nt(this,void 0,void 0,function*(){var i;const o=yield n.addressSelector.select(r.map(({publicKey:s})=>E0(s)));return(i=r.find(({publicKey:s})=>E0(s)===o))!==null&&i!==void 0?i:r[0]})),hr(this,_t,e),Ee(this,_t,"f").features[y5].on("change",Ee(this,Sm,"f")),this.name=Ee(this,_t,"f").name,this.icon=Ee(this,_t,"f").icon,this.url=Ee(this,_t,"f").url}get publicKey(){var e;if(!Ee(this,ls,"f")&&Ee(this,ji,"f"))try{hr(this,ls,new Dd.PublicKey(Ee(this,ji,"f").publicKey),"f")}catch(n){throw new sn.WalletPublicKeyError(n instanceof Error&&(n==null?void 0:n.message)||"Unknown error",n)}return(e=Ee(this,ls,"f"))!==null&&e!==void 0?e:null}get connected(){return Ee(this,_t,"f").connected}get connecting(){return Ee(this,Ro,"f")}get readyState(){return Ee(this,$i,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return nt(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return nt(this,void 0,void 0,function*(){Ee(this,fn,"m",Am).call(this,!0)})}connect(){return nt(this,void 0,void 0,function*(){Ee(this,fn,"m",Am).call(this)})}performAuthorization(e){return nt(this,void 0,void 0,function*(){try{const n=yield Ee(this,_t,"f").cachedAuthorizationResult;return n?(yield Ee(this,_t,"f").features[bm].connect({silent:!0}),n):(e?yield Ee(this,_t,"f").features[ps.SolanaSignIn].signIn(e):yield Ee(this,_t,"f").features[bm].connect(),yield yield Ee(this,_t,"f").cachedAuthorizationResult)}catch(n){throw new sn.WalletConnectionError(n instanceof Error&&n.message||"Unknown error",n)}})}disconnect(){return nt(this,void 0,void 0,function*(){return yield Ee(this,fn,"m",bo).call(this,()=>nt(this,void 0,void 0,function*(){hr(this,Ro,!1),hr(this,ls,void 0),hr(this,ji,void 0),yield Ee(this,_t,"f").features[m5].disconnect(),this.emit("disconnect")}))})}signIn(e){return nt(this,void 0,void 0,function*(){return Ee(this,fn,"m",bo).call(this,()=>nt(this,void 0,void 0,function*(){var n;if(Ee(this,$i,"f")!==sn.WalletReadyState.Installed&&Ee(this,$i,"f")!==sn.WalletReadyState.Loadable)throw new sn.WalletNotReadyError;hr(this,Ro,!0);try{const r=yield Ee(this,_t,"f").features[ps.SolanaSignIn].signIn(Object.assign(Object.assign({},e),{domain:(n=e==null?void 0:e.domain)!==null&&n!==void 0?n:window.location.host}));if(r.length>0)return r[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(r){throw new sn.WalletConnectionError(r instanceof Error&&r.message||"Unknown error",r)}finally{hr(this,Ro,!1)}}))})}signMessage(e){return nt(this,void 0,void 0,function*(){return yield Ee(this,fn,"m",bo).call(this,()=>nt(this,void 0,void 0,function*(){const n=Ee(this,fn,"m",jf).call(this);try{return(yield Ee(this,_t,"f").features[ps.SolanaSignMessage].signMessage({account:n,message:e}))[0].signature}catch(r){throw new sn.WalletSignMessageError(r==null?void 0:r.message,r)}}))})}sendTransaction(e,n,r){return nt(this,void 0,void 0,function*(){return yield Ee(this,fn,"m",bo).call(this,()=>nt(this,void 0,void 0,function*(){const i=Ee(this,fn,"m",jf).call(this);try{let o=function(){let s;switch(n.commitment){case"confirmed":case"finalized":case"processed":s=n.commitment;break;default:s="finalized"}let a;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":a=r.preflightCommitment;break;case void 0:a=s;break;default:a="finalized"}return(a==="finalized"?2:a==="confirmed"?1:0)<(s==="finalized"?2:s==="confirmed"?1:0)?a:s};if(ps.SolanaSignAndSendTransaction in Ee(this,_t,"f").features){const s=Fw(Ee(this,_t,"f").currentAuthorization.chain),[a]=(yield Ee(this,_t,"f").features[ps.SolanaSignAndSendTransaction].signAndSendTransaction({account:i,transaction:e.serialize(),chain:s,options:r?{skipPreflight:r.skipPreflight,maxRetries:r.maxRetries}:void 0})).map(l=>E0(l.signature));return a}else{const[s]=yield Ee(this,fn,"m",jd).call(this,[e]);if(E5(s))return yield n.sendTransaction(s);{const a=s.serialize();return yield n.sendRawTransaction(a,Object.assign(Object.assign({},r),{preflightCommitment:o()}))}}}catch(o){throw new sn.WalletSendTransactionError(o==null?void 0:o.message,o)}}))})}signTransaction(e){return nt(this,void 0,void 0,function*(){return yield Ee(this,fn,"m",bo).call(this,()=>nt(this,void 0,void 0,function*(){const[n]=yield Ee(this,fn,"m",jd).call(this,[e]);return n}))})}signAllTransactions(e){return nt(this,void 0,void 0,function*(){return yield Ee(this,fn,"m",bo).call(this,()=>nt(this,void 0,void 0,function*(){return yield Ee(this,fn,"m",jd).call(this,e)}))})}}_t=new WeakMap,Ro=new WeakMap,$i=new WeakMap,Ud=new WeakMap,ji=new WeakMap,ls=new WeakMap,Sm=new WeakMap,fn=new WeakSet,Am=function(e=!1){return nt(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield Ee(this,fn,"m",bo).call(this,()=>nt(this,void 0,void 0,function*(){if(Ee(this,$i,"f")!==sn.WalletReadyState.Installed&&Ee(this,$i,"f")!==sn.WalletReadyState.Loadable)throw new sn.WalletNotReadyError;hr(this,Ro,!0);try{yield Ee(this,_t,"f").features[bm].connect({silent:e})}catch(n){throw new sn.WalletConnectionError(n instanceof Error&&n.message||"Unknown error",n)}finally{hr(this,Ro,!1)}}))})},aR=function(){Ee(this,$i,"f")!==sn.WalletReadyState.Installed&&this.emit("readyStateChange",hr(this,$i,sn.WalletReadyState.Installed))},jf=function(){if(!Ee(this,_t,"f").isAuthorized||!Ee(this,ji,"f"))throw new sn.WalletNotConnectedError;return Ee(this,ji,"f")},jd=function(e){return nt(this,void 0,void 0,function*(){const n=Ee(this,fn,"m",jf).call(this);try{if(ps.SolanaSignTransaction in Ee(this,_t,"f").features)return Ee(this,_t,"f").features[ps.SolanaSignTransaction].signTransaction(...e.map(r=>({account:n,transaction:r.serialize()}))).then(r=>r.map(i=>{const o=i.signedTransaction,a=o[0]*_5+1;return Dd.VersionedMessage.deserializeMessageVersion(o.slice(a,o.length))==="legacy"?Dd.Transaction.from(o):Dd.VersionedTransaction.deserialize(o)}));throw new Error("Connected wallet does not support signing transactions")}catch(r){throw new sn.WalletSignTransactionError(r==null?void 0:r.message,r)}})},bo=function(e){return nt(this,void 0,void 0,function*(){try{return yield e()}catch(n){throw this.emit("error",n),n}})};class cR extends lR{constructor(e){var n;const r=Fw((n=e.chain)!==null&&n!==void 0?n:e.cluster);super(new ml.LocalSolanaMobileWalletAdapterWallet({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>nt(this,void 0,void 0,function*(){const i=yield e.authorizationResultCache.get();return i&&"chain"in i?i:i?Object.assign(Object.assign({},i),{chain:r}):void 0}),clear:e.authorizationResultCache.clear},chains:[r],chainSelector:ml.createDefaultChainSelector(),onWalletNotFound:()=>nt(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:r})}}class b5 extends lR{constructor(e){const n=Fw(e.chain);super(new ml.RemoteSolanaMobileWalletAdapterWallet({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>nt(this,void 0,void 0,function*(){const r=yield e.authorizationResultCache.get();return r&&"chain"in r?r:r?Object.assign(Object.assign({},r),{chain:n}):void 0}),clear:e.authorizationResultCache.clear},chains:[n],chainSelector:ml.createDefaultChainSelector(),remoteHostAuthority:e.remoteHostAuthority,onWalletNotFound:()=>nt(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:n})}}class S5 extends cR{}function A5(){return{select(t){return nt(this,void 0,void 0,function*(){return t[0]})}}}function x5(){return ml.createDefaultAuthorizationCache()}function R5(t){return nt(this,void 0,void 0,function*(){return ml.defaultErrorModalWalletNotFoundHandler()})}function I5(){return R5}ts.LocalSolanaMobileWalletAdapter=cR;ts.RemoteSolanaMobileWalletAdapter=b5;var N5=ts.SolanaMobileWalletAdapter=S5,zd=ts.SolanaMobileWalletAdapterWalletName=v5,T5=ts.createDefaultAddressSelector=A5,k5=ts.createDefaultAuthorizationResultCache=x5,C5=ts.createDefaultWalletNotFoundHandler=I5,M5=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},O5=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Fd;function L5(t){const e=({register:n})=>n(t);try{window.dispatchEvent(new B5(e))}catch(n){console.error(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>e(n))}catch(n){console.error(`wallet-standard:app-ready event listener could not be added
`,n)}}class B5 extends Event{get detail(){return M5(this,Fd,"f")}get type(){return"wallet-standard:register-wallet"}constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),Fd.set(this,void 0),O5(this,Fd,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Fd=new WeakMap;function P5(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function D5(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let c=0;c<e.length;c++)e[c]=255;for(let c=0;c<t.length;c++){const d=t.charAt(c),g=d.charCodeAt(0);if(e[g]!==255)throw new TypeError(d+" is ambiguous");e[g]=c}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),o=Math.log(256)/Math.log(n);function s(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";let d=0,g=0,p=0;const f=c.length;for(;p!==f&&c[p]===0;)p++,d++;const m=(f-p)*o+1>>>0,x=new Uint8Array(m);for(;p!==f;){let b=c[p],_=0;for(let I=m-1;(b!==0||_<g)&&I!==-1;I--,_++)b+=256*x[I]>>>0,x[I]=b%n>>>0,b=b/n>>>0;if(b!==0)throw new Error("Non-zero carry");g=_,p++}let R=m-g;for(;R!==m&&x[R]===0;)R++;let y=r.repeat(d);for(;R<m;++R)y+=t.charAt(x[R]);return y}function a(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;let d=0,g=0,p=0;for(;c[d]===r;)g++,d++;const f=(c.length-d)*i+1>>>0,m=new Uint8Array(f);for(;d<c.length;){const b=c.charCodeAt(d);if(b>255)return;let _=e[b];if(_===255)return;let I=0;for(let L=f-1;(_!==0||I<p)&&L!==-1;L--,I++)_+=n*m[L]>>>0,m[L]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");p=I,d++}let x=f-p;for(;x!==f&&m[x]===0;)x++;const R=new Uint8Array(g+(f-x));let y=g;for(;x!==f;)R[y++]=m[x++];return R}function l(c){const d=a(c);if(d)return d;throw new Error("Non-base"+n+" character")}return{encode:s,decodeUnsafe:a,decode:l}}var U5="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const j5=D5(U5);var ye=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},en=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Sn,Zn,Rs,Is,cs,nc,zf,Fe,Ff,xm,Wd,Rm,gc,Im,E_,b_,S_,A_;class z5 extends Aw{get name(){return ye(this,Fe,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return ye(this,Fe,"f").icon}get readyState(){return ye(this,Ff,"f")}get publicKey(){return ye(this,Rs,"f")}get connecting(){return ye(this,Is,"f")}get supportedTransactionVersions(){return ye(this,zf,"f")}get wallet(){return ye(this,Fe,"f")}get standard(){return!0}constructor({wallet:e}){super(),Sn.add(this),Zn.set(this,void 0),Rs.set(this,void 0),Is.set(this,void 0),cs.set(this,void 0),nc.set(this,void 0),zf.set(this,void 0),Fe.set(this,void 0),Ff.set(this,typeof window>"u"||typeof document>"u"?$e.Unsupported:$e.Installed),Im.set(this,n=>{if("accounts"in n){const r=ye(this,Fe,"f").accounts[0];ye(this,Zn,"f")&&!ye(this,cs,"f")&&r!==ye(this,Zn,"f")&&(r?ye(this,Sn,"m",Wd).call(this,r):(this.emit("error",new Th),ye(this,Sn,"m",Rm).call(this)))}"features"in n&&ye(this,Sn,"m",gc).call(this)}),en(this,Fe,e,"f"),en(this,Zn,null,"f"),en(this,Rs,null,"f"),en(this,Is,!1,"f"),en(this,cs,!1,"f"),en(this,nc,ye(this,Fe,"f").features[su].on("change",ye(this,Im,"f")),"f"),ye(this,Sn,"m",gc).call(this)}destroy(){en(this,Zn,null,"f"),en(this,Rs,null,"f"),en(this,Is,!1,"f"),en(this,cs,!1,"f");const e=ye(this,nc,"f");e&&(en(this,nc,null,"f"),e())}async autoConnect(){return ye(this,Sn,"m",xm).call(this,{silent:!0})}async connect(){return ye(this,Sn,"m",xm).call(this)}async disconnect(){if(Wc in ye(this,Fe,"f").features)try{en(this,cs,!0,"f"),await ye(this,Fe,"f").features[Wc].disconnect()}catch(e){this.emit("error",new kh(e==null?void 0:e.message,e))}finally{en(this,cs,!1,"f")}ye(this,Sn,"m",Rm).call(this)}async sendTransaction(e,n,r={}){try{const i=ye(this,Zn,"f");if(!i)throw new Pt;let o;if(gi in ye(this,Fe,"f").features)if(i.features.includes(gi))o=gi;else if(an in ye(this,Fe,"f").features&&i.features.includes(an))o=an;else throw new Co;else if(an in ye(this,Fe,"f").features){if(!i.features.includes(an))throw new Co;o=an}else throw new bs;const s=l2(n.rpcEndpoint);if(!i.chains.includes(s))throw new qi;try{const{signers:a,...l}=r;let c;if(mi(e)?(a!=null&&a.length&&e.sign(a),c=e.serialize()):(e=await this.prepareTransaction(e,n,l),a!=null&&a.length&&e.partialSign(...a),c=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),o===gi){const[d]=await ye(this,Fe,"f").features[gi].signAndSendTransaction({account:i,chain:s,transaction:c,options:{preflightCommitment:pd(l.preflightCommitment||n.commitment),skipPreflight:l.skipPreflight,maxRetries:l.maxRetries,minContextSlot:l.minContextSlot}});return j5.encode(d.signature)}else{const[d]=await ye(this,Fe,"f").features[an].signTransaction({account:i,chain:s,transaction:c,options:{preflightCommitment:pd(l.preflightCommitment||n.commitment),minContextSlot:l.minContextSlot}});return await n.sendRawTransaction(d.signedTransaction,{...l,preflightCommitment:pd(l.preflightCommitment||n.commitment)})}}catch(a){throw a instanceof Rt?a:new qi(a==null?void 0:a.message,a)}}catch(i){throw this.emit("error",i),i}}}Zn=new WeakMap,Rs=new WeakMap,Is=new WeakMap,cs=new WeakMap,nc=new WeakMap,zf=new WeakMap,Fe=new WeakMap,Ff=new WeakMap,Im=new WeakMap,Sn=new WeakSet,xm=async function(e){try{if(this.connected||this.connecting)return;if(ye(this,Ff,"f")!==$e.Installed)throw new ul;if(en(this,Is,!0,"f"),!ye(this,Fe,"f").accounts.length)try{await ye(this,Fe,"f").features[ou].connect(e)}catch(r){throw new Fc(r==null?void 0:r.message,r)}const n=ye(this,Fe,"f").accounts[0];if(!n)throw new Co;ye(this,Sn,"m",Wd).call(this,n)}catch(n){throw this.emit("error",n),n}finally{en(this,Is,!1,"f")}},Wd=function(e){let n;try{n=new X(e.address)}catch(r){throw new dl(r==null?void 0:r.message,r)}en(this,Zn,e,"f"),en(this,Rs,n,"f"),ye(this,Sn,"m",gc).call(this),this.emit("connect",n)},Rm=function(){en(this,Zn,null,"f"),en(this,Rs,null,"f"),ye(this,Sn,"m",gc).call(this),this.emit("disconnect")},gc=function(){var n,r;const e=gi in ye(this,Fe,"f").features?ye(this,Fe,"f").features[gi].supportedTransactionVersions:ye(this,Fe,"f").features[an].supportedTransactionVersions;en(this,zf,P5(e,["legacy"])?null:new Set(e),"f"),an in ye(this,Fe,"f").features&&((n=ye(this,Zn,"f"))!=null&&n.features.includes(an))?(this.signTransaction=ye(this,Sn,"m",E_),this.signAllTransactions=ye(this,Sn,"m",b_)):(delete this.signTransaction,delete this.signAllTransactions),hs in ye(this,Fe,"f").features&&((r=ye(this,Zn,"f"))!=null&&r.features.includes(hs))?this.signMessage=ye(this,Sn,"m",S_):delete this.signMessage,hd in ye(this,Fe,"f").features?this.signIn=ye(this,Sn,"m",A_):delete this.signIn},E_=async function(e){try{const n=ye(this,Zn,"f");if(!n)throw new Pt;if(!(an in ye(this,Fe,"f").features))throw new bs;if(!n.features.includes(an))throw new Co;try{const i=(await ye(this,Fe,"f").features[an].signTransaction({account:n,transaction:mi(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return mi(e)?al.deserialize(i):Be.from(i)}catch(r){throw r instanceof Rt?r:new Yr(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},b_=async function(e){try{const n=ye(this,Zn,"f");if(!n)throw new Pt;if(!(an in ye(this,Fe,"f").features))throw new bs;if(!n.features.includes(an))throw new Co;try{const r=await ye(this,Fe,"f").features[an].signTransaction(...e.map(i=>({account:n,transaction:mi(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((i,o)=>{const s=r[o].signedTransaction;return mi(i)?al.deserialize(s):Be.from(s)})}catch(r){throw new Yr(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},S_=async function(e){try{const n=ye(this,Zn,"f");if(!n)throw new Pt;if(!(hs in ye(this,Fe,"f").features))throw new bs;if(!n.features.includes(hs))throw new Co;try{return(await ye(this,Fe,"f").features[hs].signMessage({account:n,message:e}))[0].signature}catch(r){throw new Ch(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},A_=async function(e={}){try{if(!(hd in ye(this,Fe,"f").features))throw new bs;let n;try{[n]=await ye(this,Fe,"f").features[hd].signIn(e)}catch(r){throw new Fg(r==null?void 0:r.message,r)}if(!n)throw new Fg;return ye(this,Sn,"m",Wd).call(this,n.account),n}catch(n){throw this.emit("error",n),n}};const F5=zx;var W5=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},$5=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},$d;let gr;const zh=new Set;function H5(t){mc=void 0,zh.add(t)}function K5(t){mc=void 0,zh.delete(t)}const La={};function V5(){if(gr||(gr=Object.freeze({register:x_,get:G5,on:q5}),typeof window>"u"))return gr;const t=Object.freeze({register:x_});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new Y5(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return gr}function x_(...t){var e;return t=t.filter(n=>!zh.has(n)),t.length?(t.forEach(n=>H5(n)),(e=La.register)==null||e.forEach(n=>Nm(()=>n(...t))),function(){var r;t.forEach(i=>K5(i)),(r=La.unregister)==null||r.forEach(i=>Nm(()=>i(...t)))}):()=>{}}let mc;function G5(){return mc||(mc=[...zh]),mc}function q5(t,e){var n;return(n=La[t])!=null&&n.push(e)||(La[t]=[e]),function(){var i;La[t]=(i=La[t])==null?void 0:i.filter(o=>e!==o)}}function Nm(t){try{t()}catch(e){console.error(e)}}class Y5 extends Event{get detail(){return W5(this,$d,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),$d.set(this,void 0),$5(this,$d,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}$d=new WeakMap;function Z5(){if(gr||(gr=V5(),typeof window>"u"))return gr;const t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),gr;const{register:e}=gr,n=(...r)=>r.forEach(i=>Nm(()=>i({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch{return console.error("window.navigator.wallets could not be set"),gr}return n(...t),gr}function Q5(t){const e=R_(()=>new Set),{get:n,on:r}=R_(()=>Z5()),[i,o]=ee.useState(()=>I_(n()));ee.useEffect(()=>{const a=[r("register",(...l)=>o(c=>[...c,...I_(l)])),r("unregister",(...l)=>o(c=>c.filter(d=>l.some(g=>g===d.wallet))))];return()=>a.forEach(l=>l())},[r]);const s=X5(i);return ee.useEffect(()=>{if(!s)return;const a=new Set(i);new Set(s.filter(c=>!a.has(c))).forEach(c=>c.destroy())},[s,i]),ee.useEffect(()=>()=>i.forEach(a=>a.destroy()),[]),ee.useMemo(()=>[...i,...t.filter(({name:a})=>i.some(l=>l.name===a)?(e.has(a)||(e.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)],[i,t,e])}function R_(t){const e=ee.useRef(void 0);return e.current===void 0&&(e.current={value:t()}),e.current.value}function X5(t){const e=ee.useRef(void 0);return ee.useEffect(()=>{e.current=t}),e.current}function I_(t){return t.filter(F5).map(e=>new z5({wallet:e}))}var Va;(function(t){t[t.DESKTOP_WEB=0]="DESKTOP_WEB",t[t.MOBILE_WEB=1]="MOBILE_WEB"})(Va||(Va={}));function J5(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}function eP({adapters:t,userAgentString:e}){return t.some(n=>n.name!==zd&&n.readyState===$e.Installed)?Va.DESKTOP_WEB:e&&/android/i.test(e)&&!J5(e)?Va.MOBILE_WEB:Va.DESKTOP_WEB}function tP(t){return t?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta"}function nP({children:t,wallets:e,adapter:n,isUnloadingRef:r,onAutoConnectRequest:i,onConnectError:o,onError:s,onSelectWallet:a}){const l=ee.useRef(!1),[c,d]=ee.useState(!1),g=ee.useRef(!1),[p,f]=ee.useState(!1),[m,x]=ee.useState(()=>(n==null?void 0:n.publicKey)??null),[R,y]=ee.useState(()=>(n==null?void 0:n.connected)??!1),b=ee.useRef(s);ee.useEffect(()=>(b.current=s,()=>{b.current=void 0}),[s]);const _=ee.useRef((h,S)=>(r.current||(b.current?b.current(h,S):(console.error(h,S),h instanceof ul&&typeof window<"u"&&S&&window.open(S.url,"_blank"))),h)),[I,L]=ee.useState(()=>e.map(h=>({adapter:h,readyState:h.readyState})).filter(({readyState:h})=>h!==$e.Unsupported));ee.useEffect(()=>{L(S=>e.map((N,T)=>{const O=S[T];return O&&O.adapter===N&&O.readyState===N.readyState?O:{adapter:N,readyState:N.readyState}}).filter(({readyState:N})=>N!==$e.Unsupported));function h(S){L(N=>{const T=N.findIndex(({adapter:j})=>j===this);if(T===-1)return N;const{adapter:O}=N[T];return[...N.slice(0,T),{adapter:O,readyState:S},...N.slice(T+1)].filter(({readyState:j})=>j!==$e.Unsupported)})}return e.forEach(S=>S.on("readyStateChange",h,S)),()=>{e.forEach(S=>S.off("readyStateChange",h,S))}},[n,e]);const z=ee.useMemo(()=>I.find(h=>h.adapter===n)??null,[n,I]);ee.useEffect(()=>{if(!n)return;const h=T=>{x(T),l.current=!1,d(!1),y(!0),g.current=!1,f(!1)},S=()=>{r.current||(x(null),l.current=!1,d(!1),y(!1),g.current=!1,f(!1))},N=T=>{_.current(T,n)};return n.on("connect",h),n.on("disconnect",S),n.on("error",N),()=>{n.off("connect",h),n.off("disconnect",S),n.off("error",N),S()}},[n,r]);const B=ee.useRef(!1);ee.useEffect(()=>()=>{B.current=!1},[n]),ee.useEffect(()=>{B.current||l.current||R||!i||!((z==null?void 0:z.readyState)===$e.Installed||(z==null?void 0:z.readyState)===$e.Loadable)||(l.current=!0,d(!0),B.current=!0,async function(){try{await i()}catch{o()}finally{d(!1),l.current=!1}}())},[R,i,o,z]);const F=ee.useCallback(async(h,S,N)=>{if(!n)throw _.current(new t_);if(!R)throw _.current(new Pt,n);return await n.sendTransaction(h,S,N)},[n,R]),U=ee.useMemo(()=>n&&"signTransaction"in n?async h=>{if(!R)throw _.current(new Pt,n);return await n.signTransaction(h)}:void 0,[n,R]),W=ee.useMemo(()=>n&&"signAllTransactions"in n?async h=>{if(!R)throw _.current(new Pt,n);return await n.signAllTransactions(h)}:void 0,[n,R]),$=ee.useMemo(()=>n&&"signMessage"in n?async h=>{if(!R)throw _.current(new Pt,n);return await n.signMessage(h)}:void 0,[n,R]),H=ee.useMemo(()=>n&&"signIn"in n?async h=>await n.signIn(h):void 0,[n]),A=ee.useCallback(async()=>{if(l.current||g.current||z!=null&&z.adapter.connected)return;if(!z)throw _.current(new t_);const{adapter:h,readyState:S}=z;if(!(S===$e.Installed||S===$e.Loadable))throw _.current(new ul,h);l.current=!0,d(!0);try{await h.connect()}catch(N){throw o(),N}finally{d(!1),l.current=!1}},[o,z]),u=ee.useCallback(async()=>{if(!g.current&&n){g.current=!0,f(!0);try{await n.disconnect()}finally{f(!1),g.current=!1}}},[n]);return re.createElement(Fx.Provider,{value:{autoConnect:!!i,wallets:I,wallet:z,publicKey:m,connected:R,connecting:c,disconnecting:p,select:a,connect:A,disconnect:u,sendTransaction:F,signTransaction:U,signAllTransactions:W,signMessage:$,signIn:H}},t)}let b0;function rP(){var t;return b0===void 0&&(b0=((t=globalThis.navigator)==null?void 0:t.userAgent)??null),b0}function N_(t){const e=rP();return eP({adapters:t,userAgentString:e})===Va.MOBILE_WEB}function iP(){const t=globalThis.location;if(t)return`${t.protocol}//${t.host}`}function oP({children:t,wallets:e,autoConnect:n,localStorageKey:r="walletName",onError:i}){const{connection:o}=Dx(),s=Q5(e),a=ee.useMemo(()=>{if(!N_(s))return null;const b=s.find(_=>_.name===zd);return b||new N5({addressSelector:T5(),appIdentity:{uri:iP()},authorizationResultCache:k5(),cluster:tP(o==null?void 0:o.rpcEndpoint),onWalletNotFound:C5()})},[s,o==null?void 0:o.rpcEndpoint]),l=ee.useMemo(()=>a==null||s.indexOf(a)!==-1?s:[a,...s],[s,a]),[c,d]=dL(r,null),g=ee.useMemo(()=>l.find(b=>b.name===c)??null,[l,c]),p=ee.useCallback(b=>{c!==b&&(g&&g.name!==zd&&g.disconnect(),d(b))},[g,d,c]);ee.useEffect(()=>{if(!g)return;function b(){x.current||d(null)}return g.on("disconnect",b),()=>{g.off("disconnect",b)}},[g,s,d,c]);const f=ee.useRef(!1),m=ee.useMemo(()=>{if(!(!n||!g))return async()=>{(n===!0||await n(g))&&(f.current?await g.connect():await g.autoConnect())}},[n,g]),x=ee.useRef(!1);ee.useEffect(()=>{if(c===zd&&N_(s)){x.current=!1;return}function b(){x.current=!0}return window.addEventListener("beforeunload",b),()=>{window.removeEventListener("beforeunload",b)}},[s,c]);const R=ee.useCallback(()=>{g&&p(null)},[g,p]),y=ee.useCallback(b=>{f.current=!0,p(b)},[p]);return re.createElement(nP,{wallets:l,adapter:g,isUnloadingRef:x,onAutoConnectRequest:m,onConnectError:R,onError:i,onSelectWallet:y},t)}const uR={setVisible(t){console.error(dR("call","setVisible"))},visible:!1};Object.defineProperty(uR,"visible",{get(){return console.error(dR("read","visible")),!1}});function dR(t,e){return`You have tried to  ${t} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const fR=ee.createContext(uR);function hR(){return ee.useContext(fR)}function sP({onSelectWallet:t}){const{connect:e,connected:n,connecting:r,disconnect:i,disconnecting:o,publicKey:s,select:a,wallet:l,wallets:c}=Lh();let d;r?d="connecting":n?d="connected":o?d="disconnecting":l?d="has-wallet":d="no-wallet";const g=ee.useCallback(()=>{e().catch(()=>{})},[e]),p=ee.useCallback(()=>{i().catch(()=>{})},[i]),f=ee.useCallback(()=>{t({onSelectWallet:a,wallets:c})},[t,a,c]);return{buttonState:d,onConnect:d==="has-wallet"?g:void 0,onDisconnect:d!=="disconnecting"&&d!=="no-wallet"?p:void 0,onSelectWallet:f,publicKey:s??void 0,walletIcon:l==null?void 0:l.adapter.icon,walletName:l==null?void 0:l.adapter.name}}const pR=t=>re.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&re.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&re.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),gR=({wallet:t,...e})=>t&&re.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e});function aP({walletIcon:t,walletName:e,...n}){return re.createElement(pR,{...n,className:"wallet-adapter-button-trigger",startIcon:t&&e?re.createElement(gR,{wallet:{adapter:{icon:t,name:e}}}):void 0})}function lP({children:t,labels:e,...n}){const{setVisible:r}=hR(),{buttonState:i,onConnect:o,onDisconnect:s,publicKey:a,walletIcon:l,walletName:c}=sP({onSelectWallet(){r(!0)}}),[d,g]=ee.useState(!1),[p,f]=ee.useState(!1),m=ee.useRef(null);ee.useEffect(()=>{const R=y=>{const b=m.current;!b||b.contains(y.target)||f(!1)};return document.addEventListener("mousedown",R),document.addEventListener("touchstart",R),()=>{document.removeEventListener("mousedown",R),document.removeEventListener("touchstart",R)}},[]);const x=ee.useMemo(()=>{if(t)return t;if(a){const R=a.toBase58();return R.slice(0,4)+".."+R.slice(-4)}else return i==="connecting"||i==="has-wallet"?e[i]:e["no-wallet"]},[i,t,e,a]);return re.createElement("div",{className:"wallet-adapter-dropdown"},re.createElement(aP,{...n,"aria-expanded":p,style:{pointerEvents:p?"none":"auto",...n.style},onClick:()=>{switch(i){case"no-wallet":r(!0);break;case"has-wallet":o&&o();break;case"connected":f(!0);break}},walletIcon:l,walletName:c},x),re.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${p&&"wallet-adapter-dropdown-list-active"}`,ref:m,role:"menu"},a?re.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(a.toBase58()),g(!0),setTimeout(()=>g(!1),400)},role:"menuitem"},d?e.copied:e["copy-address"]):null,re.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{r(!0),f(!1)},role:"menuitem"},e["change-wallet"]),s?re.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{s(),f(!1)},role:"menuitem"},e.disconnect):null))}const T_=({id:t,children:e,expanded:n=!1})=>{const r=ee.useRef(null),i=ee.useRef(!0),o="height 250ms ease-out",s=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.scrollHeight+"px"})},a=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.offsetHeight+"px",l.style.overflow="hidden",requestAnimationFrame(()=>{l.style.height="0"})})};return ee.useLayoutEffect(()=>{n?s():a()},[n]),ee.useLayoutEffect(()=>{const l=r.current;if(!l)return;function c(){l&&(l.style.overflow=n?"initial":"hidden",n&&(l.style.height="auto"))}function d(g){l&&g.target===l&&g.propertyName==="height"&&c()}return i.current&&(c(),i.current=!1),l.addEventListener("transitionend",d),()=>l.removeEventListener("transitionend",d)},[n]),re.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:r,role:"region",style:{height:0,transition:i.current?void 0:o}},e)},S0=({handleClick:t,tabIndex:e,wallet:n})=>re.createElement("li",null,re.createElement(pR,{onClick:t,startIcon:re.createElement(gR,{wallet:n}),tabIndex:e},n.adapter.name,n.readyState===$e.Installed&&re.createElement("span",null,"Detected"))),cP=()=>re.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},re.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),re.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),re.createElement("g",{clipPath:"url(#clip0_880_5115)"},re.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),re.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),re.createElement("defs",null,re.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},re.createElement("stop",{stopColor:"#9945FF"}),re.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),re.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),re.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),re.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),re.createElement("stop",{offset:"1",stopColor:"#00D18C"})),re.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},re.createElement("stop",{stopColor:"#9945FF"}),re.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),re.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),re.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),re.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),re.createElement("stop",{offset:"1",stopColor:"#00D18C"})),re.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},re.createElement("stop",{stopColor:"#9945FF"}),re.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),re.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),re.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),re.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),re.createElement("stop",{offset:"1",stopColor:"#00D18C"})),re.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},re.createElement("stop",{stopColor:"#9945FF"}),re.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),re.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),re.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),re.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),re.createElement("stop",{offset:"1",stopColor:"#00D18C"})),re.createElement("clipPath",{id:"clip0_880_5115"},re.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),uP=({className:t="",container:e="body"})=>{const n=ee.useRef(null),{wallets:r,select:i}=Lh(),{setVisible:o}=hR(),[s,a]=ee.useState(!1),[l,c]=ee.useState(!1),[d,g]=ee.useState(null),[p,f]=ee.useMemo(()=>{const _=[],I=[];for(const L of r)L.readyState===$e.Installed?_.push(L):I.push(L);return _.length?[_,I]:[I,[]]},[r]),m=ee.useCallback(()=>{c(!1),setTimeout(()=>o(!1),150)},[o]),x=ee.useCallback(_=>{_.preventDefault(),m()},[m]),R=ee.useCallback((_,I)=>{i(I),x(_)},[i,x]),y=ee.useCallback(()=>a(!s),[s]),b=ee.useCallback(_=>{const I=n.current;if(!I)return;const L=I.querySelectorAll("button"),z=L[0],B=L[L.length-1];_.shiftKey?document.activeElement===z&&(B.focus(),_.preventDefault()):document.activeElement===B&&(z.focus(),_.preventDefault())},[n]);return ee.useLayoutEffect(()=>{const _=L=>{L.key==="Escape"?m():L.key==="Tab"&&b(L)},{overflow:I}=window.getComputedStyle(document.body);return setTimeout(()=>c(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",_,!1),()=>{document.body.style.overflow=I,window.removeEventListener("keydown",_,!1)}},[m,b]),ee.useLayoutEffect(()=>g(document.querySelector(e)),[e]),d&&FS.createPortal(re.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${l&&"wallet-adapter-modal-fade-in"} ${t}`,ref:n,role:"dialog"},re.createElement("div",{className:"wallet-adapter-modal-container"},re.createElement("div",{className:"wallet-adapter-modal-wrapper"},re.createElement("button",{onClick:x,className:"wallet-adapter-modal-button-close"},re.createElement("svg",{width:"14",height:"14"},re.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),p.length?re.createElement(re.Fragment,null,re.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),re.createElement("ul",{className:"wallet-adapter-modal-list"},p.map(_=>re.createElement(S0,{key:_.adapter.name,handleClick:I=>R(I,_.adapter.name),wallet:_})),f.length?re.createElement(T_,{expanded:s,id:"wallet-adapter-modal-collapse"},f.map(_=>re.createElement(S0,{key:_.adapter.name,handleClick:I=>R(I,_.adapter.name),tabIndex:s?0:-1,wallet:_}))):null),f.length?re.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:y,tabIndex:0},re.createElement("span",null,s?"Less ":"More ","options"),re.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${s?"wallet-adapter-modal-list-more-icon-rotate":""}`},re.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):re.createElement(re.Fragment,null,re.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),re.createElement("div",{className:"wallet-adapter-modal-middle"},re.createElement(cP,null)),f.length?re.createElement(re.Fragment,null,re.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:y,tabIndex:0},re.createElement("span",null,s?"Hide ":"Already have a wallet? View ","options"),re.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${s?"wallet-adapter-modal-list-more-icon-rotate":""}`},re.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),re.createElement(T_,{expanded:s,id:"wallet-adapter-modal-collapse"},re.createElement("ul",{className:"wallet-adapter-modal-list"},f.map(_=>re.createElement(S0,{key:_.adapter.name,handleClick:I=>R(I,_.adapter.name),tabIndex:s?0:-1,wallet:_}))))):null))),re.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:x})),d)},dP=({children:t,...e})=>{const[n,r]=ee.useState(!1);return re.createElement(fR.Provider,{value:{visible:n,setVisible:r}},t,n&&re.createElement(uP,{...e}))},fP={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function k_(t){return re.createElement(lP,{...t,labels:fP})}const hP="modulepreload",pP=function(t){return"/"+t},C_={},mR=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=pP(l),l in C_)return;C_[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const g=document.createElement("link");if(g.rel=c?"stylesheet":hP,c||(g.as="script"),g.crossOrigin="",g.href=l,a&&g.setAttribute("nonce",a),document.head.appendChild(g),c)return new Promise((p,f)=>{g.addEventListener("load",p),g.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})},gP="Phantom";class mP extends Mh{constructor(e={}){super(),this.name=gP,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?$e.Unsupported:$e.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),n.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new Th),this.emit("disconnect"))},this._accountChanged=n=>{const r=this._publicKey;if(r){try{n=new X(n.toBytes())}catch(i){this.emit("error",new dl(i==null?void 0:i.message,i));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==$e.Unsupported&&(Nf()?(this._readyState=$e.Loadable,this.emit("readyStateChange",this._readyState)):xw(()=>{var n,r,i;return(r=(n=window.phantom)==null?void 0:n.solana)!=null&&r.isPhantom||(i=window.solana)!=null&&i.isPhantom?(this._readyState=$e.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===$e.Installed&&await this.connect()}async connect(){var e;try{if(this.connected||this.connecting)return;if(this.readyState===$e.Loadable){const i=encodeURIComponent(window.location.href),o=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${i}?ref=${o}`;return}if(this.readyState!==$e.Installed)throw new ul;this._connecting=!0;const n=((e=window.phantom)==null?void 0:e.solana)||window.solana;if(!n.isConnected)try{await n.connect()}catch(i){throw new Fc(i==null?void 0:i.message,i)}if(!n.publicKey)throw new Co;let r;try{r=new X(n.publicKey.toBytes())}catch(i){throw new dl(i==null?void 0:i.message,i)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new kh(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const i=this._wallet;if(!i)throw new Pt;try{const{signers:o,...s}=r;mi(e)?o!=null&&o.length&&e.sign(o):(e=await this.prepareTransaction(e,n,s),o!=null&&o.length&&e.partialSign(...o)),s.preflightCommitment=s.preflightCommitment||n.commitment;const{signature:a}=await i.signAndSendTransaction(e,s);return a}catch(o){throw o instanceof Rt?o:new qi(o==null?void 0:o.message,o)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new Pt;try{return await n.signTransaction(e)||e}catch(r){throw new Yr(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new Pt;try{return await n.signAllTransactions(e)||e}catch(r){throw new Yr(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new Pt;try{const{signature:r}=await n.signMessage(e);return r}catch(r){throw new Ch(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const yP="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var Ye=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},wP=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Hd,Ns,Tm,km,Cm,Pn,Mm,yR,wR,Om,Lm,Bm,Pm,Dm;class vP{constructor(){Hd.add(this),Ns.set(this,{}),Tm.set(this,"1.0.0"),km.set(this,"MetaMask"),Cm.set(this,yP),Pn.set(this,null),Mm.set(this,(e,n)=>{var r;return(r=Ye(this,Ns,"f")[e])!=null&&r.push(n)||(Ye(this,Ns,"f")[e]=[n]),()=>Ye(this,Hd,"m",wR).call(this,e,n)}),Om.set(this,async()=>{if(!Ye(this,Pn,"f")){let e;try{e=(await mR(async()=>{const{default:n}=await import("./index-DjC0-JL9.js");return{default:n}},[])).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}wP(this,Pn,new e,"f"),Ye(this,Pn,"f").on("standard_change",n=>Ye(this,Hd,"m",yR).call(this,"change",n))}return this.accounts.length||await Ye(this,Pn,"f").connect(),{accounts:this.accounts}}),Lm.set(this,async()=>{Ye(this,Pn,"f")&&await Ye(this,Pn,"f").disconnect()}),Bm.set(this,async(...e)=>{if(!Ye(this,Pn,"f"))throw new Pt;return await Ye(this,Pn,"f").standardSignAndSendTransaction(...e)}),Pm.set(this,async(...e)=>{if(!Ye(this,Pn,"f"))throw new Pt;return await Ye(this,Pn,"f").standardSignTransaction(...e)}),Dm.set(this,async(...e)=>{if(!Ye(this,Pn,"f"))throw new Pt;return await Ye(this,Pn,"f").standardSignMessage(...e)})}get version(){return Ye(this,Tm,"f")}get name(){return Ye(this,km,"f")}get icon(){return Ye(this,Cm,"f")}get chains(){return[nr.SOLANA_MAINNET_CHAIN,nr.SOLANA_DEVNET_CHAIN,nr.SOLANA_TESTNET_CHAIN]}get features(){return{[ou]:{version:"1.0.0",connect:Ye(this,Om,"f")},[Wc]:{version:"1.0.0",disconnect:Ye(this,Lm,"f")},[su]:{version:"1.0.0",on:Ye(this,Mm,"f")},[gi]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Ye(this,Bm,"f")},[an]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:Ye(this,Pm,"f")},[hs]:{version:"1.0.0",signMessage:Ye(this,Dm,"f")}}}get accounts(){return Ye(this,Pn,"f")?Ye(this,Pn,"f").standardAccounts:[]}}Ns=new WeakMap,Tm=new WeakMap,km=new WeakMap,Cm=new WeakMap,Pn=new WeakMap,Mm=new WeakMap,Om=new WeakMap,Lm=new WeakMap,Bm=new WeakMap,Pm=new WeakMap,Dm=new WeakMap,Hd=new WeakSet,yR=function(e,...n){var r;(r=Ye(this,Ns,"f")[e])==null||r.forEach(i=>i.apply(null,n))},wR=function(e,n){var r;Ye(this,Ns,"f")[e]=(r=Ye(this,Ns,"f")[e])==null?void 0:r.filter(i=>n!==i)};let M_=!1;function _P(){M_||(L5(new vP),M_=!0)}async function EP(){const t="solflare-detect-metamask";function e(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:t,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function n(r){var o,s;const i=r.data;(i==null?void 0:i.target)==="metamask-inpage"&&((o=i.data)==null?void 0:o.name)==="metamask-provider"&&(((s=i.data.data)==null?void 0:s.id)===t?(window.removeEventListener("message",n),i.data.data.error||_P()):e())}window.addEventListener("message",n),window.setTimeout(()=>window.removeEventListener("message",n),5e3),e()}const bP="Solflare";class SP extends Mh{constructor(e={}){super(),this.name=bP,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJTIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiMwMjA1MGE7c3Ryb2tlOiNmZmVmNDY7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOi41cHg7fS5jbHMtMntmaWxsOiNmZmVmNDY7fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJjbHMtMiIgeD0iMCIgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiByeD0iMTIiIHJ5PSIxMiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTI0LjIzLDI2LjQybDIuNDYtMi4zOCw0LjU5LDEuNWMzLjAxLDEsNC41MSwyLjg0LDQuNTEsNS40MywwLDEuOTYtLjc1LDMuMjYtMi4yNSw0LjkzbC0uNDYuNS4xNy0xLjE3Yy42Ny00LjI2LS41OC02LjA5LTQuNzItNy40M2wtNC4zLTEuMzhoMFpNMTguMDUsMTEuODVsMTIuNTIsNC4xNy0yLjcxLDIuNTktNi41MS0yLjE3Yy0yLjI1LS43NS0zLjAxLTEuOTYtMy4zLTQuNTF2LS4wOGgwWk0xNy4zLDMzLjA2bDIuODQtMi43MSw1LjM0LDEuNzVjMi44LjkyLDMuNzYsMi4xMywzLjQ2LDUuMThsLTExLjY1LTQuMjJoMFpNMTMuNzEsMjAuOTVjMC0uNzkuNDItMS41NCwxLjEzLTIuMTcuNzUsMS4wOSwyLjA1LDIuMDUsNC4wOSwyLjcxbDQuNDIsMS40Ni0yLjQ2LDIuMzgtNC4zNC0xLjQyYy0yLS42Ny0yLjg0LTEuNjctMi44NC0yLjk2TTI2LjgyLDQyLjg3YzkuMTgtNi4wOSwxNC4xMS0xMC4yMywxNC4xMS0xNS4zMiwwLTMuMzgtMi01LjI2LTYuNDMtNi43MmwtMy4zNC0xLjEzLDkuMTQtOC43Ny0xLjg0LTEuOTYtMi43MSwyLjM4LTEyLjgxLTQuMjJjLTMuOTcsMS4yOS04Ljk3LDUuMDktOC45Nyw4Ljg5LDAsLjQyLjA0LjgzLjE3LDEuMjktMy4zLDEuODgtNC42MywzLjYzLTQuNjMsNS44LDAsMi4wNSwxLjA5LDQuMDksNC41NSw1LjIybDIuNzUuOTItOS41Miw5LjE0LDEuODQsMS45NiwyLjk2LTIuNzEsMTQuNzMsNS4yMmgwWiIvPjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?$e.Unsupported:$e.Loadable,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new Th),this.emit("disconnect"))},this._accountChanged=n=>{if(!n)return;const r=this._publicKey;if(r){try{n=new X(n.toBytes())}catch(i){this.emit("error",new dl(i==null?void 0:i.message,i));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==$e.Unsupported&&(xw(()=>{var n;return(n=window.solflare)!=null&&n.isSolflare||window.SolflareApp?(this._readyState=$e.Installed,this.emit("readyStateChange",this._readyState),!0):!1}),EP())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.connected)}get readyState(){return this._readyState}async autoConnect(){this.readyState===$e.Loadable&&Nf()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==$e.Loadable&&this._readyState!==$e.Installed)throw new ul;if(this.readyState===$e.Loadable&&Nf()){const i=encodeURIComponent(window.location.href),o=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${i}?ref=${o}`;return}let e;try{e=(await mR(async()=>{const{default:i}=await import("./index-CYkXnl3N.js");return{default:i}},[])).default}catch(i){throw new Ux(i==null?void 0:i.message,i)}let n;try{n=new e({network:this._config.network})}catch(i){throw new bs(i==null?void 0:i.message,i)}if(this._connecting=!0,!n.connected)try{await n.connect()}catch(i){throw new Fc(i==null?void 0:i.message,i)}if(!n.publicKey)throw new Fc;let r;try{r=new X(n.publicKey.toBytes())}catch(i){throw new dl(i==null?void 0:i.message,i)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new kh(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const i=this._wallet;if(!i)throw new Pt;try{const{signers:o,...s}=r;return mi(e)?o!=null&&o.length&&e.sign(o):(e=await this.prepareTransaction(e,n,s),o!=null&&o.length&&e.partialSign(...o)),s.preflightCommitment=s.preflightCommitment||n.commitment,await i.signAndSendTransaction(e,s)}catch(o){throw o instanceof Rt?o:new qi(o==null?void 0:o.message,o)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new Pt;try{return await n.signTransaction(e)||e}catch(r){throw new Yr(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new Pt;try{return await n.signAllTransactions(e)||e}catch(r){throw new Yr(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new Pt;try{return await n.signMessage(e,"utf8")}catch(r){throw new Ch(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const AP=({children:t})=>{const e=Tf.Devnet,n=ee.useMemo(()=>{const i=Bx(e);return console.log("Solana endpoint:",i),i},[e]),r=ee.useMemo(()=>{try{const i=[new mP,new SP],o=Array.from(new Map(i.map(s=>[s.name,s])).values());return console.log("Initialized wallet adapters:",o.map(s=>s.name)),o}catch(i){return console.error("Error initializing wallet adapters:",i),[]}},[]);return console.log("SolanaProvider rendering with:",{network:e,endpoint:n,walletCount:r.length}),M.jsx(Q6,{endpoint:n,children:M.jsx(oP,{wallets:r,autoConnect:!0,children:M.jsx(dP,{children:t})})})},xP=()=>{const{connected:t}=Lh();return M.jsx("div",{className:"flex items-center space-x-4",children:t?M.jsxs("div",{className:"flex items-center space-x-2",children:[M.jsx("span",{className:"text-sm text-gray-600",children:"Wallet Connected"}),M.jsx(k_,{className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg"})]}):M.jsx(k_,{className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg"})})};var Vu=Zy.Buffer;function RP(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function d(f){if((Array.isArray(f)||f instanceof Uint8Array)&&(f=Vu.from(f)),!Vu.isBuffer(f))throw new TypeError("Expected Buffer");if(f.length===0)return"";for(var m=0,x=0,R=0,y=f.length;R!==y&&f[R]===0;)R++,m++;for(var b=(y-R)*c+1>>>0,_=new Uint8Array(b);R!==y;){for(var I=f[R],L=0,z=b-1;(I!==0||L<x)&&z!==-1;z--,L++)I+=256*_[z]>>>0,_[z]=I%s>>>0,I=I/s>>>0;if(I!==0)throw new Error("Non-zero carry");x=L,R++}for(var B=b-x;B!==b&&_[B]===0;)B++;for(var F=a.repeat(m);B<b;++B)F+=t.charAt(_[B]);return F}function g(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return Vu.alloc(0);for(var m=0,x=0,R=0;f[m]===a;)x++,m++;for(var y=(f.length-m)*l+1>>>0,b=new Uint8Array(y);m<f.length;){var _=f.charCodeAt(m);if(_>255)return;var I=e[_];if(I===255)return;for(var L=0,z=y-1;(I!==0||L<R)&&z!==-1;z--,L++)I+=s*b[z]>>>0,b[z]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");R=L,m++}for(var B=y-R;B!==y&&b[B]===0;)B++;var F=Vu.allocUnsafe(x+(y-B));F.fill(0,0,x);for(var U=x;B!==y;)F[U++]=b[B++];return F}function p(f){var m=g(f);if(m)return m;throw new Error("Non-base"+s+" character")}return{encode:d,decodeUnsafe:g,decode:p}}var IP=RP,NP=IP,TP="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",kP=NP(TP);const Ww=ro(kP);var $w={exports:{}};const CP=/[\p{Lu}]/u,MP=/[\p{Ll}]/u,O_=/^[\p{Lu}](?![\p{Lu}])/gu,vR=/([\p{Alpha}\p{N}_]|$)/u,_R=/[_.\- ]+/,OP=new RegExp("^"+_R.source),L_=new RegExp(_R.source+vR.source,"gu"),B_=new RegExp("\\d+"+vR.source,"gu"),LP=(t,e,n)=>{let r=!1,i=!1,o=!1;for(let s=0;s<t.length;s++){const a=t[s];r&&CP.test(a)?(t=t.slice(0,s)+"-"+t.slice(s),r=!1,o=i,i=!0,s++):i&&o&&MP.test(a)?(t=t.slice(0,s-1)+"-"+t.slice(s-1),o=i,i=!1,r=!0):(r=e(a)===a&&n(a)!==a,o=i,i=n(a)===a&&e(a)!==a)}return t},BP=(t,e)=>(O_.lastIndex=0,t.replace(O_,n=>e(n))),PP=(t,e)=>(L_.lastIndex=0,B_.lastIndex=0,t.replace(L_,(n,r)=>e(r)).replace(B_,n=>e(n))),ER=(t,e)=>{if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(t)?t=t.map(o=>o.trim()).filter(o=>o.length).join("-"):t=t.trim(),t.length===0)return"";const n=e.locale===!1?o=>o.toLowerCase():o=>o.toLocaleLowerCase(e.locale),r=e.locale===!1?o=>o.toUpperCase():o=>o.toLocaleUpperCase(e.locale);return t.length===1?e.pascalCase?r(t):n(t):(t!==n(t)&&(t=LP(t,n,r)),t=t.replace(OP,""),e.preserveConsecutiveUppercase?t=BP(t,n):t=n(t),e.pascalCase&&(t=r(t.charAt(0))+t.slice(1)),PP(t,r))};$w.exports=ER;$w.exports.default=ER;var DP=$w.exports;const UP=ro(DP);var ke={},pe={};let Je=class{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}decode(e,n){throw new Error("Layout is abstract")}encode(e,n,r){throw new Error("Layout is abstract")}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}};pe.Layout=Je;function Hw(t,e){return e.property?t+"["+e.property+"]":t}pe.nameWithProperty=Hw;function jP(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Je))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value:function(n,r){return e.decode(n,r)},writable:!0})}pe.bindConstructorLayout=jP;let rr=class extends Je{isCount(){throw new Error("ExternalLayout is abstract")}};class bR extends rr{constructor(e,n){if(e===void 0&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n){n===void 0&&(n=0);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}let Kw=class extends rr{constructor(e,n,r){if(!(e instanceof Je))throw new TypeError("layout must be a Layout");if(n===void 0)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof ki||this.layout instanceof so}decode(e,n){return n===void 0&&(n=0),this.layout.decode(e,n+this.offset)}encode(e,n,r){return r===void 0&&(r=0),this.layout.encode(e,n,r+this.offset)}},ki=class extends Je{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntLE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntLE(e,r,this.span),this.span}},so=class extends Je{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntBE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntBE(e,r,this.span),this.span}};class Zs extends Je{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readIntLE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeIntLE(e,r,this.span),this.span}}class Il extends Je{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readIntBE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeIntBE(e,r,this.span),this.span}}const Um=Math.pow(2,32);function Fh(t){const e=Math.floor(t/Um),n=t-e*Um;return{hi32:e,lo32:n}}function Wh(t,e){return t*Um+e}let zP=class extends Je{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),i=e.readUInt32LE(n+4);return Wh(i,r)}encode(e,n,r){r===void 0&&(r=0);const i=Fh(e);return n.writeUInt32LE(i.lo32,r),n.writeUInt32LE(i.hi32,r+4),8}};class FP extends Je{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32BE(n),i=e.readUInt32BE(n+4);return Wh(r,i)}encode(e,n,r){r===void 0&&(r=0);const i=Fh(e);return n.writeUInt32BE(i.hi32,r),n.writeUInt32BE(i.lo32,r+4),8}}let WP=class extends Je{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),i=e.readInt32LE(n+4);return Wh(i,r)}encode(e,n,r){r===void 0&&(r=0);const i=Fh(e);return n.writeUInt32LE(i.lo32,r),n.writeInt32LE(i.hi32,r+4),8}};class $P extends Je{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readInt32BE(n),i=e.readUInt32BE(n+4);return Wh(r,i)}encode(e,n,r){r===void 0&&(r=0);const i=Fh(e);return n.writeInt32BE(i.hi32,r),n.writeUInt32BE(i.lo32,r+4),8}}class SR extends Je{constructor(e){super(4,e)}decode(e,n){return n===void 0&&(n=0),e.readFloatLE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeFloatLE(e,r),4}}class AR extends Je{constructor(e){super(4,e)}decode(e,n){return n===void 0&&(n=0),e.readFloatBE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeFloatBE(e,r),4}}class xR extends Je{constructor(e){super(8,e)}decode(e,n){return n===void 0&&(n=0),e.readDoubleLE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeDoubleLE(e,r),8}}class RR extends Je{constructor(e){super(8,e)}decode(e,n){return n===void 0&&(n=0),e.readDoubleBE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeDoubleBE(e,r),8}}class IR extends Je{constructor(e,n,r){if(!(e instanceof Je))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof rr&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof rr)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0,i=this.count;if(i instanceof rr&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let o=0;for(;o<i;)r+=this.elementLayout.getSpan(e,n+r),++o}return r}decode(e,n){n===void 0&&(n=0);const r=[];let i=0,o=this.count;for(o instanceof rr&&(o=o.decode(e,n));i<o;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r){r===void 0&&(r=0);const i=this.elementLayout,o=e.reduce((s,a)=>s+i.encode(a,n,r+s),0);return this.count instanceof rr&&this.count.encode(e.length,n,r),o}}let NR=class extends Je{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof Je,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;try{r=this.fields.reduce((i,o)=>{const s=o.getSpan(e,n);return n+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n){n===void 0&&(n=0);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r){r===void 0&&(r=0);const i=r;let o=0,s=0;for(const a of this.fields){let l=a.span;if(s=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(s=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}o=r,r+=l}return o+s-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}},Vw=class{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}},Wf=class extends Vw{constructor(e,n){if(!(e instanceof rr&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}},Gw=class extends Je{constructor(e,n,r){const i=e instanceof ki||e instanceof so;if(i)e=new Wf(new Kw(e));else if(e instanceof rr&&e.isCount())e=new Wf(e);else if(!(e instanceof Vw))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Je))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let o=-1;n&&(o=n.span,0<=o&&i&&(o+=e.layout.span)),super(o,r),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=n,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||e.hasOwnProperty(n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,n){n===void 0&&(n=0);let r;const i=this.discriminator,o=i.decode(e,n);let s=this.registry[o];if(s===void 0){let a=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),r=this.makeDestinationObject(),r[i.property]=o,r[s.property]=this.defaultLayout.decode(e,n+a)}else r=s.decode(e,n);return r}encode(e,n,r){r===void 0&&(r=0);const i=this.getSourceVariant(e);if(i===void 0){const o=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],n,r),a+s.encode(e[s.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new TR(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n){let r=e;return Buffer.isBuffer(e)&&(n===void 0&&(n=0),r=this.discriminator.decode(e,n)),this.registry[r]}},TR=class extends Je{constructor(e,n,r,i){if(!(e instanceof Gw))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof Je))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,n+r)}decode(e,n){const r=this.makeDestinationObject();if(n===void 0&&(n=0),this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r){r===void 0&&(r=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let o=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),o+=this.layout.getSpan(n,r+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};function wa(t){return 0>t&&(t+=4294967296),t}class qw extends Je{constructor(e,n,r){if(!(e instanceof ki||e instanceof so))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(o){return i=wa(o),this},this._packedGetValue=function(){return i}}decode(e,n){const r=this.makeDestinationObject();n===void 0&&(n=0);const i=this.word.decode(e,n);this._packedSetValue(i);for(const o of this.fields)o.property!==void 0&&(r[o.property]=o.decode(i));return r}encode(e,n,r){r===void 0&&(r=0);const i=this.word.decode(n,r);this._packedSetValue(i);for(const o of this.fields)if(o.property!==void 0){const s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new yc(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new kR(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}class yc{constructor(e,n,r){if(!(e instanceof qw))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,o=e.fields.reduce((s,a)=>s+a.bits,0);if(n+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-n),this.wordMask=wa(this.valueMask<<this.start),this.property=r}decode(){const e=this.container._packedGetValue();return wa(e&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==wa(e&this.valueMask))throw new TypeError(Hw("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=wa(e<<this.start);this.container._packedSetValue(wa(n&~this.wordMask)|r)}}let kR=class extends yc{constructor(e,n){super(e,1,n)}decode(e,n){return!!yc.prototype.decode.call(this,e,n)}encode(e){return typeof e=="boolean"&&(e=+e),yc.prototype.encode.call(this,e)}},CR=class extends Je{constructor(e,n){if(!(e instanceof rr&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof rr||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n){n===void 0&&(n=0);let r=this.span;return 0>r&&(r=this.length.decode(e,n)),e.slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof rr&&(i=e.length),!(Buffer.isBuffer(e)&&i===e.length))throw new TypeError(Hw("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return n.write(e.toString("hex"),r,i,"hex"),this.length instanceof rr&&this.length.encode(i,n,r),i}};class MR extends Je{constructor(e){super(-1,e)}getSpan(e,n){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");n===void 0&&(n=0);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n,r){n===void 0&&(n=0);let i=this.getSpan(e,n);return e.slice(n,n+i-1).toString("utf-8")}encode(e,n,r){r===void 0&&(r=0),typeof e!="string"&&(e=e.toString());const i=new Buffer(e,"utf8"),o=i.length;if(r+o>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(n,r),n[r+o]=0,o+1}}class OR extends Je{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return n===void 0&&(n=0),e.length-n}decode(e,n,r){n===void 0&&(n=0);let i=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");return e.slice(n,n+i).toString("utf-8")}encode(e,n,r){r===void 0&&(r=0),typeof e!="string"&&(e=e.toString());const i=new Buffer(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(n,r),o}}class LR extends Je{constructor(e,n){super(0,n),this.value=e}decode(e,n,r){return this.value}encode(e,n,r){return 0}}pe.ExternalLayout=rr;pe.GreedyCount=bR;pe.OffsetLayout=Kw;pe.UInt=ki;pe.UIntBE=so;pe.Int=Zs;pe.IntBE=Il;pe.Float=SR;pe.FloatBE=AR;pe.Double=xR;pe.DoubleBE=RR;pe.Sequence=IR;pe.Structure=NR;pe.UnionDiscriminator=Vw;pe.UnionLayoutDiscriminator=Wf;pe.Union=Gw;pe.VariantLayout=TR;pe.BitStructure=qw;pe.BitField=yc;pe.Boolean=kR;pe.Blob=CR;pe.CString=MR;pe.UTF8=OR;pe.Constant=LR;pe.greedy=(t,e)=>new bR(t,e);pe.offset=(t,e,n)=>new Kw(t,e,n);pe.u8=t=>new ki(1,t);pe.u16=t=>new ki(2,t);pe.u24=t=>new ki(3,t);pe.u32=t=>new ki(4,t);pe.u40=t=>new ki(5,t);pe.u48=t=>new ki(6,t);pe.nu64=t=>new zP(t);pe.u16be=t=>new so(2,t);pe.u24be=t=>new so(3,t);pe.u32be=t=>new so(4,t);pe.u40be=t=>new so(5,t);pe.u48be=t=>new so(6,t);pe.nu64be=t=>new FP(t);pe.s8=t=>new Zs(1,t);pe.s16=t=>new Zs(2,t);pe.s24=t=>new Zs(3,t);pe.s32=t=>new Zs(4,t);pe.s40=t=>new Zs(5,t);pe.s48=t=>new Zs(6,t);pe.ns64=t=>new WP(t);pe.s16be=t=>new Il(2,t);pe.s24be=t=>new Il(3,t);pe.s32be=t=>new Il(4,t);pe.s40be=t=>new Il(5,t);pe.s48be=t=>new Il(6,t);pe.ns64be=t=>new $P(t);pe.f32=t=>new SR(t);pe.f32be=t=>new AR(t);pe.f64=t=>new xR(t);pe.f64be=t=>new RR(t);pe.struct=(t,e,n)=>new NR(t,e,n);pe.bits=(t,e,n)=>new qw(t,e,n);pe.seq=(t,e,n)=>new IR(t,e,n);pe.union=(t,e,n)=>new Gw(t,e,n);pe.unionLayoutDiscriminator=(t,e)=>new Wf(t,e);pe.blob=(t,e)=>new CR(t,e);pe.cstr=t=>new MR(t);pe.utf8=(t,e)=>new OR(t,e);pe.const=(t,e)=>new LR(t,e);(function(t){var e=br&&br.__importDefault||function(H){return H&&H.__esModule?H:{default:H}};Object.defineProperty(t,"__esModule",{value:!0}),t.struct=t.f64=t.f32=t.i32=t.u32=t.i16=t.u16=t.i8=t.u8=void 0,t.u64=a,t.i64=l,t.u128=c,t.i128=d,t.u256=g,t.i256=p,t.publicKey=m,t.option=R,t.bool=y,t.vec=I,t.tagged=L,t.vecU8=z,t.str=B,t.rustEnum=F,t.array=U,t.map=$;const n=pe,r=Rw,i=e(Yy);var o=pe;Object.defineProperty(t,"u8",{enumerable:!0,get:function(){return o.u8}}),Object.defineProperty(t,"i8",{enumerable:!0,get:function(){return o.s8}}),Object.defineProperty(t,"u16",{enumerable:!0,get:function(){return o.u16}}),Object.defineProperty(t,"i16",{enumerable:!0,get:function(){return o.s16}}),Object.defineProperty(t,"u32",{enumerable:!0,get:function(){return o.u32}}),Object.defineProperty(t,"i32",{enumerable:!0,get:function(){return o.s32}}),Object.defineProperty(t,"f32",{enumerable:!0,get:function(){return o.f32}}),Object.defineProperty(t,"f64",{enumerable:!0,get:function(){return o.f64}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return o.struct}});class s extends n.Layout{constructor(A,u,h){super(A,h),this.blob=(0,n.blob)(A),this.signed=u}decode(A,u=0){const h=new i.default(this.blob.decode(A,u),10,"le");return this.signed?h.fromTwos(this.span*8).clone():h}encode(A,u,h=0){return this.signed&&(A=A.toTwos(this.span*8)),this.blob.encode(A.toArrayLike(Buffer,"le",this.span),u,h)}}function a(H){return new s(8,!1,H)}function l(H){return new s(8,!0,H)}function c(H){return new s(16,!1,H)}function d(H){return new s(16,!0,H)}function g(H){return new s(32,!1,H)}function p(H){return new s(32,!0,H)}class f extends n.Layout{constructor(A,u,h,S){super(A.span,S),this.layout=A,this.decoder=u,this.encoder=h}decode(A,u){return this.decoder(this.layout.decode(A,u))}encode(A,u,h){return this.layout.encode(this.encoder(A),u,h)}getSpan(A,u){return this.layout.getSpan(A,u)}}function m(H){return new f((0,n.blob)(32),A=>new r.PublicKey(A),A=>A.toBuffer(),H)}class x extends n.Layout{constructor(A,u){super(-1,u),this.layout=A,this.discriminator=(0,n.u8)()}encode(A,u,h=0){return A==null?this.discriminator.encode(0,u,h):(this.discriminator.encode(1,u,h),this.layout.encode(A,u,h+1)+1)}decode(A,u=0){const h=this.discriminator.decode(A,u);if(h===0)return null;if(h===1)return this.layout.decode(A,u+1);throw new Error("Invalid option "+this.property)}getSpan(A,u=0){const h=this.discriminator.decode(A,u);if(h===0)return 1;if(h===1)return this.layout.getSpan(A,u+1)+1;throw new Error("Invalid option "+this.property)}}function R(H,A){return new x(H,A)}function y(H){return new f((0,n.u8)(),b,_,H)}function b(H){if(H===0)return!1;if(H===1)return!0;throw new Error("Invalid bool: "+H)}function _(H){return H?1:0}function I(H,A){const u=(0,n.u32)("length"),h=(0,n.struct)([u,(0,n.seq)(H,(0,n.offset)(u,-u.span),"values")]);return new f(h,({values:S})=>S,S=>({values:S}),A)}function L(H,A,u){const h=(0,n.struct)([a("tag"),A.replicate("data")]);function S({tag:N,data:T}){if(!N.eq(H))throw new Error("Invalid tag, expected: "+H.toString("hex")+", got: "+N.toString("hex"));return T}return new f(h,S,N=>({tag:H,data:N}),u)}function z(H){const A=(0,n.u32)("length"),u=(0,n.struct)([A,(0,n.blob)((0,n.offset)(A,-A.span),"data")]);return new f(u,({data:h})=>h,h=>({data:h}),H)}function B(H){return new f(z(),A=>A.toString("utf-8"),A=>Buffer.from(A,"utf-8"),H)}function F(H,A,u){const h=(0,n.union)(u??(0,n.u8)(),A);return H.forEach((S,N)=>h.addVariant(N,S,S.property)),h}function U(H,A,u){const h=(0,n.struct)([(0,n.seq)(H,A,"values")]);return new f(h,({values:S})=>S,S=>({values:S}),u)}class W extends n.Layout{constructor(A,u,h){super(A.span+u.span,h),this.keyLayout=A,this.valueLayout=u}decode(A,u){u=u||0;const h=this.keyLayout.decode(A,u),S=this.valueLayout.decode(A,u+this.keyLayout.getSpan(A,u));return[h,S]}encode(A,u,h){h=h||0;const S=this.keyLayout.encode(A[0],u,h),N=this.valueLayout.encode(A[1],u,h+S);return S+N}getSpan(A,u){return this.keyLayout.getSpan(A,u)+this.valueLayout.getSpan(A,u)}}function $(H,A,u){const h=(0,n.u32)("length"),S=(0,n.struct)([h,(0,n.seq)(new W(H,A),(0,n.offset)(h,-h.span),"values")]);return new f(S,({values:N})=>new Map(N),N=>({values:Array.from(N.entries())}),u)}})(ke);function Nl(t){let e=t.length;for(;--e>=0;)t[e]=0}const HP=3,KP=258,BR=29,VP=256,GP=VP+1+BR,PR=30,qP=512,YP=new Array((GP+2)*2);Nl(YP);const ZP=new Array(PR*2);Nl(ZP);const QP=new Array(qP);Nl(QP);const XP=new Array(KP-HP+1);Nl(XP);const JP=new Array(BR);Nl(JP);const eD=new Array(PR);Nl(eD);const tD=(t,e,n,r)=>{let i=t&65535|0,o=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0};var jm=tD;const nD=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},rD=new Uint32Array(nD()),iD=(t,e,n,r)=>{const i=rD,o=r+n;t^=-1;for(let s=r;s<o;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var ai=iD,zm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},DR={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const oD=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var sD=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)oD(n,r)&&(t[r]=n[r])}}return t},aD=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,o=t.length;r<o;r++){let s=t[r];n.set(s,i),i+=s.length}return n},UR={assign:sD,flattenChunks:aD};let jR=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{jR=!1}const Kc=new Uint8Array(256);for(let t=0;t<256;t++)Kc[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Kc[254]=Kc[254]=1;var lD=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e};const cD=(t,e)=>{if(e<65534&&t.subarray&&jR)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var uD=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const o=new Array(n*2);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){o[i++]=s;continue}let a=Kc[s];if(a>4){o[i++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|t[r++]&63,a--;if(a>1){o[i++]=65533;continue}s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|s&1023)}return cD(o,i)},dD=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Kc[t[n]]>e?n:e},Fm={string2buf:lD,buf2string:uD,utf8border:dD};function fD(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var hD=fD;const Gu=16209,pD=16191;var gD=function(e,n){let r,i,o,s,a,l,c,d,g,p,f,m,x,R,y,b,_,I,L,z,B,F,U,W;const $=e.state;r=e.next_in,U=e.input,i=r+(e.avail_in-5),o=e.next_out,W=e.output,s=o-(n-e.avail_out),a=o+(e.avail_out-257),l=$.dmax,c=$.wsize,d=$.whave,g=$.wnext,p=$.window,f=$.hold,m=$.bits,x=$.lencode,R=$.distcode,y=(1<<$.lenbits)-1,b=(1<<$.distbits)-1;e:do{m<15&&(f+=U[r++]<<m,m+=8,f+=U[r++]<<m,m+=8),_=x[f&y];t:for(;;){if(I=_>>>24,f>>>=I,m-=I,I=_>>>16&255,I===0)W[o++]=_&65535;else if(I&16){L=_&65535,I&=15,I&&(m<I&&(f+=U[r++]<<m,m+=8),L+=f&(1<<I)-1,f>>>=I,m-=I),m<15&&(f+=U[r++]<<m,m+=8,f+=U[r++]<<m,m+=8),_=R[f&b];n:for(;;){if(I=_>>>24,f>>>=I,m-=I,I=_>>>16&255,I&16){if(z=_&65535,I&=15,m<I&&(f+=U[r++]<<m,m+=8,m<I&&(f+=U[r++]<<m,m+=8)),z+=f&(1<<I)-1,z>l){e.msg="invalid distance too far back",$.mode=Gu;break e}if(f>>>=I,m-=I,I=o-s,z>I){if(I=z-I,I>d&&$.sane){e.msg="invalid distance too far back",$.mode=Gu;break e}if(B=0,F=p,g===0){if(B+=c-I,I<L){L-=I;do W[o++]=p[B++];while(--I);B=o-z,F=W}}else if(g<I){if(B+=c+g-I,I-=g,I<L){L-=I;do W[o++]=p[B++];while(--I);if(B=0,g<L){I=g,L-=I;do W[o++]=p[B++];while(--I);B=o-z,F=W}}}else if(B+=g-I,I<L){L-=I;do W[o++]=p[B++];while(--I);B=o-z,F=W}for(;L>2;)W[o++]=F[B++],W[o++]=F[B++],W[o++]=F[B++],L-=3;L&&(W[o++]=F[B++],L>1&&(W[o++]=F[B++]))}else{B=o-z;do W[o++]=W[B++],W[o++]=W[B++],W[o++]=W[B++],L-=3;while(L>2);L&&(W[o++]=W[B++],L>1&&(W[o++]=W[B++]))}}else if(I&64){e.msg="invalid distance code",$.mode=Gu;break e}else{_=R[(_&65535)+(f&(1<<I)-1)];continue n}break}}else if(I&64)if(I&32){$.mode=pD;break e}else{e.msg="invalid literal/length code",$.mode=Gu;break e}else{_=x[(_&65535)+(f&(1<<I)-1)];continue t}break}}while(r<i&&o<a);L=m>>3,r-=L,m-=L<<3,f&=(1<<m)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=o<a?257+(a-o):257-(o-a),$.hold=f,$.bits=m};const ia=15,P_=852,D_=592,U_=0,A0=1,j_=2,mD=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),yD=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),wD=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),vD=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),_D=(t,e,n,r,i,o,s,a)=>{const l=a.bits;let c=0,d=0,g=0,p=0,f=0,m=0,x=0,R=0,y=0,b=0,_,I,L,z,B,F=null,U;const W=new Uint16Array(ia+1),$=new Uint16Array(ia+1);let H=null,A,u,h;for(c=0;c<=ia;c++)W[c]=0;for(d=0;d<r;d++)W[e[n+d]]++;for(f=l,p=ia;p>=1&&W[p]===0;p--);if(f>p&&(f=p),p===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,a.bits=1,0;for(g=1;g<p&&W[g]===0;g++);for(f<g&&(f=g),R=1,c=1;c<=ia;c++)if(R<<=1,R-=W[c],R<0)return-1;if(R>0&&(t===U_||p!==1))return-1;for($[1]=0,c=1;c<ia;c++)$[c+1]=$[c]+W[c];for(d=0;d<r;d++)e[n+d]!==0&&(s[$[e[n+d]]++]=d);if(t===U_?(F=H=s,U=20):t===A0?(F=mD,H=yD,U=257):(F=wD,H=vD,U=0),b=0,d=0,c=g,B=o,m=f,x=0,L=-1,y=1<<f,z=y-1,t===A0&&y>P_||t===j_&&y>D_)return 1;for(;;){A=c-x,s[d]+1<U?(u=0,h=s[d]):s[d]>=U?(u=H[s[d]-U],h=F[s[d]-U]):(u=96,h=0),_=1<<c-x,I=1<<m,g=I;do I-=_,i[B+(b>>x)+I]=A<<24|u<<16|h|0;while(I!==0);for(_=1<<c-1;b&_;)_>>=1;if(_!==0?(b&=_-1,b+=_):b=0,d++,--W[c]===0){if(c===p)break;c=e[n+s[d]]}if(c>f&&(b&z)!==L){for(x===0&&(x=f),B+=g,m=c-x,R=1<<m;m+x<p&&(R-=W[m+x],!(R<=0));)m++,R<<=1;if(y+=1<<m,t===A0&&y>P_||t===j_&&y>D_)return 1;L=b&z,i[L]=f<<24|m<<16|B-o|0}}return b!==0&&(i[B+b]=c-x<<24|64<<16|0),a.bits=f,0};var wc=_D;const ED=0,zR=1,FR=2,{Z_FINISH:z_,Z_BLOCK:bD,Z_TREES:qu,Z_OK:Fs,Z_STREAM_END:SD,Z_NEED_DICT:AD,Z_STREAM_ERROR:jr,Z_DATA_ERROR:WR,Z_MEM_ERROR:$R,Z_BUF_ERROR:xD,Z_DEFLATED:F_}=DR,$h=16180,W_=16181,$_=16182,H_=16183,K_=16184,V_=16185,G_=16186,q_=16187,Y_=16188,Z_=16189,$f=16190,Oi=16191,x0=16192,Q_=16193,R0=16194,X_=16195,J_=16196,eE=16197,tE=16198,Yu=16199,Zu=16200,nE=16201,rE=16202,iE=16203,oE=16204,sE=16205,I0=16206,aE=16207,lE=16208,yt=16209,HR=16210,KR=16211,RD=852,ID=592,ND=15,TD=ND,cE=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function kD(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Qs=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<$h||e.mode>KR?1:0},VR=t=>{if(Qs(t))return jr;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=$h,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(RD),e.distcode=e.distdyn=new Int32Array(ID),e.sane=1,e.back=-1,Fs},GR=t=>{if(Qs(t))return jr;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,VR(t)},qR=(t,e)=>{let n;if(Qs(t))return jr;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?jr:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,GR(t))},YR=(t,e)=>{if(!t)return jr;const n=new kD;t.state=n,n.strm=t,n.window=null,n.mode=$h;const r=qR(t,e);return r!==Fs&&(t.state=null),r},CD=t=>YR(t,TD);let uE=!0,N0,T0;const MD=t=>{if(uE){N0=new Int32Array(512),T0=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(wc(zR,t.lens,0,288,N0,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;wc(FR,t.lens,0,32,T0,0,t.work,{bits:5}),uE=!1}t.lencode=N0,t.lenbits=9,t.distcode=T0,t.distbits=5},ZR=(t,e,n,r)=>{let i;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(n-r,n-r+i),o.wnext),r-=i,r?(o.window.set(e.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},OD=(t,e)=>{let n,r,i,o,s,a,l,c,d,g,p,f,m,x,R=0,y,b,_,I,L,z,B,F;const U=new Uint8Array(4);let W,$;const H=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Qs(t)||!t.output||!t.input&&t.avail_in!==0)return jr;n=t.state,n.mode===Oi&&(n.mode=x0),s=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,c=n.hold,d=n.bits,g=a,p=l,F=Fs;e:for(;;)switch(n.mode){case $h:if(n.wrap===0){n.mode=x0;break}for(;d<16;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,U[0]=c&255,U[1]=c>>>8&255,n.check=ai(n.check,U,2,0),c=0,d=0,n.mode=W_;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=yt;break}if((c&15)!==F_){t.msg="unknown compression method",n.mode=yt;break}if(c>>>=4,d-=4,B=(c&15)+8,n.wbits===0&&(n.wbits=B),B>15||B>n.wbits){t.msg="invalid window size",n.mode=yt;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=c&512?Z_:Oi,c=0,d=0;break;case W_:for(;d<16;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}if(n.flags=c,(n.flags&255)!==F_){t.msg="unknown compression method",n.mode=yt;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=yt;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(U[0]=c&255,U[1]=c>>>8&255,n.check=ai(n.check,U,2,0)),c=0,d=0,n.mode=$_;case $_:for(;d<32;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(U[0]=c&255,U[1]=c>>>8&255,U[2]=c>>>16&255,U[3]=c>>>24&255,n.check=ai(n.check,U,4,0)),c=0,d=0,n.mode=H_;case H_:for(;d<16;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(U[0]=c&255,U[1]=c>>>8&255,n.check=ai(n.check,U,2,0)),c=0,d=0,n.mode=K_;case K_:if(n.flags&1024){for(;d<16;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(U[0]=c&255,U[1]=c>>>8&255,n.check=ai(n.check,U,2,0)),c=0,d=0}else n.head&&(n.head.extra=null);n.mode=V_;case V_:if(n.flags&1024&&(f=n.length,f>a&&(f=a),f&&(n.head&&(B=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+f),B)),n.flags&512&&n.wrap&4&&(n.check=ai(n.check,r,f,o)),a-=f,o+=f,n.length-=f),n.length))break e;n.length=0,n.mode=G_;case G_:if(n.flags&2048){if(a===0)break e;f=0;do B=r[o+f++],n.head&&B&&n.length<65536&&(n.head.name+=String.fromCharCode(B));while(B&&f<a);if(n.flags&512&&n.wrap&4&&(n.check=ai(n.check,r,f,o)),a-=f,o+=f,B)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=q_;case q_:if(n.flags&4096){if(a===0)break e;f=0;do B=r[o+f++],n.head&&B&&n.length<65536&&(n.head.comment+=String.fromCharCode(B));while(B&&f<a);if(n.flags&512&&n.wrap&4&&(n.check=ai(n.check,r,f,o)),a-=f,o+=f,B)break e}else n.head&&(n.head.comment=null);n.mode=Y_;case Y_:if(n.flags&512){for(;d<16;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}if(n.wrap&4&&c!==(n.check&65535)){t.msg="header crc mismatch",n.mode=yt;break}c=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Oi;break;case Z_:for(;d<32;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}t.adler=n.check=cE(c),c=0,d=0,n.mode=$f;case $f:if(n.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,n.hold=c,n.bits=d,AD;t.adler=n.check=1,n.mode=Oi;case Oi:if(e===bD||e===qu)break e;case x0:if(n.last){c>>>=d&7,d-=d&7,n.mode=I0;break}for(;d<3;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}switch(n.last=c&1,c>>>=1,d-=1,c&3){case 0:n.mode=Q_;break;case 1:if(MD(n),n.mode=Yu,e===qu){c>>>=2,d-=2;break e}break;case 2:n.mode=J_;break;case 3:t.msg="invalid block type",n.mode=yt}c>>>=2,d-=2;break;case Q_:for(c>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=yt;break}if(n.length=c&65535,c=0,d=0,n.mode=R0,e===qu)break e;case R0:n.mode=X_;case X_:if(f=n.length,f){if(f>a&&(f=a),f>l&&(f=l),f===0)break e;i.set(r.subarray(o,o+f),s),a-=f,o+=f,l-=f,s+=f,n.length-=f;break}n.mode=Oi;break;case J_:for(;d<14;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}if(n.nlen=(c&31)+257,c>>>=5,d-=5,n.ndist=(c&31)+1,c>>>=5,d-=5,n.ncode=(c&15)+4,c>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=yt;break}n.have=0,n.mode=eE;case eE:for(;n.have<n.ncode;){for(;d<3;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}n.lens[H[n.have++]]=c&7,c>>>=3,d-=3}for(;n.have<19;)n.lens[H[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,W={bits:n.lenbits},F=wc(ED,n.lens,0,19,n.lencode,0,n.work,W),n.lenbits=W.bits,F){t.msg="invalid code lengths set",n.mode=yt;break}n.have=0,n.mode=tE;case tE:for(;n.have<n.nlen+n.ndist;){for(;R=n.lencode[c&(1<<n.lenbits)-1],y=R>>>24,b=R>>>16&255,_=R&65535,!(y<=d);){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}if(_<16)c>>>=y,d-=y,n.lens[n.have++]=_;else{if(_===16){for($=y+2;d<$;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}if(c>>>=y,d-=y,n.have===0){t.msg="invalid bit length repeat",n.mode=yt;break}B=n.lens[n.have-1],f=3+(c&3),c>>>=2,d-=2}else if(_===17){for($=y+3;d<$;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}c>>>=y,d-=y,B=0,f=3+(c&7),c>>>=3,d-=3}else{for($=y+7;d<$;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}c>>>=y,d-=y,B=0,f=11+(c&127),c>>>=7,d-=7}if(n.have+f>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=yt;break}for(;f--;)n.lens[n.have++]=B}}if(n.mode===yt)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=yt;break}if(n.lenbits=9,W={bits:n.lenbits},F=wc(zR,n.lens,0,n.nlen,n.lencode,0,n.work,W),n.lenbits=W.bits,F){t.msg="invalid literal/lengths set",n.mode=yt;break}if(n.distbits=6,n.distcode=n.distdyn,W={bits:n.distbits},F=wc(FR,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,W),n.distbits=W.bits,F){t.msg="invalid distances set",n.mode=yt;break}if(n.mode=Yu,e===qu)break e;case Yu:n.mode=Zu;case Zu:if(a>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,n.hold=c,n.bits=d,gD(t,p),s=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,c=n.hold,d=n.bits,n.mode===Oi&&(n.back=-1);break}for(n.back=0;R=n.lencode[c&(1<<n.lenbits)-1],y=R>>>24,b=R>>>16&255,_=R&65535,!(y<=d);){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}if(b&&!(b&240)){for(I=y,L=b,z=_;R=n.lencode[z+((c&(1<<I+L)-1)>>I)],y=R>>>24,b=R>>>16&255,_=R&65535,!(I+y<=d);){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}c>>>=I,d-=I,n.back+=I}if(c>>>=y,d-=y,n.back+=y,n.length=_,b===0){n.mode=sE;break}if(b&32){n.back=-1,n.mode=Oi;break}if(b&64){t.msg="invalid literal/length code",n.mode=yt;break}n.extra=b&15,n.mode=nE;case nE:if(n.extra){for($=n.extra;d<$;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=rE;case rE:for(;R=n.distcode[c&(1<<n.distbits)-1],y=R>>>24,b=R>>>16&255,_=R&65535,!(y<=d);){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}if(!(b&240)){for(I=y,L=b,z=_;R=n.distcode[z+((c&(1<<I+L)-1)>>I)],y=R>>>24,b=R>>>16&255,_=R&65535,!(I+y<=d);){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}c>>>=I,d-=I,n.back+=I}if(c>>>=y,d-=y,n.back+=y,b&64){t.msg="invalid distance code",n.mode=yt;break}n.offset=_,n.extra=b&15,n.mode=iE;case iE:if(n.extra){for($=n.extra;d<$;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=yt;break}n.mode=oE;case oE:if(l===0)break e;if(f=p-l,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=yt;break}f>n.wnext?(f-=n.wnext,m=n.wsize-f):m=n.wnext-f,f>n.length&&(f=n.length),x=n.window}else x=i,m=s-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do i[s++]=x[m++];while(--f);n.length===0&&(n.mode=Zu);break;case sE:if(l===0)break e;i[s++]=n.length,l--,n.mode=Zu;break;case I0:if(n.wrap){for(;d<32;){if(a===0)break e;a--,c|=r[o++]<<d,d+=8}if(p-=l,t.total_out+=p,n.total+=p,n.wrap&4&&p&&(t.adler=n.check=n.flags?ai(n.check,i,p,s-p):jm(n.check,i,p,s-p)),p=l,n.wrap&4&&(n.flags?c:cE(c))!==n.check){t.msg="incorrect data check",n.mode=yt;break}c=0,d=0}n.mode=aE;case aE:if(n.wrap&&n.flags){for(;d<32;){if(a===0)break e;a--,c+=r[o++]<<d,d+=8}if(n.wrap&4&&c!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=yt;break}c=0,d=0}n.mode=lE;case lE:F=SD;break e;case yt:F=WR;break e;case HR:return $R;case KR:default:return jr}return t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,n.hold=c,n.bits=d,(n.wsize||p!==t.avail_out&&n.mode<yt&&(n.mode<I0||e!==z_))&&ZR(t,t.output,t.next_out,p-t.avail_out),g-=t.avail_in,p-=t.avail_out,t.total_in+=g,t.total_out+=p,n.total+=p,n.wrap&4&&p&&(t.adler=n.check=n.flags?ai(n.check,i,p,t.next_out-p):jm(n.check,i,p,t.next_out-p)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Oi?128:0)+(n.mode===Yu||n.mode===R0?256:0),(g===0&&p===0||e===z_)&&F===Fs&&(F=xD),F},LD=t=>{if(Qs(t))return jr;let e=t.state;return e.window&&(e.window=null),t.state=null,Fs},BD=(t,e)=>{if(Qs(t))return jr;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,Fs):jr},PD=(t,e)=>{const n=e.length;let r,i,o;return Qs(t)||(r=t.state,r.wrap!==0&&r.mode!==$f)?jr:r.mode===$f&&(i=1,i=jm(i,e,n,0),i!==r.check)?WR:(o=ZR(t,e,n,n),o?(r.mode=HR,$R):(r.havedict=1,Fs))};var DD=GR,UD=qR,jD=VR,zD=CD,FD=YR,WD=OD,$D=LD,HD=BD,KD=PD,VD="pako inflate (from Nodeca project)",zi={inflateReset:DD,inflateReset2:UD,inflateResetKeep:jD,inflateInit:zD,inflateInit2:FD,inflate:WD,inflateEnd:$D,inflateGetHeader:HD,inflateSetDictionary:KD,inflateInfo:VD};function GD(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var qD=GD;const QR=Object.prototype.toString,{Z_NO_FLUSH:YD,Z_FINISH:ZD,Z_OK:Vc,Z_STREAM_END:k0,Z_NEED_DICT:C0,Z_STREAM_ERROR:QD,Z_DATA_ERROR:dE,Z_MEM_ERROR:XD}=DR;function Hh(t){this.options=UR.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new hD,this.strm.avail_out=0;let n=zi.inflateInit2(this.strm,e.windowBits);if(n!==Vc)throw new Error(zm[n]);if(this.header=new qD,zi.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Fm.string2buf(e.dictionary):QR.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=zi.inflateSetDictionary(this.strm,e.dictionary),n!==Vc)))throw new Error(zm[n])}Hh.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?ZD:YD,QR.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=zi.inflate(n,s),o===C0&&i&&(o=zi.inflateSetDictionary(n,i),o===Vc?o=zi.inflate(n,s):o===dE&&(o=C0));n.avail_in>0&&o===k0&&n.state.wrap>0&&t[n.next_in]!==0;)zi.inflateReset(n),o=zi.inflate(n,s);switch(o){case QD:case dE:case C0:case XD:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||o===k0))if(this.options.to==="string"){let l=Fm.utf8border(n.output,n.next_out),c=n.next_out-l,d=Fm.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===Vc&&a===0)){if(o===k0)return o=zi.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Hh.prototype.onData=function(t){this.chunks.push(t)};Hh.prototype.onEnd=function(t){t===Vc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=UR.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function JD(t,e){const n=new Hh(e);if(n.push(t),n.err)throw n.msg||zm[n.err];return n.result}var eU=JD,tU={inflate:eU};const{inflate:nU}=tU;var rU=nU,XR={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,g,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var f=new i(d,g||l,p),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],f]:l._events[m].push(f):(l._events[m]=f,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,g;if(this._eventsCount===0)return c;for(g in d=this._events)e.call(d,g)&&c.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,g=this._events[d];if(!g)return[];if(g.fn)return[g.fn];for(var p=0,f=g.length,m=new Array(f);p<f;p++)m[p]=g[p].fn;return m},a.prototype.listenerCount=function(c){var d=n?n+c:c,g=this._events[d];return g?g.fn?1:g.length:0},a.prototype.emit=function(c,d,g,p,f,m){var x=n?n+c:c;if(!this._events[x])return!1;var R=this._events[x],y=arguments.length,b,_;if(R.fn){switch(R.once&&this.removeListener(c,R.fn,void 0,!0),y){case 1:return R.fn.call(R.context),!0;case 2:return R.fn.call(R.context,d),!0;case 3:return R.fn.call(R.context,d,g),!0;case 4:return R.fn.call(R.context,d,g,p),!0;case 5:return R.fn.call(R.context,d,g,p,f),!0;case 6:return R.fn.call(R.context,d,g,p,f,m),!0}for(_=1,b=new Array(y-1);_<y;_++)b[_-1]=arguments[_];R.fn.apply(R.context,b)}else{var I=R.length,L;for(_=0;_<I;_++)switch(R[_].once&&this.removeListener(c,R[_].fn,void 0,!0),y){case 1:R[_].fn.call(R[_].context);break;case 2:R[_].fn.call(R[_].context,d);break;case 3:R[_].fn.call(R[_].context,d,g);break;case 4:R[_].fn.call(R[_].context,d,g,p);break;default:if(!b)for(L=1,b=new Array(y-1);L<y;L++)b[L-1]=arguments[L];R[_].fn.apply(R[_].context,b)}}return!0},a.prototype.on=function(c,d,g){return o(this,c,d,g,!1)},a.prototype.once=function(c,d,g){return o(this,c,d,g,!0)},a.prototype.removeListener=function(c,d,g,p){var f=n?n+c:c;if(!this._events[f])return this;if(!d)return s(this,f),this;var m=this._events[f];if(m.fn)m.fn===d&&(!p||m.once)&&(!g||m.context===g)&&s(this,f);else{for(var x=0,R=[],y=m.length;x<y;x++)(m[x].fn!==d||p&&!m[x].once||g&&m[x].context!==g)&&R.push(m[x]);R.length?this._events[f]=R.length===1?R[0]:R:s(this,f)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(XR);var iU=XR.exports;const oU=ro(iU);function sU(t,e){return Array.apply(0,new Array(Math.ceil(t.length/e))).map((n,r)=>t.slice(r*e,(r+1)*e))}const is=t=>"version"in t;function aU(t){return new TextDecoder("utf-8").decode(t)}function fE(t){return Ww.encode(t)}function JR(t){return me.Buffer.from(t,"base64")}function So(t){return"accounts"in t}async function lU(t){const e=(await X.findProgramAddress([],t))[0];return await X.createWithSeed(e,cU(),t)}function cU(){return"anchor:idl"}const uU=ke.struct([ke.publicKey("authority"),ke.vecU8("data")]);function dU(t){return uU.decode(t)}function fU(t){const e=["name","path","account","relations","generic"],n=o=>o.split(".").map(UP).join("."),r=o=>{for(const s in o){const a=o[s];e.includes(s)?o[s]=Array.isArray(a)?a.map(n):n(a):typeof a=="object"&&r(a)}},i=structuredClone(t);return r(i),i}function Ba(t,e,n,r){return t!=null&&t.length?t[0].name?n(t):r(t):e()}function hU(t){const e=new Map;return t.errors&&t.errors.forEach(n=>{var r;let i=(r=n.msg)!==null&&r!==void 0?r:n.name;e.set(n.code,i)}),e}function pU(t,...e){if(t.args.length!=e.length)throw new Error("Invalid argument length");const n={};let r=0;return t.args.forEach(i=>{n[i.name]=e[r],r+=1}),n}function eI(t,e={}){t.forEach(n=>{if(So(n))eI(n.accounts,e[n.name]);else if(!e[n.name])throw new Error(`Account \`${n.name}\` not provided.`)})}function Zr(t){return t instanceof X?t:new X(t)}class gU extends TypeError{constructor(e,n){let r;const{message:i,...o}=e,{path:s}=e,a=s.length===0?i:"At path: "+s.join(".")+" -- "+i;super(a),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var l;return(l=r)!=null?l:r=[e,...n()]}}}function mU(t){return Ga(t)&&typeof t[Symbol.iterator]=="function"}function Ga(t){return typeof t=="object"&&t!=null}function Zo(t){return typeof t=="string"?JSON.stringify(t):""+t}function yU(t){const{done:e,value:n}=t.next();return e?void 0:n}function wU(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:o}=e,{type:s}=n,{refinement:a,message:l="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+Zo(r)+"`"}=t;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:l}}function*hE(t,e,n,r){mU(t)||(t=[t]);for(const i of t){const o=wU(i,e,n,r);o&&(yield o)}}function*Yw(t,e,n){n===void 0&&(n={});const{path:r=[],branch:i=[t],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(t=e.coercer(t,a),s&&e.type!=="type"&&Ga(e.schema)&&Ga(t)&&!Array.isArray(t)))for(const c in t)e.schema[c]===void 0&&delete t[c];let l=!0;for(const c of e.validator(t,a))l=!1,yield[c,void 0];for(let[c,d,g]of e.entries(t,a)){const p=Yw(d,g,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,d],coerce:o,mask:s});for(const f of p)f[0]?(l=!1,yield[f[0],void 0]):o&&(d=f[1],c===void 0?t=d:t instanceof Map?t.set(c,d):t instanceof Set?t.add(d):Ga(t)&&(t[c]=d))}if(l)for(const c of e.refiner(t,a))l=!1,yield[c,void 0];l&&(yield[void 0,t])}class rs{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:n,schema:r,validator:i,refiner:o,coercer:s=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=s,i?this.validator=(l,c)=>{const d=i(l,c);return hE(d,c,this,l)}:this.validator=()=>[],o?this.refiner=(l,c)=>{const d=o(l,c);return hE(d,c,this,l)}:this.refiner=()=>[]}assert(e){return vU(e,this)}create(e){return Zw(e,this)}is(e){return tI(e,this)}mask(e){return _U(e,this)}validate(e,n){return n===void 0&&(n={}),uu(e,this,n)}}function vU(t,e){const n=uu(t,e);if(n[0])throw n[0]}function Zw(t,e){const n=uu(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function _U(t,e){const n=uu(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function tI(t,e){return!uu(t,e)[0]}function uu(t,e,n){n===void 0&&(n={});const r=Yw(t,e,n),i=yU(r);return i[0]?[new gU(i[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function du(t,e){return new rs({type:t,schema:null,validator:e})}function EU(){return du("any",()=>!0)}function M0(t){return new rs({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+Zo(e)}})}function bU(){return du("boolean",t=>typeof t=="boolean")}function pE(t){const e=Zo(t);return new rs({type:"literal",schema:t,validator(n){return n===t||"Expected the literal `"+e+"`, but received: "+Zo(n)}})}function Qu(t){return new rs({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function Kd(){return du("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+Zo(t))}function Vd(t){return new rs({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function Ts(){return du("string",t=>typeof t=="string"||"Expected a string, but received: "+Zo(t))}function Ko(t){const e=Object.keys(t);return new rs({type:"type",schema:t,*entries(n){if(Ga(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return Ga(n)||"Expected an object, but received: "+Zo(n)}})}function nI(t){const e=t.map(n=>n.type).join(" | ");return new rs({type:"union",schema:null,coercer(n,r){return(t.find(o=>{const[s]=o.validate(n,{coerce:!0});return!s})||Qw()).coercer(n,r)},validator(n,r){const i=[];for(const o of t){const[...s]=Yw(n,o,r),[a]=s;if(a[0])for(const[l]of s)l&&i.push(l);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Zo(n),...i]}})}function Qw(){return du("unknown",()=>!0)}function SU(t,e,n){return new rs({...t,coercer:(r,i)=>tI(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}const gE=99;async function AU(t,e,n){if(e.length<=gE)return await mE(t,e,n);{const r=sU(e,gE);return(await Promise.all(r.map(o=>mE(t,o,n)))).flat()}}async function mE(t,e,n){const r=n??t.commitment,{value:i,context:o}=await t.getMultipleAccountsInfoAndContext(e,r);return i.map((a,l)=>a===null?null:{publicKey:e[l],account:a,context:o})}async function xU(t,e,n,r,i){var o;n&&n.length>0&&e.sign(...n);const s=e._compile(),a=s.serialize(),c=e._serialize(a).toString("base64"),d={encoding:"base64",commitment:r??t.commitment};if(i){const m=(Array.isArray(i)?i:s.nonProgramIds()).map(x=>x.toBase58());d.accounts={encoding:"base64",addresses:m}}n&&n.length>0&&(d.sigVerify=!0);const g=[c,d],p=await t._rpcRequest("simulateTransaction",g),f=Zw(p,TU);if("error"in f){let m;if("data"in f.error&&(m=(o=f.error.data)===null||o===void 0?void 0:o.logs,m&&Array.isArray(m))){const x=`
    `,R=x+m.join(x);console.error(f.error.message,R)}throw new Yo("failed to simulate transaction: "+f.error.message,m)}return f.result}function RU(t){return SU(rI(t),IU,e=>"error"in e?e:{...e,result:Zw(e.result,t)})}const IU=rI(Qw());function rI(t){return nI([Ko({jsonrpc:pE("2.0"),id:Ts(),result:t}),Ko({jsonrpc:pE("2.0"),id:Ts(),error:Ko({code:Qw(),message:Ts(),data:Vd(EU())})})])}function NU(t){return RU(Ko({context:Ko({slot:Kd()}),value:t}))}const TU=NU(Ko({err:Qu(nI([Ko({}),Ts()])),logs:Qu(M0(Ts())),accounts:Vd(Qu(M0(Qu(Ko({executable:bU(),owner:Ts(),lamports:Kd(),data:M0(Ts()),rentEpoch:Vd(Kd())}))))),unitsConsumed:Vd(Kd())}));class Gc{constructor(e,n,r=Gc.defaultOptions()){this.connection=e,this.wallet=n,this.opts=r,this.publicKey=n==null?void 0:n.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,n=Gc.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,n,r){var i,o,s,a;if(r===void 0&&(r=this.opts),is(e))n&&e.sign(n);else if(e.feePayer=(i=e.feePayer)!==null&&i!==void 0?i:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(r.preflightCommitment)).blockhash,n)for(const c of n)e.partialSign(c);e=await this.wallet.signTransaction(e);const l=e.serialize();try{return await yE(this.connection,l,r)}catch(c){if(c instanceof Wm){const d=fE(is(e)?((o=e.signatures)===null||o===void 0?void 0:o[0])||new Uint8Array:(s=e.signature)!==null&&s!==void 0?s:new Uint8Array),g=is(e)?0:void 0,p=await this.connection.getTransaction(d,{commitment:"confirmed",maxSupportedTransactionVersion:g});if(p){const f=(a=p.meta)===null||a===void 0?void 0:a.logMessages;throw f?new Yo(c.message,f):c}else throw c}else throw c}}async sendAll(e,n){var r,i,o;n===void 0&&(n=this.opts);const s=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash;let a=e.map(d=>{var g,p;if(is(d.tx)){let f=d.tx;return d.signers&&f.sign(d.signers),f}else{let f=d.tx,m=(g=d.signers)!==null&&g!==void 0?g:[];return f.feePayer=(p=f.feePayer)!==null&&p!==void 0?p:this.wallet.publicKey,f.recentBlockhash=s,m.forEach(x=>{f.partialSign(x)}),f}});const l=await this.wallet.signAllTransactions(a),c=[];for(let d=0;d<a.length;d+=1){const g=l[d],p=g.serialize();try{c.push(await yE(this.connection,p,n))}catch(f){if(f instanceof Wm){const m=fE(is(g)?((r=g.signatures)===null||r===void 0?void 0:r[0])||new Uint8Array:(i=g.signature)!==null&&i!==void 0?i:new Uint8Array),x=is(g)?0:void 0,R=await this.connection.getTransaction(m,{commitment:"confirmed",maxSupportedTransactionVersion:x});if(R){const y=(o=R.meta)===null||o===void 0?void 0:o.logMessages;throw y?new Yo(f.message,y):f}else throw f}else throw f}}return c}async simulate(e,n,r,i){let o=(await this.connection.getLatestBlockhash(r??this.connection.commitment)).blockhash,s;if(is(e)?(n&&n.length>0&&(e.sign(n),e=await this.wallet.signTransaction(e)),s=await this.connection.simulateTransaction(e,{commitment:r})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=o,n&&n.length>0&&(e=await this.wallet.signTransaction(e)),s=await xU(this.connection,e,n,r,i)),s.value.err)throw new kU(s.value);return s.value}}class kU extends Error{constructor(e,n){super(n),this.simulationResponse=e}}async function yE(t,e,n){const r=n?{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot}:{};let i;const o=Date.now();for(;Date.now()-o<6e4;)try{const s=await t.sendRawTransaction(e,r);if(n!=null&&n.blockhash)if(r.maxRetries===0){const a=AbortSignal.timeout(15e3);i=(await t.confirmTransaction({abortSignal:a,signature:s,...n.blockhash},n&&n.commitment)).value}else i=(await t.confirmTransaction({signature:s,...n.blockhash},n&&n.commitment)).value;else i=(await t.confirmTransaction(s,n&&n.commitment)).value;if(i.err)throw new Wm(`Raw transaction ${s} failed (${JSON.stringify(i)})`);return s}catch(s){if(s.name==="TimeoutError")continue;throw s}throw Error("Transaction failed to confirm in 60s")}class Wm extends Error{constructor(e){super(e)}}function $m(){return Gc.local()}var CU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Y={};Object.defineProperty(Y,"__esModule",{value:!0});var iI=Y.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=eN=Y.ANCHOR_ERROR__REQUIRE_VIOLATED=JI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=XI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=QI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=ZI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=YI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=qI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=GI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=VI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=KI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=HI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=$I=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=WI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=FI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=zI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=jI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=UI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=DI=Y.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=PI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=BI=Y.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=LI=Y.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=OI=Y.ANCHOR_ERROR__CONSTRAINT_SPACE=MI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=CI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=kI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=TI=Y.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=NI=Y.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=II=Y.ANCHOR_ERROR__CONSTRAINT_ZERO=RI=Y.ANCHOR_ERROR__CONSTRAINT_ADDRESS=xI=Y.ANCHOR_ERROR__CONSTRAINT_CLOSE=AI=Y.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=SI=Y.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=bI=Y.ANCHOR_ERROR__CONSTRAINT_STATE=EI=Y.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=_I=Y.ANCHOR_ERROR__CONSTRAINT_SEEDS=vI=Y.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=wI=Y.ANCHOR_ERROR__CONSTRAINT_OWNER=yI=Y.ANCHOR_ERROR__CONSTRAINT_RAW=mI=Y.ANCHOR_ERROR__CONSTRAINT_SIGNER=gI=Y.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=pI=Y.ANCHOR_ERROR__CONSTRAINT_MUT=hI=Y.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=fI=Y.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=dI=Y.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=uI=Y.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=cI=Y.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=lI=Y.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=aI=Y.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=sI=Y.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,oI=Y.ANCHOR_ERROR__DEPRECATED=RN=Y.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=xN=Y.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=AN=Y.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=SN=Y.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=bN=Y.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=EN=Y.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=_N=Y.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=vN=Y.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=wN=Y.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=yN=Y.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=mN=Y.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=gN=Y.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=pN=Y.ANCHOR_ERROR__INVALID_PROGRAM_ID=hN=Y.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=fN=Y.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=dN=Y.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=uN=Y.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=cN=Y.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=lN=Y.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=aN=Y.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=sN=Y.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=oN=Y.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=iN=Y.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=rN=Y.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=nN=Y.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=tN=Y.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,sI=Y.ANCHOR_ERROR__INSTRUCTION_MISSING=100,aI=Y.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,lI=Y.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,cI=Y.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,uI=Y.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,dI=Y.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,fI=Y.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,hI=Y.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,pI=Y.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,gI=Y.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,mI=Y.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,yI=Y.ANCHOR_ERROR__CONSTRAINT_RAW=2003,wI=Y.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,vI=Y.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,_I=Y.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,EI=Y.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,bI=Y.ANCHOR_ERROR__CONSTRAINT_STATE=2008,SI=Y.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,AI=Y.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,xI=Y.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,RI=Y.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,II=Y.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,NI=Y.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,TI=Y.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,kI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,CI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,MI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,OI=Y.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,LI=Y.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,BI=Y.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,PI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,DI=Y.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,UI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,jI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,zI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,FI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,WI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,$I=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,HI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,KI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,VI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,GI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,qI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,YI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,ZI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,QI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,XI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,JI=Y.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,eN=Y.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;iI=Y.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var tN=Y.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,nN=Y.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,rN=Y.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,iN=Y.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,oN=Y.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,sN=Y.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,aN=Y.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,lN=Y.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,cN=Y.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,uN=Y.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,dN=Y.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,fN=Y.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,hN=Y.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,pN=Y.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,gN=Y.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,mN=Y.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,yN=Y.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,wN=Y.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,vN=Y.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,_N=Y.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,EN=Y.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,bN=Y.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,SN=Y.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,AN=Y.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,xN=Y.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,RN=Y.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;oI=Y.ANCHOR_ERROR__DEPRECATED=5e3;const MU=new Map;function IN(t){return MU.get(t)!==void 0}class vo extends Error{constructor(e){super(e),this.name="IdlError"}}class fu{constructor(e){this.stack=e}static parse(e){var n;const r=/^Program (\w*) invoke/,i=/^Program \w* success/,o=[];for(let s=0;s<e.length;s++){if(i.exec(e[s])){o.pop();continue}const a=(n=r.exec(e[s]))===null||n===void 0?void 0:n[1];a&&o.push(new X(a))}return new fu(o)}}class vc extends Error{constructor(e,n,r,i,o,s){super(r.join(`
`).replace("Program log: ","")),this.errorLogs=r,this.logs=i,this.error={errorCode:e,errorMessage:n,comparedValues:s,origin:o},this._programErrorStack=fu.parse(i)}static parse(e){if(!e)return null;const n=e.findIndex(p=>p.startsWith("Program log: AnchorError"));if(n===-1)return null;const r=e[n],i=[r];let o;if(n+1<e.length){if(e[n+1]==="Program log: Left:"){const p=/^Program log: (.*)$/,f=p.exec(e[n+2])[1],m=p.exec(e[n+4])[1];o=[new X(f),new X(m)],i.push(...e.slice(n+1,n+5))}else if(e[n+1].startsWith("Program log: Left:")){const p=/^Program log: (Left|Right): (.*)$/,f=p.exec(e[n+1])[2],m=p.exec(e[n+2])[2];i.push(...e.slice(n+1,n+3)),o=[f,m]}}const a=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),c=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),g=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r);if(a){const[p,f,m]=a.slice(1,4),x={code:p,number:parseInt(f)};return new vc(x,m,i,e,void 0,o)}else if(c){const[p,f,m,x,R]=c.slice(1,6),y={code:m,number:parseInt(x)},b={file:p,line:parseInt(f)};return new vc(y,R,i,e,b,o)}else if(g){const[p,f,m,x]=g.slice(1,5),R=p,y={code:f,number:parseInt(m)};return new vc(y,x,i,e,R,o)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class Hf extends Error{constructor(e,n,r){super(),this.code=e,this.msg=n,this.logs=r,r&&(this._programErrorStack=fu.parse(r))}static parse(e,n){const r=e.toString();let i;if(r.includes("custom program error:")){let a=r.split("custom program error: ");if(a.length!==2)return null;i=a[1]}else{const a=r.match(/"Custom":([0-9]+)}/g);if(!a||a.length>1)return null;i=a[0].match(/([0-9]+)/g)[0]}let o;try{o=parseInt(i)}catch{return null}let s=n.get(o);return s!==void 0?new Hf(o,s,e.logs):(s=OU.get(o),s!==void 0?new Hf(o,s,e.logs):null)}get program(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack}toString(){return this.msg}}function NN(t,e){IN("debug-logs")&&console.log("Translating error:",t);const n=vc.parse(t.logs);if(n)return n;const r=Hf.parse(t,e);if(r)return r;if(t.logs){const i={get:function(o,s){return s==="programErrorStack"?o.programErrorStack.stack:s==="program"?o.programErrorStack.stack[t.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return t.programErrorStack=fu.parse(t.logs),new Proxy(t,i)}return t}const ue={InstructionMissing:sI,InstructionFallbackNotFound:aI,InstructionDidNotDeserialize:lI,InstructionDidNotSerialize:cI,IdlInstructionStub:uI,IdlInstructionInvalidProgram:dI,IdlAccountNotEmpty:fI,EventInstructionStub:hI,ConstraintMut:pI,ConstraintHasOne:gI,ConstraintSigner:mI,ConstraintRaw:yI,ConstraintOwner:wI,ConstraintRentExempt:vI,ConstraintSeeds:_I,ConstraintExecutable:EI,ConstraintState:bI,ConstraintAssociated:SI,ConstraintAssociatedInit:AI,ConstraintClose:xI,ConstraintAddress:RI,ConstraintZero:II,ConstraintTokenMint:NI,ConstraintTokenOwner:TI,ConstraintMintMintAuthority:kI,ConstraintMintFreezeAuthority:CI,ConstraintMintDecimals:MI,ConstraintSpace:OI,ConstraintAccountIsNone:LI,ConstraintTokenTokenProgram:BI,ConstraintMintTokenProgram:PI,ConstraintAssociatedTokenTokenProgram:DI,ConstraintMintGroupPointerExtension:UI,ConstraintMintGroupPointerExtensionAuthority:jI,ConstraintMintGroupPointerExtensionGroupAddress:zI,ConstraintMintGroupMemberPointerExtension:FI,ConstraintMintGroupMemberPointerExtensionAuthority:WI,ConstraintMintGroupMemberPointerExtensionMemberAddress:$I,ConstraintMintMetadataPointerExtension:HI,ConstraintMintMetadataPointerExtensionAuthority:KI,ConstraintMintMetadataPointerExtensionMetadataAddress:VI,ConstraintMintCloseAuthorityExtension:GI,ConstraintMintCloseAuthorityExtensionAuthority:qI,ConstraintMintPermanentDelegateExtension:YI,ConstraintMintPermanentDelegateExtensionDelegate:ZI,ConstraintMintTransferHookExtension:QI,ConstraintMintTransferHookExtensionAuthority:XI,ConstraintMintTransferHookExtensionProgramId:JI,RequireViolated:eN,RequireEqViolated:iI,RequireKeysEqViolated:tN,RequireNeqViolated:nN,RequireKeysNeqViolated:rN,RequireGtViolated:iN,RequireGteViolated:oN,AccountDiscriminatorAlreadySet:sN,AccountDiscriminatorNotFound:aN,AccountDiscriminatorMismatch:lN,AccountDidNotDeserialize:cN,AccountDidNotSerialize:uN,AccountNotEnoughKeys:dN,AccountNotMutable:fN,AccountOwnedByWrongProgram:hN,InvalidProgramId:pN,InvalidProgramExecutable:gN,AccountNotSigner:mN,AccountNotSystemOwned:yN,AccountNotInitialized:wN,AccountNotProgramData:vN,AccountNotAssociatedTokenAccount:_N,AccountSysvarMismatch:EN,AccountReallocExceedsLimit:bN,AccountDuplicateReallocs:SN,DeclaredProgramIdMismatch:AN,TryingToInitPayerAsProgramAccount:xN,InvalidNumericConversion:RN,Deprecated:oI},OU=new Map([[ue.InstructionMissing,"Instruction discriminator not provided"],[ue.InstructionFallbackNotFound,"Fallback functions are not supported"],[ue.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[ue.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[ue.IdlInstructionStub,"The program was compiled without idl instructions"],[ue.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[ue.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[ue.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[ue.ConstraintMut,"A mut constraint was violated"],[ue.ConstraintHasOne,"A has one constraint was violated"],[ue.ConstraintSigner,"A signer constraint was violated"],[ue.ConstraintRaw,"A raw constraint was violated"],[ue.ConstraintOwner,"An owner constraint was violated"],[ue.ConstraintRentExempt,"A rent exemption constraint was violated"],[ue.ConstraintSeeds,"A seeds constraint was violated"],[ue.ConstraintExecutable,"An executable constraint was violated"],[ue.ConstraintState,"Deprecated Error, feel free to replace with something else"],[ue.ConstraintAssociated,"An associated constraint was violated"],[ue.ConstraintAssociatedInit,"An associated init constraint was violated"],[ue.ConstraintClose,"A close constraint was violated"],[ue.ConstraintAddress,"An address constraint was violated"],[ue.ConstraintZero,"Expected zero account discriminant"],[ue.ConstraintTokenMint,"A token mint constraint was violated"],[ue.ConstraintTokenOwner,"A token owner constraint was violated"],[ue.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[ue.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[ue.ConstraintMintDecimals,"A mint decimals constraint was violated"],[ue.ConstraintSpace,"A space constraint was violated"],[ue.ConstraintAccountIsNone,"A required account for the constraint is None"],[ue.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[ue.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[ue.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[ue.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[ue.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[ue.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[ue.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[ue.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[ue.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[ue.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[ue.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[ue.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[ue.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[ue.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[ue.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[ue.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[ue.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[ue.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[ue.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[ue.RequireViolated,"A require expression was violated"],[ue.RequireEqViolated,"A require_eq expression was violated"],[ue.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[ue.RequireNeqViolated,"A require_neq expression was violated"],[ue.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[ue.RequireGtViolated,"A require_gt expression was violated"],[ue.RequireGteViolated,"A require_gte expression was violated"],[ue.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[ue.AccountDiscriminatorNotFound,"No discriminator was found on the account"],[ue.AccountDiscriminatorMismatch,"Account discriminator did not match what was expected"],[ue.AccountDidNotDeserialize,"Failed to deserialize the account"],[ue.AccountDidNotSerialize,"Failed to serialize the account"],[ue.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[ue.AccountNotMutable,"The given account is not mutable"],[ue.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[ue.InvalidProgramId,"Program ID was not as expected"],[ue.InvalidProgramExecutable,"Program account is not executable"],[ue.AccountNotSigner,"The given account did not sign"],[ue.AccountNotSystemOwned,"The given account is not owned by the system program"],[ue.AccountNotInitialized,"The program expected this account to be already initialized"],[ue.AccountNotProgramData,"The given account is not a program data account"],[ue.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[ue.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[ue.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[ue.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[ue.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[ue.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[ue.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[ue.Deprecated,"The API being used is deprecated and should no longer be used"]]);class Ue{static fieldLayout(e,n=[],r){const i=e.name;switch(e.type){case"bool":return ke.bool(i);case"u8":return ke.u8(i);case"i8":return ke.i8(i);case"u16":return ke.u16(i);case"i16":return ke.i16(i);case"u32":return ke.u32(i);case"i32":return ke.i32(i);case"f32":return ke.f32(i);case"u64":return ke.u64(i);case"i64":return ke.i64(i);case"f64":return ke.f64(i);case"u128":return ke.u128(i);case"i128":return ke.i128(i);case"u256":return ke.u256(i);case"i256":return ke.i256(i);case"bytes":return ke.vecU8(i);case"string":return ke.str(i);case"pubkey":return ke.publicKey(i);default:{if("option"in e.type)return ke.option(Ue.fieldLayout({type:e.type.option},n,r),i);if("vec"in e.type)return ke.vec(Ue.fieldLayout({type:e.type.vec},n,r),i);if("array"in e.type){let[o,s]=e.type.array;return s=Ue.resolveArrayLen(s,r),ke.array(Ue.fieldLayout({type:o},n,r),s,i)}if("defined"in e.type){if(!n)throw new vo("User defined types not provided");const o=e.type.defined.name,s=n.find(a=>a.name===o);if(!s)throw new vo(`Type not found: ${e.name}`);return Ue.typeDefLayout({typeDef:s,types:n,genericArgs:r??e.type.defined.generics,name:i})}if("generic"in e.type){const o=r==null?void 0:r.at(0);if((o==null?void 0:o.kind)!=="type")throw new vo(`Invalid generic field: ${e.name}`);return Ue.fieldLayout({...e,type:o.type},n)}throw new vo(`Not yet implemented: ${JSON.stringify(e.type)}`)}}}static typeDefLayout({typeDef:e,types:n,name:r,genericArgs:i}){switch(e.type.kind){case"struct":{const o=Ba(e.type.fields,()=>[],s=>s.map(a=>{const l=i&&Ue.resolveGenericArgs({type:a.type,typeDef:e,genericArgs:i});return Ue.fieldLayout(a,n,l)}),s=>s.map((a,l)=>{const c=i&&Ue.resolveGenericArgs({type:a,typeDef:e,genericArgs:i});return Ue.fieldLayout({name:l.toString(),type:a},n,c)}));return ke.struct(o,r)}case"enum":{const o=e.type.variants.map(s=>{const a=Ba(s.fields,()=>[],l=>l.map(c=>{const d=i&&Ue.resolveGenericArgs({type:c.type,typeDef:e,genericArgs:i});return Ue.fieldLayout(c,n,d)}),l=>l.map((c,d)=>{const g=i&&Ue.resolveGenericArgs({type:c,typeDef:e,genericArgs:i});return Ue.fieldLayout({name:d.toString(),type:c},n,g)}));return ke.struct(a,s.name)});return r!==void 0?ke.rustEnum(o).replicate(r):ke.rustEnum(o,r)}case"type":return Ue.fieldLayout({type:e.type.alias,name:r},n)}}static typeSize(e,n,r){var i;switch(e){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"pubkey":return 32;default:if("option"in e)return 1+Ue.typeSize(e.option,n,r);if("coption"in e)return 4+Ue.typeSize(e.coption,n,r);if("vec"in e)return 1;if("array"in e){let[o,s]=e.array;return s=Ue.resolveArrayLen(s,r),Ue.typeSize(o,n,r)*s}if("defined"in e){const o=(i=n.types)===null||i===void 0?void 0:i.find(a=>a.name===e.defined.name);if(!o)throw new vo(`Type not found: ${JSON.stringify(e)}`);const s=a=>{const l=r??e.defined.generics,c=l&&Ue.resolveGenericArgs({type:a,typeDef:o,genericArgs:l});return Ue.typeSize(a,n,c)};switch(o.type.kind){case"struct":return Ba(o.type.fields,()=>[0],a=>a.map(l=>s(l.type)),a=>a.map(l=>s(l))).reduce((a,l)=>a+l,0);case"enum":{const a=o.type.variants.map(l=>Ba(l.fields,()=>[0],c=>c.map(d=>s(d.type)),c=>c.map(d=>s(d))).reduce((c,d)=>c+d,0));return Math.max(...a)+1}case"type":return Ue.typeSize(o.type.alias,n,r)}}if("generic"in e){const o=r==null?void 0:r.at(0);if((o==null?void 0:o.kind)!=="type")throw new vo(`Invalid generic: ${e.generic}`);return Ue.typeSize(o.type,n,r)}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}static resolveArrayLen(e,n){if(typeof e=="number")return e;if(n){const r=n.find(i=>i.kind==="const");(r==null?void 0:r.kind)==="const"&&(e=+r.value)}if(typeof e!="number")throw new vo("Generic array length did not resolve");return e}static resolveGenericArgs({type:e,typeDef:n,genericArgs:r,isDefined:i}){if(typeof e!="object")return null;for(const o in n.generics){const s=n.generics[o];if("generic"in e&&s.name===e.generic)return[r[o]];if("option"in e){const a=Ue.resolveGenericArgs({type:e.option,typeDef:n,genericArgs:r,isDefined:i});if(!a||!i)return a;if(a[0].kind==="type")return[{kind:"type",type:{option:a[0].type}}]}if("vec"in e){const a=Ue.resolveGenericArgs({type:e.vec,typeDef:n,genericArgs:r,isDefined:i});if(!a||!i)return a;if(a[0].kind==="type")return[{kind:"type",type:{vec:a[0].type}}]}if("array"in e){const[a,l]=e.array,c=typeof l=="object",d=Ue.resolveGenericArgs({type:a,typeDef:n,genericArgs:r,isDefined:i})||[];if(c){const g=n.generics.findIndex(p=>p.name===l.generic);g!==-1&&d.push(r[g])}if(d.length>0){if(!i)return d;if(d[0].kind==="type"&&d[1].kind==="const")return[{kind:"type",type:{array:[d[0].type,+d[1].value]}}]}if(c&&s.name===l.generic){const g=r[o];return i?[{kind:"type",type:{array:[a,+g.value]}}]:[g]}return null}if("defined"in e)return e.defined.generics?e.defined.generics.flatMap(a=>{switch(a.kind){case"type":return Ue.resolveGenericArgs({type:a.type,typeDef:n,genericArgs:r,isDefined:!0});case"const":return[a]}}).filter(a=>a!==null):null}return null}}class LU{constructor(e){this.idl=e;const n=e.instructions.map(r=>{const i=r.name,o=r.args.map(a=>Ue.fieldLayout(a,e.types)),s=ke.struct(o,i);return[i,{discriminator:r.discriminator,layout:s}]});this.ixLayouts=new Map(n)}encode(e,n){const r=me.Buffer.alloc(1e3),i=this.ixLayouts.get(e);if(!i)throw new Error(`Unknown method: ${e}`);const o=i.layout.encode(n,r),s=r.slice(0,o);return me.Buffer.concat([me.Buffer.from(i.discriminator),s])}decode(e,n="hex"){typeof e=="string"&&(e=n==="hex"?me.Buffer.from(e,"hex"):Ww.decode(e));for(const[r,i]of this.ixLayouts){const o=e.subarray(0,i.discriminator.length);if(o.equals(me.Buffer.from(i.discriminator)))return{name:r,data:i.layout.decode(e.subarray(o.length))}}return null}format(e,n){return fr.format(e,n,this.idl)}}class fr{static format(e,n,r){const i=r.instructions.find(l=>e.name===l.name);if(!i)return console.error("Invalid instruction given"),null;const o=i.args.map(l=>({name:l.name,type:fr.formatIdlType(l.type),data:fr.formatIdlData(l,e.data[l.name],r.types)})),s=fr.flattenIdlAccounts(i.accounts),a=n.map((l,c)=>c<s.length?{name:s[c].name,...l}:{name:void 0,...l});return{args:o,accounts:a}}static formatIdlType(e){if(typeof e=="string")return e;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("coption"in e)return`COption<${this.formatIdlType(e.coption)}>`;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;if("defined"in e){const n=e.defined.name;if(e.defined.generics){const r=e.defined.generics.map(i=>{switch(i.kind){case"type":return fr.formatIdlType(i.type);case"const":return i.value}}).join(", ");return`${n}<${r}>`}return n}throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,n,r){if(typeof e.type=="string")return n.toString();if("vec"in e.type)return"["+n.map(i=>this.formatIdlData({name:"",type:e.type.vec},i,r)).join(", ")+"]";if("option"in e.type)return n===null?"null":this.formatIdlData({name:"",type:e.type.option},n,r);if("defined"in e.type){if(!r)throw new Error("User defined types not provided");const i=e.type.defined.name,o=r.find(s=>s.name===i);if(!o)throw new Error(`Type not found: ${i}`);return fr.formatIdlDataDefined(o,n,r)}return"unknown"}static formatIdlDataDefined(e,n,r){switch(e.type.kind){case"struct":return"{ "+Ba(e.type.fields,()=>"",i=>Object.entries(n).map(([o,s])=>{const a=i.find(l=>l.name===o);if(!a)throw new Error(`Field not found: ${o}`);return o+": "+fr.formatIdlData(a,s,r)}).join(", "),i=>Object.entries(n).map(([o,s])=>o+": "+fr.formatIdlData({name:"",type:i[o]},s,r)).join(", "))+" }";case"enum":{const i=Object.keys(n)[0],o=e.type.variants.find(a=>a.name===i);if(!o)throw new Error(`Unable to find variant: ${i}`);const s=n[i];return Ba(o.fields,()=>i,a=>{const l=Object.keys(s).map(c=>{const d=s[c],g=a.find(p=>p.name===c);if(!g)throw new Error(`Field not found: ${c}`);return c+": "+fr.formatIdlData(g,d,r)}).join(", ");return`${i} { ${l} }`},a=>{const l=Object.entries(s).map(([c,d])=>c+": "+fr.formatIdlData({name:"",type:a[c]},d,r)).join(", ");return`${i} { ${l} }`})}case"type":return fr.formatIdlType(e.type.alias)}}static flattenIdlAccounts(e,n){return e.map(r=>{const i=BU(r.name);if(r.hasOwnProperty("accounts")){const o=n?`${n} > ${i}`:i;return fr.flattenIdlAccounts(r.accounts,o)}else return{...r,name:n?`${n} > ${i}`:i}}).flat()}}function BU(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}class PU{constructor(e){if(this.idl=e,!e.accounts){this.accountLayouts=new Map;return}const n=e.types;if(!n)throw new Error("Accounts require `idl.types`");const r=e.accounts.map(i=>{const o=n.find(s=>s.name===i.name);if(!o)throw new Error(`Account not found: ${i.name}`);return[i.name,{discriminator:i.discriminator,layout:Ue.typeDefLayout({typeDef:o,types:n})}]});this.accountLayouts=new Map(r)}async encode(e,n){const r=me.Buffer.alloc(1e3),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);const o=i.layout.encode(n,r),s=r.slice(0,o),a=this.accountDiscriminator(e);return me.Buffer.concat([a,s])}decode(e,n){const r=this.accountDiscriminator(e);if(r.compare(n.slice(0,r.length)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,n)}decodeAny(e){for(const[n,r]of this.accountLayouts)if(e.subarray(0,r.discriminator.length).equals(me.Buffer.from(r.discriminator)))return this.decodeUnchecked(n,e);throw new Error("Account not found")}decodeUnchecked(e,n){const r=this.accountDiscriminator(e),i=n.subarray(r.length),o=this.accountLayouts.get(e);if(!o)throw new Error(`Unknown account: ${e}`);return o.layout.decode(i)}memcmp(e,n){const r=this.accountDiscriminator(e);return{offset:0,bytes:Ww.encode(n?me.Buffer.concat([r,n]):r)}}size(e){return this.accountDiscriminator(e).length+Ue.typeSize({defined:{name:e}},this.idl)}accountDiscriminator(e){var n;const r=(n=this.idl.accounts)===null||n===void 0?void 0:n.find(i=>i.name===e);if(!r)throw new Error(`Account not found: ${e}`);return me.Buffer.from(r.discriminator)}}class DU{constructor(e){if(!e.events){this.layouts=new Map;return}const n=e.types;if(!n)throw new Error("Events require `idl.types`");const r=e.events.map(i=>{const o=n.find(s=>s.name===i.name);if(!o)throw new Error(`Event not found: ${i.name}`);return[i.name,{discriminator:i.discriminator,layout:Ue.typeDefLayout({typeDef:o,types:n})}]});this.layouts=new Map(r)}decode(e){let n;try{n=JR(e)}catch{return null}for(const[r,i]of this.layouts){const o=n.subarray(0,i.discriminator.length);if(o.equals(me.Buffer.from(i.discriminator)))return{name:r,data:i.layout.decode(n.subarray(o.length))}}return null}}class UU{constructor(e){const n=e.types;if(!n){this.typeLayouts=new Map;return}const r=n.filter(i=>!i.generics).map(i=>[i.name,Ue.typeDefLayout({typeDef:i,types:n})]);this.typeLayouts=new Map(r)}encode(e,n){const r=me.Buffer.alloc(1e3),i=this.typeLayouts.get(e);if(!i)throw new Error(`Unknown type: ${e}`);const o=i.encode(n,r);return r.slice(0,o)}decode(e,n){const r=this.typeLayouts.get(e);if(!r)throw new Error(`Unknown type: ${e}`);return r.decode(n)}}class TN{constructor(e){this.instruction=new LU(e),this.accounts=new PU(e),this.events=new DU(e),this.types=new UU(e)}}class ur{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}decode(e,n){throw new Error("Layout is abstract")}encode(e,n,r){throw new Error("Layout is abstract")}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}var Kh=ur;function jU(t,e){return e.property?t+"["+e.property+"]":t}class ks extends ur{isCount(){throw new Error("ExternalLayout is abstract")}}class kN extends ks{constructor(e,n,r){if(!(e instanceof ur))throw new TypeError("layout must be a Layout");if(n===void 0)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Vh||this.layout instanceof CN}decode(e,n){return n===void 0&&(n=0),this.layout.decode(e,n+this.offset)}encode(e,n,r){return r===void 0&&(r=0),this.layout.encode(e,n,r+this.offset)}}class Vh extends ur{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntLE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntLE(e,r,this.span),this.span}}class CN extends ur{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntBE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntBE(e,r,this.span),this.span}}const Hm=Math.pow(2,32);function MN(t){const e=Math.floor(t/Hm),n=t-e*Hm;return{hi32:e,lo32:n}}function ON(t,e){return t*Hm+e}class zU extends ur{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),i=e.readUInt32LE(n+4);return ON(i,r)}encode(e,n,r){r===void 0&&(r=0);const i=MN(e);return n.writeUInt32LE(i.lo32,r),n.writeUInt32LE(i.hi32,r+4),8}}class FU extends ur{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),i=e.readInt32LE(n+4);return ON(i,r)}encode(e,n,r){r===void 0&&(r=0);const i=MN(e);return n.writeUInt32LE(i.lo32,r),n.writeInt32LE(i.hi32,r+4),8}}class WU extends ur{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof ur,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;try{r=this.fields.reduce((i,o)=>{const s=o.getSpan(e,n);return n+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n){n===void 0&&(n=0);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r){r===void 0&&(r=0);const i=r;let o=0,s=0;for(const a of this.fields){let l=a.span;if(s=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(s=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}o=r,r+=l}return o+s-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}class LN{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class wE extends LN{constructor(e,n){if(!(e instanceof ks&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}class BN extends ur{constructor(e,n,r){const i=e instanceof Vh||e instanceof CN;if(i)e=new wE(new kN(e));else if(e instanceof ks&&e.isCount())e=new wE(e);else if(!(e instanceof LN))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof ur))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let o=-1;n&&(o=n.span,0<=o&&i&&(o+=e.layout.span)),super(o,r),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=n,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||e.hasOwnProperty(n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,n){n===void 0&&(n=0);let r;const i=this.discriminator,o=i.decode(e,n);let s=this.registry[o];if(s===void 0){let a=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),r=this.makeDestinationObject(),r[i.property]=o,r[s.property]=this.defaultLayout.decode(e,n+a)}else r=s.decode(e,n);return r}encode(e,n,r){r===void 0&&(r=0);const i=this.getSourceVariant(e);if(i===void 0){const o=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],n,r),a+s.encode(e[s.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new $U(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n){let r=e;return Buffer.isBuffer(e)&&(n===void 0&&(n=0),r=this.discriminator.decode(e,n)),this.registry[r]}}class $U extends ur{constructor(e,n,r,i){if(!(e instanceof BN))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof ur))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,n+r)}decode(e,n){const r=this.makeDestinationObject();if(n===void 0&&(n=0),this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r){r===void 0&&(r=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let o=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),o+=this.layout.getSpan(n,r+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class HU extends ur{constructor(e,n){if(!(e instanceof ks&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof ks||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n){n===void 0&&(n=0);let r=this.span;return 0>r&&(r=this.length.decode(e,n)),e.slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof ks&&(i=e.length),!(Buffer.isBuffer(e)&&i===e.length))throw new TypeError(jU("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return n.write(e.toString("hex"),r,i,"hex"),this.length instanceof ks&&this.length.encode(i,n,r),i}}var KU=(t,e,n)=>new kN(t,e,n),VU=t=>new Vh(1,t),Hi=t=>new Vh(4,t),GU=t=>new zU(t),no=t=>new FU(t),dn=(t,e,n)=>new WU(t,e,n),PN=(t,e,n)=>new BN(t,e,n),hu=(t,e)=>new HU(t,e);class qU extends Kh{constructor(e){super(-1,e),this.property=e,this.layout=dn([Hi("length"),Hi("lengthPadding"),hu(KU(Hi(),-8),"chars")],this.property)}encode(e,n,r=0){if(e==null)return this.layout.span;const i={chars:Buffer.from(e,"utf8")};return this.layout.encode(i,n,r)}decode(e,n=0){return this.layout.decode(e,n).chars.toString()}getSpan(e,n=0){return Hi().span+Hi().span+new er(new Uint8Array(e).slice(n,n+4),10,"le").toNumber()}}function Gh(t){return new qU(t)}function zr(t){return hu(32,t)}const Nr=PN(Hi("instruction"));Nr.addVariant(0,dn([no("lamports"),no("space"),zr("owner")]),"createAccount");Nr.addVariant(1,dn([zr("owner")]),"assign");Nr.addVariant(2,dn([no("lamports")]),"transfer");Nr.addVariant(3,dn([zr("base"),Gh("seed"),no("lamports"),no("space"),zr("owner")]),"createAccountWithSeed");Nr.addVariant(4,dn([zr("authorized")]),"advanceNonceAccount");Nr.addVariant(5,dn([no("lamports")]),"withdrawNonceAccount");Nr.addVariant(6,dn([zr("authorized")]),"initializeNonceAccount");Nr.addVariant(7,dn([zr("authorized")]),"authorizeNonceAccount");Nr.addVariant(8,dn([no("space")]),"allocate");Nr.addVariant(9,dn([zr("base"),Gh("seed"),no("space"),zr("owner")]),"allocateWithSeed");Nr.addVariant(10,dn([zr("base"),Gh("seed"),zr("owner")]),"assignWithSeed");Nr.addVariant(11,dn([no("lamports"),Gh("seed"),zr("owner")]),"transferWithSeed");Math.max(...Object.values(Nr.registry).map(t=>t.span));class YU extends Kh{constructor(e,n,r,i){super(e.span,i),this.layout=e,this.decoder=n,this.encoder=r}decode(e,n){return this.decoder(this.layout.decode(e,n))}encode(e,n,r){return this.layout.encode(this.encoder(e),n,r)}getSpan(e,n){return this.layout.getSpan(e,n)}}function vE(t){return new YU(hu(32),e=>new X(e),e=>e.toBuffer(),t)}dn([Hi("version"),Hi("state"),vE("authorizedPubkey"),vE("nonce"),dn([GU("lamportsPerSignature")],"feeCalculator")]);new X("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new X("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var _E={exports:{}};(function(t,e){var n=typeof self<"u"?self:CU,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(s){var a={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function l(u){return u&&DataView.prototype.isPrototypeOf(u)}if(a.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(u){return u&&c.indexOf(Object.prototype.toString.call(u))>-1};function g(u){if(typeof u!="string"&&(u=String(u)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(u))throw new TypeError("Invalid character in header field name");return u.toLowerCase()}function p(u){return typeof u!="string"&&(u=String(u)),u}function f(u){var h={next:function(){var S=u.shift();return{done:S===void 0,value:S}}};return a.iterable&&(h[Symbol.iterator]=function(){return h}),h}function m(u){this.map={},u instanceof m?u.forEach(function(h,S){this.append(S,h)},this):Array.isArray(u)?u.forEach(function(h){this.append(h[0],h[1])},this):u&&Object.getOwnPropertyNames(u).forEach(function(h){this.append(h,u[h])},this)}m.prototype.append=function(u,h){u=g(u),h=p(h);var S=this.map[u];this.map[u]=S?S+", "+h:h},m.prototype.delete=function(u){delete this.map[g(u)]},m.prototype.get=function(u){return u=g(u),this.has(u)?this.map[u]:null},m.prototype.has=function(u){return this.map.hasOwnProperty(g(u))},m.prototype.set=function(u,h){this.map[g(u)]=p(h)},m.prototype.forEach=function(u,h){for(var S in this.map)this.map.hasOwnProperty(S)&&u.call(h,this.map[S],S,this)},m.prototype.keys=function(){var u=[];return this.forEach(function(h,S){u.push(S)}),f(u)},m.prototype.values=function(){var u=[];return this.forEach(function(h){u.push(h)}),f(u)},m.prototype.entries=function(){var u=[];return this.forEach(function(h,S){u.push([S,h])}),f(u)},a.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function x(u){if(u.bodyUsed)return Promise.reject(new TypeError("Already read"));u.bodyUsed=!0}function R(u){return new Promise(function(h,S){u.onload=function(){h(u.result)},u.onerror=function(){S(u.error)}})}function y(u){var h=new FileReader,S=R(h);return h.readAsArrayBuffer(u),S}function b(u){var h=new FileReader,S=R(h);return h.readAsText(u),S}function _(u){for(var h=new Uint8Array(u),S=new Array(h.length),N=0;N<h.length;N++)S[N]=String.fromCharCode(h[N]);return S.join("")}function I(u){if(u.slice)return u.slice(0);var h=new Uint8Array(u.byteLength);return h.set(new Uint8Array(u)),h.buffer}function L(){return this.bodyUsed=!1,this._initBody=function(u){this._bodyInit=u,u?typeof u=="string"?this._bodyText=u:a.blob&&Blob.prototype.isPrototypeOf(u)?this._bodyBlob=u:a.formData&&FormData.prototype.isPrototypeOf(u)?this._bodyFormData=u:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(u)?this._bodyText=u.toString():a.arrayBuffer&&a.blob&&l(u)?(this._bodyArrayBuffer=I(u.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(u)||d(u))?this._bodyArrayBuffer=I(u):this._bodyText=u=Object.prototype.toString.call(u):this._bodyText="",this.headers.get("content-type")||(typeof u=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(u)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var u=x(this);if(u)return u;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?x(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var u=x(this);if(u)return u;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(_(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(U)}),this.json=function(){return this.text().then(JSON.parse)},this}var z=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function B(u){var h=u.toUpperCase();return z.indexOf(h)>-1?h:u}function F(u,h){h=h||{};var S=h.body;if(u instanceof F){if(u.bodyUsed)throw new TypeError("Already read");this.url=u.url,this.credentials=u.credentials,h.headers||(this.headers=new m(u.headers)),this.method=u.method,this.mode=u.mode,this.signal=u.signal,!S&&u._bodyInit!=null&&(S=u._bodyInit,u.bodyUsed=!0)}else this.url=String(u);if(this.credentials=h.credentials||this.credentials||"same-origin",(h.headers||!this.headers)&&(this.headers=new m(h.headers)),this.method=B(h.method||this.method||"GET"),this.mode=h.mode||this.mode||null,this.signal=h.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&S)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(S)}F.prototype.clone=function(){return new F(this,{body:this._bodyInit})};function U(u){var h=new FormData;return u.trim().split("&").forEach(function(S){if(S){var N=S.split("="),T=N.shift().replace(/\+/g," "),O=N.join("=").replace(/\+/g," ");h.append(decodeURIComponent(T),decodeURIComponent(O))}}),h}function W(u){var h=new m,S=u.replace(/\r?\n[\t ]+/g," ");return S.split(/\r?\n/).forEach(function(N){var T=N.split(":"),O=T.shift().trim();if(O){var j=T.join(":").trim();h.append(O,j)}}),h}L.call(F.prototype);function $(u,h){h||(h={}),this.type="default",this.status=h.status===void 0?200:h.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in h?h.statusText:"OK",this.headers=new m(h.headers),this.url=h.url||"",this._initBody(u)}L.call($.prototype),$.prototype.clone=function(){return new $(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},$.error=function(){var u=new $(null,{status:0,statusText:""});return u.type="error",u};var H=[301,302,303,307,308];$.redirect=function(u,h){if(H.indexOf(h)===-1)throw new RangeError("Invalid status code");return new $(null,{status:h,headers:{location:u}})},s.DOMException=o.DOMException;try{new s.DOMException}catch{s.DOMException=function(h,S){this.message=h,this.name=S;var N=Error(h);this.stack=N.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function A(u,h){return new Promise(function(S,N){var T=new F(u,h);if(T.signal&&T.signal.aborted)return N(new s.DOMException("Aborted","AbortError"));var O=new XMLHttpRequest;function j(){O.abort()}O.onload=function(){var C={status:O.status,statusText:O.statusText,headers:W(O.getAllResponseHeaders()||"")};C.url="responseURL"in O?O.responseURL:C.headers.get("X-Request-URL");var w="response"in O?O.response:O.responseText;S(new $(w,C))},O.onerror=function(){N(new TypeError("Network request failed"))},O.ontimeout=function(){N(new TypeError("Network request failed"))},O.onabort=function(){N(new s.DOMException("Aborted","AbortError"))},O.open(T.method,T.url,!0),T.credentials==="include"?O.withCredentials=!0:T.credentials==="omit"&&(O.withCredentials=!1),"responseType"in O&&a.blob&&(O.responseType="blob"),T.headers.forEach(function(C,w){O.setRequestHeader(w,C)}),T.signal&&(T.signal.addEventListener("abort",j),O.onreadystatechange=function(){O.readyState===4&&T.signal.removeEventListener("abort",j)}),O.send(typeof T._bodyInit>"u"?null:T._bodyInit)})}return A.polyfill=!0,o.fetch||(o.fetch=A,o.Headers=m,o.Request=F,o.Response=$),s.Headers=m,s.Request=F,s.Response=$,s.fetch=A,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(_E,_E.exports);ke.rustEnum([ke.struct([],"uninitialized"),ke.struct([ke.option(ke.publicKey(),"authorityAddress")],"buffer"),ke.struct([ke.publicKey("programdataAddress")],"program"),ke.struct([ke.u64("slot"),ke.option(ke.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,ke.u32());const Km="Program log: ",DN="Program data: ",ZU=Km.length,QU=DN.length;class XU{constructor(e,n,r){this._programId=e,this._provider=n,this._eventParser=new UN(e,r),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,n,r){var i;let o=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(e)||this._eventListeners.set(e,[]),this._eventListeners.set(e,((i=this._eventListeners.get(e))!==null&&i!==void 0?i:[]).concat(o)),this._eventCallbacks.set(o,[e,n]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(s,a)=>{if(!s.err)for(const l of this._eventParser.parseLogs(s.logs)){const c=this._eventListeners.get(l.name);c&&c.forEach(d=>{const g=this._eventCallbacks.get(d);if(g){const[,p]=g;p(l.data,a.slot,s.signature)}})}},r)),o}async removeEventListener(e){const n=this._eventCallbacks.get(e);if(!n)throw new Error(`Event listener ${e} doesn't exist!`);const[r]=n;let i=this._eventListeners.get(r);if(!i)throw new Error(`Event listeners don't exist for ${r}!`);if(this._eventCallbacks.delete(e),i=i.filter(o=>o!==e),this._eventListeners.set(r,i),i.length===0&&this._eventListeners.delete(r),this._eventCallbacks.size===0){if(this._eventListeners.size!==0)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class UN{constructor(e,n){this.coder=n,this.programId=e}*parseLogs(e,n=!1){const r=new ej(e),i=new JU;let o=r.next();for(;o!==null;){let[s,a,l]=this.handleLog(i,o,n);s&&(yield s),a&&i.push(a),l&&i.pop(),o=r.next()}}handleLog(e,n,r){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(n,r):[null,...this.handleSystemLog(n)]}handleProgramLog(e,n){if(e.startsWith(Km)||e.startsWith(DN)){const r=e.startsWith(Km)?e.slice(ZU):e.slice(QU),i=this.coder.events.decode(r);if(n&&i===null)throw new Error(`Unable to decode event ${r}`);return[i,null,!1]}else return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const n=e.split(":")[0];return n.match(/^Program (.*) success/g)!==null?[null,!0]:n.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:n.includes("invoke")?["cpi",!1]:[null,!1]}}class JU{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class ej{constructor(e){this.logs=e}next(){if(this.logs.length===0)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}function qh(t,e){var n,r;let i={};const o=t.args?t.args.length:0;if(e.length>o){if(e.length!==o+1)throw new Error(`provided too many arguments ${e} to instruction ${t==null?void 0:t.name} expecting: ${(r=(n=t.args)===null||n===void 0?void 0:n.map(s=>s.name))!==null&&r!==void 0?r:[]}`);i=e.pop()}return[e,i]}class Kf{static build(e,n,r){if(e.name==="_inner")throw new vo("the _inner name is reserved");const i=(...o)=>{const[s,a]=qh(e,[...o]);eI(e.accounts,a.accounts),tj(e,...o);const l=i.accounts(a.accounts);return a.remainingAccounts!==void 0&&l.push(...a.remainingAccounts),IN("debug-logs")&&console.log("Outgoing account metas:",l),new Ke({keys:l,programId:r,data:n(e.name,pU(e,...s))})};return i.accounts=o=>Kf.accountsArray(o,e.accounts,r,e.name),i}static accountsArray(e,n,r,i){return e?n.map(o=>{if(So(o)){const d=e[o.name];return Kf.accountsArray(d,o.accounts,r,i).flat()}let s;try{s=Zr(e[o.name])}catch{throw new Error(`Wrong input type for account "${o.name}" in the instruction accounts object${i!==void 0?' for instruction "'+i+'"':""}. Expected PublicKey or string.`)}const a=o.optional&&s.equals(r),l=!!(o.writable&&!a),c=!!(o.signer&&!a);return{pubkey:s,isWritable:l,isSigner:c}}).flat():[]}}function tj(t,...e){}class nj{static build(e,n){return(...i)=>{var o,s,a;const[,l]=qh(e,[...i]),c=new Be;if(l.preInstructions&&l.instructions)throw new Error("instructions is deprecated, use preInstructions");return(o=l.preInstructions)===null||o===void 0||o.forEach(d=>c.add(d)),(s=l.instructions)===null||s===void 0||s.forEach(d=>c.add(d)),c.add(n(...i)),(a=l.postInstructions)===null||a===void 0||a.forEach(d=>c.add(d)),c}}}class rj{static build(e,n,r,i){return async(...s)=>{var a;const l=n(...s),[,c]=qh(e,[...s]);if(i.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await i.sendAndConfirm(l,(a=c.signers)!==null&&a!==void 0?a:[],c.options)}catch(d){throw NN(d,r)}}}}class ij{static build(e,n,r,i){var o;return((o=e.accounts)!==null&&o!==void 0?o:[]).reduce((s,a)=>(s[a.name]=new oj(e,a,r,i,n),s),{})}}class oj{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(e,n,r,i,o){this._idlAccount=n,this._programId=r,this._provider=i??$m(),this._coder=o??new TN(e),this._size=this._coder.accounts.size(n.name)}async fetchNullable(e,n){const{data:r}=await this.fetchNullableAndContext(e,n);return r}async fetchNullableAndContext(e,n){const r=await this.getAccountInfoAndContext(e,n),{value:i,context:o}=r;return{data:i&&i.data.length!==0?this._coder.accounts.decode(this._idlAccount.name,i.data):null,context:o}}async fetch(e,n){const{data:r}=await this.fetchNullableAndContext(e,n);if(r===null)throw new Error(`Account does not exist or has no data ${e.toString()}`);return r}async fetchAndContext(e,n){const{data:r,context:i}=await this.fetchNullableAndContext(e,n);if(r===null)throw new Error(`Account does not exist ${e.toString()}`);return{data:r,context:i}}async fetchMultiple(e,n){return(await this.fetchMultipleAndContext(e,n)).map(i=>i?i.data:null)}async fetchMultipleAndContext(e,n){return(await AU(this._provider.connection,e.map(i=>Zr(i)),n)).map(i=>{if(i==null)return null;const{account:o,context:s}=i;return{data:this._coder.accounts.decode(this._idlAccount.name,o.data),context:s}})}async all(e){const n=this.coder.accounts.memcmp(this._idlAccount.name,e instanceof Buffer?e:void 0),r=[];return(n==null?void 0:n.offset)!=null&&(n==null?void 0:n.bytes)!=null&&r.push({memcmp:{offset:n.offset,bytes:n.bytes}}),(n==null?void 0:n.dataSize)!=null&&r.push({dataSize:n.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...r,...Array.isArray(e)?e:[]]})).map(({pubkey:o,account:s})=>({publicKey:o,account:this._coder.accounts.decode(this._idlAccount.name,s.data)}))}subscribe(e,n){const r=zl.get(e.toString());if(r)return r.ee;const i=new oU;e=Zr(e);const o=this._provider.connection.onAccountChange(e,s=>{const a=this._coder.accounts.decode(this._idlAccount.name,s.data);i.emit("change",a)},n);return zl.set(e.toString(),{ee:i,listener:o}),i}async unsubscribe(e){let n=zl.get(e.toString());if(!n){console.warn("Address is not subscribed");return}zl&&await this._provider.connection.removeAccountChangeListener(n.listener).then(()=>{zl.delete(e.toString())}).catch(console.error)}async createInstruction(e,n){const r=this.size;if(this._provider.publicKey===void 0)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return at.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:e.publicKey,space:n??r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(n??r),programId:this._programId})}async getAccountInfo(e,n){return await this._provider.connection.getAccountInfo(Zr(e),n)}async getAccountInfoAndContext(e,n){return await this._provider.connection.getAccountInfoAndContext(Zr(e),n)}}const zl=new Map;class sj{static build(e,n,r,i,o,s,a){return async(...c)=>{var d;const g=n(...c),[,p]=qh(e,[...c]);let f;if(i.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{f=await i.simulate(g,p.signers,(d=p.options)===null||d===void 0?void 0:d.commitment)}catch(R){throw NN(R,r)}if(f===void 0)throw new Error("Unable to simulate transaction");const m=f.logs;if(!m)throw new Error("Simulated logs not found");const x=[];if(a.events){let R=new UN(s,o);for(const y of R.parseLogs(m))x.push(y)}return{events:x,raw:m}}}}function O0(t){return new jN(hu(8),e=>lj.fromBuffer(e),e=>e.toBuffer(),t)}function Xu(t){return new jN(hu(32),e=>new X(e),e=>e.toBuffer(),t)}function L0(t,e){return new aj(t,e)}class jN extends Kh{constructor(e,n,r,i){super(e.span,i),this.layout=e,this.decoder=n,this.encoder=r}decode(e,n){return this.decoder(this.layout.decode(e,n))}encode(e,n,r){return this.layout.encode(this.encoder(e),n,r)}getSpan(e,n){return this.layout.getSpan(e,n)}}class aj extends Kh{constructor(e,n){super(-1,n),this.layout=e,this.discriminator=Hi()}encode(e,n,r=0){return e==null?this.layout.span+this.discriminator.encode(0,n,r):(this.discriminator.encode(1,n,r),this.layout.encode(e,n,r+4)+4)}decode(e,n=0){const r=this.discriminator.decode(e,n);if(r===0)return null;if(r===1)return this.layout.decode(e,n+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,n=0){return this.layout.getSpan(e,n+4)+4}}let lj=class zN extends er{toBuffer(){const e=super.toArray().reverse(),n=Buffer.from(e);if(n.length===8)return n;if(n.length>=8)throw new Error("u64 too large");const r=Buffer.alloc(8);return n.copy(r),r}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new zN([...e].reverse().map(n=>`00${n.toString(16)}`.slice(-2)).join(""),16)}};const cj=dn([Xu("mint"),Xu("owner"),O0("amount"),L0(Xu(),"delegate"),(t=>{const e=PN(VU("discriminator"),null,t);return e.addVariant(0,dn([]),"uninitialized"),e.addVariant(1,dn([]),"initialized"),e.addVariant(2,dn([]),"frozen"),e})("state"),L0(O0(),"isNative"),O0("delegatedAmount"),L0(Xu(),"closeAuthority")]);function uj(t){return cj.decode(t)}class dj{constructor(e,n,r,i,o,s,a,l){this._args=e,this._accounts=n,this._provider=r,this._programId=i,this._idlIx=o,this._idlTypes=a,this._customResolver=l,this._accountStore=new fj(r,s,i)}args(e){this._args=e}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let e=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(e++,e===16){const n=s=>So(s)?s.accounts.some(n):!!(s.address||s.pda||s.relations),r=(s,a=[],l=[])=>{for(const c of s)So(c)?l.push(...r(c.accounts,[...a,c.name])):l.push([...a,c.name]);return l},i=this._idlIx.accounts.filter(n),o=r(i).filter(s=>!this.get(s)).map(s=>s.reduce((a,l)=>a+"."+l)).map(s=>`\`${s}\``).join(", ");throw new Error(["Reached maximum depth for account resolution.",`Unresolved accounts: ${o}`].join(" "))}}resolveOptionals(e){Object.assign(this._accounts,this.resolveOptionalsHelper(e,this._idlIx.accounts))}get(e){const n=e.reduce((r,i)=>r&&r[i],this._accounts);if(n&&n.toBase58)return n}set(e,n){let r=this._accounts;e.forEach((i,o)=>{var s;o===e.length-1&&(r[i]=n),r[i]=(s=r[i])!==null&&s!==void 0?s:{},r=r[i]})}resolveOptionalsHelper(e,n){const r={};for(const i of n){const o=i.name,s=e[o];s!==void 0&&(FN(s)?So(i)?r[o]=this.resolveOptionalsHelper(s,i.accounts):r[o]=WN(s):s!==null?r[o]=Zr(s):i.optional&&(r[o]=this._programId))}return r}async resolveCustom(){if(this._customResolver){const{accounts:e,resolved:n}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=e,n}return 0}resolveEventCpi(e,n=[]){for(const r in e){const i=e[r];So(i)&&this.resolveEventCpi(i.accounts,[...n,i.name]);const o=+r+1;if(o===e.length)return;const s=e[r].name,a=e[o].name;if(s==="eventAuthority"&&a==="program"){const l=[...n,s],c=[...n,a];this.get(l)||this.set(l,X.findProgramAddressSync([Buffer.from("__event_authority")],this._programId)[0]),this.get(c)||this.set(c,this._programId);return}}}resolveConst(e,n=[]){for(const r of e){const i=r.name;if(So(r))this.resolveConst(r.accounts,[...n,i]);else{const o=r;if((o.signer||o.address)&&!this.get([...n,i])){if(o.signer){if(!this._provider.publicKey)throw new Error("This function requires the `Provider` interface implementor to have a `publicKey` field.");this.set([...n,i],this._provider.publicKey)}o.address&&this.set([...n,i],Zr(o.address))}}}}async resolvePdasAndRelations(e,n=[]){let r=0;for(const i of e){const o=i.name;if(So(i))r+=await this.resolvePdasAndRelations(i.accounts,[...n,o]);else{const s=i;if((s.pda||s.relations)&&!this.get([...n,o])){r++;try{if(s.pda){const a=await Promise.all(s.pda.seeds.map(d=>this.toBuffer(d,n)));if(a.some(d=>!d))continue;const l=await this.parseProgramId(s,n),[c]=X.findProgramAddressSync(a,l);this.set([...n,o],c)}}catch{}try{if(s.relations){const a=this.get([...n,s.relations[0]]);if(a){const l=await this._accountStore.fetchAccount({publicKey:a});this.set([...n,o],l[o])}}}catch{}}}}return r}async parseProgramId(e,n=[]){var r;if(!(!((r=e.pda)===null||r===void 0)&&r.program))return this._programId;const i=await this.toBuffer(e.pda.program,n);if(!i)throw new Error(`Program seed not resolved: ${e.name}`);return new X(i)}async toBuffer(e,n=[]){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e,n);default:throw new Error(`Unexpected seed: ${e}`)}}toBufferConst(e){return this.toBufferValue("bytes",e.value)}async toBufferArg(e){const[n,...r]=e.path.split("."),i=this._idlIx.args.findIndex(a=>a.name===n);if(i===-1)throw new Error(`Unable to find argument for seed: ${n}`);const o=r.reduce((a,l)=>(a??{})[l],this._args[i]);if(o===void 0)return;const s=this.getType(this._idlIx.args[i].type,r);return this.toBufferValue(s,o)}async toBufferAccount(e,n=[]){const[r,...i]=e.path.split("."),o=this.get([...n,r]);if(!o)return;if(!i.length)return this.toBufferValue("pubkey",o);if(!e.account)throw new Error(`Seed account is required in order to resolve type: ${e.path}`);let a=await this._accountStore.fetchAccount({publicKey:o,name:e.account}),l=i;for(;l.length>0;)a=a[l[0]],l=l.slice(1);if(a===void 0)return;const c=this.getType({defined:{name:e.account}},i);return this.toBufferValue(c,a)}toBufferValue(e,n){switch(e){case"u8":case"i8":return Buffer.from([n]);case"u16":case"i16":return new er(n).toArrayLike(Buffer,"le",2);case"u32":case"i32":return new er(n).toArrayLike(Buffer,"le",4);case"u64":case"i64":return new er(n).toArrayLike(Buffer,"le",8);case"u128":case"i128":return new er(n).toArrayLike(Buffer,"le",16);case"u256":case"i256":return new er(n).toArrayLike(Buffer,"le",32);case"string":return Buffer.from(n);case"pubkey":return n.toBuffer();case"bytes":return Buffer.from(n);default:if(e!=null&&e.array)return Buffer.from(n);throw new Error(`Unexpected seed type: ${e}`)}}getType(e,n=[]){var r;const i=(r=e==null?void 0:e.defined)===null||r===void 0?void 0:r.name;if(i){if(i==="tokenAccount")switch(n.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw new Error(`Unknown token account path: ${n}`)}const o=this._idlTypes.find(d=>d.name===i);if(!o)throw new Error(`Type not found: ${i}`);const[s,...a]=n,c=o.type.fields.find(d=>d.name===s);if(!c)throw new Error(`Field not found: ${s}`);return this.getType(c.type,a)}return e}}class fj{constructor(e,n,r){this._provider=e,this._cache=new Map,this._idls={},this._idls[r.toBase58()]=n}async fetchAccount({publicKey:e,name:n}){const r=e.toBase58();if(!this._cache.has(r)){const i=await this._provider.connection.getAccountInfo(e);if(i===null)throw new Error(`Account not found: ${r}`);if(n==="tokenAccount"){const o=uj(i.data);this._cache.set(r,o)}else{const o=await this.getAccountsNs(i.owner);if(o){const s=Object.values(o)[0];if(s){const a=s.coder.accounts.decodeAny(i.data);this._cache.set(r,a)}}}}return this._cache.get(r)}async getAccountsNs(e){const n=e.toBase58();if(!this._idls[n]){const r=await yl.fetchIdl(e,this._provider);if(r){const i=new yl(r,this._provider);this._idls[n]=i.account}}return this._idls[n]}}class hj{static build(e,n,r,i,o,s,a,l,c,d,g){return(...p)=>new pj(p,i,o,s,a,l,e,n,r,c,d,g)}}function FN(t){return typeof t=="object"&&t!==null&&!("_bn"in t)}function WN(t,e){const n={};for(const r in t){const i=t[r];if(i===null)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");n[r]=FN(i)?WN(i):Zr(i)}return n}class pj{constructor(e,n,r,i,o,s,a,l,c,d,g,p){this._args=e,this._ixFn=n,this._txFn=r,this._rpcFn=i,this._simulateFn=o,this._viewFn=s,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new dj(e,this._accounts,a,l,c,d,g,p)}args(e){this._args=e,this._accountsResolver.args(e)}accounts(e){return this.accountsPartial(e)}accountsPartial(e){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(e),this}accountsStrict(e){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e,n=!1){return n?this._preInstructions=e.concat(this._preInstructions):this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async simulate(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async view(e){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error(["Method does not support views.","The instruction should return a value, and its accounts must be read-only"].join(" "));return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpc(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpcAndKeys(e){return{signature:await this.rpc(e),pubkeys:await this.pubkeys()}}async prepare(){return{instruction:await this.instruction(),signers:this._signers,pubkeys:await this.pubkeys()}}}class gj{static build(e,n,r,i){const o=n.accounts.find(l=>l.writable),s=!!n.returns;return o||!s?void 0:async(...l)=>{let c=await r(...l);const d=`Program return: ${e} `;let g=c.raw.find(x=>x.startsWith(d));if(!g)throw new Error("View expected return log");let p=JR(g.slice(d.length)),f=n.returns;if(!f)throw new Error("View expected return type");return Ue.fieldLayout({type:f},i.types).decode(p)}}}class mj{static build(e,n,r,i,o){const s={},a={},l={},c={},d={},g={},p=hU(e),f=e.accounts?ij.build(e,n,r,i):{};return e.instructions.forEach(m=>{const x=Kf.build(m,(z,B)=>n.instruction.encode(z,B),r),R=nj.build(m,x),y=rj.build(m,R,p,i),b=sj.build(m,R,p,i,n,r,e),_=gj.build(r,m,b,e),I=hj.build(i,r,m,x,R,y,b,_,f,e.types||[],o==null?void 0:o(m)),L=m.name;a[L]=x,l[L]=R,s[L]=y,c[L]=b,d[L]=I,_&&(g[L]=_)}),[s,a,l,f,c,d,g]}}class yl{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(e,n=$m(),r,i){this._idl=fU(e),this._rawIdl=e,this._provider=n,this._programId=Zr(e.address),this._coder=r??new TN(this._idl),this._events=new XU(this._programId,n,this._coder);const[o,s,a,l,c,d,g]=mj.build(this._idl,this._coder,this._programId,n,i);this.rpc=o,this.instruction=s,this.transaction=a,this.account=l,this.simulate=c,this.methods=d,this.views=g}static async at(e,n){const r=Zr(e),i=await yl.fetchIdl(r,n);if(!i)throw new Error(`IDL not found for program: ${e.toString()}`);return new yl(i,n)}static async fetchIdl(e,n){n=n??$m();const r=Zr(e),i=await lU(r),o=await n.connection.getAccountInfo(i);if(!o)return null;let s=dU(o.data.slice(8));const a=rU(s.data);return JSON.parse(aU(a))}addEventListener(e,n,r){return this._events.addEventListener(e,n,r)}async removeEventListener(e){return await this._events.removeEventListener(e)}}new X("11111111111111111111111111111111");const nn=new X("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new X("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");const Qr=new X("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new X("So11111111111111111111111111111111111111112");new X("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");const Xw=t=>{const e=t.decode.bind(t),n=t.encode.bind(t);return{decode:e,encode:n}};var pu={};Object.defineProperty(pu,"__esModule",{value:!0});function yj(t){{const e=Buffer.from(t);e.reverse();const n=e.toString("hex");return n.length===0?BigInt(0):BigInt(`0x${n}`)}}var wj=pu.toBigIntLE=yj;function vj(t){{const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}pu.toBigIntBE=vj;function _j(t,e){{const n=t.toString(16),r=Buffer.from(n.padStart(e*2,"0").slice(0,e*2),"hex");return r.reverse(),r}}var Ej=pu.toBufferLE=_j;function bj(t,e){{const n=t.toString(16);return Buffer.from(n.padStart(e*2,"0").slice(0,e*2),"hex")}}pu.toBufferBE=bj;const Sj=t=>e=>{const n=it(t,e),{encode:r,decode:i}=Xw(n),o=n;return o.decode=(s,a)=>{const l=i(s,a);return wj(Buffer.from(l))},o.encode=(s,a,l)=>{const c=Ej(s,t);return r(c,a,l)},o},Ei=Sj(8),Ws=t=>{const e=Ne(t),{encode:n,decode:r}=Xw(e),i=e;return i.decode=(o,s)=>!!r(o,s),i.encode=(o,s,a)=>{const l=Number(o);return n(l,s,a)},i},rt=t=>{const e=it(32,t),{encode:n,decode:r}=Xw(e),i=e;return i.decode=(o,s)=>{const a=r(o,s);return new X(a)},i.encode=(o,s,a)=>{const l=o.toBuffer();return n(l,s,a)},i};class gu extends Error{constructor(e){super(e)}}class Aj extends gu{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class xj extends gu{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}class Rj extends gu{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class EE extends gu{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class $N extends gu{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}var Vf;(function(t){t[t.InitializeMint=0]="InitializeMint",t[t.InitializeAccount=1]="InitializeAccount",t[t.InitializeMultisig=2]="InitializeMultisig",t[t.Transfer=3]="Transfer",t[t.Approve=4]="Approve",t[t.Revoke=5]="Revoke",t[t.SetAuthority=6]="SetAuthority",t[t.MintTo=7]="MintTo",t[t.Burn=8]="Burn",t[t.CloseAccount=9]="CloseAccount",t[t.FreezeAccount=10]="FreezeAccount",t[t.ThawAccount=11]="ThawAccount",t[t.TransferChecked=12]="TransferChecked",t[t.ApproveChecked=13]="ApproveChecked",t[t.MintToChecked=14]="MintToChecked",t[t.BurnChecked=15]="BurnChecked",t[t.InitializeAccount2=16]="InitializeAccount2",t[t.SyncNative=17]="SyncNative",t[t.InitializeAccount3=18]="InitializeAccount3",t[t.InitializeMultisig2=19]="InitializeMultisig2",t[t.InitializeMint2=20]="InitializeMint2",t[t.GetAccountDataSize=21]="GetAccountDataSize",t[t.InitializeImmutableOwner=22]="InitializeImmutableOwner",t[t.AmountToUiAmount=23]="AmountToUiAmount",t[t.UiAmountToAmount=24]="UiAmountToAmount",t[t.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",t[t.TransferFeeExtension=26]="TransferFeeExtension",t[t.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",t[t.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",t[t.Reallocate=29]="Reallocate",t[t.MemoTransferExtension=30]="MemoTransferExtension",t[t.CreateNativeMint=31]="CreateNativeMint",t[t.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",t[t.InterestBearingMintExtension=33]="InterestBearingMintExtension",t[t.CpiGuardExtension=34]="CpiGuardExtension",t[t.InitializePermanentDelegate=35]="InitializePermanentDelegate",t[t.TransferHookExtension=36]="TransferHookExtension",t[t.MetadataPointerExtension=39]="MetadataPointerExtension"})(Vf||(Vf={}));function Ij(t,e,n){if(n.length){t.push({pubkey:e,isSigner:!1,isWritable:!1});for(const r of n)t.push({pubkey:r instanceof X?r:r.publicKey,isSigner:!0,isWritable:!1})}else t.push({pubkey:e,isSigner:!0,isWritable:!1});return t}function Nj(t,e){return t instanceof X?[t,e]:[t.publicKey,[t]]}var Vm;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Mint=1]="Mint",t[t.Account=2]="Account"})(Vm||(Vm={}));const HN=1,Tj=se([Ne("m"),Ne("n"),Ws("isInitialized"),rt("signer1"),rt("signer2"),rt("signer3"),rt("signer4"),rt("signer5"),rt("signer6"),rt("signer7"),rt("signer8"),rt("signer9"),rt("signer10"),rt("signer11")]),KN=Tj.span;var Gf;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initialized=1]="Initialized",t[t.Frozen=2]="Frozen"})(Gf||(Gf={}));const VN=se([rt("mint"),rt("owner"),Ei("amount"),he("delegateOption"),rt("delegate"),Ne("state"),he("isNativeOption"),Ei("isNative"),Ei("delegatedAmount"),he("closeAuthorityOption"),rt("closeAuthority")]),va=VN.span;async function kj(t,e,n,r=nn){const i=await t.getAccountInfo(e,n);return Cj(e,i,r)}function Cj(t,e,n=nn){if(!e)throw new Aj;if(!e.owner.equals(n))throw new Rj;if(e.data.length<va)throw new EE;const r=VN.decode(e.data.slice(0,va));let i=Buffer.alloc(0);if(e.data.length>va){if(e.data.length===KN)throw new EE;if(e.data[va]!=Vm.Account)throw new xj;i=e.data.slice(va+HN)}return{address:t,mint:r.mint,owner:r.owner,amount:r.amount,delegate:r.delegateOption?r.delegate:null,delegatedAmount:r.delegatedAmount,isInitialized:r.state!==Gf.Uninitialized,isFrozen:r.state===Gf.Frozen,isNative:!!r.isNativeOption,rentExemptReserve:r.isNativeOption?r.isNative:null,closeAuthority:r.closeAuthorityOption?r.closeAuthority:null,tlvData:i}}const Mj=se([he("mintAuthorityOption"),rt("mintAuthority"),Ei("supply"),Ne("decimals"),Ws("isInitialized"),he("freezeAuthorityOption"),rt("freezeAuthority")]),GN=Mj.span;async function Oj(t,e){return await Lj(t,[],e)}async function Lj(t,e,n){const r=pz(e);return await t.getMinimumBalanceForRentExemption(r,n)}async function bE(t,e,n=!1,r=nn,i=Qr){if(!n&&!X.isOnCurve(e.toBuffer()))throw new $N;const[o]=await X.findProgramAddress([e.toBuffer(),r.toBuffer(),t.toBuffer()],i);return o}function Bj(t,e,n=!1,r=nn,i=Qr){if(!n&&!X.isOnCurve(e.toBuffer()))throw new $N;const[o]=X.findProgramAddressSync([e.toBuffer(),r.toBuffer(),t.toBuffer()],i);return o}const Pj=se([Ws("lockCpi")]),Dj=Pj.span,Uj=se([Ne("state")]),jj=Uj.span,zj=se([]),Fj=zj.span,Wj=se([rt("rateAuthority"),Wn("initializationTimestamp"),Mg("preUpdateAverageRate"),Wn("lastUpdateTimestamp"),Mg("currentRate")]),$j=Wj.span,Hj=se([Ws("requireIncomingTransferMemos")]),Kj=Hj.span,Vj=se([rt("authority"),rt("metadataAddress")]),Gj=Vj.span,qj=se([rt("closeAuthority")]),Yj=qj.span,qN=se([]),Zj=qN.span,Qj=qN.span,Xj=se([rt("delegate")]),Jj=Xj.span,ez=1e4;BigInt(ez);function SE(t){return se([Ei("epoch"),Ei("maximumFee"),mr("transferFeeBasisPoints")],t)}const tz=se([rt("transferFeeConfigAuthority"),rt("withdrawWithheldAuthority"),Ei("withheldAmount"),SE("olderTransferFee"),SE("newerTransferFee")]),nz=tz.span,rz=se([Ei("withheldAmount")]),iz=rz.span,oz=se([rt("authority"),rt("programId")]),sz=oz.span,az=se([Ws("transferring")]),lz=az.span,AE=se([Ne("discriminator"),it(32,"addressConfig"),Ws("isSigner"),Ws("isWritable")]),cz=se([he("count"),wn(AE,WA(AE.span),"extraAccounts")]);se([Ei("instructionDiscriminator"),he("length"),cz.replicate("extraAccountsList")]);var Ot;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.TransferFeeConfig=1]="TransferFeeConfig",t[t.TransferFeeAmount=2]="TransferFeeAmount",t[t.MintCloseAuthority=3]="MintCloseAuthority",t[t.ConfidentialTransferMint=4]="ConfidentialTransferMint",t[t.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",t[t.DefaultAccountState=6]="DefaultAccountState",t[t.ImmutableOwner=7]="ImmutableOwner",t[t.MemoTransfer=8]="MemoTransfer",t[t.NonTransferable=9]="NonTransferable",t[t.InterestBearingConfig=10]="InterestBearingConfig",t[t.CpiGuard=11]="CpiGuard",t[t.PermanentDelegate=12]="PermanentDelegate",t[t.NonTransferableAccount=13]="NonTransferableAccount",t[t.TransferHook=14]="TransferHook",t[t.TransferHookAccount=15]="TransferHookAccount",t[t.MetadataPointer=18]="MetadataPointer",t[t.TokenMetadata=19]="TokenMetadata"})(Ot||(Ot={}));const YN=2,uz=2;function xE(t){return t+YN+uz}function dz(t){switch(t){case Ot.TokenMetadata:return!0;default:return!1}}function fz(t){switch(t){case Ot.Uninitialized:return 0;case Ot.TransferFeeConfig:return nz;case Ot.TransferFeeAmount:return iz;case Ot.MintCloseAuthority:return Yj;case Ot.ConfidentialTransferMint:return 97;case Ot.ConfidentialTransferAccount:return 286;case Ot.CpiGuard:return Dj;case Ot.DefaultAccountState:return jj;case Ot.ImmutableOwner:return Fj;case Ot.MemoTransfer:return Kj;case Ot.MetadataPointer:return Gj;case Ot.NonTransferable:return Zj;case Ot.InterestBearingConfig:return $j;case Ot.PermanentDelegate:return Jj;case Ot.NonTransferableAccount:return Qj;case Ot.TransferHook:return sz;case Ot.TransferHookAccount:return lz;case Ot.TokenMetadata:throw Error(`Cannot get type length for variable extension type: ${t}`);default:throw Error(`Unknown extension type: ${t}`)}}function hz(t,e,n={}){if(t.length===0&&Object.keys(n).length===0)return e;{const r=va+HN+t.filter((i,o)=>o===t.indexOf(i)).map(i=>xE(fz(i))).reduce((i,o)=>i+o,0)+Object.entries(n).map(([i,o])=>{if(!dz(Number(i)))throw Error(`Extension ${i} is not variable length`);return xE(o)}).reduce((i,o)=>i+o,0);return r===KN?r+YN:r}}function pz(t,e={}){return hz(t,GN,e)}function gz(t,e,n,r,i=nn,o=Qr){return mz(t,e,n,r,Buffer.alloc(0),i,o)}function mz(t,e,n,r,i,o=nn,s=Qr){const a=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:at.programId,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1}];return new Ke({keys:a,programId:s,data:i})}async function yz(t,e,n,r,i,o=nn,s=Qr){const a=Bj(n,r,!1,o,s),l=new Be().add(gz(e.publicKey,a,r,n,o,s));return await ll(t,l,[e],i),a}const RE=se([Ne("instruction"),Ne("decimals"),rt("mintAuthority"),Ne("freezeAuthorityOption"),rt("freezeAuthority")]);function wz(t,e,n,r,i=nn){const o=[{pubkey:t,isSigner:!1,isWritable:!0}],s=Buffer.alloc(RE.span);return RE.encode({instruction:Vf.InitializeMint2,decimals:e,mintAuthority:n,freezeAuthorityOption:r?1:0,freezeAuthority:r||new X(0)},s),new Ke({keys:o,programId:i,data:s})}async function vz(t,e,n,r,i,o=Ho.generate(),s,a=nn){const l=await Oj(t),c=new Be().add(at.createAccount({fromPubkey:e.publicKey,newAccountPubkey:o.publicKey,space:GN,lamports:l,programId:a}),wz(o.publicKey,i,n,r,a));return await ll(t,c,[e,o],s),o.publicKey}const IE=se([Ne("instruction"),Ei("amount")]);function _z(t,e,n,r,i=[],o=nn){const s=Ij([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],n,i),a=Buffer.alloc(IE.span);return IE.encode({instruction:Vf.MintTo,amount:BigInt(r)},a),new Ke({keys:s,programId:o,data:a})}async function Ez(t,e,n,r,i,o,s=[],a,l=nn){const[c,d]=Nj(i,s),g=new Be().add(_z(n,r,c,o,s,l));return await ll(t,g,[e,...d],a)}const bz="7uVLXw3wQoGjFD1KVGdhFpiWHSwzQKEDASfKiQ8GrAWR",Sz={name:"universal_nft_program",version:"0.1.0",spec:"0.1.0",description:"Created with Anchor"},Az=[{name:"create_mint_and_nft",discriminator:[160,66,194,79,195,10,172,101],accounts:[{name:"program_state",writable:!0,pda:{seeds:[{kind:"const",value:[116,101,115,116,95,112,114,111,103,114,97,109,95,115,116,97,116,101]}]}},{name:"nft_origin",writable:!0},{name:"mint",writable:!0,signer:!0},{name:"token_account",writable:!0,pda:{seeds:[{kind:"account",path:"mint_authority"},{kind:"const",value:[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"mint_authority",signer:!0},{name:"payer",writable:!0,signer:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"rent",address:"SysvarRent111111111111111111111111111111111"},{name:"token_metadata_program",address:"metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"},{name:"metadata",writable:!0,pda:{seeds:[{kind:"const",value:[109,101,116,97,100,97,116,97]},{kind:"account",path:"token_metadata_program"},{kind:"account",path:"mint"}],program:{kind:"account",path:"token_metadata_program"}}},{name:"master_edition",writable:!0,pda:{seeds:[{kind:"const",value:[109,101,116,97,100,97,116,97]},{kind:"account",path:"token_metadata_program"},{kind:"account",path:"mint"},{kind:"const",value:[101,100,105,116,105,111,110]}],program:{kind:"account",path:"token_metadata_program"}}}],args:[{name:"uri",type:"string"},{name:"decimals",type:"u8"},{name:"token_id",type:"u64"}]},{name:"initialize",discriminator:[175,175,109,31,13,152,155,237],accounts:[{name:"program_state",writable:!0,pda:{seeds:[{kind:"const",value:[116,101,115,116,95,112,114,111,103,114,97,109,95,115,116,97,116,101]}]}},{name:"payer",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"gateway",type:"pubkey"},{name:"next_token_id",type:"u64"},{name:"universal_nft_contract",type:{array:["u8",20]}},{name:"gas_limit",type:"u64"},{name:"uniswap_router",type:"pubkey"}]},{name:"migrate_program_state",discriminator:[12,91,211,39,94,44,95,212],accounts:[{name:"program_state",writable:!0,pda:{seeds:[{kind:"const",value:[116,101,115,116,95,112,114,111,103,114,97,109,95,115,116,97,116,101]}]}},{name:"payer",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"pause",discriminator:[211,22,221,251,74,121,193,47],accounts:[{name:"program_state",writable:!0,pda:{seeds:[{kind:"const",value:[116,101,115,116,95,112,114,111,103,114,97,109,95,115,116,97,116,101]}]}},{name:"admin",signer:!0}],args:[]},{name:"receive_cross_chain_message",discriminator:[237,72,165,133,19,63,202,44],accounts:[{name:"program_state",writable:!0,pda:{seeds:[{kind:"const",value:[116,101,115,116,95,112,114,111,103,114,97,109,95,115,116,97,116,101]}]}},{name:"nft_origin",writable:!0},{name:"mint",writable:!0},{name:"mint_authority",signer:!0},{name:"recipient_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"mint_authority"},{kind:"const",value:[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"payer",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"rent",address:"SysvarRent111111111111111111111111111111111"}],args:[{name:"token_id",type:"u64"},{name:"message",type:"bytes"}]},{name:"set_connected_contract",discriminator:[34,206,63,158,20,210,121,231],accounts:[{name:"program_state",writable:!0,pda:{seeds:[{kind:"const",value:[116,101,115,116,95,112,114,111,103,114,97,109,95,115,116,97,116,101]}]}},{name:"admin",signer:!0}],args:[{name:"zrc20",type:{array:["u8",20]}},{name:"contract_address",type:"bytes"}]},{name:"set_gas_limit",discriminator:[193,177,212,93,204,142,230,95],accounts:[{name:"program_state",writable:!0,pda:{seeds:[{kind:"const",value:[116,101,115,116,95,112,114,111,103,114,97,109,95,115,116,97,116,101]}]}},{name:"admin",signer:!0}],args:[{name:"gas_limit",type:"u64"}]},{name:"set_gateway",discriminator:[228,206,184,169,141,115,234,45],accounts:[{name:"program_state",writable:!0,pda:{seeds:[{kind:"const",value:[116,101,115,116,95,112,114,111,103,114,97,109,95,115,116,97,116,101]}]}},{name:"admin",signer:!0}],args:[{name:"gateway",type:"pubkey"}]},{name:"set_universal_nft_contract",discriminator:[114,211,38,2,155,154,234,69],accounts:[{name:"program_state",writable:!0,pda:{seeds:[{kind:"const",value:[116,101,115,116,95,112,114,111,103,114,97,109,95,115,116,97,116,101]}]}},{name:"admin",signer:!0}],args:[{name:"universal_nft_contract",type:{array:["u8",20]}}]},{name:"transfer_cross_chain",discriminator:[156,254,121,90,64,192,182,110],accounts:[{name:"program_state",pda:{seeds:[{kind:"const",value:[116,101,115,116,95,112,114,111,103,114,97,109,95,115,116,97,116,101]}]}},{name:"nft_origin"},{name:"mint",writable:!0},{name:"user_token_account",writable:!0},{name:"user",writable:!0,signer:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"gateway_program"}],args:[{name:"token_id",type:"u64"},{name:"receiver",type:{array:["u8",20]}},{name:"destination",type:{array:["u8",20]}}]},{name:"unpause",discriminator:[169,144,4,38,10,141,188,255],accounts:[{name:"program_state",writable:!0,pda:{seeds:[{kind:"const",value:[116,101,115,116,95,112,114,111,103,114,97,109,95,115,116,97,116,101]}]}},{name:"admin",signer:!0}],args:[]}],xz=[{name:"NFTOrigin",discriminator:[246,244,84,171,87,164,191,16]},{name:"ProgramState",discriminator:[77,209,137,229,149,67,167,230]}],Rz=[{name:"ConnectedContractSet",discriminator:[9,193,40,196,196,128,35,99]},{name:"CrossChainMessageReceived",discriminator:[83,91,165,215,175,157,189,144]},{name:"CrossChainTransferInitiated",discriminator:[127,115,45,112,245,231,24,11]},{name:"GasLimitUpdated",discriminator:[178,82,14,77,176,69,230,138]},{name:"GatewayUpdated",discriminator:[224,170,219,37,49,94,50,90]},{name:"MintCreated",discriminator:[254,157,196,76,231,48,27,150]},{name:"NFTMinted",discriminator:[229,55,248,184,138,23,199,249]},{name:"NFTOriginCreated",discriminator:[120,23,198,122,225,11,0,116]},{name:"ProgramInitialized",discriminator:[43,70,110,241,199,218,221,245]},{name:"ProgramPaused",discriminator:[247,9,236,38,105,35,112,115]},{name:"ProgramStateMigrated",discriminator:[206,134,164,158,25,94,237,180]},{name:"ProgramUnpaused",discriminator:[193,183,146,52,180,17,21,26]},{name:"UniversalNFTContractUpdated",discriminator:[212,65,82,218,166,167,169,128]}],Iz=[{code:6e3,name:"InvalidCrossChainMessage",msg:"Invalid cross-chain message"},{code:6001,name:"UnauthorizedSender",msg:"Unauthorized sender"},{code:6002,name:"InvalidDestination",msg:"Invalid destination"},{code:6003,name:"TransferFailed",msg:"Transfer failed"},{code:6004,name:"InvalidGasLimit",msg:"Invalid gas limit"}],Nz=[{name:"ConnectedContractSet",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"zrc20",type:{array:["u8",20]}},{name:"contract_address",type:"bytes"}]}},{name:"CrossChainMessageReceived",type:{kind:"struct",fields:[{name:"token_id",type:"u64"},{name:"origin_chain",type:"u64"},{name:"mint",type:"pubkey"},{name:"recipient",type:"pubkey"}]}},{name:"CrossChainTransferInitiated",type:{kind:"struct",fields:[{name:"token_id",type:"u64"},{name:"destination_chain",type:"u64"},{name:"destination_owner",type:{array:["u8",20]}},{name:"mint",type:"pubkey"}]}},{name:"GasLimitUpdated",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"gas_limit",type:"u64"}]}},{name:"GatewayUpdated",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"gateway",type:"pubkey"}]}},{name:"MintCreated",type:{kind:"struct",fields:[{name:"mint",type:"pubkey"},{name:"mint_authority",type:"pubkey"},{name:"decimals",type:"u8"},{name:"token_id",type:"u64"}]}},{name:"NFTMinted",type:{kind:"struct",fields:[{name:"token_id",type:"u64"},{name:"mint",type:"pubkey"},{name:"metadata_uri",type:"string"}]}},{name:"NFTOrigin",type:{kind:"struct",fields:[{name:"token_id",type:"u64"},{name:"origin_chain",type:"u64"},{name:"origin_token_id",type:"u64"},{name:"metadata_uri",type:"string"},{name:"mint",type:"pubkey"},{name:"created_at",type:"i64"},{name:"bump",type:"u8"}]}},{name:"NFTOriginCreated",type:{kind:"struct",fields:[{name:"token_id",type:"u64"},{name:"origin_chain",type:"u64"},{name:"origin_token_id",type:"u64"},{name:"mint",type:"pubkey"},{name:"metadata_uri",type:"string"}]}},{name:"ProgramInitialized",type:{kind:"struct",fields:[{name:"owner",type:"pubkey"},{name:"gateway",type:"pubkey"},{name:"initial_token_id",type:"u64"},{name:"gas_limit",type:"u64"},{name:"uniswap_router",type:"pubkey"}]}},{name:"ProgramPaused",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"}]}},{name:"ProgramState",type:{kind:"struct",fields:[{name:"owner",type:"pubkey"},{name:"gateway",type:"pubkey"},{name:"universal_nft_contract",type:{array:["u8",20]}},{name:"next_token_id",type:"u64"},{name:"paused",type:"bool"},{name:"bump",type:"u8"},{name:"gas_limit",type:"u64"},{name:"uniswap_router",type:"pubkey"}]}},{name:"ProgramStateMigrated",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"gas_limit",type:"u64"},{name:"uniswap_router",type:"pubkey"}]}},{name:"ProgramUnpaused",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"}]}},{name:"UniversalNFTContractUpdated",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"universal_nft_contract",type:{array:["u8",20]}}]}}],Tz={address:bz,metadata:Sz,instructions:Az,accounts:xz,events:Rz,errors:Iz,types:Nz},B0={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},oa=new X("7uVLXw3wQoGjFD1KVGdhFpiWHSwzQKEDASfKiQ8GrAWR"),sa=new X("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),Tr={SOLANA_DEVNET:901,ZETACHAIN_TESTNET:7001,ETHEREUM_SEPOLIA:11155111,BSC_TESTNET:97,POLYGON_AMOY:80002,ARBITRUM_SEPOLIA:421614,BITCOIN_TESTNET:18332,SOLANA_MAINNET:0},ZN={901:"Solana Devnet",7001:"ZetaChain Testnet (Athens)",11155111:"Ethereum Sepolia Testnet",97:"BSC Testnet",80002:"Polygon Amoy Testnet",421614:"Arbitrum Sepolia Testnet",18332:"Bitcoin Testnet",0:"Solana Mainnet"};function Fl(t){return ZN[t]||"Unknown Chain"}class st{constructor(e,n){Tt(this,"program");Tt(this,"wallet");this.wallet=n;const r=new Gc(e,n,{commitment:"processed",preflightCommitment:"processed"});this.program=new yl(Tz,r)}async initialize(e,n,r,i=1e6,o=at.programId){try{const[s]=st.getProgramStatePDA();console.log("Initializing program with PDA:",s.toString());const a=r.trim().toLowerCase();if(!/^0x[0-9a-f]{40}$/.test(a))throw new Error("Invalid EVM contract address");const l=Uint8Array.from(Buffer.from(a.slice(2),"hex"));console.log("Initialize parameters:",{gateway:e.toString(),nextTokenId:n,evmContract:Array.from(l),gasLimit:i,uniswapRouter:o.toString()});const c=await this.program.methods.initialize(e,new er(n),Array.from(l),new er(i),o).accounts({programState:s,payer:this.wallet.publicKey,systemProgram:at.programId}).rpc();return console.log("Program initialized successfully:",c),c}catch(s){throw console.error("Error initializing program:",s),s}}static getProgramStatePDA(){return X.findProgramAddressSync([Buffer.from("test_program_state")],oa)}static getNFTOriginPDA(e){const n=Buffer.from("nft_origin"),r=Buffer.alloc(8);return r.writeBigUInt64LE(BigInt(e),0),X.findProgramAddressSync([n,r],oa)}static getNFTOriginPDAMintNFT(){const e=Buffer.from("nft_origin"),n=Buffer.alloc(10).fill(0);return X.findProgramAddressSync([e,n],oa)}async createMintAndNFT(e,n){try{console.log("=== CREATE MINT AND NFT START ==="),console.log("Creating mint and NFT with URI:",e),console.log("Decimals:",n),console.log("Timestamp:",new Date().toISOString()),console.log("Wallet address:",this.wallet.publicKey.toString());const[r]=st.getProgramStatePDA();console.log("Program state PDA:",r.toString());let i;try{i=await this.program.account.programState.fetch(r)}catch(x){throw console.error("Failed to fetch program state:",x),x.message&&x.message.includes("Failed to deserialize")?new Error(`Program state has old structure and cannot be deserialized. This usually happens when the program was updated but the existing program state account has the old data structure. You may need to reinitialize the program or contact the administrator to migrate the program state. Error: ${x.message}`):new Error(`Failed to fetch program state: ${x.message}`)}const o=i.nextTokenId;console.log("Current next_token_id:",o.toString());const s=Ho.generate();console.log("Generated mint keypair:",s.publicKey.toString());const a=await this.getAssociatedTokenAddress(s.publicKey);console.log("Token account address:",a.toString());const[l]=X.findProgramAddressSync([Buffer.from("metadata"),sa.toBuffer(),s.publicKey.toBuffer()],sa),[c]=X.findProgramAddressSync([Buffer.from("metadata"),sa.toBuffer(),s.publicKey.toBuffer(),Buffer.from("edition")],sa),d=o.toNumber();console.log("Client-side PDA derivation:"),console.log("Using current next_token_id for PDA:",d),console.log("Current next_token_id from program state:",o.toString());const g=Buffer.alloc(8);g.writeBigUInt64LE(BigInt(d),0),console.log("Token ID buffer (hex):",g.toString("hex")),console.log("Token ID buffer length:",g.length);const[p]=X.findProgramAddressSync([Buffer.from("nft_origin"),g],oa);console.log("Client-derived PDA:",p.toString()),console.log("Derived PDAs:",{metadataPDA:l.toString(),masterEditionPDA:c.toString(),nftOriginPDA:p.toString()}),console.log("Calling program.createMintAndNft with accounts:",{programState:r.toString(),nftOrigin:p.toString(),mint:s.publicKey.toString(),tokenAccount:a.toString(),mintAuthority:this.wallet.publicKey.toString(),payer:this.wallet.publicKey.toString(),tokenProgram:nn.toString(),associatedTokenProgram:Qr.toString(),systemProgram:at.programId.toString(),rent:Qi.toString(),tokenMetadataProgram:sa.toString(),metadata:l.toString(),masterEdition:c.toString()});const f=await this.program.methods.createMintAndNft(e,n,new er(d)).accounts({programState:r,nftOrigin:p,mint:s.publicKey,tokenAccount:a,mintAuthority:this.wallet.publicKey,payer:this.wallet.publicKey,tokenProgram:nn,associatedTokenProgram:Qr,systemProgram:at.programId,rent:Qi,tokenMetadataProgram:sa,metadata:l,masterEdition:c}).signers([s]).rpc();console.log("Transaction successful:",f),console.log("=== CREATE MINT AND NFT END ===");const m=d;return console.log("Actual token ID used:",m),{signature:f,mintAddress:s.publicKey.toString(),tokenId:m}}catch(r){throw console.error("=== CREATE MINT AND NFT ERROR ==="),console.error("Error creating mint and NFT:",r),console.error("Error details:",{message:r.message,stack:r.stack,code:r.code,logs:r.logs}),console.error("=== CREATE MINT AND NFT ERROR END ==="),r}}async transferCrossChain(e,n,r){var i,o,s,a,l;try{console.log("=== INITIATE CROSS-CHAIN TRANSFER START ==="),console.log("Timestamp:",new Date().toISOString()),console.log("Token ID:",e),console.log("Token ID type:",typeof e),console.log("Token ID as BigInt:",BigInt(e)),console.log("Token ID as Buffer:",Buffer.from(e.toString()).toString("hex")),console.log("Destination Chain (ignored in ix args):",n),console.log("ZRC20/Owner bytes20:",r);const[c]=st.getProgramStatePDA();console.log("Program State PDA:",c.toString());const d=await this.program.account.programState.fetch(c);console.log("Current program state:",d),console.log("Current program state next_token_id:",d.nextTokenId.toString()),console.log("Current program state owner:",d.owner.toString()),console.log("Current program state gateway:",d.gateway.toString()),console.log("Current program state paused:",d.paused),console.log("Skipping token ID range validation...");const[g]=st.getNFTOriginPDA(e);console.log("NFT Origin PDA:",g.toString()),console.log("NFT Origin PDA seeds:",["nft_origin",e]),console.log("Skipping alternative PDA checks and account enumeration..."),console.log("Loading NFT origin account...");let p;try{p=await this.program.account.nftOrigin.fetch(g)}catch(_){throw console.error("Failed to fetch NFT origin account:",_),new Error(`Failed to fetch NFT origin account: ${_.message}`)}if(!p||!p.mint)throw new Error(`NFT with token ID ${e} does not exist or has invalid mint`);const f=p.mint;console.log("NFT Origin mint:",f.toString());const m=await this.getAssociatedTokenAddress(f);console.log("User Token Account (ATA):",m.toString());let x=0;try{const _=await this.program.provider.connection.getTokenAccountBalance(m);x=parseInt(_.value.amount,10)||0}catch{try{const L=(l=(a=(s=(o=(i=(await this.program.provider.connection.getParsedAccountInfo(m)).value)==null?void 0:i.data)==null?void 0:o.parsed)==null?void 0:s.info)==null?void 0:a.tokenAmount)==null?void 0:l.amount;x=L?parseInt(L,10):0}catch{x=0}}if(console.log("User ATA balance:",x),x<1)throw new Error(`You don't have any tokens to transfer for token ID ${e}. Please mint an NFT first or switch to the wallet that holds it.`);const R=new Uint8Array(32);R.set(r.slice(0,20),12),console.log("Destination Owner [u8;32]:",Array.from(R));const y=new Uint8Array(20);y.set(r.slice(0,20)),console.log("ZRC20 Address [u8;20]:",Array.from(y)),console.log("Calling program.transferCrossChain...");const b=await this.program.methods.transferCrossChain(new er(e),Array.from(y),Array.from(R)).accounts({programState:c,nftOrigin:g,mint:f,userTokenAccount:m,user:this.wallet.publicKey,tokenProgram:nn,gatewayProgram:new X("ZETAjseVjuFsxdRxo6MmTCvqFwb3ZHUx56Co3vCmGis")}).rpc();return console.log("Transaction successful! Signature:",b),console.log("=== INITIATE CROSS-CHAIN TRANSFER END ==="),b}catch(c){throw console.error("=== INITIATE CROSS-CHAIN TRANSFER ERROR ==="),console.error("Error initiating cross-chain transfer:",c),console.error("Error details:",{message:c.message,stack:c.stack,name:c.name}),console.error("=== INITIATE CROSS-CHAIN TRANSFER ERROR END ==="),c}}async receiveCrossChainMessage(e,n,r){try{const[i]=st.getProgramStatePDA(),[o]=st.getNFTOriginPDA(e);try{if(!await this.program.account.nftOrigin.fetch(o))throw new Error("NFT origin account not found")}catch{throw new Error("Failed to fetch NFT origin account")}return await this.program.methods.receiveCrossChainMessage(new er(e),Array.from(n)).accounts({programState:i,nftOrigin:o,mint:r,mintAuthority:this.wallet.publicKey,recipientTokenAccount:await this.getAssociatedTokenAddress(r),payer:this.wallet.publicKey,systemProgram:at.programId,tokenProgram:nn,associatedTokenProgram:Qr,rent:Qi}).rpc()}catch(i){throw console.error("Error receiving cross-chain message:",i),i}}async pauseProgram(){try{const[e]=st.getProgramStatePDA();return await this.program.methods.pause().accounts({programState:e,admin:this.wallet.publicKey}).rpc()}catch(e){throw console.error("Error pausing program:",e),e}}async unpauseProgram(){try{const[e]=st.getProgramStatePDA();return await this.program.methods.unpause().accounts({programState:e,admin:this.wallet.publicKey}).rpc()}catch(e){throw console.error("Error unpausing program:",e),e}}async getProgramState(){try{const[e]=st.getProgramStatePDA();return await this.program.account.programState.fetch(e)}catch(e){const n=(e==null?void 0:e.message)||"";return n.includes("Account does not exist")||n.includes("has no data")?(console.info("Program state not found yet. Initialize the program to create it."),null):(console.error("Error fetching program state:",e),null)}}async migrateProgramState(){try{const[e]=st.getProgramStatePDA();return await this.program.methods.migrateProgramState().accounts({programState:e,payer:this.wallet.publicKey,systemProgram:at.programId}).rpc()}catch(e){throw console.error("Error migrating program state:",e),e}}async checkProgramStateMigration(){try{const[e]=st.getProgramStatePDA(),n=await this.program.account.programState.fetch(e);return{needsMigration:!(n.gas_limit!==void 0&&n.uniswap_router!==void 0),error:void 0}}catch(e){return e.message&&e.message.includes("Failed to deserialize")?{needsMigration:!0,error:"Program state has old structure and needs migration"}:{needsMigration:!1,error:e.message||"Unknown error checking program state"}}}async getNFTOrigin(e){try{const[n]=st.getNFTOriginPDA(e),r=await this.program.account.nftOrigin.fetch(n);return!r||typeof r!="object"?(console.error("Invalid NFT origin account:",r),null):!r.token_id||!r.mint?(console.error("NFT origin account missing required fields:",r),null):r}catch(n){return console.error("Error fetching NFT origin:",n),null}}async checkNFTExists(e){var n,r,i,o,s;try{const[a]=st.getNFTOriginPDA(e);try{const l=await this.program.account.nftOrigin.fetch(a);if(l&&l.mint){const c=await this.getAssociatedTokenAddress(l.mint);let d=0;try{const g=await this.program.provider.connection.getTokenAccountBalance(c);d=parseInt(g.value.amount,10)||0}catch{try{const f=(s=(o=(i=(r=(n=(await this.program.provider.connection.getParsedAccountInfo(c)).value)==null?void 0:n.data)==null?void 0:r.parsed)==null?void 0:i.info)==null?void 0:o.tokenAmount)==null?void 0:s.amount;d=f?parseInt(f,10):0}catch{d=0}}return{exists:!0,details:{tokenId:l.token_id,mint:l.mint.toString(),metadataUri:l.metadata_uri,originChain:l.origin_chain,originTokenId:l.origin_token_id,createdAt:l.created_at,userTokenAccount:c.toString(),tokenBalance:d}}}}catch(l){if(l.message&&l.message.includes("Account does not exist"))return{exists:!1,error:`NFT with token ID ${e} does not exist`};throw l}return{exists:!1,error:"NFT origin account not found or invalid"}}catch(a){return{exists:!1,error:a.message||"Failed to check NFT existence"}}}async getAllNFTOrigins(){try{const e=await this.program.provider.connection.getProgramAccounts(oa),n=[];for(const r of e)try{if(r.account.data.length<77)continue;const i=this.program.coder.accounts.decode("nftOrigin",r.account.data);i&&i.token_id!==void 0&&n.push(i)}catch{continue}return n}catch(e){return console.error("Error fetching all NFT origins:",e),[]}}async getNFTDetails(e){try{console.log("=== GET NFT DETAILS START ==="),console.log("Fetching details for mint:",e.toString());const n=await this.program.account.mint.fetch(e);console.log("Mint account info:",n);const r=await this.getAssociatedTokenAddress(e);let i=null;try{i=await this.program.provider.connection.getAccountInfo(r),console.log("Token account info:",i)}catch{console.log("Token account not found yet")}let o=null;try{const c=Buffer.concat([Buffer.from("nft_origin"),e.toBuffer().slice(0,10)]),[d]=X.findProgramAddressSync([c],oa);o=await this.program.account.nftOrigin.fetch(d),console.log("NFT Origin info:",o)}catch{console.log("NFT Origin not found yet")}const[s]=st.getProgramStatePDA(),a=await this.program.account.programState.fetch(s);console.log("Program state:",a);const l={mint:e.toString(),mintInfo:n,tokenAccount:r.toString(),tokenAccountInfo:i,nftOriginInfo:o,programState:a,timestamp:new Date().toISOString()};return console.log("Complete NFT details:",l),console.log("=== GET NFT DETAILS END ==="),l}catch(n){throw console.error("=== GET NFT DETAILS ERROR ==="),console.error("Error fetching NFT details:",n),console.error("Error details:",{message:n.message,stack:n.stack,code:n.code}),console.error("=== GET NFT DETAILS ERROR END ==="),n}}async getNFTDetailsWithChainInfo(e){var n,r,i,o,s,a,l;try{console.log("=== GET ENHANCED NFT DETAILS START ==="),console.log("Fetching enhanced details for mint:",e.toString());const c=await this.getNFTDetails(e),d={...c,originChainName:Fl(((n=c.nftOriginInfo)==null?void 0:n.origin_chain)||901),currentChainName:"Solana Devnet",crossChainInfo:{isCrossChain:((r=c.nftOriginInfo)==null?void 0:r.origin_chain)!==901,originalChain:Fl(((i=c.nftOriginInfo)==null?void 0:i.origin_chain)||901),originalTokenId:(s=(o=c.nftOriginInfo)==null?void 0:o.origin_token_id)==null?void 0:s.toString(),hasBeenTransferred:((a=c.nftOriginInfo)==null?void 0:a.origin_chain)!==901,chainId:((l=c.nftOriginInfo)==null?void 0:l.origin_chain)||901},chainMapping:{availableChains:ZN,chainIds:Tr,currentChain:{id:901,name:"Solana Devnet",alias:"solana_devnet"}}};return console.log("Enhanced NFT details:",d),console.log("=== GET ENHANCED NFT DETAILS END ==="),d}catch(c){throw console.error("=== GET ENHANCED NFT DETAILS ERROR ==="),console.error("Error getting enhanced NFT details:",c),console.error("Error details:",{message:c.message,stack:c.stack,code:c.code}),console.error("=== GET ENHANCED NFT DETAILS ERROR END ==="),c}}async getAllNFTsWithChainInfo(){try{console.log("=== GET ALL NFTS WITH CHAIN INFO START ===");const e=await this.program.provider.connection.getParsedTokenAccountsByOwner(this.wallet.publicKey,{programId:nn});console.log("All token accounts found:",e.value.length);const n=[];for(const r of e.value){const i=r.account.data.parsed.info.mint,o=r.account.data.parsed.info.tokenAmount.uiAmount;if(o>0)try{const s=await this.getNFTDetailsWithChainInfo(new X(i));n.push({...s,balance:o,tokenAccount:r.pubkey.toString()})}catch{console.log("Could not fetch details for mint:",i),n.push({mint:i,balance:o,tokenAccount:r.pubkey.toString(),error:"Could not fetch details",chainInfo:{currentChain:"Solana Devnet",chainId:901}})}}return console.log("All NFTs with chain info:",n),console.log("=== GET ALL NFTS WITH CHAIN INFO END ==="),n}catch(e){throw console.error("=== GET ALL NFTS WITH CHAIN INFO ERROR ==="),console.error("Error fetching all NFTs with chain info:",e),console.error("Error details:",{message:e.message,stack:e.stack,code:e.code}),console.error("=== GET ALL NFTS WITH CHAIN INFO ERROR END ==="),e}}async getAssociatedTokenAddress(e){return await X.findProgramAddress([this.wallet.publicKey.toBuffer(),nn.toBuffer(),e.toBuffer()],Qr).then(([n])=>n)}async getTransactionStatus(e){var n;try{const r=await this.program.provider.connection.getTransaction(e,{commitment:"confirmed",maxSupportedTransactionVersion:0});return r?{confirmed:!0,slot:r.slot,blockTime:r.blockTime||0,confirmations:(n=r.meta)!=null&&n.err?0:1}:{confirmed:!1,slot:0,blockTime:0,confirmations:0}}catch(r){return console.error("Error fetching transaction status:",r),{confirmed:!1,slot:0,blockTime:0,confirmations:0}}}async logDestinationChainNFTAddress(e,n,r,i){try{console.log("=== LOG DESTINATION CHAIN NFT ADDRESS START ==="),console.log("Token ID:",e),console.log("Destination Chain:",n),console.log("Solana TX Signature:",i),console.log("Destination Owner:",r);const o=[];o.push("=== CROSS-CHAIN TRANSFER TRANSACTION ==="),o.push(`Solana Transaction Hash: ${i}`),o.push(`Token ID: ${e}`),o.push(`Destination Chain: ${Fl(n)} (ID: ${n})`);try{const f=await this.getTransactionStatus(i);f.confirmed?(o.push("Transaction Status: Confirmed on Solana"),o.push(`Block Slot: ${f.slot}`),o.push(`Block Time: ${new Date(f.blockTime*1e3).toISOString()}`),o.push(`Confirmations: ${f.confirmations}`)):o.push("Transaction Status: Pending confirmation")}catch{o.push("Transaction Status: Unable to fetch status")}const[s]=st.getNFTOriginPDA(e);let a;try{a=await this.program.account.nftOrigin.fetch(s),a&&typeof a=="object"&&a.mint?(o.push(`NFT Origin PDA: ${s.toString()}`),o.push(`Original Mint: ${a.mint.toString()}`),o.push(`Metadata URI: ${a.metadata_uri||"Unknown"}`)):o.push("NFT Origin Status: Invalid account structure")}catch{o.push("NFT Origin Status: Not found (may have been burned)")}let l="";n===Tr.ZETACHAIN_TESTNET?(l="0x"+Array.from(r).map(f=>f.toString(16).padStart(2,"0")).join(""),o.push(`Destination Address (ZetaChain): ${l}`)):n===Tr.ETHEREUM_SEPOLIA||n===Tr.BSC_TESTNET||n===Tr.POLYGON_AMOY||n===Tr.ARBITRUM_SEPOLIA?(l="0x"+Array.from(r.slice(0,20)).map(f=>f.toString(16).padStart(2,"0")).join(""),o.push(`Destination Address (EVM): ${l}`)):(l=Array.from(r).map(f=>f.toString(16).padStart(2,"0")).join(""),o.push(`Destination Address (Hex): ${l}`)),o.push(""),o.push("=== TRANSACTION STATUS ==="),o.push(" Solana: NFT burned successfully"),o.push(" Solana: Cross-chain message sent via gateway"),o.push(" Destination Chain: Message processing"),o.push(" Final Status: Awaiting destination chain confirmation"),o.push("Gateway Program: ZETAjseVjuFsxdRxo6MmTCvqFwb3ZHUx56Co3vCmGis");let c="",d="";n===Tr.ZETACHAIN_TESTNET?(o.push(""),o.push("=== ZETACHAIN TRANSACTION INFO ==="),o.push("Network: Athens Testnet"),o.push("Chain ID: 7001"),o.push("Gateway Program: ZETAjseVjuFsxdRxo6MmTCvqFwb3ZHUx56Co3vCmGis"),o.push(`Message Recipient: ${l}`),c=`https://explorer.zetachain.com/address/${l}`,d="https://explorer.zetachain.com",o.push(`Explorer: ${c}`)):[Tr.ETHEREUM_SEPOLIA,Tr.BSC_TESTNET,Tr.POLYGON_AMOY,Tr.ARBITRUM_SEPOLIA].includes(n)&&(o.push(""),o.push("=== EVM CHAIN TRANSACTION INFO ==="),o.push(`Chain: ${Fl(n)}`),o.push(`Chain ID: ${n}`),o.push("Gateway Program: ZETAjseVjuFsxdRxo6MmTCvqFwb3ZHUx56Co3vCmGis"),o.push(`Message Recipient: ${l}`),c=`https://explorer.zetachain.com/address/${l}`,d="https://explorer.zetachain.com",o.push(`Explorer: ${c}`));let g=null;try{if(n===Tr.ZETACHAIN_TESTNET){const f=(B0==null?void 0:B0.VITE_ZETA_BLOCKSCOUT_API)||"https://explorer.zetachain.com/api",x=await(await fetch(`${f}?module=account&action=txlist&address=${l}&sort=desc`)).json();x&&x.status==="1"&&Array.isArray(x.result)&&x.result.length>0&&(g=x.result[0].hash)}}catch{}g?(o.push(`Destination Tx Hash: ${g}`),d&&o.push(`Tx Link: ${d}/tx/${g}`)):o.push("Destination Tx Hash: Not yet available (await processing or ensure a universal app emits events)");const p={solanaTxSignature:i,destinationChain:n,destinationChainName:Fl(n),destinationOwner:l,destinationTxHash:g,status:"pending",logs:o};return console.log(`
`+o.join(`
`)),console.log(`
=== LOG DESTINATION CHAIN NFT ADDRESS END ===`),p}catch(o){throw console.error("Error logging destination chain NFT address:",o),o}}async transferCrossChainWithLogging(e,n,r){try{console.log("=== ENHANCED CROSS-CHAIN TRANSFER START ==="),console.log("Input parameters:",{tokenId:e,destinationChain:n,destinationOwner:r}),console.log("Step 1: Calling transferCrossChain...");const i=await this.transferCrossChain(e,n,r);console.log("Cross-chain transfer initiated successfully on Solana"),console.log("Solana Transaction Signature:",i),console.log("Step 2: Generating transaction logs...");const o=await this.logDestinationChainNFTAddress(e,n,r,i);return console.log("Transaction logs generated:",o),console.log("=== ENHANCED CROSS-CHAIN TRANSFER END ==="),{solanaTxSignature:i,destinationLogs:o}}catch(i){throw console.error("=== ENHANCED CROSS-CHAIN TRANSFER ERROR ==="),console.error("Error in enhanced cross-chain transfer:",i),console.error("Error details:",{message:i.message,stack:i.stack,name:i.name}),console.error("=== ENHANCED CROSS-CHAIN TRANSFER ERROR END ==="),i}}}class NE{static async createMint(e,n,r,i,o=0){return await vz(e,n,r,i,o,void 0,void 0,nn)}static async createAssociatedTokenAccount(e,n,r,i){const o=await bE(r,i,!1,nn,Qr);return await yz(e,n,i,r),o}static async getOrCreateAssociatedTokenAccount(e,n,r,i){try{const o=await bE(r,i,!1,nn,Qr);if(await kj(e,o))return o}catch{}return await this.createAssociatedTokenAccount(e,n,r,i)}static async mintTokens(e,n,r,i,o,s){return await Ez(e,n,r,i,o,s)}static isValidPublicKey(e){try{return new X(e),!0}catch{return!1}}static formatPublicKey(e,n=8){const r=typeof e=="string"?e:e.toString();return r.length<=n*2?r:`${r.slice(0,n)}...${r.slice(-n)}`}static stringToUint8Array(e){return new TextEncoder().encode(e)}static uint8ArrayToString(e){return new TextDecoder().decode(e)}}const kz=()=>{var W;const{connection:t}=Dx(),e=Lh(),[n,r]=ee.useState(null),[i,o]=ee.useState([]),[s,a]=ee.useState(!1),[l,c]=ee.useState(null),[d,g]=ee.useState(null),[p,f]=ee.useState(null),m=ee.useCallback(async()=>{if(!(!e.connected||!t))try{a(!0),c(null);const $=new st(t,e),H=await $.getProgramState();r(H);const A=await $.getAllNFTOrigins();o(A)}catch($){console.error("Error loading program data:",$),c($.message||"Failed to load program data")}finally{a(!1)}},[e.connected,t]),x=ee.useCallback(async($,H,A,u=1e6,h="11111111111111111111111111111111")=>{if(!e.connected||!t||!e.publicKey)throw new Error("Wallet not connected");if(!NE.isValidPublicKey($))throw new Error("Invalid public key format");if(!/^0x[0-9a-fA-F]{40}$/.test(A.trim()))throw new Error("Invalid EVM contract address");try{a(!0),c(null),g(null);const N=await new st(t,e).initialize(new X($),H,A,u,new X(h));return g(`Program initialized! Signature: ${N}`),setTimeout(m,2e3),N}catch(S){const N=S.message||"Failed to initialize program";throw c(N),new Error(N)}finally{a(!1)}},[e.connected,t,e.publicKey,m]),R=ee.useCallback(async($,H)=>{if(!e.connected||!t||!e.publicKey)throw new Error("Wallet not connected");try{a(!0),c(null),g(null);const u=await new st(t,e).createMintAndNFT($,H);return g(`Mint and NFT created successfully! Mint Address: ${u.mintAddress} | Signature: ${u.signature}`),setTimeout(m,2e3),u}catch(A){const u=A.message||"Failed to create mint and NFT";throw c(u),new Error(u)}finally{a(!1)}},[e.connected,t,e.publicKey,m]),y=ee.useCallback(async $=>{if(!e.connected||!t)throw new Error("Wallet not connected");try{return await new st(t,e).checkNFTExists($)}catch(H){const A=H.message||"Failed to check NFT existence";throw c(A),new Error(A)}},[e.connected,t]),b=ee.useCallback(async($,H,A)=>{if(!e.connected||!t)throw new Error("Wallet not connected");try{a(!0),c(null),g(null);const u=await y($);if(!u.exists)throw new Error(u.error||"NFT not found");if(u.details&&u.details.tokenBalance<1)throw new Error(`You don't have enough tokens for NFT ${$}. Current balance: ${u.details.tokenBalance}`);const h=new Uint8Array(32);if(A.startsWith("0x")){const T=new Uint8Array(Buffer.from(A.slice(2),"hex"));h.set(T.slice(0,20),0)}else try{const O=new X(A).toBytes();h.set(O.slice(0,32),0)}catch{throw new Error("Invalid destination owner address format")}const N=await new st(t,e).transferCrossChain($,H,h);return g(`Cross-chain transfer initiated successfully! Signature: ${N}`),setTimeout(m,2e3),N}catch(u){const h=u.message||"Failed to initiate cross-chain transfer";throw c(h),new Error(h)}finally{a(!1)}},[e.connected,t,y,m]),_=ee.useCallback(async($,H,A)=>{var u;if(console.log("=== HOOK: initiateTransferWithLogging START ==="),console.log("Input parameters:",{tokenId:$,destinationChain:H,destinationOwner:A}),console.log("Wallet connected:",e.connected),console.log("Connection available:",!!t),console.log("Wallet public key:",(u=e.publicKey)==null?void 0:u.toString()),!e.connected||!t||!e.publicKey)throw new Error("Wallet not connected");try{console.log("Setting loading state..."),a(!0),c(null),g(null),f(null),console.log("Creating UniversalNFTClient...");const h=new st(t,e);console.log("Converting destination owner to bytes...");const S=Cz(A);console.log("Destination owner bytes:",S),console.log("Destination Owner (hex):",Buffer.from(S).toString("hex")),console.log("Calling client.transferCrossChainWithLogging...");const N=await h.transferCrossChainWithLogging($,H,S);return console.log("Transfer successful! Result:",N),f(N.destinationLogs),g(`Transfer initiated! Solana TX: ${N.solanaTxSignature.slice(0,8)}...`),setTimeout(m,2e3),console.log("=== HOOK: initiateTransferWithLogging END ==="),N}catch(h){console.error("=== HOOK: initiateTransferWithLogging ERROR ==="),console.error("Error in hook:",h);const S=h.message||"Failed to initiate transfer";throw c(S),console.error("=== HOOK: initiateTransferWithLogging ERROR END ==="),new Error(S)}finally{console.log("Setting loading to false..."),a(!1)}},[e.connected,t,e.publicKey,m]),I=ee.useCallback(async($,H,A)=>{if(!e.connected||!t||!e.publicKey)throw new Error("Wallet not connected");if(!NE.isValidPublicKey(A))throw new Error("Invalid mint address format");try{a(!0),c(null),g(null);const u=new st(t,e),h=new X(A),S=new TextEncoder().encode(H),N=await u.receiveCrossChainMessage($,S,h);return g(`Message received! Signature: ${N}`),setTimeout(m,2e3),N}catch(u){const h=u.message||"Failed to receive message";throw c(h),new Error(h)}finally{a(!1)}},[e.connected,t,e.publicKey,m]),L=ee.useCallback(async()=>{if(!e.connected||!t||!e.publicKey)throw new Error("Wallet not connected");try{a(!0),c(null),g(null);const H=await new st(t,e).pauseProgram();return g(`Program paused! Signature: ${H}`),setTimeout(m,2e3),H}catch($){const H=$.message||"Failed to pause program";throw c(H),new Error(H)}finally{a(!1)}},[e.connected,t,e.publicKey,m]),z=ee.useCallback(async()=>{if(!e.connected||!t||!e.publicKey)throw new Error("Wallet not connected");try{a(!0),c(null),g(null);const H=await new st(t,e).unpauseProgram();return g(`Program unpaused! Signature: ${H}`),setTimeout(m,2e3),H}catch($){const H=$.message||"Failed to unpause program";throw c(H),new Error(H)}finally{a(!1)}},[e.connected,t,e.publicKey,m]),B=ee.useCallback(async()=>{if(!e.connected||!t||!e.publicKey)throw new Error("Wallet not connected");try{a(!0),c(null),g(null);const H=await new st(t,e).migrateProgramState();return g(`Program state migrated successfully! Signature: ${H}`),setTimeout(m,2e3),H}catch($){const H=$.message||"Failed to migrate program state";throw c(H),new Error(H)}finally{a(!1)}},[e.connected,t,e.publicKey,m]),F=ee.useCallback(async()=>{if(!e.connected||!t||!e.publicKey)throw new Error("Wallet not connected");try{return await new st(t,e).checkProgramStateMigration()}catch($){const H=$.message||"Failed to check program state migration";throw c(H),new Error(H)}},[e.connected,t,e.publicKey]),U=ee.useCallback(()=>{c(null),g(null)},[]);return ee.useEffect(()=>{e.connected&&t&&m()},[e.connected,t,m]),{programState:n,nftOrigins:i,loading:s,error:l,success:d,crossChainLogs:p,initialize:x,createMintAndNFT:R,initiateTransferWithLogging:_,initiateTransferWithValidation:b,receiveMessage:I,pauseProgram:L,unpauseProgram:z,migrateProgramState:B,checkProgramStateMigration:F,clearMessages:U,loadProgramData:m,isConnected:e.connected,wallet:(W=e.publicKey)==null?void 0:W.toString(),checkNFTExists:y}};function Cz(t){const e=t.trim().toLowerCase();if(!/^0x[0-9a-f]{40}$/.test(e))throw new Error("Invalid EVM address");return Uint8Array.from(Buffer.from(e.slice(2),"hex"))}const Mz=()=>{const{programState:t,nftOrigins:e,loading:n,error:r,success:i,initialize:o,createMintAndNFT:s,receiveMessage:a,pauseProgram:l,unpauseProgram:c,migrateProgramState:d,checkProgramStateMigration:g,clearMessages:p,isConnected:f,crossChainLogs:m,initiateTransferWithLogging:x,checkNFTExists:R}=kz(),[y,b]=ee.useState("overview"),[_,I]=ee.useState({gateway:"",evmContract:"0xfeC46bFEE779652CA9c2706F5cA12D92c81B4188",nextTokenId:1,gasLimit:1e6,uniswapRouter:"11111111111111111111111111111111"}),[L,z]=ee.useState({uri:""}),[B,F]=ee.useState({decimals:0}),[U,W]=ee.useState(null),[$,H]=ee.useState(null),[A,u]=ee.useState({tokenId:1,destinationChain:7001,destinationOwner:"0xfeC46bFEE779652CA9c2706F5cA12D92c81B4188"}),[h,S]=ee.useState({tokenId:1,message:"",mint:""}),[N,T]=ee.useState(null),[O,j]=ee.useState(!1),C=J=>{if(!J)return 0;try{if(J.toNumber&&typeof J.toNumber=="function")try{return J.toNumber()}catch(Ve){if(Ve instanceof Error&&Ve.message&&Ve.message.includes("53 bits"))return J.toString();throw Ve}if(typeof J=="number")return J;if(typeof J=="string"){const Ve=Number(J);return isNaN(Ve)?J:Ve}const Ie=String(J),ot=Number(Ie);return isNaN(ot)?(console.warn("Failed to convert value to number, using string as fallback:",J,Ie),Ie):ot}catch(Ie){return console.warn("Error converting BN to number, using string as fallback:",Ie,J),String(J)}},w=()=>[{value:901,label:"Solana Devnet (901)"},{value:7001,label:"ZetaChain Testnet (7001)"},{value:11155111,label:"Ethereum Sepolia (11155111)"},{value:97,label:"BSC Testnet (97)"},{value:80002,label:"Polygon Amoy (80002)"},{value:421614,label:"Arbitrum Sepolia (421614)"},{value:18332,label:"Bitcoin Testnet (18332)"}],P=t?{owner:t.owner.toString(),gateway:t.gateway.toString(),nextTokenId:C(t.nextTokenId),paused:t.paused,bump:t.bump}:null,ne=e.map(J=>({tokenId:C(J.token_id),originChain:J.origin_chain,originTokenId:C(J.origin_token_id),metadataUri:J.metadata_uri,mint:J.mint.toString(),createdAt:C(J.created_at),bump:J.bump})),oe=async J=>{if(J.preventDefault(),!_.gateway.trim()){alert("Please enter a gateway address");return}if(!_.evmContract.trim()){alert("Please enter destination EVM contract");return}if(!_.nextTokenId||isNaN(_.nextTokenId)){alert("Please enter a valid next token ID");return}try{await o(_.gateway,_.nextTokenId,_.evmContract,_.gasLimit,_.uniswapRouter)}catch{}},le=async J=>{if(J.preventDefault(),!L.uri.trim()){alert("Please enter a metadata URI");return}try{const Ie=await s(L.uri,B.decimals);W(Ie.mintAddress),H(Ie.tokenId),u({...A,tokenId:Ie.tokenId}),z({uri:""}),alert(`NFT created successfully!
Mint Address: ${Ie.mintAddress}
Token ID: ${Ie.tokenId}

You can now use this Token ID for cross-chain transfer.`)}catch(Ie){Ie.message&&Ie.message.includes("Failed to deserialize")&&console.log("Deserialization error detected - user should migrate program state")}},Ae=async J=>{if(J.preventDefault(),!A.tokenId||isNaN(A.tokenId)){alert("Please enter a valid token ID");return}if(!A.destinationOwner.trim()){alert("Please enter a destination owner");return}try{await x(A.tokenId,A.destinationChain,A.destinationOwner),u({tokenId:1,destinationChain:7001,destinationOwner:"0xfeC46bFEE779652CA9c2706F5cA12D92c81B4188"})}catch{}},be=async()=>{if(!A.tokenId||isNaN(A.tokenId)){alert("Please enter a valid token ID");return}try{j(!0),T(null);const J=await R(A.tokenId);T(J)}catch(J){T({exists:!1,error:J.message||"Failed to check NFT existence"})}finally{j(!1)}},_e=()=>{if(ne.length>0){const J=ne[0];u({...A,tokenId:typeof J.tokenId=="number"?J.tokenId:1}),T(null)}},gt=async J=>{if(J.preventDefault(),!h.tokenId||isNaN(h.tokenId)){alert("Please enter a valid token ID");return}if(!h.message.trim()){alert("Please enter a message");return}if(!h.mint.trim()){alert("Please enter a mint address");return}try{await a(h.tokenId,h.message,h.mint)}catch{}},qe=async()=>{try{await l()}catch{}},et=async()=>{try{await c()}catch{}},Yn=[{id:"overview",label:"Overview"},{id:"initialize",label:"Initialize"},{id:"create-mint-and-nft",label:"Create Mint & NFT"},{id:"transfer",label:"Cross-Chain Transfer "},{id:"receive",label:"Receive Message"},{id:"admin",label:"Admin"}],tt=()=>{switch(y){case"overview":return M.jsxs("div",{className:"space-y-6",children:[!f&&M.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:M.jsx("p",{className:"text-yellow-800",children:"Please connect your wallet to view program data"})}),n&&M.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:M.jsx("p",{className:"text-blue-800",children:"Loading program data..."})}),r&&M.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[M.jsx("p",{className:"text-red-800",children:r}),M.jsxs("div",{className:"mt-3 space-y-2",children:[r.includes("Failed to deserialize")&&M.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[M.jsx("p",{className:"text-sm text-yellow-800 font-medium",children:" Program State Migration Required"}),M.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"The program was updated but the existing program state has the old structure. This is a common issue when programs are upgraded."}),M.jsxs("div",{className:"mt-2 space-x-2",children:[M.jsx("button",{onClick:async()=>{try{await d()}catch{}},disabled:n,className:"text-xs bg-yellow-600 hover:bg-yellow-700 disabled:bg-gray-400 text-white px-3 py-1 rounded-md transition-colors",children:n?"Migrating...":"Migrate Program State"}),M.jsx("button",{onClick:async()=>{try{const J=await g();J.needsMigration?alert(`Migration Status: ${J.error||"Program state needs migration"}`):alert("Program state is up to date!")}catch{}},disabled:n,className:"text-xs bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-2 py-1 rounded-md transition-colors",children:"Check Status"})]})]}),M.jsx("button",{onClick:p,className:"text-sm text-red-600 hover:text-red-800 underline",children:"Dismiss Error"})]})]}),i&&M.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[M.jsx("p",{className:"text-green-800",children:i}),M.jsx("button",{onClick:p,className:"mt-2 text-sm text-green-600 hover:text-green-800 underline",children:"Dismiss"})]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[M.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[M.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Total NFTs"}),M.jsx("p",{className:"text-3xl font-bold text-blue-600",children:ne.length})]}),M.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[M.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Program Status"}),M.jsx("p",{className:`text-3xl font-bold ${P!=null&&P.paused?"text-red-600":"text-green-600"}`,children:P!=null&&P.paused?"Paused":"Active"})]}),M.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[M.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Next Token ID"}),M.jsx("p",{className:"text-3xl font-bold text-purple-600",children:(P==null?void 0:P.nextTokenId)||0})]}),M.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[M.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"ZetaChain Integration"}),M.jsx("p",{className:"text-3xl font-bold text-green-600",children:" Ready"}),M.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Contract: 0xfeC46b...4188"})]})]}),M.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[M.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Program State Migration"}),M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsxs("div",{children:[M.jsx("p",{className:"text-sm text-gray-600",children:"Check if the program state needs migration to the new structure"}),M.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This helps resolve deserialization errors when the program is updated"})]}),M.jsxs("div",{className:"space-x-2",children:[M.jsx("button",{onClick:async()=>{try{const J=await g();J.needsMigration?alert(`Migration Required: ${J.error||"Program state has old structure"}`):alert(" Program state is up to date!")}catch{}},disabled:n,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg disabled:cursor-not-allowed transition-colors",children:n?"Checking...":"Check Migration Status"}),M.jsx("button",{onClick:async()=>{try{await d()}catch{}},disabled:n,className:"bg-yellow-600 hover:bg-yellow-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg disabled:cursor-not-allowed transition-colors",children:n?"Migrating...":"Migrate Program State"})]})]})]}),P&&M.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[M.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Program Details"}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[M.jsxs("div",{children:[M.jsx("p",{className:"text-sm text-gray-600",children:"Owner"}),M.jsx("p",{className:"text-sm font-mono text-gray-900 break-all",children:P.owner})]}),M.jsxs("div",{children:[M.jsx("p",{className:"text-sm text-gray-600",children:"Gateway"}),M.jsx("p",{className:"text-sm font-mono text-gray-900 break-all",children:P.gateway})]})]})]}),M.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[M.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your NFTs"}),ne.length===0?M.jsxs("div",{className:"text-center py-8",children:[M.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),M.jsx("p",{className:"text-gray-600 mb-2",children:"No NFTs created yet"}),M.jsx("p",{className:"text-sm text-gray-500",children:'Go to the "Create Mint & NFT" tab to create your first NFT'})]}):M.jsxs("div",{className:"space-y-4",children:[M.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["You have ",ne.length," NFT",ne.length!==1?"s":""," available for cross-chain transfer:"]}),M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ne.map((J,Ie)=>M.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border",children:[M.jsxs("div",{className:"flex justify-between items-start mb-2",children:[M.jsxs("h4",{className:"font-medium text-gray-900",children:["Token ID ",J.tokenId]}),M.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Available"})]}),M.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[M.jsxs("p",{children:[M.jsx("strong",{children:"Mint:"})," ",J.mint.slice(0,8),"...",J.mint.slice(-8)]}),M.jsxs("p",{children:[M.jsx("strong",{children:"Origin Chain:"})," ",J.originChain]}),M.jsxs("p",{children:[M.jsx("strong",{children:"Metadata:"})," ",J.metadataUri]})]}),M.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:M.jsx("p",{className:"text-xs text-gray-500",children:' Use this Token ID in the "Cross-Chain Transfer" tab'})})]},Ie))})]})]}),M.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[M.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Supported Chain IDs"}),M.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:M.jsxs("p",{className:"text-sm text-green-700",children:[M.jsx("strong",{children:" Primary Integration:"})," ZetaChain Testnet (7001) - Your contract is deployed and ready!"]})}),M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w().map(J=>M.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${J.value===7001?"bg-green-100 border border-green-300":"bg-gray-50"}`,children:[M.jsx("span",{className:"text-sm font-medium text-gray-700",children:J.label}),M.jsx("span",{className:"text-xs text-gray-500 font-mono",children:J.value}),J.value===7001&&M.jsx("span",{className:"text-xs text-green-600 font-medium",children:" Ready"})]},J.value))})]})]});case"initialize":return M.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 max-w-2xl",children:[M.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Initialize Program"}),M.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[M.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:" Program initialization:"}),M.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[M.jsx("li",{children:" This can only be done once"}),M.jsx("li",{children:" You need sufficient SOL for transaction fees"}),M.jsx("li",{children:" The owner address will have admin privileges"}),M.jsx("li",{children:" The gateway address should be a valid program"}),M.jsx("li",{children:" Gas limit and Uniswap router can be updated later by admin"})]})]}),M.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gateway Address"}),M.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Public key of the cross-chain gateway program"}),M.jsx("input",{type:"text",value:_.gateway,onChange:J=>I({..._,gateway:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Gateway program public key",required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Destination EVM Contract (Zeta)"}),M.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"20-byte hex address, e.g., your UniversalNFT contract on ZetaChain"}),M.jsx("input",{type:"text",value:_.evmContract,onChange:J=>I({..._,evmContract:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0x...",required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Initial Token ID"}),M.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Starting token ID for the program (typically 1)"}),M.jsx("input",{type:"number",value:_.nextTokenId,onChange:J=>{const Ie=parseInt(J.target.value);isNaN(Ie)||I({..._,nextTokenId:Ie})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gas Limit"}),M.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Gas limit for cross-chain operations (default: 1,000,000)"}),M.jsx("input",{type:"number",value:_.gasLimit,onChange:J=>{const Ie=parseInt(J.target.value);isNaN(Ie)||I({..._,gasLimit:Ie})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"100000",step:"100000",required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Uniswap Router Address"}),M.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Public key for Uniswap router (default: System Program)"}),M.jsx("input",{type:"text",value:_.uniswapRouter,onChange:J=>I({..._,uniswapRouter:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"11111111111111111111111111111111",required:!0})]}),M.jsx("button",{type:"submit",disabled:n||!f,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg disabled:cursor-not-allowed",children:n?"Initializing...":"Initialize Program"})]})]});case"create-mint-and-nft":return M.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 max-w-2xl",children:[M.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create Mint & Mint NFT"}),M.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:[M.jsx("h4",{className:"text-sm font-medium text-green-800 mb-2",children:" Next Steps After Creating NFT:"}),M.jsxs("ol",{className:"text-sm text-green-700 space-y-1 list-decimal list-inside",children:[M.jsxs("li",{children:[M.jsx("strong",{children:"NFT Created:"})," Your NFT will be created with a simple sequential token ID (1, 2, 3, etc.)"]}),M.jsxs("li",{children:[M.jsx("strong",{children:"Auto-Populate:"})," The transfer form will automatically be filled with your new token ID"]}),M.jsxs("li",{children:[M.jsx("strong",{children:"Transfer Ready:"}),' Go to the "Cross-Chain Transfer" tab to transfer your NFT']})]})]}),M.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[M.jsx("h4",{className:"text-sm font-medium text-yellow-800 mb-2",children:" If You Get Deserialization Errors:"}),M.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[M.jsx("li",{children:" This usually means the program state has the old structure"}),M.jsx("li",{children:' Go to the "Overview" tab and use the "Migrate Program State" button'}),M.jsx("li",{children:' Or use the "Check Migration Status" button to diagnose the issue'}),M.jsx("li",{children:" This is a common issue when programs are upgraded"})]})]}),M.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[M.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:" What this does:"}),M.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[M.jsx("li",{children:" Creates a new SPL Token mint account with the specified decimals"}),M.jsxs("li",{children:[" ",M.jsx("strong",{children:"Mint address is generated automatically"})," - you don't need to provide it"]}),M.jsx("li",{children:" Mints 1 NFT token to your wallet"}),M.jsx("li",{children:" Creates metadata for the NFT (name, symbol, URI)"}),M.jsx("li",{children:" Creates a master edition for the NFT"}),M.jsx("li",{children:" Creates an NFT origin record"}),M.jsx("li",{children:" All in one transaction!"})]})]}),M.jsxs("form",{onSubmit:le,className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Metadata URI"}),M.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"URI pointing to the NFT metadata (JSON format)"}),M.jsx("input",{type:"url",value:L.uri,onChange:J=>z({...L,uri:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://arweave.net/your-metadata or ipfs://your-hash",required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Decimals"}),M.jsx("input",{type:"number",value:B.decimals,onChange:J=>{const Ie=parseInt(J.target.value);isNaN(Ie)||F({...B,decimals:Ie})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",max:"9",required:!0}),M.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"For NFTs, typically use 0 decimals"})]}),M.jsx("button",{type:"submit",disabled:n||!f,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg disabled:cursor-not-allowed",children:n?"Creating Mint & NFT...":"Create Mint & Mint NFT"})]}),U&&M.jsxs("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:[M.jsx("h4",{className:"text-sm font-medium text-green-800 mb-2",children:" Mint & NFT Created Successfully!"}),M.jsxs("div",{className:"space-y-2",children:[M.jsxs("p",{className:"text-sm text-green-700",children:[M.jsx("span",{className:"font-medium",children:"Token ID:"})," ",$]}),M.jsx("p",{className:"text-sm text-green-700",children:M.jsx("span",{className:"font-medium",children:"Mint Address:"})}),M.jsx("p",{className:"text-sm font-mono text-green-800 break-all bg-green-100 p-2 rounded",children:U}),M.jsxs("p",{className:"text-xs text-green-600",children:["Your NFT has been minted and is now in your wallet! The mint account, token account, metadata, and origin record were all created in one transaction.",M.jsx("br",{}),M.jsx("br",{}),M.jsx("strong",{children:" Tip:"})," You can now use Token ID ",$," for cross-chain transfers."]}),M.jsxs("div",{className:"flex space-x-2",children:[M.jsx("button",{onClick:()=>{W(null),H(null),F({decimals:0}),z({uri:""})},className:"text-sm bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded-md transition-colors",children:"Create Another NFT"}),M.jsx("button",{onClick:()=>{W(null),H(null)},className:"text-sm bg-gray-600 hover:bg-gray-700 text-white px-3 py-1 rounded-md transition-colors",children:"Clear NFT Data"})]})]})]})]});case"transfer":return M.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 max-w-2xl",children:[M.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Initiate Cross-Chain Transfer"}),M.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[M.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:" Transfer Workflow:"}),M.jsxs("ol",{className:"text-sm text-blue-700 space-y-1 list-decimal list-inside",children:[M.jsxs("li",{children:[M.jsx("strong",{children:"Create NFT:"}),' First, go to the "Create Mint & NFT" tab to mint an NFT']}),M.jsxs("li",{children:[M.jsx("strong",{children:"Check NFT:"}),' Use the "Check NFT" button below to verify your NFT exists and you have tokens']}),M.jsxs("li",{children:[M.jsx("strong",{children:"Transfer:"})," Once verified, initiate the cross-chain transfer"]})]})]}),M.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[M.jsx("h4",{className:"text-sm font-medium text-yellow-800 mb-2",children:" Troubleshooting Deserialization Errors:"}),M.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[M.jsx("li",{children:' If you get "Failed to deserialize" errors, the program state needs migration'}),M.jsx("li",{children:' Go to the "Overview" tab and click "Migrate Program State"'}),M.jsx("li",{children:" This will fix the account structure and allow operations to proceed"}),M.jsx("li",{children:" After migration, try your operation again"})]})]}),M.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[M.jsx("h4",{className:"text-sm font-medium text-yellow-800 mb-2",children:" Token ID System:"}),M.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[M.jsxs("li",{children:[" ",M.jsx("strong",{children:"New NFTs:"})," Use simple sequential IDs (1, 2, 3, etc.)"]}),M.jsxs("li",{children:[" ",M.jsx("strong",{children:"Existing NFTs:"})," May have complex IDs from the previous system"]}),M.jsxs("li",{children:[" ",M.jsx("strong",{children:"How to find your token ID:"}),' Check the "Overview" tab or use the "Check NFT" button below']}),M.jsxs("li",{children:[" ",M.jsx("strong",{children:"Tip:"}),' The "Check NFT" button will tell you exactly what token IDs are available']})]})]}),M.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:[M.jsx("h4",{className:"text-sm font-medium text-green-800 mb-2",children:" ZetaChain Contract Integration Ready:"}),M.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[M.jsxs("li",{children:[" Your ZetaChain contract is deployed at: ",M.jsx("code",{className:"bg-green-100 px-1 rounded",children:"0xfeC46bFEE779652CA9c2706F5cA12D92c81B4188"})]}),M.jsx("li",{children:" NFT will be burned on Solana and minted on ZetaChain"}),M.jsx("li",{children:" Cross-chain message sent via ZetaChain gateway"}),M.jsx("li",{children:" Your contract's onCall function will handle the NFT minting"}),M.jsx("li",{children:" You'll get real ZetaChain transaction hashes!"})]})]}),M.jsxs("form",{onSubmit:Ae,className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Token ID"}),$&&M.jsxs("div",{className:"mb-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[M.jsx("p",{className:"text-sm text-green-700",children:M.jsx("strong",{children:" NFT Created Successfully!"})}),M.jsxs("div",{className:"text-sm text-green-600 mt-1 space-y-1",children:[M.jsxs("p",{children:[M.jsx("strong",{children:"Token ID:"})," ",$]}),M.jsxs("p",{children:[M.jsx("strong",{children:"Mint Address:"})," ",U==null?void 0:U.slice(0,8),"...",U==null?void 0:U.slice(-8)]})]}),M.jsxs("p",{className:"text-xs text-green-600 mt-2",children:[" ",M.jsx("strong",{children:"This Token ID is automatically filled below and ready for transfer!"})]})]}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("input",{type:"number",value:A.tokenId,onChange:J=>{const Ie=parseInt(J.target.value);isNaN(Ie)||(u({...A,tokenId:Ie}),T(null))},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",required:!0}),M.jsx("button",{type:"button",onClick:be,disabled:O||!f,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-400 text-white font-medium rounded-lg disabled:cursor-not-allowed",children:O?"Checking...":"Check NFT"}),ne.length>0&&M.jsx("button",{type:"button",onClick:_e,disabled:!f,className:"px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white font-medium rounded-lg disabled:cursor-not-allowed",title:"Auto-fill with first available NFT",children:"Auto-fill"})]}),ne.length>0&&M.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[M.jsxs("p",{children:[" ",M.jsx("strong",{children:"Auto-fill:"})," Automatically fills the token ID with your first available NFT"]}),M.jsxs("p",{children:[" ",M.jsx("strong",{children:"Check NFT:"})," Verifies if a specific token ID exists and shows details"]})]}),N&&M.jsx("div",{className:`mt-3 p-3 rounded-lg border ${N.exists?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:N.exists?M.jsxs("div",{children:[M.jsx("p",{className:"text-sm font-medium text-green-700 mb-2",children:" NFT Found"}),M.jsxs("div",{className:"text-sm text-green-600 space-y-1",children:[M.jsxs("p",{children:[M.jsx("strong",{children:"Token ID:"})," ",N.details.tokenId]}),M.jsxs("p",{children:[M.jsx("strong",{children:"Mint Address:"})," ",N.details.mint]}),M.jsxs("p",{children:[M.jsx("strong",{children:"Token Balance:"})," ",N.details.tokenBalance]}),M.jsxs("p",{children:[M.jsx("strong",{children:"Metadata URI:"})," ",N.details.metadataUri]})]}),N.details.tokenBalance<1&&M.jsx("p",{className:"text-sm text-red-600 mt-2",children:" You don't have any tokens to transfer. Please mint an NFT first."})]}):M.jsxs("div",{children:[M.jsx("p",{className:"text-sm font-medium text-red-700 mb-2",children:" NFT Not Found"}),M.jsx("p",{className:"text-sm text-red-600",children:N.error}),M.jsxs("p",{className:"text-sm text-red-600 mt-2",children:[" ",M.jsx("strong",{children:"Solution:"}),' Create an NFT first using the "Create Mint & NFT" tab above.']})]})}),!$&&!N&&M.jsx("p",{className:"mt-1 text-sm text-gray-500",children:`You need to create an NFT first before you can transfer it. Use the "Check NFT" button to verify what's available.`}),ne.length>0&&M.jsxs("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[M.jsxs("p",{className:"text-sm text-blue-700 mb-2",children:[" ",M.jsx("strong",{children:"Available NFTs Found:"})," You have ",ne.length," NFT",ne.length!==1?"s":""," available"]}),M.jsxs("div",{className:"text-xs text-blue-600 space-y-1",children:[ne.slice(0,3).map((J,Ie)=>M.jsxs("p",{children:[" Token ID ",J.tokenId,": ",J.mint.slice(0,8),"...",J.mint.slice(-8)]},Ie)),ne.length>3&&M.jsxs("p",{children:[" ... and ",ne.length-3," more"]})]}),M.jsxs("p",{className:"text-xs text-blue-600 mt-2",children:[" ",M.jsx("strong",{children:"Tip:"}),' Use the "Check NFT" button above to verify any token ID before transfer']})]})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Destination Chain"}),M.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Select the target blockchain for the transfer"}),M.jsx("select",{value:A.destinationChain,onChange:J=>{const Ie=parseInt(J.target.value);isNaN(Ie)||u({...A,destinationChain:Ie})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:w().map(J=>M.jsx("option",{value:J.value,children:J.label},J.value))})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Destination Owner (ZetaChain Contract)"}),M.jsx("p",{className:"text-sm text-blue-600 mb-2",children:" This should be your deployed ZetaChain contract address (0xfeC46bFEE779652CA9c2706F5cA12D92c81B4188)"}),M.jsx("div",{className:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:M.jsxs("p",{className:"text-sm text-blue-700",children:[M.jsx("strong",{children:"What happens:"})," When you transfer an NFT, it will be burned on Solana and minted on ZetaChain at this contract address. The contract's ",M.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"onCall"})," function will automatically handle the NFT creation."]})}),M.jsx("input",{type:"text",value:A.destinationOwner,onChange:J=>u({...A,destinationOwner:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-500",placeholder:"0xfeC46bFEE779652CA9c2706F5cA12D92c81B4188",required:!0})]}),M.jsx("button",{type:"submit",disabled:n||!f,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg disabled:cursor-not-allowed",children:n?"Initiating...":"Initiate Transfer"})]}),m&&M.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mt-6",children:[M.jsxs("div",{className:"flex justify-between items-center mb-3",children:[M.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Cross-Chain Transfer Transaction"}),M.jsx("button",{onClick:()=>x(A.tokenId,A.destinationChain,A.destinationOwner),className:"text-sm bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-md transition-colors",children:"Refresh Status"})]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[M.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[M.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Status"}),M.jsx("p",{className:`text-lg font-semibold ${m.status==="completed"?"text-green-600":m.status==="failed"?"text-red-600":"text-yellow-600"}`,children:m.status==="completed"?" Completed":m.status==="failed"?" Failed":" Pending"})]}),M.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[M.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Destination Chain"}),M.jsx("p",{className:"text-lg font-semibold text-blue-600",children:m.destinationChainName})]}),M.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[M.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Recipient"}),M.jsx("p",{className:"text-sm font-mono text-gray-900 break-all",children:m.destinationOwner})]}),M.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[M.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Solana TX Hash"}),M.jsx("p",{className:"text-sm font-mono text-gray-900 break-all",children:m.solanaTxSignature})]})]}),M.jsx("div",{className:"bg-white border border-gray-200 rounded p-3 max-h-96 overflow-y-auto",children:M.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap font-mono",children:m.logs.join(`
`)})}),M.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:[M.jsx("p",{children:" Transaction logs show real blockchain data from the cross-chain transfer"}),M.jsx("p",{children:" Use the refresh button to get the latest transaction status"}),M.jsxs("p",{children:[" ZetaChain Contract: ",M.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"0xfeC46bFEE779652CA9c2706F5cA12D92c81B4188"})]})]})]})]});case"receive":return M.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 max-w-2xl",children:[M.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Receive Cross-Chain Message"}),M.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[M.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:" Before receiving a message:"}),M.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[M.jsx("li",{children:" Make sure the program is initialized"}),M.jsx("li",{children:" Ensure you have a valid mint address"}),M.jsx("li",{children:" The program must not be paused"}),M.jsx("li",{children:" You need sufficient SOL for transaction fees"})]})]}),M.jsxs("form",{onSubmit:gt,className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Token ID"}),M.jsx("input",{type:"number",value:h.tokenId,onChange:J=>{const Ie=parseInt(J.target.value);isNaN(Ie)||S({...h,tokenId:Ie})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cross-Chain Message"}),M.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Message data received from another blockchain"}),M.jsx("textarea",{value:h.message,onChange:J=>S({...h,message:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 h-32 resize-none",placeholder:"Enter cross-chain message (JSON format recommended)",required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mint Address"}),M.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Public key of the SPL Token mint account to receive the NFT"}),M.jsx("input",{type:"text",value:h.mint,onChange:J=>S({...h,mint:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 11111111111111111111111111111111",required:!0})]}),M.jsx("button",{type:"submit",disabled:n||!f,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg disabled:cursor-not-allowed",children:n?"Receiving...":"Receive Message"})]})]});case"admin":return M.jsx("div",{className:"space-y-6",children:M.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[M.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Program Control"}),M.jsxs("div",{className:"flex space-x-4",children:[M.jsx("button",{onClick:qe,disabled:n||!f||(P==null?void 0:P.paused),className:"bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg disabled:cursor-not-allowed",children:n?"Pausing...":"Pause Program"}),M.jsx("button",{onClick:et,disabled:n||!f||!(P!=null&&P.paused),className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg disabled:cursor-not-allowed",children:n?"Unpausing...":"Unpause Program"})]})]})});default:return null}};return M.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[M.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:M.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:M.jsxs("div",{className:"flex justify-between items-center h-16",children:[M.jsxs("div",{className:"flex items-center space-x-3",children:[M.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:M.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded"})}),M.jsxs("div",{children:[M.jsx("h1",{className:"text-xl font-bold text-blue-600",children:"Universal NFT"}),M.jsx("p",{className:"text-xs text-green-600 font-medium",children:" ZetaChain Integration Ready"}),M.jsx("p",{className:"text-xs text-yellow-600 font-medium",children:" Migration Support Available"})]})]}),M.jsx(xP,{})]})})}),M.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[M.jsx("div",{className:"mb-8",children:M.jsx("nav",{className:"flex space-x-1 bg-white p-1 rounded-xl shadow-sm border border-gray-200",children:Yn.map(J=>M.jsx("button",{onClick:()=>b(J.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 ${y===J.id?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:J.label},J.id))})}),M.jsx("div",{children:tt()})]}),M.jsx("footer",{className:"bg-white border-t border-gray-200 mt-16",children:M.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:M.jsxs("div",{className:"text-center text-gray-600",children:[M.jsx("p",{children:"Universal NFT - Cross-Chain NFT Platform"}),M.jsx("p",{className:"text-sm mt-2",children:"Built with Solana, Anchor Framework & ZetaChain"}),M.jsx("p",{className:"text-xs mt-1 text-green-600",children:"ZetaChain Contract: 0xfeC46bFEE779652CA9c2706F5cA12D92c81B4188"}),M.jsx("p",{className:"text-xs mt-1 text-blue-600",children:"Solana Program: 7uVLXw3wQoGjFD1KVGdhFpiWHSwzQKEDASfKiQ8GrAWR"})]})})})]})},Oz=()=>M.jsx(AP,{children:M.jsx(Mz,{})});P0.createRoot(document.getElementById("root")).render(M.jsx(re.StrictMode,{children:M.jsx(Oz,{})}));export{_h as E,X as P,gi as S,Be as T,al as V,an as a,hs as b,ro as g};
//# sourceMappingURL=index-D9FAPxNt.js.map
