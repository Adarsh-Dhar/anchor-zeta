var JI=Object.defineProperty;var eN=(t,e,n)=>e in t?JI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Vt=(t,e,n)=>eN(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var jn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function To(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var TE={exports:{}},vd={},kE={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _c=Symbol.for("react.element"),tN=Symbol.for("react.portal"),nN=Symbol.for("react.fragment"),rN=Symbol.for("react.strict_mode"),iN=Symbol.for("react.profiler"),oN=Symbol.for("react.provider"),sN=Symbol.for("react.context"),aN=Symbol.for("react.forward_ref"),lN=Symbol.for("react.suspense"),uN=Symbol.for("react.memo"),cN=Symbol.for("react.lazy"),l1=Symbol.iterator;function fN(t){return t===null||typeof t!="object"?null:(t=l1&&t[l1]||t["@@iterator"],typeof t=="function"?t:null)}var CE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},OE=Object.assign,LE={};function $l(t,e,n){this.props=t,this.context=e,this.refs=LE,this.updater=n||CE}$l.prototype.isReactComponent={};$l.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$l.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function BE(){}BE.prototype=$l.prototype;function ey(t,e,n){this.props=t,this.context=e,this.refs=LE,this.updater=n||CE}var ty=ey.prototype=new BE;ty.constructor=ey;OE(ty,$l.prototype);ty.isPureReactComponent=!0;var u1=Array.isArray,PE=Object.prototype.hasOwnProperty,ny={current:null},DE={key:!0,ref:!0,__self:!0,__source:!0};function UE(t,e,n){var r,o={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)PE.call(e,r)&&!DE.hasOwnProperty(r)&&(o[r]=e[r]);var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){for(var f=Array(c),g=0;g<c;g++)f[g]=arguments[g+2];o.children=f}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)o[r]===void 0&&(o[r]=c[r]);return{$$typeof:_c,type:t,key:i,ref:a,props:o,_owner:ny.current}}function hN(t,e){return{$$typeof:_c,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ry(t){return typeof t=="object"&&t!==null&&t.$$typeof===_c}function dN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var c1=/\/+/g;function E0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dN(""+t.key):e.toString(36)}function Af(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case _c:case tN:a=!0}}if(a)return a=t,o=o(a),t=r===""?"."+E0(a,0):r,u1(o)?(n="",t!=null&&(n=t.replace(c1,"$&/")+"/"),Af(o,e,n,"",function(g){return g})):o!=null&&(ry(o)&&(o=hN(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(c1,"$&/")+"/")+t)),e.push(o)),1;if(a=0,r=r===""?".":r+":",u1(t))for(var c=0;c<t.length;c++){i=t[c];var f=r+E0(i,c);a+=Af(i,e,n,f,o)}else if(f=fN(t),typeof f=="function")for(t=f.call(t),c=0;!(i=t.next()).done;)i=i.value,f=r+E0(i,c++),a+=Af(i,e,n,f,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Fc(t,e,n){if(t==null)return t;var r=[],o=0;return Af(t,r,"","",function(i){return e.call(n,i,o++)}),r}function pN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mr={current:null},xf={transition:null},mN={ReactCurrentDispatcher:mr,ReactCurrentBatchConfig:xf,ReactCurrentOwner:ny};function zE(){throw Error("act(...) is not supported in production builds of React.")}ut.Children={map:Fc,forEach:function(t,e,n){Fc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Fc(t,function(){e++}),e},toArray:function(t){return Fc(t,function(e){return e})||[]},only:function(t){if(!ry(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ut.Component=$l;ut.Fragment=nN;ut.Profiler=iN;ut.PureComponent=ey;ut.StrictMode=rN;ut.Suspense=lN;ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mN;ut.act=zE;ut.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=OE({},t.props),o=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=ny.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(f in e)PE.call(e,f)&&!DE.hasOwnProperty(f)&&(r[f]=e[f]===void 0&&c!==void 0?c[f]:e[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){c=Array(f);for(var g=0;g<f;g++)c[g]=arguments[g+2];r.children=c}return{$$typeof:_c,type:t.type,key:o,ref:i,props:r,_owner:a}};ut.createContext=function(t){return t={$$typeof:sN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:oN,_context:t},t.Consumer=t};ut.createElement=UE;ut.createFactory=function(t){var e=UE.bind(null,t);return e.type=t,e};ut.createRef=function(){return{current:null}};ut.forwardRef=function(t){return{$$typeof:aN,render:t}};ut.isValidElement=ry;ut.lazy=function(t){return{$$typeof:cN,_payload:{_status:-1,_result:t},_init:pN}};ut.memo=function(t,e){return{$$typeof:uN,type:t,compare:e===void 0?null:e}};ut.startTransition=function(t){var e=xf.transition;xf.transition={};try{t()}finally{xf.transition=e}};ut.unstable_act=zE;ut.useCallback=function(t,e){return mr.current.useCallback(t,e)};ut.useContext=function(t){return mr.current.useContext(t)};ut.useDebugValue=function(){};ut.useDeferredValue=function(t){return mr.current.useDeferredValue(t)};ut.useEffect=function(t,e){return mr.current.useEffect(t,e)};ut.useId=function(){return mr.current.useId()};ut.useImperativeHandle=function(t,e,n){return mr.current.useImperativeHandle(t,e,n)};ut.useInsertionEffect=function(t,e){return mr.current.useInsertionEffect(t,e)};ut.useLayoutEffect=function(t,e){return mr.current.useLayoutEffect(t,e)};ut.useMemo=function(t,e){return mr.current.useMemo(t,e)};ut.useReducer=function(t,e,n){return mr.current.useReducer(t,e,n)};ut.useRef=function(t){return mr.current.useRef(t)};ut.useState=function(t){return mr.current.useState(t)};ut.useSyncExternalStore=function(t,e,n){return mr.current.useSyncExternalStore(t,e,n)};ut.useTransition=function(){return mr.current.useTransition()};ut.version="18.3.1";kE.exports=ut;var ae=kE.exports;const fe=Yi(ae);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gN=ae,yN=Symbol.for("react.element"),wN=Symbol.for("react.fragment"),vN=Object.prototype.hasOwnProperty,_N=gN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EN={key:!0,ref:!0,__self:!0,__source:!0};function jE(t,e,n){var r,o={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)vN.call(e,r)&&!EN.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:yN,type:t,key:i,ref:a,props:o,_owner:_N.current}}vd.Fragment=wN;vd.jsx=jE;vd.jsxs=jE;TE.exports=vd;var te=TE.exports,Fp={},WE={exports:{}},Hr={},FE={exports:{}},$E={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(y,v){var b=y.length;y.push(v);e:for(;0<b;){var m=b-1>>>1,l=y[m];if(0<o(l,v))y[m]=v,y[b]=l,b=m;else break e}}function n(y){return y.length===0?null:y[0]}function r(y){if(y.length===0)return null;var v=y[0],b=y.pop();if(b!==v){y[0]=b;e:for(var m=0,l=y.length,w=l>>>1;m<w;){var K=2*(m+1)-1,$=y[K],q=K+1,ue=y[q];if(0>o($,b))q<l&&0>o(ue,$)?(y[m]=ue,y[q]=b,m=q):(y[m]=$,y[K]=b,m=K);else if(q<l&&0>o(ue,b))y[m]=ue,y[q]=b,m=q;else break e}}return v}function o(y,v){var b=y.sortIndex-v.sortIndex;return b!==0?b:y.id-v.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var f=[],g=[],_=1,M=null,S=3,E=!1,A=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(y){for(var v=n(g);v!==null;){if(v.callback===null)r(g);else if(v.startTime<=y)r(g),v.sortIndex=v.expirationTime,e(f,v);else break;v=n(g)}}function O(y){if(k=!1,N(y),!A)if(n(f)!==null)A=!0,h(D);else{var v=n(g);v!==null&&p(O,v.startTime-y)}}function D(y,v){A=!1,k&&(k=!1,R(W),W=-1),E=!0;var b=S;try{for(N(v),M=n(f);M!==null&&(!(M.expirationTime>v)||y&&!j());){var m=M.callback;if(typeof m=="function"){M.callback=null,S=M.priorityLevel;var l=m(M.expirationTime<=v);v=t.unstable_now(),typeof l=="function"?M.callback=l:M===n(f)&&r(f),N(v)}else r(f);M=n(f)}if(M!==null)var w=!0;else{var K=n(g);K!==null&&p(O,K.startTime-v),w=!1}return w}finally{M=null,S=b,E=!1}}var z=!1,P=null,W=-1,U=5,F=-1;function j(){return!(t.unstable_now()-F<U)}function V(){if(P!==null){var y=t.unstable_now();F=y;var v=!0;try{v=P(!0,y)}finally{v?d():(z=!1,P=null)}}else z=!1}var d;if(typeof T=="function")d=function(){T(V)};else if(typeof MessageChannel<"u"){var s=new MessageChannel,u=s.port2;s.port1.onmessage=V,d=function(){u.postMessage(null)}}else d=function(){C(V,0)};function h(y){P=y,z||(z=!0,d())}function p(y,v){W=C(function(){y(t.unstable_now())},v)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(y){y.callback=null},t.unstable_continueExecution=function(){A||E||(A=!0,h(D))},t.unstable_forceFrameRate=function(y){0>y||125<y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<y?Math.floor(1e3/y):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(y){switch(S){case 1:case 2:case 3:var v=3;break;default:v=S}var b=S;S=v;try{return y()}finally{S=b}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(y,v){switch(y){case 1:case 2:case 3:case 4:case 5:break;default:y=3}var b=S;S=y;try{return v()}finally{S=b}},t.unstable_scheduleCallback=function(y,v,b){var m=t.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?m+b:m):b=m,y){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return l=b+l,y={id:_++,callback:v,priorityLevel:y,startTime:b,expirationTime:l,sortIndex:-1},b>m?(y.sortIndex=b,e(g,y),n(f)===null&&y===n(g)&&(k?(R(W),W=-1):k=!0,p(O,b-m))):(y.sortIndex=l,e(f,y),A||E||(A=!0,h(D))),y},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(y){var v=S;return function(){var b=S;S=v;try{return y.apply(this,arguments)}finally{S=b}}}})($E);FE.exports=$E;var bN=FE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SN=ae,$r=bN;function he(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var HE=new Set,Vu={};function ga(t,e){vl(t,e),vl(t+"Capture",e)}function vl(t,e){for(Vu[t]=e,t=0;t<e.length;t++)HE.add(e[t])}var Ao=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$p=Object.prototype.hasOwnProperty,MN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f1={},h1={};function AN(t){return $p.call(h1,t)?!0:$p.call(f1,t)?!1:MN.test(t)?h1[t]=!0:(f1[t]=!0,!1)}function xN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function RN(t,e,n,r){if(e===null||typeof e>"u"||xN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gr(t,e,n,r,o,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tn[t]=new gr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tn[e]=new gr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tn[t]=new gr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tn[t]=new gr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tn[t]=new gr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tn[t]=new gr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tn[t]=new gr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tn[t]=new gr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tn[t]=new gr(t,5,!1,t.toLowerCase(),null,!1,!1)});var iy=/[\-:]([a-z])/g;function oy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(iy,oy);Tn[e]=new gr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(iy,oy);Tn[e]=new gr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(iy,oy);Tn[e]=new gr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tn[t]=new gr(t,1,!1,t.toLowerCase(),null,!1,!1)});Tn.xlinkHref=new gr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tn[t]=new gr(t,1,!1,t.toLowerCase(),null,!0,!0)});function sy(t,e,n,r){var o=Tn.hasOwnProperty(e)?Tn[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(RN(e,n,o,r)&&(n=null),r||o===null?AN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ko=SN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$c=Symbol.for("react.element"),Ka=Symbol.for("react.portal"),Va=Symbol.for("react.fragment"),ay=Symbol.for("react.strict_mode"),Hp=Symbol.for("react.profiler"),KE=Symbol.for("react.provider"),VE=Symbol.for("react.context"),ly=Symbol.for("react.forward_ref"),Kp=Symbol.for("react.suspense"),Vp=Symbol.for("react.suspense_list"),uy=Symbol.for("react.memo"),Ko=Symbol.for("react.lazy"),qE=Symbol.for("react.offscreen"),d1=Symbol.iterator;function eu(t){return t===null||typeof t!="object"?null:(t=d1&&t[d1]||t["@@iterator"],typeof t=="function"?t:null)}var Ft=Object.assign,b0;function pu(t){if(b0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);b0=e&&e[1]||""}return`
`+b0+t}var S0=!1;function M0(t,e){if(!t||S0)return"";S0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(g){var r=g}Reflect.construct(t,[],e)}else{try{e.call()}catch(g){r=g}t.call(e.prototype)}else{try{throw Error()}catch(g){r=g}t()}}catch(g){if(g&&r&&typeof g.stack=="string"){for(var o=g.stack.split(`
`),i=r.stack.split(`
`),a=o.length-1,c=i.length-1;1<=a&&0<=c&&o[a]!==i[c];)c--;for(;1<=a&&0<=c;a--,c--)if(o[a]!==i[c]){if(a!==1||c!==1)do if(a--,c--,0>c||o[a]!==i[c]){var f=`
`+o[a].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=a&&0<=c);break}}}finally{S0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pu(t):""}function IN(t){switch(t.tag){case 5:return pu(t.type);case 16:return pu("Lazy");case 13:return pu("Suspense");case 19:return pu("SuspenseList");case 0:case 2:case 15:return t=M0(t.type,!1),t;case 11:return t=M0(t.type.render,!1),t;case 1:return t=M0(t.type,!0),t;default:return""}}function qp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Va:return"Fragment";case Ka:return"Portal";case Hp:return"Profiler";case ay:return"StrictMode";case Kp:return"Suspense";case Vp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case VE:return(t.displayName||"Context")+".Consumer";case KE:return(t._context.displayName||"Context")+".Provider";case ly:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case uy:return e=t.displayName||null,e!==null?e:qp(t.type)||"Memo";case Ko:e=t._payload,t=t._init;try{return qp(t(e))}catch{}}return null}function NN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qp(e);case 8:return e===ay?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ys(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function GE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TN(t){var e=GE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hc(t){t._valueTracker||(t._valueTracker=TN(t))}function ZE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=GE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function vh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gp(t,e){var n=e.checked;return Ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function p1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ys(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function YE(t,e){e=e.checked,e!=null&&sy(t,"checked",e,!1)}function Zp(t,e){YE(t,e);var n=ys(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Yp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Yp(t,e.type,ys(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function m1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Yp(t,e,n){(e!=="number"||vh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var mu=Array.isArray;function al(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ys(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Qp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(he(91));return Ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function g1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(he(92));if(mu(n)){if(1<n.length)throw Error(he(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ys(n)}}function QE(t,e){var n=ys(e.value),r=ys(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function y1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function XE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?XE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Kc,JE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Kc=Kc||document.createElement("div"),Kc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Kc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kN=["Webkit","ms","Moz","O"];Object.keys(Nu).forEach(function(t){kN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nu[e]=Nu[t]})});function eb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nu.hasOwnProperty(t)&&Nu[t]?(""+e).trim():e+"px"}function tb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=eb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var CN=Ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jp(t,e){if(e){if(CN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(he(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(he(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(he(61))}if(e.style!=null&&typeof e.style!="object")throw Error(he(62))}}function em(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tm=null;function cy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nm=null,ll=null,ul=null;function w1(t){if(t=Sc(t)){if(typeof nm!="function")throw Error(he(280));var e=t.stateNode;e&&(e=Md(e),nm(t.stateNode,t.type,e))}}function nb(t){ll?ul?ul.push(t):ul=[t]:ll=t}function rb(){if(ll){var t=ll,e=ul;if(ul=ll=null,w1(t),e)for(t=0;t<e.length;t++)w1(e[t])}}function ib(t,e){return t(e)}function ob(){}var A0=!1;function sb(t,e,n){if(A0)return t(e,n);A0=!0;try{return ib(t,e,n)}finally{A0=!1,(ll!==null||ul!==null)&&(ob(),rb())}}function Gu(t,e){var n=t.stateNode;if(n===null)return null;var r=Md(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(he(231,e,typeof n));return n}var rm=!1;if(Ao)try{var tu={};Object.defineProperty(tu,"passive",{get:function(){rm=!0}}),window.addEventListener("test",tu,tu),window.removeEventListener("test",tu,tu)}catch{rm=!1}function ON(t,e,n,r,o,i,a,c,f){var g=Array.prototype.slice.call(arguments,3);try{e.apply(n,g)}catch(_){this.onError(_)}}var Tu=!1,_h=null,Eh=!1,im=null,LN={onError:function(t){Tu=!0,_h=t}};function BN(t,e,n,r,o,i,a,c,f){Tu=!1,_h=null,ON.apply(LN,arguments)}function PN(t,e,n,r,o,i,a,c,f){if(BN.apply(this,arguments),Tu){if(Tu){var g=_h;Tu=!1,_h=null}else throw Error(he(198));Eh||(Eh=!0,im=g)}}function ya(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ab(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function v1(t){if(ya(t)!==t)throw Error(he(188))}function DN(t){var e=t.alternate;if(!e){if(e=ya(t),e===null)throw Error(he(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return v1(o),t;if(i===r)return v1(o),e;i=i.sibling}throw Error(he(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a){for(c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?t:e}function lb(t){return t=DN(t),t!==null?ub(t):null}function ub(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ub(t);if(e!==null)return e;t=t.sibling}return null}var cb=$r.unstable_scheduleCallback,_1=$r.unstable_cancelCallback,UN=$r.unstable_shouldYield,zN=$r.unstable_requestPaint,Jt=$r.unstable_now,jN=$r.unstable_getCurrentPriorityLevel,fy=$r.unstable_ImmediatePriority,fb=$r.unstable_UserBlockingPriority,bh=$r.unstable_NormalPriority,WN=$r.unstable_LowPriority,hb=$r.unstable_IdlePriority,_d=null,$i=null;function FN(t){if($i&&typeof $i.onCommitFiberRoot=="function")try{$i.onCommitFiberRoot(_d,t,void 0,(t.current.flags&128)===128)}catch{}}var Mi=Math.clz32?Math.clz32:KN,$N=Math.log,HN=Math.LN2;function KN(t){return t>>>=0,t===0?32:31-($N(t)/HN|0)|0}var Vc=64,qc=4194304;function gu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var c=a&~o;c!==0?r=gu(c):(i&=a,i!==0&&(r=gu(i)))}else a=n&~o,a!==0?r=gu(a):i!==0&&(r=gu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Mi(e),o=1<<n,r|=t[n],e&=~o;return r}function VN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Mi(i),c=1<<a,f=o[a];f===-1?(!(c&n)||c&r)&&(o[a]=VN(c,e)):f<=e&&(t.expiredLanes|=c),i&=~c}}function om(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function db(){var t=Vc;return Vc<<=1,!(Vc&4194240)&&(Vc=64),t}function x0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ec(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Mi(e),t[e]=n}function GN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-Mi(n),i=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~i}}function hy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Mi(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var St=0;function pb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mb,dy,gb,yb,wb,sm=!1,Gc=[],os=null,ss=null,as=null,Zu=new Map,Yu=new Map,Zo=[],ZN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function E1(t,e){switch(t){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":Zu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yu.delete(e.pointerId)}}function nu(t,e,n,r,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=Sc(e),e!==null&&dy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function YN(t,e,n,r,o){switch(e){case"focusin":return os=nu(os,t,e,n,r,o),!0;case"dragenter":return ss=nu(ss,t,e,n,r,o),!0;case"mouseover":return as=nu(as,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return Zu.set(i,nu(Zu.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Yu.set(i,nu(Yu.get(i)||null,t,e,n,r,o)),!0}return!1}function vb(t){var e=Fs(t.target);if(e!==null){var n=ya(e);if(n!==null){if(e=n.tag,e===13){if(e=ab(n),e!==null){t.blockedOn=e,wb(t.priority,function(){gb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=am(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);tm=r,n.target.dispatchEvent(r),tm=null}else return e=Sc(n),e!==null&&dy(e),t.blockedOn=n,!1;e.shift()}return!0}function b1(t,e,n){Rf(t)&&n.delete(e)}function QN(){sm=!1,os!==null&&Rf(os)&&(os=null),ss!==null&&Rf(ss)&&(ss=null),as!==null&&Rf(as)&&(as=null),Zu.forEach(b1),Yu.forEach(b1)}function ru(t,e){t.blockedOn===e&&(t.blockedOn=null,sm||(sm=!0,$r.unstable_scheduleCallback($r.unstable_NormalPriority,QN)))}function Qu(t){function e(o){return ru(o,t)}if(0<Gc.length){ru(Gc[0],t);for(var n=1;n<Gc.length;n++){var r=Gc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(os!==null&&ru(os,t),ss!==null&&ru(ss,t),as!==null&&ru(as,t),Zu.forEach(e),Yu.forEach(e),n=0;n<Zo.length;n++)r=Zo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Zo.length&&(n=Zo[0],n.blockedOn===null);)vb(n),n.blockedOn===null&&Zo.shift()}var cl=ko.ReactCurrentBatchConfig,Mh=!0;function XN(t,e,n,r){var o=St,i=cl.transition;cl.transition=null;try{St=1,py(t,e,n,r)}finally{St=o,cl.transition=i}}function JN(t,e,n,r){var o=St,i=cl.transition;cl.transition=null;try{St=4,py(t,e,n,r)}finally{St=o,cl.transition=i}}function py(t,e,n,r){if(Mh){var o=am(t,e,n,r);if(o===null)P0(t,e,r,Ah,n),E1(t,r);else if(YN(o,t,e,n,r))r.stopPropagation();else if(E1(t,r),e&4&&-1<ZN.indexOf(t)){for(;o!==null;){var i=Sc(o);if(i!==null&&mb(i),i=am(t,e,n,r),i===null&&P0(t,e,r,Ah,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else P0(t,e,r,null,n)}}var Ah=null;function am(t,e,n,r){if(Ah=null,t=cy(r),t=Fs(t),t!==null)if(e=ya(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ab(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ah=t,null}function _b(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jN()){case fy:return 1;case fb:return 4;case bh:case WN:return 16;case hb:return 536870912;default:return 16}default:return 16}}var Xo=null,my=null,If=null;function Eb(){if(If)return If;var t,e=my,n=e.length,r,o="value"in Xo?Xo.value:Xo.textContent,i=o.length;for(t=0;t<n&&e[t]===o[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===o[i-r];r++);return If=o.slice(t,1<r?1-r:void 0)}function Nf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zc(){return!0}function S1(){return!1}function Kr(t){function e(n,r,o,i,a){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Zc:S1,this.isPropagationStopped=S1,this}return Ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zc)},persist:function(){},isPersistent:Zc}),e}var Hl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gy=Kr(Hl),bc=Ft({},Hl,{view:0,detail:0}),eT=Kr(bc),R0,I0,iu,Ed=Ft({},bc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==iu&&(iu&&t.type==="mousemove"?(R0=t.screenX-iu.screenX,I0=t.screenY-iu.screenY):I0=R0=0,iu=t),R0)},movementY:function(t){return"movementY"in t?t.movementY:I0}}),M1=Kr(Ed),tT=Ft({},Ed,{dataTransfer:0}),nT=Kr(tT),rT=Ft({},bc,{relatedTarget:0}),N0=Kr(rT),iT=Ft({},Hl,{animationName:0,elapsedTime:0,pseudoElement:0}),oT=Kr(iT),sT=Ft({},Hl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aT=Kr(sT),lT=Ft({},Hl,{data:0}),A1=Kr(lT),uT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fT[t])?!!e[t]:!1}function yy(){return hT}var dT=Ft({},bc,{key:function(t){if(t.key){var e=uT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yy,charCode:function(t){return t.type==="keypress"?Nf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pT=Kr(dT),mT=Ft({},Ed,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x1=Kr(mT),gT=Ft({},bc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yy}),yT=Kr(gT),wT=Ft({},Hl,{propertyName:0,elapsedTime:0,pseudoElement:0}),vT=Kr(wT),_T=Ft({},Ed,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ET=Kr(_T),bT=[9,13,27,32],wy=Ao&&"CompositionEvent"in window,ku=null;Ao&&"documentMode"in document&&(ku=document.documentMode);var ST=Ao&&"TextEvent"in window&&!ku,bb=Ao&&(!wy||ku&&8<ku&&11>=ku),R1=" ",I1=!1;function Sb(t,e){switch(t){case"keyup":return bT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qa=!1;function MT(t,e){switch(t){case"compositionend":return Mb(e);case"keypress":return e.which!==32?null:(I1=!0,R1);case"textInput":return t=e.data,t===R1&&I1?null:t;default:return null}}function AT(t,e){if(qa)return t==="compositionend"||!wy&&Sb(t,e)?(t=Eb(),If=my=Xo=null,qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bb&&e.locale!=="ko"?null:e.data;default:return null}}var xT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xT[t.type]:e==="textarea"}function Ab(t,e,n,r){nb(r),e=xh(e,"onChange"),0<e.length&&(n=new gy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Cu=null,Xu=null;function RT(t){Pb(t,0)}function bd(t){var e=Ya(t);if(ZE(e))return t}function IT(t,e){if(t==="change")return e}var xb=!1;if(Ao){var T0;if(Ao){var k0="oninput"in document;if(!k0){var T1=document.createElement("div");T1.setAttribute("oninput","return;"),k0=typeof T1.oninput=="function"}T0=k0}else T0=!1;xb=T0&&(!document.documentMode||9<document.documentMode)}function k1(){Cu&&(Cu.detachEvent("onpropertychange",Rb),Xu=Cu=null)}function Rb(t){if(t.propertyName==="value"&&bd(Xu)){var e=[];Ab(e,Xu,t,cy(t)),sb(RT,e)}}function NT(t,e,n){t==="focusin"?(k1(),Cu=e,Xu=n,Cu.attachEvent("onpropertychange",Rb)):t==="focusout"&&k1()}function TT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bd(Xu)}function kT(t,e){if(t==="click")return bd(e)}function CT(t,e){if(t==="input"||t==="change")return bd(e)}function OT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ri=typeof Object.is=="function"?Object.is:OT;function Ju(t,e){if(Ri(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!$p.call(e,o)||!Ri(t[o],e[o]))return!1}return!0}function C1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function O1(t,e){var n=C1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=C1(n)}}function Ib(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ib(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Nb(){for(var t=window,e=vh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vh(t.document)}return e}function vy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function LT(t){var e=Nb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ib(n.ownerDocument.documentElement,n)){if(r!==null&&vy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=O1(n,i);var a=O1(n,r);o&&a&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var BT=Ao&&"documentMode"in document&&11>=document.documentMode,Ga=null,lm=null,Ou=null,um=!1;function L1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;um||Ga==null||Ga!==vh(r)||(r=Ga,"selectionStart"in r&&vy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ou&&Ju(Ou,r)||(Ou=r,r=xh(lm,"onSelect"),0<r.length&&(e=new gy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ga)))}function Yc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Za={animationend:Yc("Animation","AnimationEnd"),animationiteration:Yc("Animation","AnimationIteration"),animationstart:Yc("Animation","AnimationStart"),transitionend:Yc("Transition","TransitionEnd")},C0={},Tb={};Ao&&(Tb=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function Sd(t){if(C0[t])return C0[t];if(!Za[t])return t;var e=Za[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Tb)return C0[t]=e[n];return t}var kb=Sd("animationend"),Cb=Sd("animationiteration"),Ob=Sd("animationstart"),Lb=Sd("transitionend"),Bb=new Map,B1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ms(t,e){Bb.set(t,e),ga(e,[t])}for(var O0=0;O0<B1.length;O0++){var L0=B1[O0],PT=L0.toLowerCase(),DT=L0[0].toUpperCase()+L0.slice(1);Ms(PT,"on"+DT)}Ms(kb,"onAnimationEnd");Ms(Cb,"onAnimationIteration");Ms(Ob,"onAnimationStart");Ms("dblclick","onDoubleClick");Ms("focusin","onFocus");Ms("focusout","onBlur");Ms(Lb,"onTransitionEnd");vl("onMouseEnter",["mouseout","mouseover"]);vl("onMouseLeave",["mouseout","mouseover"]);vl("onPointerEnter",["pointerout","pointerover"]);vl("onPointerLeave",["pointerout","pointerover"]);ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ga("onBeforeInput",["compositionend","keypress","textInput","paste"]);ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UT=new Set("cancel close invalid load scroll toggle".split(" ").concat(yu));function P1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,PN(r,e,void 0,t),t.currentTarget=null}function Pb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var c=r[a],f=c.instance,g=c.currentTarget;if(c=c.listener,f!==i&&o.isPropagationStopped())break e;P1(o,c,g),i=f}else for(a=0;a<r.length;a++){if(c=r[a],f=c.instance,g=c.currentTarget,c=c.listener,f!==i&&o.isPropagationStopped())break e;P1(o,c,g),i=f}}}if(Eh)throw t=im,Eh=!1,im=null,t}function Ot(t,e){var n=e[pm];n===void 0&&(n=e[pm]=new Set);var r=t+"__bubble";n.has(r)||(Db(e,t,2,!1),n.add(r))}function B0(t,e,n){var r=0;e&&(r|=4),Db(n,t,r,e)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function ec(t){if(!t[Qc]){t[Qc]=!0,HE.forEach(function(n){n!=="selectionchange"&&(UT.has(n)||B0(n,!1,t),B0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qc]||(e[Qc]=!0,B0("selectionchange",!1,e))}}function Db(t,e,n,r){switch(_b(e)){case 1:var o=XN;break;case 4:o=JN;break;default:o=py}n=o.bind(null,e,n,t),o=void 0,!rm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function P0(t,e,n,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===o||c.nodeType===8&&c.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var f=a.tag;if((f===3||f===4)&&(f=a.stateNode.containerInfo,f===o||f.nodeType===8&&f.parentNode===o))return;a=a.return}for(;c!==null;){if(a=Fs(c),a===null)return;if(f=a.tag,f===5||f===6){r=i=a;continue e}c=c.parentNode}}r=r.return}sb(function(){var g=i,_=cy(n),M=[];e:{var S=Bb.get(t);if(S!==void 0){var E=gy,A=t;switch(t){case"keypress":if(Nf(n)===0)break e;case"keydown":case"keyup":E=pT;break;case"focusin":A="focus",E=N0;break;case"focusout":A="blur",E=N0;break;case"beforeblur":case"afterblur":E=N0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=M1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=nT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=yT;break;case kb:case Cb:case Ob:E=oT;break;case Lb:E=vT;break;case"scroll":E=eT;break;case"wheel":E=ET;break;case"copy":case"cut":case"paste":E=aT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=x1}var k=(e&4)!==0,C=!k&&t==="scroll",R=k?S!==null?S+"Capture":null:S;k=[];for(var T=g,N;T!==null;){N=T;var O=N.stateNode;if(N.tag===5&&O!==null&&(N=O,R!==null&&(O=Gu(T,R),O!=null&&k.push(tc(T,O,N)))),C)break;T=T.return}0<k.length&&(S=new E(S,A,null,n,_),M.push({event:S,listeners:k}))}}if(!(e&7)){e:{if(S=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",S&&n!==tm&&(A=n.relatedTarget||n.fromElement)&&(Fs(A)||A[xo]))break e;if((E||S)&&(S=_.window===_?_:(S=_.ownerDocument)?S.defaultView||S.parentWindow:window,E?(A=n.relatedTarget||n.toElement,E=g,A=A?Fs(A):null,A!==null&&(C=ya(A),A!==C||A.tag!==5&&A.tag!==6)&&(A=null)):(E=null,A=g),E!==A)){if(k=M1,O="onMouseLeave",R="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(k=x1,O="onPointerLeave",R="onPointerEnter",T="pointer"),C=E==null?S:Ya(E),N=A==null?S:Ya(A),S=new k(O,T+"leave",E,n,_),S.target=C,S.relatedTarget=N,O=null,Fs(_)===g&&(k=new k(R,T+"enter",A,n,_),k.target=N,k.relatedTarget=C,O=k),C=O,E&&A)t:{for(k=E,R=A,T=0,N=k;N;N=Aa(N))T++;for(N=0,O=R;O;O=Aa(O))N++;for(;0<T-N;)k=Aa(k),T--;for(;0<N-T;)R=Aa(R),N--;for(;T--;){if(k===R||R!==null&&k===R.alternate)break t;k=Aa(k),R=Aa(R)}k=null}else k=null;E!==null&&D1(M,S,E,k,!1),A!==null&&C!==null&&D1(M,C,A,k,!0)}}e:{if(S=g?Ya(g):window,E=S.nodeName&&S.nodeName.toLowerCase(),E==="select"||E==="input"&&S.type==="file")var D=IT;else if(N1(S))if(xb)D=CT;else{D=TT;var z=NT}else(E=S.nodeName)&&E.toLowerCase()==="input"&&(S.type==="checkbox"||S.type==="radio")&&(D=kT);if(D&&(D=D(t,g))){Ab(M,D,n,_);break e}z&&z(t,S,g),t==="focusout"&&(z=S._wrapperState)&&z.controlled&&S.type==="number"&&Yp(S,"number",S.value)}switch(z=g?Ya(g):window,t){case"focusin":(N1(z)||z.contentEditable==="true")&&(Ga=z,lm=g,Ou=null);break;case"focusout":Ou=lm=Ga=null;break;case"mousedown":um=!0;break;case"contextmenu":case"mouseup":case"dragend":um=!1,L1(M,n,_);break;case"selectionchange":if(BT)break;case"keydown":case"keyup":L1(M,n,_)}var P;if(wy)e:{switch(t){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else qa?Sb(t,n)&&(W="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(W="onCompositionStart");W&&(bb&&n.locale!=="ko"&&(qa||W!=="onCompositionStart"?W==="onCompositionEnd"&&qa&&(P=Eb()):(Xo=_,my="value"in Xo?Xo.value:Xo.textContent,qa=!0)),z=xh(g,W),0<z.length&&(W=new A1(W,t,null,n,_),M.push({event:W,listeners:z}),P?W.data=P:(P=Mb(n),P!==null&&(W.data=P)))),(P=ST?MT(t,n):AT(t,n))&&(g=xh(g,"onBeforeInput"),0<g.length&&(_=new A1("onBeforeInput","beforeinput",null,n,_),M.push({event:_,listeners:g}),_.data=P))}Pb(M,e)})}function tc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xh(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Gu(t,n),i!=null&&r.unshift(tc(t,i,o)),i=Gu(t,e),i!=null&&r.push(tc(t,i,o))),t=t.return}return r}function Aa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function D1(t,e,n,r,o){for(var i=e._reactName,a=[];n!==null&&n!==r;){var c=n,f=c.alternate,g=c.stateNode;if(f!==null&&f===r)break;c.tag===5&&g!==null&&(c=g,o?(f=Gu(n,i),f!=null&&a.unshift(tc(n,f,c))):o||(f=Gu(n,i),f!=null&&a.push(tc(n,f,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var zT=/\r\n?/g,jT=/\u0000|\uFFFD/g;function U1(t){return(typeof t=="string"?t:""+t).replace(zT,`
`).replace(jT,"")}function Xc(t,e,n){if(e=U1(e),U1(t)!==e&&n)throw Error(he(425))}function Rh(){}var cm=null,fm=null;function hm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var dm=typeof setTimeout=="function"?setTimeout:void 0,WT=typeof clearTimeout=="function"?clearTimeout:void 0,z1=typeof Promise=="function"?Promise:void 0,FT=typeof queueMicrotask=="function"?queueMicrotask:typeof z1<"u"?function(t){return z1.resolve(null).then(t).catch($T)}:dm;function $T(t){setTimeout(function(){throw t})}function D0(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),Qu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Qu(e)}function ls(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function j1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Kl=Math.random().toString(36).slice(2),Pi="__reactFiber$"+Kl,nc="__reactProps$"+Kl,xo="__reactContainer$"+Kl,pm="__reactEvents$"+Kl,HT="__reactListeners$"+Kl,KT="__reactHandles$"+Kl;function Fs(t){var e=t[Pi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xo]||n[Pi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=j1(t);t!==null;){if(n=t[Pi])return n;t=j1(t)}return e}t=n,n=t.parentNode}return null}function Sc(t){return t=t[Pi]||t[xo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ya(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(he(33))}function Md(t){return t[nc]||null}var mm=[],Qa=-1;function As(t){return{current:t}}function Lt(t){0>Qa||(t.current=mm[Qa],mm[Qa]=null,Qa--)}function Ct(t,e){Qa++,mm[Qa]=t.current,t.current=e}var ws={},Wn=As(ws),Rr=As(!1),sa=ws;function _l(t,e){var n=t.type.contextTypes;if(!n)return ws;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Ir(t){return t=t.childContextTypes,t!=null}function Ih(){Lt(Rr),Lt(Wn)}function W1(t,e,n){if(Wn.current!==ws)throw Error(he(168));Ct(Wn,e),Ct(Rr,n)}function Ub(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(he(108,NN(t)||"Unknown",o));return Ft({},n,r)}function Nh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ws,sa=Wn.current,Ct(Wn,t),Ct(Rr,Rr.current),!0}function F1(t,e,n){var r=t.stateNode;if(!r)throw Error(he(169));n?(t=Ub(t,e,sa),r.__reactInternalMemoizedMergedChildContext=t,Lt(Rr),Lt(Wn),Ct(Wn,t)):Lt(Rr),Ct(Rr,n)}var co=null,Ad=!1,U0=!1;function zb(t){co===null?co=[t]:co.push(t)}function VT(t){Ad=!0,zb(t)}function xs(){if(!U0&&co!==null){U0=!0;var t=0,e=St;try{var n=co;for(St=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}co=null,Ad=!1}catch(o){throw co!==null&&(co=co.slice(t+1)),cb(fy,xs),o}finally{St=e,U0=!1}}return null}var Xa=[],Ja=0,Th=null,kh=0,Yr=[],Qr=0,aa=null,vo=1,_o="";function Cs(t,e){Xa[Ja++]=kh,Xa[Ja++]=Th,Th=t,kh=e}function jb(t,e,n){Yr[Qr++]=vo,Yr[Qr++]=_o,Yr[Qr++]=aa,aa=t;var r=vo;t=_o;var o=32-Mi(r)-1;r&=~(1<<o),n+=1;var i=32-Mi(e)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,vo=1<<32-Mi(e)+o|n<<o|r,_o=i+t}else vo=1<<i|n<<o|r,_o=t}function _y(t){t.return!==null&&(Cs(t,1),jb(t,1,0))}function Ey(t){for(;t===Th;)Th=Xa[--Ja],Xa[Ja]=null,kh=Xa[--Ja],Xa[Ja]=null;for(;t===aa;)aa=Yr[--Qr],Yr[Qr]=null,_o=Yr[--Qr],Yr[Qr]=null,vo=Yr[--Qr],Yr[Qr]=null}var jr=null,zr=null,Dt=!1,_i=null;function Wb(t,e){var n=ei(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jr=t,zr=ls(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jr=t,zr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=aa!==null?{id:vo,overflow:_o}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ei(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jr=t,zr=null,!0):!1;default:return!1}}function gm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ym(t){if(Dt){var e=zr;if(e){var n=e;if(!$1(t,e)){if(gm(t))throw Error(he(418));e=ls(n.nextSibling);var r=jr;e&&$1(t,e)?Wb(r,n):(t.flags=t.flags&-4097|2,Dt=!1,jr=t)}}else{if(gm(t))throw Error(he(418));t.flags=t.flags&-4097|2,Dt=!1,jr=t}}}function H1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jr=t}function Jc(t){if(t!==jr)return!1;if(!Dt)return H1(t),Dt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hm(t.type,t.memoizedProps)),e&&(e=zr)){if(gm(t))throw Fb(),Error(he(418));for(;e;)Wb(t,e),e=ls(e.nextSibling)}if(H1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(he(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zr=ls(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zr=null}}else zr=jr?ls(t.stateNode.nextSibling):null;return!0}function Fb(){for(var t=zr;t;)t=ls(t.nextSibling)}function El(){zr=jr=null,Dt=!1}function by(t){_i===null?_i=[t]:_i.push(t)}var qT=ko.ReactCurrentBatchConfig;function ou(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var r=n.stateNode}if(!r)throw Error(he(147,t));var o=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var c=o.refs;a===null?delete c[i]:c[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,t))}return t}function ef(t,e){throw t=Object.prototype.toString.call(e),Error(he(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function K1(t){var e=t._init;return e(t._payload)}function $b(t){function e(R,T){if(t){var N=R.deletions;N===null?(R.deletions=[T],R.flags|=16):N.push(T)}}function n(R,T){if(!t)return null;for(;T!==null;)e(R,T),T=T.sibling;return null}function r(R,T){for(R=new Map;T!==null;)T.key!==null?R.set(T.key,T):R.set(T.index,T),T=T.sibling;return R}function o(R,T){return R=hs(R,T),R.index=0,R.sibling=null,R}function i(R,T,N){return R.index=N,t?(N=R.alternate,N!==null?(N=N.index,N<T?(R.flags|=2,T):N):(R.flags|=2,T)):(R.flags|=1048576,T)}function a(R){return t&&R.alternate===null&&(R.flags|=2),R}function c(R,T,N,O){return T===null||T.tag!==6?(T=K0(N,R.mode,O),T.return=R,T):(T=o(T,N),T.return=R,T)}function f(R,T,N,O){var D=N.type;return D===Va?_(R,T,N.props.children,O,N.key):T!==null&&(T.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ko&&K1(D)===T.type)?(O=o(T,N.props),O.ref=ou(R,T,N),O.return=R,O):(O=Pf(N.type,N.key,N.props,null,R.mode,O),O.ref=ou(R,T,N),O.return=R,O)}function g(R,T,N,O){return T===null||T.tag!==4||T.stateNode.containerInfo!==N.containerInfo||T.stateNode.implementation!==N.implementation?(T=V0(N,R.mode,O),T.return=R,T):(T=o(T,N.children||[]),T.return=R,T)}function _(R,T,N,O,D){return T===null||T.tag!==7?(T=oa(N,R.mode,O,D),T.return=R,T):(T=o(T,N),T.return=R,T)}function M(R,T,N){if(typeof T=="string"&&T!==""||typeof T=="number")return T=K0(""+T,R.mode,N),T.return=R,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case $c:return N=Pf(T.type,T.key,T.props,null,R.mode,N),N.ref=ou(R,null,T),N.return=R,N;case Ka:return T=V0(T,R.mode,N),T.return=R,T;case Ko:var O=T._init;return M(R,O(T._payload),N)}if(mu(T)||eu(T))return T=oa(T,R.mode,N,null),T.return=R,T;ef(R,T)}return null}function S(R,T,N,O){var D=T!==null?T.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return D!==null?null:c(R,T,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case $c:return N.key===D?f(R,T,N,O):null;case Ka:return N.key===D?g(R,T,N,O):null;case Ko:return D=N._init,S(R,T,D(N._payload),O)}if(mu(N)||eu(N))return D!==null?null:_(R,T,N,O,null);ef(R,N)}return null}function E(R,T,N,O,D){if(typeof O=="string"&&O!==""||typeof O=="number")return R=R.get(N)||null,c(T,R,""+O,D);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case $c:return R=R.get(O.key===null?N:O.key)||null,f(T,R,O,D);case Ka:return R=R.get(O.key===null?N:O.key)||null,g(T,R,O,D);case Ko:var z=O._init;return E(R,T,N,z(O._payload),D)}if(mu(O)||eu(O))return R=R.get(N)||null,_(T,R,O,D,null);ef(T,O)}return null}function A(R,T,N,O){for(var D=null,z=null,P=T,W=T=0,U=null;P!==null&&W<N.length;W++){P.index>W?(U=P,P=null):U=P.sibling;var F=S(R,P,N[W],O);if(F===null){P===null&&(P=U);break}t&&P&&F.alternate===null&&e(R,P),T=i(F,T,W),z===null?D=F:z.sibling=F,z=F,P=U}if(W===N.length)return n(R,P),Dt&&Cs(R,W),D;if(P===null){for(;W<N.length;W++)P=M(R,N[W],O),P!==null&&(T=i(P,T,W),z===null?D=P:z.sibling=P,z=P);return Dt&&Cs(R,W),D}for(P=r(R,P);W<N.length;W++)U=E(P,R,W,N[W],O),U!==null&&(t&&U.alternate!==null&&P.delete(U.key===null?W:U.key),T=i(U,T,W),z===null?D=U:z.sibling=U,z=U);return t&&P.forEach(function(j){return e(R,j)}),Dt&&Cs(R,W),D}function k(R,T,N,O){var D=eu(N);if(typeof D!="function")throw Error(he(150));if(N=D.call(N),N==null)throw Error(he(151));for(var z=D=null,P=T,W=T=0,U=null,F=N.next();P!==null&&!F.done;W++,F=N.next()){P.index>W?(U=P,P=null):U=P.sibling;var j=S(R,P,F.value,O);if(j===null){P===null&&(P=U);break}t&&P&&j.alternate===null&&e(R,P),T=i(j,T,W),z===null?D=j:z.sibling=j,z=j,P=U}if(F.done)return n(R,P),Dt&&Cs(R,W),D;if(P===null){for(;!F.done;W++,F=N.next())F=M(R,F.value,O),F!==null&&(T=i(F,T,W),z===null?D=F:z.sibling=F,z=F);return Dt&&Cs(R,W),D}for(P=r(R,P);!F.done;W++,F=N.next())F=E(P,R,W,F.value,O),F!==null&&(t&&F.alternate!==null&&P.delete(F.key===null?W:F.key),T=i(F,T,W),z===null?D=F:z.sibling=F,z=F);return t&&P.forEach(function(V){return e(R,V)}),Dt&&Cs(R,W),D}function C(R,T,N,O){if(typeof N=="object"&&N!==null&&N.type===Va&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case $c:e:{for(var D=N.key,z=T;z!==null;){if(z.key===D){if(D=N.type,D===Va){if(z.tag===7){n(R,z.sibling),T=o(z,N.props.children),T.return=R,R=T;break e}}else if(z.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ko&&K1(D)===z.type){n(R,z.sibling),T=o(z,N.props),T.ref=ou(R,z,N),T.return=R,R=T;break e}n(R,z);break}else e(R,z);z=z.sibling}N.type===Va?(T=oa(N.props.children,R.mode,O,N.key),T.return=R,R=T):(O=Pf(N.type,N.key,N.props,null,R.mode,O),O.ref=ou(R,T,N),O.return=R,R=O)}return a(R);case Ka:e:{for(z=N.key;T!==null;){if(T.key===z)if(T.tag===4&&T.stateNode.containerInfo===N.containerInfo&&T.stateNode.implementation===N.implementation){n(R,T.sibling),T=o(T,N.children||[]),T.return=R,R=T;break e}else{n(R,T);break}else e(R,T);T=T.sibling}T=V0(N,R.mode,O),T.return=R,R=T}return a(R);case Ko:return z=N._init,C(R,T,z(N._payload),O)}if(mu(N))return A(R,T,N,O);if(eu(N))return k(R,T,N,O);ef(R,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,T!==null&&T.tag===6?(n(R,T.sibling),T=o(T,N),T.return=R,R=T):(n(R,T),T=K0(N,R.mode,O),T.return=R,R=T),a(R)):n(R,T)}return C}var bl=$b(!0),Hb=$b(!1),Ch=As(null),Oh=null,el=null,Sy=null;function My(){Sy=el=Oh=null}function Ay(t){var e=Ch.current;Lt(Ch),t._currentValue=e}function wm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fl(t,e){Oh=t,Sy=el=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mr=!0),t.firstContext=null)}function ri(t){var e=t._currentValue;if(Sy!==t)if(t={context:t,memoizedValue:e,next:null},el===null){if(Oh===null)throw Error(he(308));el=t,Oh.dependencies={lanes:0,firstContext:t}}else el=el.next=t;return e}var $s=null;function xy(t){$s===null?$s=[t]:$s.push(t)}function Kb(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,xy(e)):(n.next=o.next,o.next=n),e.interleaved=n,Ro(t,r)}function Ro(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Vo=!1;function Ry(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function us(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,pt&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,Ro(t,n)}return o=r.interleaved,o===null?(e.next=e,xy(r)):(e.next=o.next,o.next=e),r.interleaved=e,Ro(t,n)}function Tf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hy(t,n)}}function V1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?o=i=e:i=i.next=e}else o=i=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Lh(t,e,n,r){var o=t.updateQueue;Vo=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,c=o.shared.pending;if(c!==null){o.shared.pending=null;var f=c,g=f.next;f.next=null,a===null?i=g:a.next=g,a=f;var _=t.alternate;_!==null&&(_=_.updateQueue,c=_.lastBaseUpdate,c!==a&&(c===null?_.firstBaseUpdate=g:c.next=g,_.lastBaseUpdate=f))}if(i!==null){var M=o.baseState;a=0,_=g=f=null,c=i;do{var S=c.lane,E=c.eventTime;if((r&S)===S){_!==null&&(_=_.next={eventTime:E,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var A=t,k=c;switch(S=e,E=n,k.tag){case 1:if(A=k.payload,typeof A=="function"){M=A.call(E,M,S);break e}M=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=k.payload,S=typeof A=="function"?A.call(E,M,S):A,S==null)break e;M=Ft({},M,S);break e;case 2:Vo=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,S=o.effects,S===null?o.effects=[c]:S.push(c))}else E={eventTime:E,lane:S,tag:c.tag,payload:c.payload,callback:c.callback,next:null},_===null?(g=_=E,f=M):_=_.next=E,a|=S;if(c=c.next,c===null){if(c=o.shared.pending,c===null)break;S=c,c=S.next,S.next=null,o.lastBaseUpdate=S,o.shared.pending=null}}while(!0);if(_===null&&(f=M),o.baseState=f,o.firstBaseUpdate=g,o.lastBaseUpdate=_,e=o.shared.interleaved,e!==null){o=e;do a|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);ua|=a,t.lanes=a,t.memoizedState=M}}function q1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(he(191,o));o.call(r)}}}var Mc={},Hi=As(Mc),rc=As(Mc),ic=As(Mc);function Hs(t){if(t===Mc)throw Error(he(174));return t}function Iy(t,e){switch(Ct(ic,e),Ct(rc,t),Ct(Hi,Mc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xp(e,t)}Lt(Hi),Ct(Hi,e)}function Sl(){Lt(Hi),Lt(rc),Lt(ic)}function qb(t){Hs(ic.current);var e=Hs(Hi.current),n=Xp(e,t.type);e!==n&&(Ct(rc,t),Ct(Hi,n))}function Ny(t){rc.current===t&&(Lt(Hi),Lt(rc))}var zt=As(0);function Bh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var z0=[];function Ty(){for(var t=0;t<z0.length;t++)z0[t]._workInProgressVersionPrimary=null;z0.length=0}var kf=ko.ReactCurrentDispatcher,j0=ko.ReactCurrentBatchConfig,la=0,Wt=null,cn=null,wn=null,Ph=!1,Lu=!1,oc=0,GT=0;function kn(){throw Error(he(321))}function ky(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ri(t[n],e[n]))return!1;return!0}function Cy(t,e,n,r,o,i){if(la=i,Wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,kf.current=t===null||t.memoizedState===null?XT:JT,t=n(r,o),Lu){i=0;do{if(Lu=!1,oc=0,25<=i)throw Error(he(301));i+=1,wn=cn=null,e.updateQueue=null,kf.current=ek,t=n(r,o)}while(Lu)}if(kf.current=Dh,e=cn!==null&&cn.next!==null,la=0,wn=cn=Wt=null,Ph=!1,e)throw Error(he(300));return t}function Oy(){var t=oc!==0;return oc=0,t}function Li(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Wt.memoizedState=wn=t:wn=wn.next=t,wn}function ii(){if(cn===null){var t=Wt.alternate;t=t!==null?t.memoizedState:null}else t=cn.next;var e=wn===null?Wt.memoizedState:wn.next;if(e!==null)wn=e,cn=t;else{if(t===null)throw Error(he(310));cn=t,t={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},wn===null?Wt.memoizedState=wn=t:wn=wn.next=t}return wn}function sc(t,e){return typeof e=="function"?e(t):e}function W0(t){var e=ii(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=cn,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var a=o.next;o.next=i.next,i.next=a}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var c=a=null,f=null,g=i;do{var _=g.lane;if((la&_)===_)f!==null&&(f=f.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),r=g.hasEagerState?g.eagerState:t(r,g.action);else{var M={lane:_,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};f===null?(c=f=M,a=r):f=f.next=M,Wt.lanes|=_,ua|=_}g=g.next}while(g!==null&&g!==i);f===null?a=r:f.next=c,Ri(r,e.memoizedState)||(Mr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=f,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do i=o.lane,Wt.lanes|=i,ua|=i,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function F0(t){var e=ii(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do i=t(i,a.action),a=a.next;while(a!==o);Ri(i,e.memoizedState)||(Mr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Gb(){}function Zb(t,e){var n=Wt,r=ii(),o=e(),i=!Ri(r.memoizedState,o);if(i&&(r.memoizedState=o,Mr=!0),r=r.queue,Ly(Xb.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||wn!==null&&wn.memoizedState.tag&1){if(n.flags|=2048,ac(9,Qb.bind(null,n,r,o,e),void 0,null),En===null)throw Error(he(349));la&30||Yb(n,e,o)}return o}function Yb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Wt.updateQueue,e===null?(e={lastEffect:null,stores:null},Wt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Qb(t,e,n,r){e.value=n,e.getSnapshot=r,Jb(e)&&eS(t)}function Xb(t,e,n){return n(function(){Jb(e)&&eS(t)})}function Jb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ri(t,n)}catch{return!0}}function eS(t){var e=Ro(t,1);e!==null&&Ai(e,t,1,-1)}function G1(t){var e=Li();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sc,lastRenderedState:t},e.queue=t,t=t.dispatch=QT.bind(null,Wt,t),[e.memoizedState,t]}function ac(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Wt.updateQueue,e===null?(e={lastEffect:null,stores:null},Wt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function tS(){return ii().memoizedState}function Cf(t,e,n,r){var o=Li();Wt.flags|=t,o.memoizedState=ac(1|e,n,void 0,r===void 0?null:r)}function xd(t,e,n,r){var o=ii();r=r===void 0?null:r;var i=void 0;if(cn!==null){var a=cn.memoizedState;if(i=a.destroy,r!==null&&ky(r,a.deps)){o.memoizedState=ac(e,n,i,r);return}}Wt.flags|=t,o.memoizedState=ac(1|e,n,i,r)}function Z1(t,e){return Cf(8390656,8,t,e)}function Ly(t,e){return xd(2048,8,t,e)}function nS(t,e){return xd(4,2,t,e)}function rS(t,e){return xd(4,4,t,e)}function iS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function oS(t,e,n){return n=n!=null?n.concat([t]):null,xd(4,4,iS.bind(null,e,t),n)}function By(){}function sS(t,e){var n=ii();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ky(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function aS(t,e){var n=ii();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ky(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lS(t,e,n){return la&21?(Ri(n,e)||(n=db(),Wt.lanes|=n,ua|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mr=!0),t.memoizedState=n)}function ZT(t,e){var n=St;St=n!==0&&4>n?n:4,t(!0);var r=j0.transition;j0.transition={};try{t(!1),e()}finally{St=n,j0.transition=r}}function uS(){return ii().memoizedState}function YT(t,e,n){var r=fs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cS(t))fS(e,n);else if(n=Kb(t,e,n,r),n!==null){var o=hr();Ai(n,t,r,o),hS(n,e,r)}}function QT(t,e,n){var r=fs(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cS(t))fS(e,o);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,c=i(a,n);if(o.hasEagerState=!0,o.eagerState=c,Ri(c,a)){var f=e.interleaved;f===null?(o.next=o,xy(e)):(o.next=f.next,f.next=o),e.interleaved=o;return}}catch{}finally{}n=Kb(t,e,o,r),n!==null&&(o=hr(),Ai(n,t,r,o),hS(n,e,r))}}function cS(t){var e=t.alternate;return t===Wt||e!==null&&e===Wt}function fS(t,e){Lu=Ph=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hy(t,n)}}var Dh={readContext:ri,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useInsertionEffect:kn,useLayoutEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useMutableSource:kn,useSyncExternalStore:kn,useId:kn,unstable_isNewReconciler:!1},XT={readContext:ri,useCallback:function(t,e){return Li().memoizedState=[t,e===void 0?null:e],t},useContext:ri,useEffect:Z1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cf(4194308,4,iS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cf(4,2,t,e)},useMemo:function(t,e){var n=Li();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Li();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=YT.bind(null,Wt,t),[r.memoizedState,t]},useRef:function(t){var e=Li();return t={current:t},e.memoizedState=t},useState:G1,useDebugValue:By,useDeferredValue:function(t){return Li().memoizedState=t},useTransition:function(){var t=G1(!1),e=t[0];return t=ZT.bind(null,t[1]),Li().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Wt,o=Li();if(Dt){if(n===void 0)throw Error(he(407));n=n()}else{if(n=e(),En===null)throw Error(he(349));la&30||Yb(r,e,n)}o.memoizedState=n;var i={value:n,getSnapshot:e};return o.queue=i,Z1(Xb.bind(null,r,i,t),[t]),r.flags|=2048,ac(9,Qb.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Li(),e=En.identifierPrefix;if(Dt){var n=_o,r=vo;n=(r&~(1<<32-Mi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=oc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=GT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},JT={readContext:ri,useCallback:sS,useContext:ri,useEffect:Ly,useImperativeHandle:oS,useInsertionEffect:nS,useLayoutEffect:rS,useMemo:aS,useReducer:W0,useRef:tS,useState:function(){return W0(sc)},useDebugValue:By,useDeferredValue:function(t){var e=ii();return lS(e,cn.memoizedState,t)},useTransition:function(){var t=W0(sc)[0],e=ii().memoizedState;return[t,e]},useMutableSource:Gb,useSyncExternalStore:Zb,useId:uS,unstable_isNewReconciler:!1},ek={readContext:ri,useCallback:sS,useContext:ri,useEffect:Ly,useImperativeHandle:oS,useInsertionEffect:nS,useLayoutEffect:rS,useMemo:aS,useReducer:F0,useRef:tS,useState:function(){return F0(sc)},useDebugValue:By,useDeferredValue:function(t){var e=ii();return cn===null?e.memoizedState=t:lS(e,cn.memoizedState,t)},useTransition:function(){var t=F0(sc)[0],e=ii().memoizedState;return[t,e]},useMutableSource:Gb,useSyncExternalStore:Zb,useId:uS,unstable_isNewReconciler:!1};function yi(t,e){if(t&&t.defaultProps){e=Ft({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ft({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rd={isMounted:function(t){return(t=t._reactInternals)?ya(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=hr(),o=fs(t),i=Mo(r,o);i.payload=e,n!=null&&(i.callback=n),e=us(t,i,o),e!==null&&(Ai(e,t,o,r),Tf(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=hr(),o=fs(t),i=Mo(r,o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=us(t,i,o),e!==null&&(Ai(e,t,o,r),Tf(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=hr(),r=fs(t),o=Mo(n,r);o.tag=2,e!=null&&(o.callback=e),e=us(t,o,r),e!==null&&(Ai(e,t,r,n),Tf(e,t,r))}};function Y1(t,e,n,r,o,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Ju(n,r)||!Ju(o,i):!0}function dS(t,e,n){var r=!1,o=ws,i=e.contextType;return typeof i=="object"&&i!==null?i=ri(i):(o=Ir(e)?sa:Wn.current,r=e.contextTypes,i=(r=r!=null)?_l(t,o):ws),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function Q1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Rd.enqueueReplaceState(e,e.state,null)}function _m(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},Ry(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=ri(i):(i=Ir(e)?sa:Wn.current,o.context=_l(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(vm(t,e,i,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Rd.enqueueReplaceState(o,o.state,null),Lh(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function Ml(t,e){try{var n="",r=e;do n+=IN(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o,digest:null}}function $0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Em(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var tk=typeof WeakMap=="function"?WeakMap:Map;function pS(t,e,n){n=Mo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){zh||(zh=!0,km=r),Em(t,e)},n}function mS(t,e,n){n=Mo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){Em(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Em(t,e),typeof r!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function X1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new tk;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=mk.bind(null,t,e,n),e.then(t,t))}function J1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ev(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mo(-1,1),e.tag=2,us(n,e,1))),n.lanes|=1),t)}var nk=ko.ReactCurrentOwner,Mr=!1;function ur(t,e,n,r){e.child=t===null?Hb(e,null,n,r):bl(e,t.child,n,r)}function tv(t,e,n,r,o){n=n.render;var i=e.ref;return fl(e,o),r=Cy(t,e,n,r,i,o),n=Oy(),t!==null&&!Mr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Io(t,e,o)):(Dt&&n&&_y(e),e.flags|=1,ur(t,e,r,o),e.child)}function nv(t,e,n,r,o){if(t===null){var i=n.type;return typeof i=="function"&&!$y(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,gS(t,e,i,r,o)):(t=Pf(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&o)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ju,n(a,r)&&t.ref===e.ref)return Io(t,e,o)}return e.flags|=1,t=hs(i,r),t.ref=e.ref,t.return=e,e.child=t}function gS(t,e,n,r,o){if(t!==null){var i=t.memoizedProps;if(Ju(i,r)&&t.ref===e.ref)if(Mr=!1,e.pendingProps=r=i,(t.lanes&o)!==0)t.flags&131072&&(Mr=!0);else return e.lanes=t.lanes,Io(t,e,o)}return bm(t,e,n,r,o)}function yS(t,e,n){var r=e.pendingProps,o=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(nl,Br),Br|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ct(nl,Br),Br|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ct(nl,Br),Br|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ct(nl,Br),Br|=r;return ur(t,e,o,n),e.child}function wS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bm(t,e,n,r,o){var i=Ir(n)?sa:Wn.current;return i=_l(e,i),fl(e,o),n=Cy(t,e,n,r,i,o),r=Oy(),t!==null&&!Mr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Io(t,e,o)):(Dt&&r&&_y(e),e.flags|=1,ur(t,e,n,o),e.child)}function rv(t,e,n,r,o){if(Ir(n)){var i=!0;Nh(e)}else i=!1;if(fl(e,o),e.stateNode===null)Of(t,e),dS(e,n,r),_m(e,n,r,o),r=!0;else if(t===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var f=a.context,g=n.contextType;typeof g=="object"&&g!==null?g=ri(g):(g=Ir(n)?sa:Wn.current,g=_l(e,g));var _=n.getDerivedStateFromProps,M=typeof _=="function"||typeof a.getSnapshotBeforeUpdate=="function";M||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||f!==g)&&Q1(e,a,r,g),Vo=!1;var S=e.memoizedState;a.state=S,Lh(e,r,a,o),f=e.memoizedState,c!==r||S!==f||Rr.current||Vo?(typeof _=="function"&&(vm(e,n,_,r),f=e.memoizedState),(c=Vo||Y1(e,n,c,r,S,f,g))?(M||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=f),a.props=r,a.state=f,a.context=g,r=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Vb(t,e),c=e.memoizedProps,g=e.type===e.elementType?c:yi(e.type,c),a.props=g,M=e.pendingProps,S=a.context,f=n.contextType,typeof f=="object"&&f!==null?f=ri(f):(f=Ir(n)?sa:Wn.current,f=_l(e,f));var E=n.getDerivedStateFromProps;(_=typeof E=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==M||S!==f)&&Q1(e,a,r,f),Vo=!1,S=e.memoizedState,a.state=S,Lh(e,r,a,o);var A=e.memoizedState;c!==M||S!==A||Rr.current||Vo?(typeof E=="function"&&(vm(e,n,E,r),A=e.memoizedState),(g=Vo||Y1(e,n,g,r,S,A,f)||!1)?(_||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,A,f),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,A,f)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&S===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&S===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),a.props=r,a.state=A,a.context=f,r=g):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&S===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&S===t.memoizedState||(e.flags|=1024),r=!1)}return Sm(t,e,n,r,i,o)}function Sm(t,e,n,r,o,i){wS(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return o&&F1(e,n,!1),Io(t,e,i);r=e.stateNode,nk.current=e;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=bl(e,t.child,null,i),e.child=bl(e,null,c,i)):ur(t,e,c,i),e.memoizedState=r.state,o&&F1(e,n,!0),e.child}function vS(t){var e=t.stateNode;e.pendingContext?W1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&W1(t,e.context,!1),Iy(t,e.containerInfo)}function iv(t,e,n,r,o){return El(),by(o),e.flags|=256,ur(t,e,n,r),e.child}var Mm={dehydrated:null,treeContext:null,retryLane:0};function Am(t){return{baseLanes:t,cachePool:null,transitions:null}}function _S(t,e,n){var r=e.pendingProps,o=zt.current,i=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=t!==null&&t.memoizedState===null?!1:(o&2)!==0),c?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),Ct(zt,o&1),t===null)return ym(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Td(a,r,0,null),t=oa(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Am(n),e.memoizedState=Mm,t):Py(e,a));if(o=t.memoizedState,o!==null&&(c=o.dehydrated,c!==null))return rk(t,e,a,r,c,o,n);if(i){i=r.fallback,a=e.mode,o=t.child,c=o.sibling;var f={mode:"hidden",children:r.children};return!(a&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=f,e.deletions=null):(r=hs(o,f),r.subtreeFlags=o.subtreeFlags&14680064),c!==null?i=hs(c,i):(i=oa(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?Am(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=Mm,r}return i=t.child,t=i.sibling,r=hs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Py(t,e){return e=Td({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function tf(t,e,n,r){return r!==null&&by(r),bl(e,t.child,null,n),t=Py(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rk(t,e,n,r,o,i,a){if(n)return e.flags&256?(e.flags&=-257,r=$0(Error(he(422))),tf(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=Td({mode:"visible",children:r.children},o,0,null),i=oa(i,o,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&bl(e,t.child,null,a),e.child.memoizedState=Am(a),e.memoizedState=Mm,i);if(!(e.mode&1))return tf(t,e,a,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var c=r.dgst;return r=c,i=Error(he(419)),r=$0(i,r,void 0),tf(t,e,a,r)}if(c=(a&t.childLanes)!==0,Mr||c){if(r=En,r!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|a)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Ro(t,o),Ai(r,t,o,-1))}return Fy(),r=$0(Error(he(421))),tf(t,e,a,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=gk.bind(null,t),o._reactRetry=e,null):(t=i.treeContext,zr=ls(o.nextSibling),jr=e,Dt=!0,_i=null,t!==null&&(Yr[Qr++]=vo,Yr[Qr++]=_o,Yr[Qr++]=aa,vo=t.id,_o=t.overflow,aa=e),e=Py(e,r.children),e.flags|=4096,e)}function ov(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),wm(t.return,e,n)}function H0(t,e,n,r,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function ES(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(ur(t,e,r.children,n),r=zt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ov(t,n,e);else if(t.tag===19)ov(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ct(zt,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&Bh(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),H0(e,!1,o,n,i);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Bh(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}H0(e,!0,n,null,i);break;case"together":H0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Of(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Io(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ua|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(he(153));if(e.child!==null){for(t=e.child,n=hs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=hs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ik(t,e,n){switch(e.tag){case 3:vS(e),El();break;case 5:qb(e);break;case 1:Ir(e.type)&&Nh(e);break;case 4:Iy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;Ct(Ch,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ct(zt,zt.current&1),e.flags|=128,null):n&e.child.childLanes?_S(t,e,n):(Ct(zt,zt.current&1),t=Io(t,e,n),t!==null?t.sibling:null);Ct(zt,zt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ES(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ct(zt,zt.current),r)break;return null;case 22:case 23:return e.lanes=0,yS(t,e,n)}return Io(t,e,n)}var bS,xm,SS,MS;bS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xm=function(){};SS=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Hs(Hi.current);var i=null;switch(n){case"input":o=Gp(t,o),r=Gp(t,r),i=[];break;case"select":o=Ft({},o,{value:void 0}),r=Ft({},r,{value:void 0}),i=[];break;case"textarea":o=Qp(t,o),r=Qp(t,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Rh)}Jp(n,r);var a;n=null;for(g in o)if(!r.hasOwnProperty(g)&&o.hasOwnProperty(g)&&o[g]!=null)if(g==="style"){var c=o[g];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Vu.hasOwnProperty(g)?i||(i=[]):(i=i||[]).push(g,null));for(g in r){var f=r[g];if(c=o!=null?o[g]:void 0,r.hasOwnProperty(g)&&f!==c&&(f!=null||c!=null))if(g==="style")if(c){for(a in c)!c.hasOwnProperty(a)||f&&f.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in f)f.hasOwnProperty(a)&&c[a]!==f[a]&&(n||(n={}),n[a]=f[a])}else n||(i||(i=[]),i.push(g,n)),n=f;else g==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,c=c?c.__html:void 0,f!=null&&c!==f&&(i=i||[]).push(g,f)):g==="children"?typeof f!="string"&&typeof f!="number"||(i=i||[]).push(g,""+f):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Vu.hasOwnProperty(g)?(f!=null&&g==="onScroll"&&Ot("scroll",t),i||c===f||(i=[])):(i=i||[]).push(g,f))}n&&(i=i||[]).push("style",n);var g=i;(e.updateQueue=g)&&(e.flags|=4)}};MS=function(t,e,n,r){n!==r&&(e.flags|=4)};function su(t,e){if(!Dt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Cn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ok(t,e,n){var r=e.pendingProps;switch(Ey(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(e),null;case 1:return Ir(e.type)&&Ih(),Cn(e),null;case 3:return r=e.stateNode,Sl(),Lt(Rr),Lt(Wn),Ty(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Jc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_i!==null&&(Lm(_i),_i=null))),xm(t,e),Cn(e),null;case 5:Ny(e);var o=Hs(ic.current);if(n=e.type,t!==null&&e.stateNode!=null)SS(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(he(166));return Cn(e),null}if(t=Hs(Hi.current),Jc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Pi]=e,r[nc]=i,t=(e.mode&1)!==0,n){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(o=0;o<yu.length;o++)Ot(yu[o],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":p1(r,i),Ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ot("invalid",r);break;case"textarea":g1(r,i),Ot("invalid",r)}Jp(n,i),o=null;for(var a in i)if(i.hasOwnProperty(a)){var c=i[a];a==="children"?typeof c=="string"?r.textContent!==c&&(i.suppressHydrationWarning!==!0&&Xc(r.textContent,c,t),o=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&Xc(r.textContent,c,t),o=["children",""+c]):Vu.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&Ot("scroll",r)}switch(n){case"input":Hc(r),m1(r,i,!0);break;case"textarea":Hc(r),y1(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Rh)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=XE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Pi]=e,t[nc]=r,bS(t,e,!1,!1),e.stateNode=t;e:{switch(a=em(n,r),n){case"dialog":Ot("cancel",t),Ot("close",t),o=r;break;case"iframe":case"object":case"embed":Ot("load",t),o=r;break;case"video":case"audio":for(o=0;o<yu.length;o++)Ot(yu[o],t);o=r;break;case"source":Ot("error",t),o=r;break;case"img":case"image":case"link":Ot("error",t),Ot("load",t),o=r;break;case"details":Ot("toggle",t),o=r;break;case"input":p1(t,r),o=Gp(t,r),Ot("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=Ft({},r,{value:void 0}),Ot("invalid",t);break;case"textarea":g1(t,r),o=Qp(t,r),Ot("invalid",t);break;default:o=r}Jp(n,o),c=o;for(i in c)if(c.hasOwnProperty(i)){var f=c[i];i==="style"?tb(t,f):i==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&JE(t,f)):i==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&qu(t,f):typeof f=="number"&&qu(t,""+f):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Vu.hasOwnProperty(i)?f!=null&&i==="onScroll"&&Ot("scroll",t):f!=null&&sy(t,i,f,a))}switch(n){case"input":Hc(t),m1(t,r,!1);break;case"textarea":Hc(t),y1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ys(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?al(t,!!r.multiple,i,!1):r.defaultValue!=null&&al(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=Rh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Cn(e),null;case 6:if(t&&e.stateNode!=null)MS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(he(166));if(n=Hs(ic.current),Hs(Hi.current),Jc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Pi]=e,(i=r.nodeValue!==n)&&(t=jr,t!==null))switch(t.tag){case 3:Xc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pi]=e,e.stateNode=r}return Cn(e),null;case 13:if(Lt(zt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Dt&&zr!==null&&e.mode&1&&!(e.flags&128))Fb(),El(),e.flags|=98560,i=!1;else if(i=Jc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(he(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(he(317));i[Pi]=e}else El(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Cn(e),i=!1}else _i!==null&&(Lm(_i),_i=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||zt.current&1?hn===0&&(hn=3):Fy())),e.updateQueue!==null&&(e.flags|=4),Cn(e),null);case 4:return Sl(),xm(t,e),t===null&&ec(e.stateNode.containerInfo),Cn(e),null;case 10:return Ay(e.type._context),Cn(e),null;case 17:return Ir(e.type)&&Ih(),Cn(e),null;case 19:if(Lt(zt),i=e.memoizedState,i===null)return Cn(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)su(i,!1);else{if(hn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Bh(t),a!==null){for(e.flags|=128,su(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ct(zt,zt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Jt()>Al&&(e.flags|=128,r=!0,su(i,!1),e.lanes=4194304)}else{if(!r)if(t=Bh(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),su(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Dt)return Cn(e),null}else 2*Jt()-i.renderingStartTime>Al&&n!==1073741824&&(e.flags|=128,r=!0,su(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Jt(),e.sibling=null,n=zt.current,Ct(zt,r?n&1|2:n&1),e):(Cn(e),null);case 22:case 23:return Wy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Br&1073741824&&(Cn(e),e.subtreeFlags&6&&(e.flags|=8192)):Cn(e),null;case 24:return null;case 25:return null}throw Error(he(156,e.tag))}function sk(t,e){switch(Ey(e),e.tag){case 1:return Ir(e.type)&&Ih(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Sl(),Lt(Rr),Lt(Wn),Ty(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ny(e),null;case 13:if(Lt(zt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(he(340));El()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Lt(zt),null;case 4:return Sl(),null;case 10:return Ay(e.type._context),null;case 22:case 23:return Wy(),null;case 24:return null;default:return null}}var nf=!1,zn=!1,ak=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function tl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Zt(t,e,r)}else n.current=null}function Rm(t,e,n){try{n()}catch(r){Zt(t,e,r)}}var sv=!1;function lk(t,e){if(cm=Mh,t=Nb(),vy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,c=-1,f=-1,g=0,_=0,M=t,S=null;t:for(;;){for(var E;M!==n||o!==0&&M.nodeType!==3||(c=a+o),M!==i||r!==0&&M.nodeType!==3||(f=a+r),M.nodeType===3&&(a+=M.nodeValue.length),(E=M.firstChild)!==null;)S=M,M=E;for(;;){if(M===t)break t;if(S===n&&++g===o&&(c=a),S===i&&++_===r&&(f=a),(E=M.nextSibling)!==null)break;M=S,S=M.parentNode}M=E}n=c===-1||f===-1?null:{start:c,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(fm={focusedElem:t,selectionRange:n},Mh=!1,Ge=e;Ge!==null;)if(e=Ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ge=t;else for(;Ge!==null;){e=Ge;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var k=A.memoizedProps,C=A.memoizedState,R=e.stateNode,T=R.getSnapshotBeforeUpdate(e.elementType===e.type?k:yi(e.type,k),C);R.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(O){Zt(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,Ge=t;break}Ge=e.return}return A=sv,sv=!1,A}function Bu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&Rm(e,n,i)}o=o.next}while(o!==r)}}function Id(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Im(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function AS(t){var e=t.alternate;e!==null&&(t.alternate=null,AS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pi],delete e[nc],delete e[pm],delete e[HT],delete e[KT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xS(t){return t.tag===5||t.tag===3||t.tag===4}function av(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rh));else if(r!==4&&(t=t.child,t!==null))for(Nm(t,e,n),t=t.sibling;t!==null;)Nm(t,e,n),t=t.sibling}function Tm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Tm(t,e,n),t=t.sibling;t!==null;)Tm(t,e,n),t=t.sibling}var Mn=null,vi=!1;function Oo(t,e,n){for(n=n.child;n!==null;)RS(t,e,n),n=n.sibling}function RS(t,e,n){if($i&&typeof $i.onCommitFiberUnmount=="function")try{$i.onCommitFiberUnmount(_d,n)}catch{}switch(n.tag){case 5:zn||tl(n,e);case 6:var r=Mn,o=vi;Mn=null,Oo(t,e,n),Mn=r,vi=o,Mn!==null&&(vi?(t=Mn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Mn.removeChild(n.stateNode));break;case 18:Mn!==null&&(vi?(t=Mn,n=n.stateNode,t.nodeType===8?D0(t.parentNode,n):t.nodeType===1&&D0(t,n),Qu(t)):D0(Mn,n.stateNode));break;case 4:r=Mn,o=vi,Mn=n.stateNode.containerInfo,vi=!0,Oo(t,e,n),Mn=r,vi=o;break;case 0:case 11:case 14:case 15:if(!zn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Rm(n,e,a),o=o.next}while(o!==r)}Oo(t,e,n);break;case 1:if(!zn&&(tl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Zt(n,e,c)}Oo(t,e,n);break;case 21:Oo(t,e,n);break;case 22:n.mode&1?(zn=(r=zn)||n.memoizedState!==null,Oo(t,e,n),zn=r):Oo(t,e,n);break;default:Oo(t,e,n)}}function lv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ak),e.forEach(function(r){var o=yk.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function mi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=t,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:Mn=c.stateNode,vi=!1;break e;case 3:Mn=c.stateNode.containerInfo,vi=!0;break e;case 4:Mn=c.stateNode.containerInfo,vi=!0;break e}c=c.return}if(Mn===null)throw Error(he(160));RS(i,a,o),Mn=null,vi=!1;var f=o.alternate;f!==null&&(f.return=null),o.return=null}catch(g){Zt(o,e,g)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)IS(e,t),e=e.sibling}function IS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mi(e,t),Ti(t),r&4){try{Bu(3,t,t.return),Id(3,t)}catch(k){Zt(t,t.return,k)}try{Bu(5,t,t.return)}catch(k){Zt(t,t.return,k)}}break;case 1:mi(e,t),Ti(t),r&512&&n!==null&&tl(n,n.return);break;case 5:if(mi(e,t),Ti(t),r&512&&n!==null&&tl(n,n.return),t.flags&32){var o=t.stateNode;try{qu(o,"")}catch(k){Zt(t,t.return,k)}}if(r&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,c=t.type,f=t.updateQueue;if(t.updateQueue=null,f!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&YE(o,i),em(c,a);var g=em(c,i);for(a=0;a<f.length;a+=2){var _=f[a],M=f[a+1];_==="style"?tb(o,M):_==="dangerouslySetInnerHTML"?JE(o,M):_==="children"?qu(o,M):sy(o,_,M,g)}switch(c){case"input":Zp(o,i);break;case"textarea":QE(o,i);break;case"select":var S=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var E=i.value;E!=null?al(o,!!i.multiple,E,!1):S!==!!i.multiple&&(i.defaultValue!=null?al(o,!!i.multiple,i.defaultValue,!0):al(o,!!i.multiple,i.multiple?[]:"",!1))}o[nc]=i}catch(k){Zt(t,t.return,k)}}break;case 6:if(mi(e,t),Ti(t),r&4){if(t.stateNode===null)throw Error(he(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(k){Zt(t,t.return,k)}}break;case 3:if(mi(e,t),Ti(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qu(e.containerInfo)}catch(k){Zt(t,t.return,k)}break;case 4:mi(e,t),Ti(t);break;case 13:mi(e,t),Ti(t),o=t.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(zy=Jt())),r&4&&lv(t);break;case 22:if(_=n!==null&&n.memoizedState!==null,t.mode&1?(zn=(g=zn)||_,mi(e,t),zn=g):mi(e,t),Ti(t),r&8192){if(g=t.memoizedState!==null,(t.stateNode.isHidden=g)&&!_&&t.mode&1)for(Ge=t,_=t.child;_!==null;){for(M=Ge=_;Ge!==null;){switch(S=Ge,E=S.child,S.tag){case 0:case 11:case 14:case 15:Bu(4,S,S.return);break;case 1:tl(S,S.return);var A=S.stateNode;if(typeof A.componentWillUnmount=="function"){r=S,n=S.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(k){Zt(r,n,k)}}break;case 5:tl(S,S.return);break;case 22:if(S.memoizedState!==null){cv(M);continue}}E!==null?(E.return=S,Ge=E):cv(M)}_=_.sibling}e:for(_=null,M=t;;){if(M.tag===5){if(_===null){_=M;try{o=M.stateNode,g?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=M.stateNode,f=M.memoizedProps.style,a=f!=null&&f.hasOwnProperty("display")?f.display:null,c.style.display=eb("display",a))}catch(k){Zt(t,t.return,k)}}}else if(M.tag===6){if(_===null)try{M.stateNode.nodeValue=g?"":M.memoizedProps}catch(k){Zt(t,t.return,k)}}else if((M.tag!==22&&M.tag!==23||M.memoizedState===null||M===t)&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===t)break e;for(;M.sibling===null;){if(M.return===null||M.return===t)break e;_===M&&(_=null),M=M.return}_===M&&(_=null),M.sibling.return=M.return,M=M.sibling}}break;case 19:mi(e,t),Ti(t),r&4&&lv(t);break;case 21:break;default:mi(e,t),Ti(t)}}function Ti(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xS(n)){var r=n;break e}n=n.return}throw Error(he(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(qu(o,""),r.flags&=-33);var i=av(t);Tm(t,i,o);break;case 3:case 4:var a=r.stateNode.containerInfo,c=av(t);Nm(t,c,a);break;default:throw Error(he(161))}}catch(f){Zt(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uk(t,e,n){Ge=t,NS(t)}function NS(t,e,n){for(var r=(t.mode&1)!==0;Ge!==null;){var o=Ge,i=o.child;if(o.tag===22&&r){var a=o.memoizedState!==null||nf;if(!a){var c=o.alternate,f=c!==null&&c.memoizedState!==null||zn;c=nf;var g=zn;if(nf=a,(zn=f)&&!g)for(Ge=o;Ge!==null;)a=Ge,f=a.child,a.tag===22&&a.memoizedState!==null?fv(o):f!==null?(f.return=a,Ge=f):fv(o);for(;i!==null;)Ge=i,NS(i),i=i.sibling;Ge=o,nf=c,zn=g}uv(t)}else o.subtreeFlags&8772&&i!==null?(i.return=o,Ge=i):uv(t)}}function uv(t){for(;Ge!==null;){var e=Ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zn||Id(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zn)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:yi(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&q1(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}q1(e,a,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var f=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var g=e.alternate;if(g!==null){var _=g.memoizedState;if(_!==null){var M=_.dehydrated;M!==null&&Qu(M)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}zn||e.flags&512&&Im(e)}catch(S){Zt(e,e.return,S)}}if(e===t){Ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ge=n;break}Ge=e.return}}function cv(t){for(;Ge!==null;){var e=Ge;if(e===t){Ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ge=n;break}Ge=e.return}}function fv(t){for(;Ge!==null;){var e=Ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Id(4,e)}catch(f){Zt(e,n,f)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(f){Zt(e,o,f)}}var i=e.return;try{Im(e)}catch(f){Zt(e,i,f)}break;case 5:var a=e.return;try{Im(e)}catch(f){Zt(e,a,f)}}}catch(f){Zt(e,e.return,f)}if(e===t){Ge=null;break}var c=e.sibling;if(c!==null){c.return=e.return,Ge=c;break}Ge=e.return}}var ck=Math.ceil,Uh=ko.ReactCurrentDispatcher,Dy=ko.ReactCurrentOwner,ti=ko.ReactCurrentBatchConfig,pt=0,En=null,sn=null,In=0,Br=0,nl=As(0),hn=0,lc=null,ua=0,Nd=0,Uy=0,Pu=null,_r=null,zy=0,Al=1/0,uo=null,zh=!1,km=null,cs=null,rf=!1,Jo=null,jh=0,Du=0,Cm=null,Lf=-1,Bf=0;function hr(){return pt&6?Jt():Lf!==-1?Lf:Lf=Jt()}function fs(t){return t.mode&1?pt&2&&In!==0?In&-In:qT.transition!==null?(Bf===0&&(Bf=db()),Bf):(t=St,t!==0||(t=window.event,t=t===void 0?16:_b(t.type)),t):1}function Ai(t,e,n,r){if(50<Du)throw Du=0,Cm=null,Error(he(185));Ec(t,n,r),(!(pt&2)||t!==En)&&(t===En&&(!(pt&2)&&(Nd|=n),hn===4&&Yo(t,In)),Nr(t,r),n===1&&pt===0&&!(e.mode&1)&&(Al=Jt()+500,Ad&&xs()))}function Nr(t,e){var n=t.callbackNode;qN(t,e);var r=Sh(t,t===En?In:0);if(r===0)n!==null&&_1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_1(n),e===1)t.tag===0?VT(hv.bind(null,t)):zb(hv.bind(null,t)),FT(function(){!(pt&6)&&xs()}),n=null;else{switch(pb(r)){case 1:n=fy;break;case 4:n=fb;break;case 16:n=bh;break;case 536870912:n=hb;break;default:n=bh}n=DS(n,TS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function TS(t,e){if(Lf=-1,Bf=0,pt&6)throw Error(he(327));var n=t.callbackNode;if(hl()&&t.callbackNode!==n)return null;var r=Sh(t,t===En?In:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Wh(t,r);else{e=r;var o=pt;pt|=2;var i=CS();(En!==t||In!==e)&&(uo=null,Al=Jt()+500,ia(t,e));do try{dk();break}catch(c){kS(t,c)}while(!0);My(),Uh.current=i,pt=o,sn!==null?e=0:(En=null,In=0,e=hn)}if(e!==0){if(e===2&&(o=om(t),o!==0&&(r=o,e=Om(t,o))),e===1)throw n=lc,ia(t,0),Yo(t,r),Nr(t,Jt()),n;if(e===6)Yo(t,r);else{if(o=t.current.alternate,!(r&30)&&!fk(o)&&(e=Wh(t,r),e===2&&(i=om(t),i!==0&&(r=i,e=Om(t,i))),e===1))throw n=lc,ia(t,0),Yo(t,r),Nr(t,Jt()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(he(345));case 2:Os(t,_r,uo);break;case 3:if(Yo(t,r),(r&130023424)===r&&(e=zy+500-Jt(),10<e)){if(Sh(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){hr(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=dm(Os.bind(null,t,_r,uo),e);break}Os(t,_r,uo);break;case 4:if(Yo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var a=31-Mi(r);i=1<<a,a=e[a],a>o&&(o=a),r&=~i}if(r=o,r=Jt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ck(r/1960))-r,10<r){t.timeoutHandle=dm(Os.bind(null,t,_r,uo),r);break}Os(t,_r,uo);break;case 5:Os(t,_r,uo);break;default:throw Error(he(329))}}}return Nr(t,Jt()),t.callbackNode===n?TS.bind(null,t):null}function Om(t,e){var n=Pu;return t.current.memoizedState.isDehydrated&&(ia(t,e).flags|=256),t=Wh(t,e),t!==2&&(e=_r,_r=n,e!==null&&Lm(e)),t}function Lm(t){_r===null?_r=t:_r.push.apply(_r,t)}function fk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Ri(i(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yo(t,e){for(e&=~Uy,e&=~Nd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Mi(e),r=1<<n;t[n]=-1,e&=~r}}function hv(t){if(pt&6)throw Error(he(327));hl();var e=Sh(t,0);if(!(e&1))return Nr(t,Jt()),null;var n=Wh(t,e);if(t.tag!==0&&n===2){var r=om(t);r!==0&&(e=r,n=Om(t,r))}if(n===1)throw n=lc,ia(t,0),Yo(t,e),Nr(t,Jt()),n;if(n===6)throw Error(he(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Os(t,_r,uo),Nr(t,Jt()),null}function jy(t,e){var n=pt;pt|=1;try{return t(e)}finally{pt=n,pt===0&&(Al=Jt()+500,Ad&&xs())}}function ca(t){Jo!==null&&Jo.tag===0&&!(pt&6)&&hl();var e=pt;pt|=1;var n=ti.transition,r=St;try{if(ti.transition=null,St=1,t)return t()}finally{St=r,ti.transition=n,pt=e,!(pt&6)&&xs()}}function Wy(){Br=nl.current,Lt(nl)}function ia(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,WT(n)),sn!==null)for(n=sn.return;n!==null;){var r=n;switch(Ey(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ih();break;case 3:Sl(),Lt(Rr),Lt(Wn),Ty();break;case 5:Ny(r);break;case 4:Sl();break;case 13:Lt(zt);break;case 19:Lt(zt);break;case 10:Ay(r.type._context);break;case 22:case 23:Wy()}n=n.return}if(En=t,sn=t=hs(t.current,null),In=Br=e,hn=0,lc=null,Uy=Nd=ua=0,_r=Pu=null,$s!==null){for(e=0;e<$s.length;e++)if(n=$s[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=o,r.next=a}n.pending=r}$s=null}return t}function kS(t,e){do{var n=sn;try{if(My(),kf.current=Dh,Ph){for(var r=Wt.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ph=!1}if(la=0,wn=cn=Wt=null,Lu=!1,oc=0,Dy.current=null,n===null||n.return===null){hn=1,lc=e,sn=null;break}e:{var i=t,a=n.return,c=n,f=e;if(e=In,c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var g=f,_=c,M=_.tag;if(!(_.mode&1)&&(M===0||M===11||M===15)){var S=_.alternate;S?(_.updateQueue=S.updateQueue,_.memoizedState=S.memoizedState,_.lanes=S.lanes):(_.updateQueue=null,_.memoizedState=null)}var E=J1(a);if(E!==null){E.flags&=-257,ev(E,a,c,i,e),E.mode&1&&X1(i,g,e),e=E,f=g;var A=e.updateQueue;if(A===null){var k=new Set;k.add(f),e.updateQueue=k}else A.add(f);break e}else{if(!(e&1)){X1(i,g,e),Fy();break e}f=Error(he(426))}}else if(Dt&&c.mode&1){var C=J1(a);if(C!==null){!(C.flags&65536)&&(C.flags|=256),ev(C,a,c,i,e),by(Ml(f,c));break e}}i=f=Ml(f,c),hn!==4&&(hn=2),Pu===null?Pu=[i]:Pu.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var R=pS(i,f,e);V1(i,R);break e;case 1:c=f;var T=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof T.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(cs===null||!cs.has(N)))){i.flags|=65536,e&=-e,i.lanes|=e;var O=mS(i,c,e);V1(i,O);break e}}i=i.return}while(i!==null)}LS(n)}catch(D){e=D,sn===n&&n!==null&&(sn=n=n.return);continue}break}while(!0)}function CS(){var t=Uh.current;return Uh.current=Dh,t===null?Dh:t}function Fy(){(hn===0||hn===3||hn===2)&&(hn=4),En===null||!(ua&268435455)&&!(Nd&268435455)||Yo(En,In)}function Wh(t,e){var n=pt;pt|=2;var r=CS();(En!==t||In!==e)&&(uo=null,ia(t,e));do try{hk();break}catch(o){kS(t,o)}while(!0);if(My(),pt=n,Uh.current=r,sn!==null)throw Error(he(261));return En=null,In=0,hn}function hk(){for(;sn!==null;)OS(sn)}function dk(){for(;sn!==null&&!UN();)OS(sn)}function OS(t){var e=PS(t.alternate,t,Br);t.memoizedProps=t.pendingProps,e===null?LS(t):sn=e,Dy.current=null}function LS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=sk(n,e),n!==null){n.flags&=32767,sn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{hn=6,sn=null;return}}else if(n=ok(n,e,Br),n!==null){sn=n;return}if(e=e.sibling,e!==null){sn=e;return}sn=e=t}while(e!==null);hn===0&&(hn=5)}function Os(t,e,n){var r=St,o=ti.transition;try{ti.transition=null,St=1,pk(t,e,n,r)}finally{ti.transition=o,St=r}return null}function pk(t,e,n,r){do hl();while(Jo!==null);if(pt&6)throw Error(he(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(he(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(GN(t,i),t===En&&(sn=En=null,In=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rf||(rf=!0,DS(bh,function(){return hl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ti.transition,ti.transition=null;var a=St;St=1;var c=pt;pt|=4,Dy.current=null,lk(t,n),IS(n,t),LT(fm),Mh=!!cm,fm=cm=null,t.current=n,uk(n),zN(),pt=c,St=a,ti.transition=i}else t.current=n;if(rf&&(rf=!1,Jo=t,jh=o),i=t.pendingLanes,i===0&&(cs=null),FN(n.stateNode),Nr(t,Jt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(zh)throw zh=!1,t=km,km=null,t;return jh&1&&t.tag!==0&&hl(),i=t.pendingLanes,i&1?t===Cm?Du++:(Du=0,Cm=t):Du=0,xs(),null}function hl(){if(Jo!==null){var t=pb(jh),e=ti.transition,n=St;try{if(ti.transition=null,St=16>t?16:t,Jo===null)var r=!1;else{if(t=Jo,Jo=null,jh=0,pt&6)throw Error(he(331));var o=pt;for(pt|=4,Ge=t.current;Ge!==null;){var i=Ge,a=i.child;if(Ge.flags&16){var c=i.deletions;if(c!==null){for(var f=0;f<c.length;f++){var g=c[f];for(Ge=g;Ge!==null;){var _=Ge;switch(_.tag){case 0:case 11:case 15:Bu(8,_,i)}var M=_.child;if(M!==null)M.return=_,Ge=M;else for(;Ge!==null;){_=Ge;var S=_.sibling,E=_.return;if(AS(_),_===g){Ge=null;break}if(S!==null){S.return=E,Ge=S;break}Ge=E}}}var A=i.alternate;if(A!==null){var k=A.child;if(k!==null){A.child=null;do{var C=k.sibling;k.sibling=null,k=C}while(k!==null)}}Ge=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Ge=a;else e:for(;Ge!==null;){if(i=Ge,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Bu(9,i,i.return)}var R=i.sibling;if(R!==null){R.return=i.return,Ge=R;break e}Ge=i.return}}var T=t.current;for(Ge=T;Ge!==null;){a=Ge;var N=a.child;if(a.subtreeFlags&2064&&N!==null)N.return=a,Ge=N;else e:for(a=T;Ge!==null;){if(c=Ge,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Id(9,c)}}catch(D){Zt(c,c.return,D)}if(c===a){Ge=null;break e}var O=c.sibling;if(O!==null){O.return=c.return,Ge=O;break e}Ge=c.return}}if(pt=o,xs(),$i&&typeof $i.onPostCommitFiberRoot=="function")try{$i.onPostCommitFiberRoot(_d,t)}catch{}r=!0}return r}finally{St=n,ti.transition=e}}return!1}function dv(t,e,n){e=Ml(n,e),e=pS(t,e,1),t=us(t,e,1),e=hr(),t!==null&&(Ec(t,1,e),Nr(t,e))}function Zt(t,e,n){if(t.tag===3)dv(t,t,n);else for(;e!==null;){if(e.tag===3){dv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cs===null||!cs.has(r))){t=Ml(n,t),t=mS(e,t,1),e=us(e,t,1),t=hr(),e!==null&&(Ec(e,1,t),Nr(e,t));break}}e=e.return}}function mk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=hr(),t.pingedLanes|=t.suspendedLanes&n,En===t&&(In&n)===n&&(hn===4||hn===3&&(In&130023424)===In&&500>Jt()-zy?ia(t,0):Uy|=n),Nr(t,e)}function BS(t,e){e===0&&(t.mode&1?(e=qc,qc<<=1,!(qc&130023424)&&(qc=4194304)):e=1);var n=hr();t=Ro(t,e),t!==null&&(Ec(t,e,n),Nr(t,n))}function gk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),BS(t,n)}function yk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(e),BS(t,n)}var PS;PS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Rr.current)Mr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mr=!1,ik(t,e,n);Mr=!!(t.flags&131072)}else Mr=!1,Dt&&e.flags&1048576&&jb(e,kh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Of(t,e),t=e.pendingProps;var o=_l(e,Wn.current);fl(e,n),o=Cy(null,e,r,t,o,n);var i=Oy();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ir(r)?(i=!0,Nh(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ry(e),o.updater=Rd,e.stateNode=o,o._reactInternals=e,_m(e,r,t,n),e=Sm(null,e,r,!0,i,n)):(e.tag=0,Dt&&i&&_y(e),ur(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Of(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=vk(r),t=yi(r,t),o){case 0:e=bm(null,e,r,t,n);break e;case 1:e=rv(null,e,r,t,n);break e;case 11:e=tv(null,e,r,t,n);break e;case 14:e=nv(null,e,r,yi(r.type,t),n);break e}throw Error(he(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:yi(r,o),bm(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:yi(r,o),rv(t,e,r,o,n);case 3:e:{if(vS(e),t===null)throw Error(he(387));r=e.pendingProps,i=e.memoizedState,o=i.element,Vb(t,e),Lh(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=Ml(Error(he(423)),e),e=iv(t,e,r,n,o);break e}else if(r!==o){o=Ml(Error(he(424)),e),e=iv(t,e,r,n,o);break e}else for(zr=ls(e.stateNode.containerInfo.firstChild),jr=e,Dt=!0,_i=null,n=Hb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(El(),r===o){e=Io(t,e,n);break e}ur(t,e,r,n)}e=e.child}return e;case 5:return qb(e),t===null&&ym(e),r=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,a=o.children,hm(r,o)?a=null:i!==null&&hm(r,i)&&(e.flags|=32),wS(t,e),ur(t,e,a,n),e.child;case 6:return t===null&&ym(e),null;case 13:return _S(t,e,n);case 4:return Iy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bl(e,null,r,n):ur(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:yi(r,o),tv(t,e,r,o,n);case 7:return ur(t,e,e.pendingProps,n),e.child;case 8:return ur(t,e,e.pendingProps.children,n),e.child;case 12:return ur(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,a=o.value,Ct(Ch,r._currentValue),r._currentValue=a,i!==null)if(Ri(i.value,a)){if(i.children===o.children&&!Rr.current){e=Io(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var c=i.dependencies;if(c!==null){a=i.child;for(var f=c.firstContext;f!==null;){if(f.context===r){if(i.tag===1){f=Mo(-1,n&-n),f.tag=2;var g=i.updateQueue;if(g!==null){g=g.shared;var _=g.pending;_===null?f.next=f:(f.next=_.next,_.next=f),g.pending=f}}i.lanes|=n,f=i.alternate,f!==null&&(f.lanes|=n),wm(i.return,n,e),c.lanes|=n;break}f=f.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(he(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),wm(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}ur(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,fl(e,n),o=ri(o),r=r(o),e.flags|=1,ur(t,e,r,n),e.child;case 14:return r=e.type,o=yi(r,e.pendingProps),o=yi(r.type,o),nv(t,e,r,o,n);case 15:return gS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:yi(r,o),Of(t,e),e.tag=1,Ir(r)?(t=!0,Nh(e)):t=!1,fl(e,n),dS(e,r,o),_m(e,r,o,n),Sm(null,e,r,!0,t,n);case 19:return ES(t,e,n);case 22:return yS(t,e,n)}throw Error(he(156,e.tag))};function DS(t,e){return cb(t,e)}function wk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(t,e,n,r){return new wk(t,e,n,r)}function $y(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vk(t){if(typeof t=="function")return $y(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ly)return 11;if(t===uy)return 14}return 2}function hs(t,e){var n=t.alternate;return n===null?(n=ei(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pf(t,e,n,r,o,i){var a=2;if(r=t,typeof t=="function")$y(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Va:return oa(n.children,o,i,e);case ay:a=8,o|=8;break;case Hp:return t=ei(12,n,e,o|2),t.elementType=Hp,t.lanes=i,t;case Kp:return t=ei(13,n,e,o),t.elementType=Kp,t.lanes=i,t;case Vp:return t=ei(19,n,e,o),t.elementType=Vp,t.lanes=i,t;case qE:return Td(n,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case KE:a=10;break e;case VE:a=9;break e;case ly:a=11;break e;case uy:a=14;break e;case Ko:a=16,r=null;break e}throw Error(he(130,t==null?t:typeof t,""))}return e=ei(a,n,e,o),e.elementType=t,e.type=r,e.lanes=i,e}function oa(t,e,n,r){return t=ei(7,t,r,e),t.lanes=n,t}function Td(t,e,n,r){return t=ei(22,t,r,e),t.elementType=qE,t.lanes=n,t.stateNode={isHidden:!1},t}function K0(t,e,n){return t=ei(6,t,null,e),t.lanes=n,t}function V0(t,e,n){return e=ei(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _k(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=x0(0),this.expirationTimes=x0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=x0(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Hy(t,e,n,r,o,i,a,c,f){return t=new _k(t,e,n,c,f),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ei(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ry(i),t}function Ek(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ka,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function US(t){if(!t)return ws;t=t._reactInternals;e:{if(ya(t)!==t||t.tag!==1)throw Error(he(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ir(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(he(171))}if(t.tag===1){var n=t.type;if(Ir(n))return Ub(t,n,e)}return e}function zS(t,e,n,r,o,i,a,c,f){return t=Hy(n,r,!0,t,o,i,a,c,f),t.context=US(null),n=t.current,r=hr(),o=fs(n),i=Mo(r,o),i.callback=e??null,us(n,i,o),t.current.lanes=o,Ec(t,o,r),Nr(t,r),t}function kd(t,e,n,r){var o=e.current,i=hr(),a=fs(o);return n=US(n),e.context===null?e.context=n:e.pendingContext=n,e=Mo(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=us(o,e,a),t!==null&&(Ai(t,o,a,i),Tf(t,o,a)),a}function Fh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function pv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ky(t,e){pv(t,e),(t=t.alternate)&&pv(t,e)}function bk(){return null}var jS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vy(t){this._internalRoot=t}Cd.prototype.render=Vy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(he(409));kd(t,e,null,null)};Cd.prototype.unmount=Vy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ca(function(){kd(null,t,null,null)}),e[xo]=null}};function Cd(t){this._internalRoot=t}Cd.prototype.unstable_scheduleHydration=function(t){if(t){var e=yb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Zo.length&&e!==0&&e<Zo[n].priority;n++);Zo.splice(n,0,t),n===0&&vb(t)}};function qy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Od(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function mv(){}function Sk(t,e,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var g=Fh(a);i.call(g)}}var a=zS(e,r,t,0,null,!1,!1,"",mv);return t._reactRootContainer=a,t[xo]=a.current,ec(t.nodeType===8?t.parentNode:t),ca(),a}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var c=r;r=function(){var g=Fh(f);c.call(g)}}var f=Hy(t,0,!1,null,null,!1,!1,"",mv);return t._reactRootContainer=f,t[xo]=f.current,ec(t.nodeType===8?t.parentNode:t),ca(function(){kd(e,f,n,r)}),f}function Ld(t,e,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if(typeof o=="function"){var c=o;o=function(){var f=Fh(a);c.call(f)}}kd(e,a,t,o)}else a=Sk(n,e,t,o,r);return Fh(a)}mb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gu(e.pendingLanes);n!==0&&(hy(e,n|1),Nr(e,Jt()),!(pt&6)&&(Al=Jt()+500,xs()))}break;case 13:ca(function(){var r=Ro(t,1);if(r!==null){var o=hr();Ai(r,t,1,o)}}),Ky(t,1)}};dy=function(t){if(t.tag===13){var e=Ro(t,134217728);if(e!==null){var n=hr();Ai(e,t,134217728,n)}Ky(t,134217728)}};gb=function(t){if(t.tag===13){var e=fs(t),n=Ro(t,e);if(n!==null){var r=hr();Ai(n,t,e,r)}Ky(t,e)}};yb=function(){return St};wb=function(t,e){var n=St;try{return St=t,e()}finally{St=n}};nm=function(t,e,n){switch(e){case"input":if(Zp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=Md(r);if(!o)throw Error(he(90));ZE(r),Zp(r,o)}}}break;case"textarea":QE(t,n);break;case"select":e=n.value,e!=null&&al(t,!!n.multiple,e,!1)}};ib=jy;ob=ca;var Mk={usingClientEntryPoint:!1,Events:[Sc,Ya,Md,nb,rb,jy]},au={findFiberByHostInstance:Fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ak={bundleType:au.bundleType,version:au.version,rendererPackageName:au.rendererPackageName,rendererConfig:au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ko.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lb(t),t===null?null:t.stateNode},findFiberByHostInstance:au.findFiberByHostInstance||bk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!of.isDisabled&&of.supportsFiber)try{_d=of.inject(Ak),$i=of}catch{}}Hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mk;Hr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qy(e))throw Error(he(200));return Ek(t,e,null,n)};Hr.createRoot=function(t,e){if(!qy(t))throw Error(he(299));var n=!1,r="",o=jS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=Hy(t,1,!1,null,null,n,!1,r,o),t[xo]=e.current,ec(t.nodeType===8?t.parentNode:t),new Vy(e)};Hr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(he(188)):(t=Object.keys(t).join(","),Error(he(268,t)));return t=lb(e),t=t===null?null:t.stateNode,t};Hr.flushSync=function(t){return ca(t)};Hr.hydrate=function(t,e,n){if(!Od(e))throw Error(he(200));return Ld(null,t,e,!0,n)};Hr.hydrateRoot=function(t,e,n){if(!qy(t))throw Error(he(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",a=jS;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=zS(e,null,t,1,n??null,o,!1,i,a),t[xo]=e.current,ec(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new Cd(e)};Hr.render=function(t,e,n){if(!Od(e))throw Error(he(200));return Ld(null,t,e,!1,n)};Hr.unmountComponentAtNode=function(t){if(!Od(t))throw Error(he(40));return t._reactRootContainer?(ca(function(){Ld(null,null,t,!1,function(){t._reactRootContainer=null,t[xo]=null})}),!0):!1};Hr.unstable_batchedUpdates=jy;Hr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Od(n))throw Error(he(200));if(t==null||t._reactInternals===void 0)throw Error(he(38));return Ld(t,e,n,!1,r)};Hr.version="18.3.1-next-f1338f8080-20240426";function WS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WS)}catch(t){console.error(t)}}WS(),WE.exports=Hr;var FS=WE.exports,gv=FS;Fp.createRoot=gv.createRoot,Fp.hydrateRoot=gv.hydrateRoot;var Ze={},Bd={};Bd.byteLength=Ik;Bd.toByteArray=Tk;Bd.fromByteArray=Ok;var Di=[],Zr=[],xk=typeof Uint8Array<"u"?Uint8Array:Array,q0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var xa=0,Rk=q0.length;xa<Rk;++xa)Di[xa]=q0[xa],Zr[q0.charCodeAt(xa)]=xa;Zr[45]=62;Zr[95]=63;function $S(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function Ik(t){var e=$S(t),n=e[0],r=e[1];return(n+r)*3/4-r}function Nk(t,e,n){return(e+n)*3/4-n}function Tk(t){var e,n=$S(t),r=n[0],o=n[1],i=new xk(Nk(t,r,o)),a=0,c=o>0?r-4:r,f;for(f=0;f<c;f+=4)e=Zr[t.charCodeAt(f)]<<18|Zr[t.charCodeAt(f+1)]<<12|Zr[t.charCodeAt(f+2)]<<6|Zr[t.charCodeAt(f+3)],i[a++]=e>>16&255,i[a++]=e>>8&255,i[a++]=e&255;return o===2&&(e=Zr[t.charCodeAt(f)]<<2|Zr[t.charCodeAt(f+1)]>>4,i[a++]=e&255),o===1&&(e=Zr[t.charCodeAt(f)]<<10|Zr[t.charCodeAt(f+1)]<<4|Zr[t.charCodeAt(f+2)]>>2,i[a++]=e>>8&255,i[a++]=e&255),i}function kk(t){return Di[t>>18&63]+Di[t>>12&63]+Di[t>>6&63]+Di[t&63]}function Ck(t,e,n){for(var r,o=[],i=e;i<n;i+=3)r=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),o.push(kk(r));return o.join("")}function Ok(t){for(var e,n=t.length,r=n%3,o=[],i=16383,a=0,c=n-r;a<c;a+=i)o.push(Ck(t,a,a+i>c?c:a+i));return r===1?(e=t[n-1],o.push(Di[e>>2]+Di[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],o.push(Di[e>>10]+Di[e>>4&63]+Di[e<<2&63]+"=")),o.join("")}var Gy={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Gy.read=function(t,e,n,r,o){var i,a,c=o*8-r-1,f=(1<<c)-1,g=f>>1,_=-7,M=n?o-1:0,S=n?-1:1,E=t[e+M];for(M+=S,i=E&(1<<-_)-1,E>>=-_,_+=c;_>0;i=i*256+t[e+M],M+=S,_-=8);for(a=i&(1<<-_)-1,i>>=-_,_+=r;_>0;a=a*256+t[e+M],M+=S,_-=8);if(i===0)i=1-g;else{if(i===f)return a?NaN:(E?-1:1)*(1/0);a=a+Math.pow(2,r),i=i-g}return(E?-1:1)*a*Math.pow(2,i-r)};Gy.write=function(t,e,n,r,o,i){var a,c,f,g=i*8-o-1,_=(1<<g)-1,M=_>>1,S=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=r?0:i-1,A=r?1:-1,k=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,a=_):(a=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-a))<1&&(a--,f*=2),a+M>=1?e+=S/f:e+=S*Math.pow(2,1-M),e*f>=2&&(a++,f/=2),a+M>=_?(c=0,a=_):a+M>=1?(c=(e*f-1)*Math.pow(2,o),a=a+M):(c=e*Math.pow(2,M-1)*Math.pow(2,o),a=0));o>=8;t[n+E]=c&255,E+=A,c/=256,o-=8);for(a=a<<o|c,g+=o;g>0;t[n+E]=a&255,E+=A,a/=256,g-=8);t[n+E-A]|=k*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Bd,n=Gy,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=T,t.INSPECT_MAX_BYTES=50;const o=2147483647;t.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=i(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const L=new Uint8Array(1),I={foo:function(){return 42}};return Object.setPrototypeOf(I,Uint8Array.prototype),Object.setPrototypeOf(L,I),L.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function a(L){if(L>o)throw new RangeError('The value "'+L+'" is invalid for option "size"');const I=new Uint8Array(L);return Object.setPrototypeOf(I,c.prototype),I}function c(L,I,x){if(typeof L=="number"){if(typeof I=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return M(L)}return f(L,I,x)}c.poolSize=8192;function f(L,I,x){if(typeof L=="string")return S(L,I);if(ArrayBuffer.isView(L))return A(L);if(L==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof L);if(Kt(L,ArrayBuffer)||L&&Kt(L.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Kt(L,SharedArrayBuffer)||L&&Kt(L.buffer,SharedArrayBuffer)))return k(L,I,x);if(typeof L=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const B=L.valueOf&&L.valueOf();if(B!=null&&B!==L)return c.from(B,I,x);const G=C(L);if(G)return G;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof L[Symbol.toPrimitive]=="function")return c.from(L[Symbol.toPrimitive]("string"),I,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof L)}c.from=function(L,I,x){return f(L,I,x)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function g(L){if(typeof L!="number")throw new TypeError('"size" argument must be of type number');if(L<0)throw new RangeError('The value "'+L+'" is invalid for option "size"')}function _(L,I,x){return g(L),L<=0?a(L):I!==void 0?typeof x=="string"?a(L).fill(I,x):a(L).fill(I):a(L)}c.alloc=function(L,I,x){return _(L,I,x)};function M(L){return g(L),a(L<0?0:R(L)|0)}c.allocUnsafe=function(L){return M(L)},c.allocUnsafeSlow=function(L){return M(L)};function S(L,I){if((typeof I!="string"||I==="")&&(I="utf8"),!c.isEncoding(I))throw new TypeError("Unknown encoding: "+I);const x=N(L,I)|0;let B=a(x);const G=B.write(L,I);return G!==x&&(B=B.slice(0,G)),B}function E(L){const I=L.length<0?0:R(L.length)|0,x=a(I);for(let B=0;B<I;B+=1)x[B]=L[B]&255;return x}function A(L){if(Kt(L,Uint8Array)){const I=new Uint8Array(L);return k(I.buffer,I.byteOffset,I.byteLength)}return E(L)}function k(L,I,x){if(I<0||L.byteLength<I)throw new RangeError('"offset" is outside of buffer bounds');if(L.byteLength<I+(x||0))throw new RangeError('"length" is outside of buffer bounds');let B;return I===void 0&&x===void 0?B=new Uint8Array(L):x===void 0?B=new Uint8Array(L,I):B=new Uint8Array(L,I,x),Object.setPrototypeOf(B,c.prototype),B}function C(L){if(c.isBuffer(L)){const I=R(L.length)|0,x=a(I);return x.length===0||L.copy(x,0,0,I),x}if(L.length!==void 0)return typeof L.length!="number"||ye(L.length)?a(0):E(L);if(L.type==="Buffer"&&Array.isArray(L.data))return E(L.data)}function R(L){if(L>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return L|0}function T(L){return+L!=L&&(L=0),c.alloc(+L)}c.isBuffer=function(I){return I!=null&&I._isBuffer===!0&&I!==c.prototype},c.compare=function(I,x){if(Kt(I,Uint8Array)&&(I=c.from(I,I.offset,I.byteLength)),Kt(x,Uint8Array)&&(x=c.from(x,x.offset,x.byteLength)),!c.isBuffer(I)||!c.isBuffer(x))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(I===x)return 0;let B=I.length,G=x.length;for(let H=0,Z=Math.min(B,G);H<Z;++H)if(I[H]!==x[H]){B=I[H],G=x[H];break}return B<G?-1:G<B?1:0},c.isEncoding=function(I){switch(String(I).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(I,x){if(!Array.isArray(I))throw new TypeError('"list" argument must be an Array of Buffers');if(I.length===0)return c.alloc(0);let B;if(x===void 0)for(x=0,B=0;B<I.length;++B)x+=I[B].length;const G=c.allocUnsafe(x);let H=0;for(B=0;B<I.length;++B){let Z=I[B];if(Kt(Z,Uint8Array))H+Z.length>G.length?(c.isBuffer(Z)||(Z=c.from(Z)),Z.copy(G,H)):Uint8Array.prototype.set.call(G,Z,H);else if(c.isBuffer(Z))Z.copy(G,H);else throw new TypeError('"list" argument must be an Array of Buffers');H+=Z.length}return G};function N(L,I){if(c.isBuffer(L))return L.length;if(ArrayBuffer.isView(L)||Kt(L,ArrayBuffer))return L.byteLength;if(typeof L!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof L);const x=L.length,B=arguments.length>2&&arguments[2]===!0;if(!B&&x===0)return 0;let G=!1;for(;;)switch(I){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return ge(L).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x*2;case"hex":return x>>>1;case"base64":return we(L).length;default:if(G)return B?-1:ge(L).length;I=(""+I).toLowerCase(),G=!0}}c.byteLength=N;function O(L,I,x){let B=!1;if((I===void 0||I<0)&&(I=0),I>this.length||((x===void 0||x>this.length)&&(x=this.length),x<=0)||(x>>>=0,I>>>=0,x<=I))return"";for(L||(L="utf8");;)switch(L){case"hex":return v(this,I,x);case"utf8":case"utf-8":return s(this,I,x);case"ascii":return p(this,I,x);case"latin1":case"binary":return y(this,I,x);case"base64":return d(this,I,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,I,x);default:if(B)throw new TypeError("Unknown encoding: "+L);L=(L+"").toLowerCase(),B=!0}}c.prototype._isBuffer=!0;function D(L,I,x){const B=L[I];L[I]=L[x],L[x]=B}c.prototype.swap16=function(){const I=this.length;if(I%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let x=0;x<I;x+=2)D(this,x,x+1);return this},c.prototype.swap32=function(){const I=this.length;if(I%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let x=0;x<I;x+=4)D(this,x,x+3),D(this,x+1,x+2);return this},c.prototype.swap64=function(){const I=this.length;if(I%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let x=0;x<I;x+=8)D(this,x,x+7),D(this,x+1,x+6),D(this,x+2,x+5),D(this,x+3,x+4);return this},c.prototype.toString=function(){const I=this.length;return I===0?"":arguments.length===0?s(this,0,I):O.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(I){if(!c.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I?!0:c.compare(this,I)===0},c.prototype.inspect=function(){let I="";const x=t.INSPECT_MAX_BYTES;return I=this.toString("hex",0,x).replace(/(.{2})/g,"$1 ").trim(),this.length>x&&(I+=" ... "),"<Buffer "+I+">"},r&&(c.prototype[r]=c.prototype.inspect),c.prototype.compare=function(I,x,B,G,H){if(Kt(I,Uint8Array)&&(I=c.from(I,I.offset,I.byteLength)),!c.isBuffer(I))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof I);if(x===void 0&&(x=0),B===void 0&&(B=I?I.length:0),G===void 0&&(G=0),H===void 0&&(H=this.length),x<0||B>I.length||G<0||H>this.length)throw new RangeError("out of range index");if(G>=H&&x>=B)return 0;if(G>=H)return-1;if(x>=B)return 1;if(x>>>=0,B>>>=0,G>>>=0,H>>>=0,this===I)return 0;let Z=H-G,et=B-x;const se=Math.min(Z,et),oe=this.slice(G,H),ft=I.slice(x,B);for(let ie=0;ie<se;++ie)if(oe[ie]!==ft[ie]){Z=oe[ie],et=ft[ie];break}return Z<et?-1:et<Z?1:0};function z(L,I,x,B,G){if(L.length===0)return-1;if(typeof x=="string"?(B=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),x=+x,ye(x)&&(x=G?0:L.length-1),x<0&&(x=L.length+x),x>=L.length){if(G)return-1;x=L.length-1}else if(x<0)if(G)x=0;else return-1;if(typeof I=="string"&&(I=c.from(I,B)),c.isBuffer(I))return I.length===0?-1:P(L,I,x,B,G);if(typeof I=="number")return I=I&255,typeof Uint8Array.prototype.indexOf=="function"?G?Uint8Array.prototype.indexOf.call(L,I,x):Uint8Array.prototype.lastIndexOf.call(L,I,x):P(L,[I],x,B,G);throw new TypeError("val must be string, number or Buffer")}function P(L,I,x,B,G){let H=1,Z=L.length,et=I.length;if(B!==void 0&&(B=String(B).toLowerCase(),B==="ucs2"||B==="ucs-2"||B==="utf16le"||B==="utf-16le")){if(L.length<2||I.length<2)return-1;H=2,Z/=2,et/=2,x/=2}function se(ft,ie){return H===1?ft[ie]:ft.readUInt16BE(ie*H)}let oe;if(G){let ft=-1;for(oe=x;oe<Z;oe++)if(se(L,oe)===se(I,ft===-1?0:oe-ft)){if(ft===-1&&(ft=oe),oe-ft+1===et)return ft*H}else ft!==-1&&(oe-=oe-ft),ft=-1}else for(x+et>Z&&(x=Z-et),oe=x;oe>=0;oe--){let ft=!0;for(let ie=0;ie<et;ie++)if(se(L,oe+ie)!==se(I,ie)){ft=!1;break}if(ft)return oe}return-1}c.prototype.includes=function(I,x,B){return this.indexOf(I,x,B)!==-1},c.prototype.indexOf=function(I,x,B){return z(this,I,x,B,!0)},c.prototype.lastIndexOf=function(I,x,B){return z(this,I,x,B,!1)};function W(L,I,x,B){x=Number(x)||0;const G=L.length-x;B?(B=Number(B),B>G&&(B=G)):B=G;const H=I.length;B>H/2&&(B=H/2);let Z;for(Z=0;Z<B;++Z){const et=parseInt(I.substr(Z*2,2),16);if(ye(et))return Z;L[x+Z]=et}return Z}function U(L,I,x,B){return me(ge(I,L.length-x),L,x,B)}function F(L,I,x,B){return me(_e(I),L,x,B)}function j(L,I,x,B){return me(we(I),L,x,B)}function V(L,I,x,B){return me(Cr(I,L.length-x),L,x,B)}c.prototype.write=function(I,x,B,G){if(x===void 0)G="utf8",B=this.length,x=0;else if(B===void 0&&typeof x=="string")G=x,B=this.length,x=0;else if(isFinite(x))x=x>>>0,isFinite(B)?(B=B>>>0,G===void 0&&(G="utf8")):(G=B,B=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const H=this.length-x;if((B===void 0||B>H)&&(B=H),I.length>0&&(B<0||x<0)||x>this.length)throw new RangeError("Attempt to write outside buffer bounds");G||(G="utf8");let Z=!1;for(;;)switch(G){case"hex":return W(this,I,x,B);case"utf8":case"utf-8":return U(this,I,x,B);case"ascii":case"latin1":case"binary":return F(this,I,x,B);case"base64":return j(this,I,x,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,I,x,B);default:if(Z)throw new TypeError("Unknown encoding: "+G);G=(""+G).toLowerCase(),Z=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function d(L,I,x){return I===0&&x===L.length?e.fromByteArray(L):e.fromByteArray(L.slice(I,x))}function s(L,I,x){x=Math.min(L.length,x);const B=[];let G=I;for(;G<x;){const H=L[G];let Z=null,et=H>239?4:H>223?3:H>191?2:1;if(G+et<=x){let se,oe,ft,ie;switch(et){case 1:H<128&&(Z=H);break;case 2:se=L[G+1],(se&192)===128&&(ie=(H&31)<<6|se&63,ie>127&&(Z=ie));break;case 3:se=L[G+1],oe=L[G+2],(se&192)===128&&(oe&192)===128&&(ie=(H&15)<<12|(se&63)<<6|oe&63,ie>2047&&(ie<55296||ie>57343)&&(Z=ie));break;case 4:se=L[G+1],oe=L[G+2],ft=L[G+3],(se&192)===128&&(oe&192)===128&&(ft&192)===128&&(ie=(H&15)<<18|(se&63)<<12|(oe&63)<<6|ft&63,ie>65535&&ie<1114112&&(Z=ie))}}Z===null?(Z=65533,et=1):Z>65535&&(Z-=65536,B.push(Z>>>10&1023|55296),Z=56320|Z&1023),B.push(Z),G+=et}return h(B)}const u=4096;function h(L){const I=L.length;if(I<=u)return String.fromCharCode.apply(String,L);let x="",B=0;for(;B<I;)x+=String.fromCharCode.apply(String,L.slice(B,B+=u));return x}function p(L,I,x){let B="";x=Math.min(L.length,x);for(let G=I;G<x;++G)B+=String.fromCharCode(L[G]&127);return B}function y(L,I,x){let B="";x=Math.min(L.length,x);for(let G=I;G<x;++G)B+=String.fromCharCode(L[G]);return B}function v(L,I,x){const B=L.length;(!I||I<0)&&(I=0),(!x||x<0||x>B)&&(x=B);let G="";for(let H=I;H<x;++H)G+=Ee[L[H]];return G}function b(L,I,x){const B=L.slice(I,x);let G="";for(let H=0;H<B.length-1;H+=2)G+=String.fromCharCode(B[H]+B[H+1]*256);return G}c.prototype.slice=function(I,x){const B=this.length;I=~~I,x=x===void 0?B:~~x,I<0?(I+=B,I<0&&(I=0)):I>B&&(I=B),x<0?(x+=B,x<0&&(x=0)):x>B&&(x=B),x<I&&(x=I);const G=this.subarray(I,x);return Object.setPrototypeOf(G,c.prototype),G};function m(L,I,x){if(L%1!==0||L<0)throw new RangeError("offset is not uint");if(L+I>x)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(I,x,B){I=I>>>0,x=x>>>0,B||m(I,x,this.length);let G=this[I],H=1,Z=0;for(;++Z<x&&(H*=256);)G+=this[I+Z]*H;return G},c.prototype.readUintBE=c.prototype.readUIntBE=function(I,x,B){I=I>>>0,x=x>>>0,B||m(I,x,this.length);let G=this[I+--x],H=1;for(;x>0&&(H*=256);)G+=this[I+--x]*H;return G},c.prototype.readUint8=c.prototype.readUInt8=function(I,x){return I=I>>>0,x||m(I,1,this.length),this[I]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(I,x){return I=I>>>0,x||m(I,2,this.length),this[I]|this[I+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(I,x){return I=I>>>0,x||m(I,2,this.length),this[I]<<8|this[I+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(I,x){return I=I>>>0,x||m(I,4,this.length),(this[I]|this[I+1]<<8|this[I+2]<<16)+this[I+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(I,x){return I=I>>>0,x||m(I,4,this.length),this[I]*16777216+(this[I+1]<<16|this[I+2]<<8|this[I+3])},c.prototype.readBigUInt64LE=tn(function(I){I=I>>>0,Yt(I,"offset");const x=this[I],B=this[I+7];(x===void 0||B===void 0)&&pe(I,this.length-8);const G=x+this[++I]*2**8+this[++I]*2**16+this[++I]*2**24,H=this[++I]+this[++I]*2**8+this[++I]*2**16+B*2**24;return BigInt(G)+(BigInt(H)<<BigInt(32))}),c.prototype.readBigUInt64BE=tn(function(I){I=I>>>0,Yt(I,"offset");const x=this[I],B=this[I+7];(x===void 0||B===void 0)&&pe(I,this.length-8);const G=x*2**24+this[++I]*2**16+this[++I]*2**8+this[++I],H=this[++I]*2**24+this[++I]*2**16+this[++I]*2**8+B;return(BigInt(G)<<BigInt(32))+BigInt(H)}),c.prototype.readIntLE=function(I,x,B){I=I>>>0,x=x>>>0,B||m(I,x,this.length);let G=this[I],H=1,Z=0;for(;++Z<x&&(H*=256);)G+=this[I+Z]*H;return H*=128,G>=H&&(G-=Math.pow(2,8*x)),G},c.prototype.readIntBE=function(I,x,B){I=I>>>0,x=x>>>0,B||m(I,x,this.length);let G=x,H=1,Z=this[I+--G];for(;G>0&&(H*=256);)Z+=this[I+--G]*H;return H*=128,Z>=H&&(Z-=Math.pow(2,8*x)),Z},c.prototype.readInt8=function(I,x){return I=I>>>0,x||m(I,1,this.length),this[I]&128?(255-this[I]+1)*-1:this[I]},c.prototype.readInt16LE=function(I,x){I=I>>>0,x||m(I,2,this.length);const B=this[I]|this[I+1]<<8;return B&32768?B|4294901760:B},c.prototype.readInt16BE=function(I,x){I=I>>>0,x||m(I,2,this.length);const B=this[I+1]|this[I]<<8;return B&32768?B|4294901760:B},c.prototype.readInt32LE=function(I,x){return I=I>>>0,x||m(I,4,this.length),this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24},c.prototype.readInt32BE=function(I,x){return I=I>>>0,x||m(I,4,this.length),this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]},c.prototype.readBigInt64LE=tn(function(I){I=I>>>0,Yt(I,"offset");const x=this[I],B=this[I+7];(x===void 0||B===void 0)&&pe(I,this.length-8);const G=this[I+4]+this[I+5]*2**8+this[I+6]*2**16+(B<<24);return(BigInt(G)<<BigInt(32))+BigInt(x+this[++I]*2**8+this[++I]*2**16+this[++I]*2**24)}),c.prototype.readBigInt64BE=tn(function(I){I=I>>>0,Yt(I,"offset");const x=this[I],B=this[I+7];(x===void 0||B===void 0)&&pe(I,this.length-8);const G=(x<<24)+this[++I]*2**16+this[++I]*2**8+this[++I];return(BigInt(G)<<BigInt(32))+BigInt(this[++I]*2**24+this[++I]*2**16+this[++I]*2**8+B)}),c.prototype.readFloatLE=function(I,x){return I=I>>>0,x||m(I,4,this.length),n.read(this,I,!0,23,4)},c.prototype.readFloatBE=function(I,x){return I=I>>>0,x||m(I,4,this.length),n.read(this,I,!1,23,4)},c.prototype.readDoubleLE=function(I,x){return I=I>>>0,x||m(I,8,this.length),n.read(this,I,!0,52,8)},c.prototype.readDoubleBE=function(I,x){return I=I>>>0,x||m(I,8,this.length),n.read(this,I,!1,52,8)};function l(L,I,x,B,G,H){if(!c.isBuffer(L))throw new TypeError('"buffer" argument must be a Buffer instance');if(I>G||I<H)throw new RangeError('"value" argument is out of bounds');if(x+B>L.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(I,x,B,G){if(I=+I,x=x>>>0,B=B>>>0,!G){const et=Math.pow(2,8*B)-1;l(this,I,x,B,et,0)}let H=1,Z=0;for(this[x]=I&255;++Z<B&&(H*=256);)this[x+Z]=I/H&255;return x+B},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(I,x,B,G){if(I=+I,x=x>>>0,B=B>>>0,!G){const et=Math.pow(2,8*B)-1;l(this,I,x,B,et,0)}let H=B-1,Z=1;for(this[x+H]=I&255;--H>=0&&(Z*=256);)this[x+H]=I/Z&255;return x+B},c.prototype.writeUint8=c.prototype.writeUInt8=function(I,x,B){return I=+I,x=x>>>0,B||l(this,I,x,1,255,0),this[x]=I&255,x+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(I,x,B){return I=+I,x=x>>>0,B||l(this,I,x,2,65535,0),this[x]=I&255,this[x+1]=I>>>8,x+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(I,x,B){return I=+I,x=x>>>0,B||l(this,I,x,2,65535,0),this[x]=I>>>8,this[x+1]=I&255,x+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(I,x,B){return I=+I,x=x>>>0,B||l(this,I,x,4,4294967295,0),this[x+3]=I>>>24,this[x+2]=I>>>16,this[x+1]=I>>>8,this[x]=I&255,x+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(I,x,B){return I=+I,x=x>>>0,B||l(this,I,x,4,4294967295,0),this[x]=I>>>24,this[x+1]=I>>>16,this[x+2]=I>>>8,this[x+3]=I&255,x+4};function w(L,I,x,B,G){de(I,B,G,L,x,7);let H=Number(I&BigInt(4294967295));L[x++]=H,H=H>>8,L[x++]=H,H=H>>8,L[x++]=H,H=H>>8,L[x++]=H;let Z=Number(I>>BigInt(32)&BigInt(4294967295));return L[x++]=Z,Z=Z>>8,L[x++]=Z,Z=Z>>8,L[x++]=Z,Z=Z>>8,L[x++]=Z,x}function K(L,I,x,B,G){de(I,B,G,L,x,7);let H=Number(I&BigInt(4294967295));L[x+7]=H,H=H>>8,L[x+6]=H,H=H>>8,L[x+5]=H,H=H>>8,L[x+4]=H;let Z=Number(I>>BigInt(32)&BigInt(4294967295));return L[x+3]=Z,Z=Z>>8,L[x+2]=Z,Z=Z>>8,L[x+1]=Z,Z=Z>>8,L[x]=Z,x+8}c.prototype.writeBigUInt64LE=tn(function(I,x=0){return w(this,I,x,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=tn(function(I,x=0){return K(this,I,x,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(I,x,B,G){if(I=+I,x=x>>>0,!G){const se=Math.pow(2,8*B-1);l(this,I,x,B,se-1,-se)}let H=0,Z=1,et=0;for(this[x]=I&255;++H<B&&(Z*=256);)I<0&&et===0&&this[x+H-1]!==0&&(et=1),this[x+H]=(I/Z>>0)-et&255;return x+B},c.prototype.writeIntBE=function(I,x,B,G){if(I=+I,x=x>>>0,!G){const se=Math.pow(2,8*B-1);l(this,I,x,B,se-1,-se)}let H=B-1,Z=1,et=0;for(this[x+H]=I&255;--H>=0&&(Z*=256);)I<0&&et===0&&this[x+H+1]!==0&&(et=1),this[x+H]=(I/Z>>0)-et&255;return x+B},c.prototype.writeInt8=function(I,x,B){return I=+I,x=x>>>0,B||l(this,I,x,1,127,-128),I<0&&(I=255+I+1),this[x]=I&255,x+1},c.prototype.writeInt16LE=function(I,x,B){return I=+I,x=x>>>0,B||l(this,I,x,2,32767,-32768),this[x]=I&255,this[x+1]=I>>>8,x+2},c.prototype.writeInt16BE=function(I,x,B){return I=+I,x=x>>>0,B||l(this,I,x,2,32767,-32768),this[x]=I>>>8,this[x+1]=I&255,x+2},c.prototype.writeInt32LE=function(I,x,B){return I=+I,x=x>>>0,B||l(this,I,x,4,2147483647,-2147483648),this[x]=I&255,this[x+1]=I>>>8,this[x+2]=I>>>16,this[x+3]=I>>>24,x+4},c.prototype.writeInt32BE=function(I,x,B){return I=+I,x=x>>>0,B||l(this,I,x,4,2147483647,-2147483648),I<0&&(I=4294967295+I+1),this[x]=I>>>24,this[x+1]=I>>>16,this[x+2]=I>>>8,this[x+3]=I&255,x+4},c.prototype.writeBigInt64LE=tn(function(I,x=0){return w(this,I,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=tn(function(I,x=0){return K(this,I,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function $(L,I,x,B,G,H){if(x+B>L.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function q(L,I,x,B,G){return I=+I,x=x>>>0,G||$(L,I,x,4),n.write(L,I,x,B,23,4),x+4}c.prototype.writeFloatLE=function(I,x,B){return q(this,I,x,!0,B)},c.prototype.writeFloatBE=function(I,x,B){return q(this,I,x,!1,B)};function ue(L,I,x,B,G){return I=+I,x=x>>>0,G||$(L,I,x,8),n.write(L,I,x,B,52,8),x+8}c.prototype.writeDoubleLE=function(I,x,B){return ue(this,I,x,!0,B)},c.prototype.writeDoubleBE=function(I,x,B){return ue(this,I,x,!1,B)},c.prototype.copy=function(I,x,B,G){if(!c.isBuffer(I))throw new TypeError("argument should be a Buffer");if(B||(B=0),!G&&G!==0&&(G=this.length),x>=I.length&&(x=I.length),x||(x=0),G>0&&G<B&&(G=B),G===B||I.length===0||this.length===0)return 0;if(x<0)throw new RangeError("targetStart out of bounds");if(B<0||B>=this.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("sourceEnd out of bounds");G>this.length&&(G=this.length),I.length-x<G-B&&(G=I.length-x+B);const H=G-B;return this===I&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(x,B,G):Uint8Array.prototype.set.call(I,this.subarray(B,G),x),H},c.prototype.fill=function(I,x,B,G){if(typeof I=="string"){if(typeof x=="string"?(G=x,x=0,B=this.length):typeof B=="string"&&(G=B,B=this.length),G!==void 0&&typeof G!="string")throw new TypeError("encoding must be a string");if(typeof G=="string"&&!c.isEncoding(G))throw new TypeError("Unknown encoding: "+G);if(I.length===1){const Z=I.charCodeAt(0);(G==="utf8"&&Z<128||G==="latin1")&&(I=Z)}}else typeof I=="number"?I=I&255:typeof I=="boolean"&&(I=Number(I));if(x<0||this.length<x||this.length<B)throw new RangeError("Out of range index");if(B<=x)return this;x=x>>>0,B=B===void 0?this.length:B>>>0,I||(I=0);let H;if(typeof I=="number")for(H=x;H<B;++H)this[H]=I;else{const Z=c.isBuffer(I)?I:c.from(I,G),et=Z.length;if(et===0)throw new TypeError('The value "'+I+'" is invalid for argument "value"');for(H=0;H<B-x;++H)this[H+x]=Z[H%et]}return this};const Y={};function ne(L,I,x){Y[L]=class extends x{constructor(){super(),Object.defineProperty(this,"message",{value:I.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${L}]`,this.stack,delete this.name}get code(){return L}set code(G){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:G,writable:!0})}toString(){return`${this.name} [${L}]: ${this.message}`}}}ne("ERR_BUFFER_OUT_OF_BOUNDS",function(L){return L?`${L} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ne("ERR_INVALID_ARG_TYPE",function(L,I){return`The "${L}" argument must be of type number. Received type ${typeof I}`},TypeError),ne("ERR_OUT_OF_RANGE",function(L,I,x){let B=`The value of "${L}" is out of range.`,G=x;return Number.isInteger(x)&&Math.abs(x)>2**32?G=ct(String(x)):typeof x=="bigint"&&(G=String(x),(x>BigInt(2)**BigInt(32)||x<-(BigInt(2)**BigInt(32)))&&(G=ct(G)),G+="n"),B+=` It must be ${I}. Received ${G}`,B},RangeError);function ct(L){let I="",x=L.length;const B=L[0]==="-"?1:0;for(;x>=B+4;x-=3)I=`_${L.slice(x-3,x)}${I}`;return`${L.slice(0,x)}${I}`}function ce(L,I,x){Yt(I,"offset"),(L[I]===void 0||L[I+x]===void 0)&&pe(I,L.length-(x+1))}function de(L,I,x,B,G,H){if(L>x||L<I){const Z=typeof I=="bigint"?"n":"";let et;throw I===0||I===BigInt(0)?et=`>= 0${Z} and < 2${Z} ** ${(H+1)*8}${Z}`:et=`>= -(2${Z} ** ${(H+1)*8-1}${Z}) and < 2 ** ${(H+1)*8-1}${Z}`,new Y.ERR_OUT_OF_RANGE("value",et,L)}ce(B,G,H)}function Yt(L,I){if(typeof L!="number")throw new Y.ERR_INVALID_ARG_TYPE(I,"number",L)}function pe(L,I,x){throw Math.floor(L)!==L?(Yt(L,x),new Y.ERR_OUT_OF_RANGE("offset","an integer",L)):I<0?new Y.ERR_BUFFER_OUT_OF_BOUNDS:new Y.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${I}`,L)}const ve=/[^+/0-9A-Za-z-_]/g;function kr(L){if(L=L.split("=")[0],L=L.trim().replace(ve,""),L.length<2)return"";for(;L.length%4!==0;)L=L+"=";return L}function ge(L,I){I=I||1/0;let x;const B=L.length;let G=null;const H=[];for(let Z=0;Z<B;++Z){if(x=L.charCodeAt(Z),x>55295&&x<57344){if(!G){if(x>56319){(I-=3)>-1&&H.push(239,191,189);continue}else if(Z+1===B){(I-=3)>-1&&H.push(239,191,189);continue}G=x;continue}if(x<56320){(I-=3)>-1&&H.push(239,191,189),G=x;continue}x=(G-55296<<10|x-56320)+65536}else G&&(I-=3)>-1&&H.push(239,191,189);if(G=null,x<128){if((I-=1)<0)break;H.push(x)}else if(x<2048){if((I-=2)<0)break;H.push(x>>6|192,x&63|128)}else if(x<65536){if((I-=3)<0)break;H.push(x>>12|224,x>>6&63|128,x&63|128)}else if(x<1114112){if((I-=4)<0)break;H.push(x>>18|240,x>>12&63|128,x>>6&63|128,x&63|128)}else throw new Error("Invalid code point")}return H}function _e(L){const I=[];for(let x=0;x<L.length;++x)I.push(L.charCodeAt(x)&255);return I}function Cr(L,I){let x,B,G;const H=[];for(let Z=0;Z<L.length&&!((I-=2)<0);++Z)x=L.charCodeAt(Z),B=x>>8,G=x%256,H.push(G),H.push(B);return H}function we(L){return e.toByteArray(kr(L))}function me(L,I,x,B){let G;for(G=0;G<B&&!(G+x>=I.length||G>=L.length);++G)I[G+x]=L[G];return G}function Kt(L,I){return L instanceof I||L!=null&&L.constructor!=null&&L.constructor.name!=null&&L.constructor.name===I.name}function ye(L){return L!==L}const Ee=function(){const L="0123456789abcdef",I=new Array(256);for(let x=0;x<16;++x){const B=x*16;for(let G=0;G<16;++G)I[B+G]=L[x]+L[G]}return I}();function tn(L){return typeof BigInt>"u"?be:L}function be(){throw new Error("BigInt not supported")}})(Ze);const Ra=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Rs(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function xl(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Gi(t,...e){if(!Rs(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function HS(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");xl(t.outputLen),xl(t.blockLen)}function Rl(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function KS(t,e){Gi(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Lk(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function vs(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function G0(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ki(t,e){return t<<32-e|t>>>e}const Bk=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Pk(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function Dk(t){for(let e=0;e<t.length;e++)t[e]=Pk(t[e]);return t}const yv=Bk?t=>t:Dk,VS=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Uk=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ki(t){if(Gi(t),VS)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=Uk[t[n]];return e}const io={_0:48,_9:57,A:65,F:70,a:97,f:102};function wv(t){if(t>=io._0&&t<=io._9)return t-io._0;if(t>=io.A&&t<=io.F)return t-(io.A-10);if(t>=io.a&&t<=io.f)return t-(io.a-10)}function Il(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(VS)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let o=0,i=0;o<n;o++,i+=2){const a=wv(t.charCodeAt(i)),c=wv(t.charCodeAt(i+1));if(a===void 0||c===void 0){const f=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+i)}r[o]=a*16+c}return r}function zk(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Pd(t){return typeof t=="string"&&(t=zk(t)),Gi(t),t}function Xr(...t){let e=0;for(let r=0;r<t.length;r++){const o=t[r];Gi(o),e+=o.length}const n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const i=t[r];n.set(i,o),o+=i.length}return n}class Zy{}function Yy(t){const e=r=>t().update(Pd(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Dd(t=32){if(Ra&&typeof Ra.getRandomValues=="function")return Ra.getRandomValues(new Uint8Array(t));if(Ra&&typeof Ra.randomBytes=="function")return Uint8Array.from(Ra.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function jk(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const o=BigInt(32),i=BigInt(4294967295),a=Number(n>>o&i),c=Number(n&i),f=r?4:0,g=r?0:4;t.setUint32(e+f,a,r),t.setUint32(e+g,c,r)}function Wk(t,e,n){return t&e^~t&n}function Fk(t,e,n){return t&e^t&n^e&n}class qS extends Zy{constructor(e,n,r,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=o,this.buffer=new Uint8Array(e),this.view=G0(this.buffer)}update(e){Rl(this),e=Pd(e),Gi(e);const{view:n,buffer:r,blockLen:o}=this,i=e.length;for(let a=0;a<i;){const c=Math.min(o-this.pos,i-a);if(c===o){const f=G0(e);for(;o<=i-a;a+=o)this.process(f,a);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Rl(this),KS(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:i}=this;let{pos:a}=this;n[a++]=128,vs(this.buffer.subarray(a)),this.padOffset>o-a&&(this.process(r,0),a=0);for(let M=a;M<o;M++)n[M]=0;jk(r,o-8,BigInt(this.length*8),i),this.process(r,0);const c=G0(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const g=f/4,_=this.get();if(g>_.length)throw new Error("_sha2: outputLen bigger than state");for(let M=0;M<g;M++)c.setUint32(4*M,_[M],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:i,destroyed:a,pos:c}=this;return e.destroyed=a,e.finished=i,e.length=o,e.pos=c,o%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Lo=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),On=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),sf=BigInt(2**32-1),vv=BigInt(32);function $k(t,e=!1){return e?{h:Number(t&sf),l:Number(t>>vv&sf)}:{h:Number(t>>vv&sf)|0,l:Number(t&sf)|0}}function GS(t,e=!1){const n=t.length;let r=new Uint32Array(n),o=new Uint32Array(n);for(let i=0;i<n;i++){const{h:a,l:c}=$k(t[i],e);[r[i],o[i]]=[a,c]}return[r,o]}const _v=(t,e,n)=>t>>>n,Ev=(t,e,n)=>t<<32-n|e>>>n,Ia=(t,e,n)=>t>>>n|e<<32-n,Na=(t,e,n)=>t<<32-n|e>>>n,af=(t,e,n)=>t<<64-n|e>>>n-32,lf=(t,e,n)=>t>>>n-32|e<<64-n,Hk=(t,e,n)=>t<<n|e>>>32-n,Kk=(t,e,n)=>e<<n|t>>>32-n,Vk=(t,e,n)=>e<<n-32|t>>>64-n,qk=(t,e,n)=>t<<n-32|e>>>64-n;function oo(t,e,n,r){const o=(e>>>0)+(r>>>0);return{h:t+n+(o/2**32|0)|0,l:o|0}}const Gk=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Zk=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Yk=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Qk=(t,e,n,r,o)=>e+n+r+o+(t/2**32|0)|0,Xk=(t,e,n,r,o)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(o>>>0),Jk=(t,e,n,r,o,i)=>e+n+r+o+i+(t/2**32|0)|0,e3=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Bo=new Uint32Array(64);class t3 extends qS{constructor(e=32){super(64,e,8,!1),this.A=Lo[0]|0,this.B=Lo[1]|0,this.C=Lo[2]|0,this.D=Lo[3]|0,this.E=Lo[4]|0,this.F=Lo[5]|0,this.G=Lo[6]|0,this.H=Lo[7]|0}get(){const{A:e,B:n,C:r,D:o,E:i,F:a,G:c,H:f}=this;return[e,n,r,o,i,a,c,f]}set(e,n,r,o,i,a,c,f){this.A=e|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=i|0,this.F=a|0,this.G=c|0,this.H=f|0}process(e,n){for(let M=0;M<16;M++,n+=4)Bo[M]=e.getUint32(n,!1);for(let M=16;M<64;M++){const S=Bo[M-15],E=Bo[M-2],A=ki(S,7)^ki(S,18)^S>>>3,k=ki(E,17)^ki(E,19)^E>>>10;Bo[M]=k+Bo[M-7]+A+Bo[M-16]|0}let{A:r,B:o,C:i,D:a,E:c,F:f,G:g,H:_}=this;for(let M=0;M<64;M++){const S=ki(c,6)^ki(c,11)^ki(c,25),E=_+S+Wk(c,f,g)+e3[M]+Bo[M]|0,k=(ki(r,2)^ki(r,13)^ki(r,22))+Fk(r,o,i)|0;_=g,g=f,f=c,c=a+E|0,a=i,i=o,o=r,r=E+k|0}r=r+this.A|0,o=o+this.B|0,i=i+this.C|0,a=a+this.D|0,c=c+this.E|0,f=f+this.F|0,g=g+this.G|0,_=_+this.H|0,this.set(r,o,i,a,c,f,g,_)}roundClean(){vs(Bo)}destroy(){this.set(0,0,0,0,0,0,0,0),vs(this.buffer)}}const ZS=GS(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),n3=ZS[0],r3=ZS[1],Po=new Uint32Array(80),Do=new Uint32Array(80);class i3 extends qS{constructor(e=64){super(128,e,16,!1),this.Ah=On[0]|0,this.Al=On[1]|0,this.Bh=On[2]|0,this.Bl=On[3]|0,this.Ch=On[4]|0,this.Cl=On[5]|0,this.Dh=On[6]|0,this.Dl=On[7]|0,this.Eh=On[8]|0,this.El=On[9]|0,this.Fh=On[10]|0,this.Fl=On[11]|0,this.Gh=On[12]|0,this.Gl=On[13]|0,this.Hh=On[14]|0,this.Hl=On[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:o,Ch:i,Cl:a,Dh:c,Dl:f,Eh:g,El:_,Fh:M,Fl:S,Gh:E,Gl:A,Hh:k,Hl:C}=this;return[e,n,r,o,i,a,c,f,g,_,M,S,E,A,k,C]}set(e,n,r,o,i,a,c,f,g,_,M,S,E,A,k,C){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=o|0,this.Ch=i|0,this.Cl=a|0,this.Dh=c|0,this.Dl=f|0,this.Eh=g|0,this.El=_|0,this.Fh=M|0,this.Fl=S|0,this.Gh=E|0,this.Gl=A|0,this.Hh=k|0,this.Hl=C|0}process(e,n){for(let N=0;N<16;N++,n+=4)Po[N]=e.getUint32(n),Do[N]=e.getUint32(n+=4);for(let N=16;N<80;N++){const O=Po[N-15]|0,D=Do[N-15]|0,z=Ia(O,D,1)^Ia(O,D,8)^_v(O,D,7),P=Na(O,D,1)^Na(O,D,8)^Ev(O,D,7),W=Po[N-2]|0,U=Do[N-2]|0,F=Ia(W,U,19)^af(W,U,61)^_v(W,U,6),j=Na(W,U,19)^lf(W,U,61)^Ev(W,U,6),V=Yk(P,j,Do[N-7],Do[N-16]),d=Qk(V,z,F,Po[N-7],Po[N-16]);Po[N]=d|0,Do[N]=V|0}let{Ah:r,Al:o,Bh:i,Bl:a,Ch:c,Cl:f,Dh:g,Dl:_,Eh:M,El:S,Fh:E,Fl:A,Gh:k,Gl:C,Hh:R,Hl:T}=this;for(let N=0;N<80;N++){const O=Ia(M,S,14)^Ia(M,S,18)^af(M,S,41),D=Na(M,S,14)^Na(M,S,18)^lf(M,S,41),z=M&E^~M&k,P=S&A^~S&C,W=Xk(T,D,P,r3[N],Do[N]),U=Jk(W,R,O,z,n3[N],Po[N]),F=W|0,j=Ia(r,o,28)^af(r,o,34)^af(r,o,39),V=Na(r,o,28)^lf(r,o,34)^lf(r,o,39),d=r&i^r&c^i&c,s=o&a^o&f^a&f;R=k|0,T=C|0,k=E|0,C=A|0,E=M|0,A=S|0,{h:M,l:S}=oo(g|0,_|0,U|0,F|0),g=c|0,_=f|0,c=i|0,f=a|0,i=r|0,a=o|0;const u=Gk(F,V,s);r=Zk(u,U,j,d),o=u|0}({h:r,l:o}=oo(this.Ah|0,this.Al|0,r|0,o|0)),{h:i,l:a}=oo(this.Bh|0,this.Bl|0,i|0,a|0),{h:c,l:f}=oo(this.Ch|0,this.Cl|0,c|0,f|0),{h:g,l:_}=oo(this.Dh|0,this.Dl|0,g|0,_|0),{h:M,l:S}=oo(this.Eh|0,this.El|0,M|0,S|0),{h:E,l:A}=oo(this.Fh|0,this.Fl|0,E|0,A|0),{h:k,l:C}=oo(this.Gh|0,this.Gl|0,k|0,C|0),{h:R,l:T}=oo(this.Hh|0,this.Hl|0,R|0,T|0),this.set(r,o,i,a,c,f,g,_,M,S,E,A,k,C,R,T)}roundClean(){vs(Po,Do)}destroy(){vs(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const YS=Yy(()=>new t3),QS=Yy(()=>new i3);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Qy=BigInt(0),Bm=BigInt(1);function fa(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function Ei(t,e,n=""){const r=Rs(t),o=t==null?void 0:t.length,i=e!==void 0;if(!r||i&&o!==e){const a=n&&`"${n}" `,c=i?` of length ${e}`:"",f=r?`length=${o}`:`type=${typeof t}`;throw new Error(a+"expected Uint8Array"+c+", got "+f)}return t}function uf(t){const e=t.toString(16);return e.length&1?"0"+e:e}function XS(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Qy:BigInt("0x"+t)}function Ud(t){return XS(Ki(t))}function uc(t){return Gi(t),XS(Ki(Uint8Array.from(t).reverse()))}function Xy(t,e){return Il(t.toString(16).padStart(e*2,"0"))}function JS(t,e){return Xy(t,e).reverse()}function Gt(t,e,n){let r;if(typeof e=="string")try{r=Il(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(Rs(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const o=r.length;if(typeof n=="number"&&o!==n)throw new Error(t+" of length "+n+" expected, got "+o);return r}function bv(t){return Uint8Array.from(t)}const Z0=t=>typeof t=="bigint"&&Qy<=t;function o3(t,e,n){return Z0(t)&&Z0(e)&&Z0(n)&&e<=t&&t<n}function Pm(t,e,n,r){if(!o3(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function eM(t){let e;for(e=0;t>Qy;t>>=Bm,e+=1);return e}const Ac=t=>(Bm<<BigInt(t))-Bm;function s3(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=E=>new Uint8Array(E),o=E=>Uint8Array.of(E);let i=r(t),a=r(t),c=0;const f=()=>{i.fill(1),a.fill(0),c=0},g=(...E)=>n(a,i,...E),_=(E=r(0))=>{a=g(o(0),E),i=g(),E.length!==0&&(a=g(o(1),E),i=g())},M=()=>{if(c++>=1e3)throw new Error("drbg: tried 1000 values");let E=0;const A=[];for(;E<e;){i=g();const k=i.slice();A.push(k),E+=i.length}return Xr(...A)};return(E,A)=>{f(),_(E);let k;for(;!(k=A(M()));)_();return f(),k}}function xc(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(o,i,a){const c=t[o];if(a&&c===void 0)return;const f=typeof c;if(f!==i||c===null)throw new Error(`param "${o}" is invalid: expected ${i}, got ${f}`)}Object.entries(e).forEach(([o,i])=>r(o,i,!1)),Object.entries(n).forEach(([o,i])=>r(o,i,!0))}function $h(t){const e=new WeakMap;return(n,...r)=>{const o=e.get(n);if(o!==void 0)return o;const i=t(n,...r);return e.set(n,i),i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ar=BigInt(0),Nn=BigInt(1),Ks=BigInt(2),tM=BigInt(3),nM=BigInt(4),rM=BigInt(5),a3=BigInt(7),iM=BigInt(8),l3=BigInt(9),oM=BigInt(16);function rn(t,e){const n=t%e;return n>=Ar?n:e+n}function qt(t,e,n){let r=t;for(;e-- >Ar;)r*=r,r%=n;return r}function Sv(t,e){if(t===Ar)throw new Error("invert: expected non-zero number");if(e<=Ar)throw new Error("invert: expected positive modulus, got "+e);let n=rn(t,e),r=e,o=Ar,i=Nn;for(;n!==Ar;){const c=r/n,f=r%n,g=o-i*c;r=n,n=f,o=i,i=g}if(r!==Nn)throw new Error("invert: does not exist");return rn(o,e)}function Jy(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function sM(t,e){const n=(t.ORDER+Nn)/nM,r=t.pow(e,n);return Jy(t,r,e),r}function u3(t,e){const n=(t.ORDER-rM)/iM,r=t.mul(e,Ks),o=t.pow(r,n),i=t.mul(e,o),a=t.mul(t.mul(i,Ks),o),c=t.mul(i,t.sub(a,t.ONE));return Jy(t,c,e),c}function c3(t){const e=wa(t),n=aM(t),r=n(e,e.neg(e.ONE)),o=n(e,r),i=n(e,e.neg(r)),a=(t+a3)/oM;return(c,f)=>{let g=c.pow(f,a),_=c.mul(g,r);const M=c.mul(g,o),S=c.mul(g,i),E=c.eql(c.sqr(_),f),A=c.eql(c.sqr(M),f);g=c.cmov(g,_,E),_=c.cmov(S,M,A);const k=c.eql(c.sqr(_),f),C=c.cmov(g,_,k);return Jy(c,C,f),C}}function aM(t){if(t<tM)throw new Error("sqrt is not defined for small field");let e=t-Nn,n=0;for(;e%Ks===Ar;)e/=Ks,n++;let r=Ks;const o=wa(t);for(;Mv(o,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return sM;let i=o.pow(r,e);const a=(e+Nn)/Ks;return function(f,g){if(f.is0(g))return g;if(Mv(f,g)!==1)throw new Error("Cannot find square root");let _=n,M=f.mul(f.ONE,i),S=f.pow(g,e),E=f.pow(g,a);for(;!f.eql(S,f.ONE);){if(f.is0(S))return f.ZERO;let A=1,k=f.sqr(S);for(;!f.eql(k,f.ONE);)if(A++,k=f.sqr(k),A===_)throw new Error("Cannot find square root");const C=Nn<<BigInt(_-A-1),R=f.pow(M,C);_=A,M=f.sqr(R),S=f.mul(S,M),E=f.mul(E,R)}return E}}function f3(t){return t%nM===tM?sM:t%iM===rM?u3:t%oM===l3?c3(t):aM(t)}const h3=(t,e)=>(rn(t,e)&Nn)===Nn,d3=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function p3(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=d3.reduce((r,o)=>(r[o]="function",r),e);return xc(t,n),t}function m3(t,e,n){if(n<Ar)throw new Error("invalid exponent, negatives unsupported");if(n===Ar)return t.ONE;if(n===Nn)return e;let r=t.ONE,o=e;for(;n>Ar;)n&Nn&&(r=t.mul(r,o)),o=t.sqr(o),n>>=Nn;return r}function lM(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),o=e.reduce((a,c,f)=>t.is0(c)?a:(r[f]=a,t.mul(a,c)),t.ONE),i=t.inv(o);return e.reduceRight((a,c,f)=>t.is0(c)?a:(r[f]=t.mul(a,r[f]),t.mul(a,c)),i),r}function Mv(t,e){const n=(t.ORDER-Nn)/Ks,r=t.pow(e,n),o=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),a=t.eql(r,t.neg(t.ONE));if(!o&&!i&&!a)throw new Error("invalid Legendre symbol result");return o?1:i?0:-1}function uM(t,e){e!==void 0&&xl(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function wa(t,e,n=!1,r={}){if(t<=Ar)throw new Error("invalid field: expected ORDER > 0, got "+t);let o,i,a=!1,c;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const S=e;S.BITS&&(o=S.BITS),S.sqrt&&(i=S.sqrt),typeof S.isLE=="boolean"&&(n=S.isLE),typeof S.modFromBytes=="boolean"&&(a=S.modFromBytes),c=S.allowedLengths}else typeof e=="number"&&(o=e),r.sqrt&&(i=r.sqrt);const{nBitLength:f,nByteLength:g}=uM(t,o);if(g>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let _;const M=Object.freeze({ORDER:t,isLE:n,BITS:f,BYTES:g,MASK:Ac(f),ZERO:Ar,ONE:Nn,allowedLengths:c,create:S=>rn(S,t),isValid:S=>{if(typeof S!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof S);return Ar<=S&&S<t},is0:S=>S===Ar,isValidNot0:S=>!M.is0(S)&&M.isValid(S),isOdd:S=>(S&Nn)===Nn,neg:S=>rn(-S,t),eql:(S,E)=>S===E,sqr:S=>rn(S*S,t),add:(S,E)=>rn(S+E,t),sub:(S,E)=>rn(S-E,t),mul:(S,E)=>rn(S*E,t),pow:(S,E)=>m3(M,S,E),div:(S,E)=>rn(S*Sv(E,t),t),sqrN:S=>S*S,addN:(S,E)=>S+E,subN:(S,E)=>S-E,mulN:(S,E)=>S*E,inv:S=>Sv(S,t),sqrt:i||(S=>(_||(_=f3(t)),_(M,S))),toBytes:S=>n?JS(S,g):Xy(S,g),fromBytes:(S,E=!0)=>{if(c){if(!c.includes(S.length)||S.length>g)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+S.length);const k=new Uint8Array(g);k.set(S,n?0:k.length-S.length),S=k}if(S.length!==g)throw new Error("Field.fromBytes: expected "+g+" bytes, got "+S.length);let A=n?uc(S):Ud(S);if(a&&(A=rn(A,t)),!E&&!M.isValid(A))throw new Error("invalid field element: outside of range 0..ORDER");return A},invertBatch:S=>lM(M,S),cmov:(S,E,A)=>A?E:S});return Object.freeze(M)}function cM(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function fM(t){const e=cM(t);return e+Math.ceil(e/2)}function g3(t,e,n=!1){const r=t.length,o=cM(e),i=fM(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const a=n?uc(t):Ud(t),c=rn(a,e-Nn)+Nn;return n?JS(c,o):Xy(c,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Nl=BigInt(0),Vs=BigInt(1);function Hh(t,e){const n=e.negate();return t?n:e}function qs(t,e){const n=lM(t.Fp,e.map(r=>r.Z));return e.map((r,o)=>t.fromAffine(r.toAffine(n[o])))}function hM(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Y0(t,e){hM(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),o=2**t,i=Ac(t),a=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:o,shiftBy:a}}function Av(t,e,n){const{windowSize:r,mask:o,maxNumber:i,shiftBy:a}=n;let c=Number(t&o),f=t>>a;c>r&&(c-=i,f+=Vs);const g=e*r,_=g+Math.abs(c)-1,M=c===0,S=c<0,E=e%2!==0;return{nextN:f,offset:_,isZero:M,isNeg:S,isNegF:E,offsetF:g}}function y3(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function w3(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Q0=new WeakMap,dM=new WeakMap;function X0(t){return dM.get(t)||1}function xv(t){if(t!==Nl)throw new Error("invalid wNAF")}let pM=class{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let o=e;for(;n>Nl;)n&Vs&&(r=r.add(o)),o=o.double(),n>>=Vs;return r}precomputeWindow(e,n){const{windows:r,windowSize:o}=Y0(n,this.bits),i=[];let a=e,c=a;for(let f=0;f<r;f++){c=a,i.push(c);for(let g=1;g<o;g++)c=c.add(a),i.push(c);a=c.double()}return i}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let o=this.ZERO,i=this.BASE;const a=Y0(e,this.bits);for(let c=0;c<a.windows;c++){const{nextN:f,offset:g,isZero:_,isNeg:M,isNegF:S,offsetF:E}=Av(r,c,a);r=f,_?i=i.add(Hh(S,n[E])):o=o.add(Hh(M,n[g]))}return xv(r),{p:o,f:i}}wNAFUnsafe(e,n,r,o=this.ZERO){const i=Y0(e,this.bits);for(let a=0;a<i.windows&&r!==Nl;a++){const{nextN:c,offset:f,isZero:g,isNeg:_}=Av(r,a,i);if(r=c,!g){const M=n[f];o=o.add(_?M.negate():M)}}return xv(r),o}getPrecomputes(e,n,r){let o=Q0.get(n);return o||(o=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(o=r(o)),Q0.set(n,o))),o}cached(e,n,r){const o=X0(e);return this.wNAF(o,this.getPrecomputes(o,e,r),n)}unsafe(e,n,r,o){const i=X0(e);return i===1?this._unsafeLadder(e,n,o):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),n,o)}createCache(e,n){hM(n,this.bits),dM.set(e,n),Q0.delete(e)}hasCache(e){return X0(e)!==1}};function v3(t,e,n,r){let o=e,i=t.ZERO,a=t.ZERO;for(;n>Nl||r>Nl;)n&Vs&&(i=i.add(o)),r&Vs&&(a=a.add(o)),o=o.double(),n>>=Vs,r>>=Vs;return{p1:i,p2:a}}function mM(t,e,n,r){y3(n,t),w3(r,e);const o=n.length,i=r.length;if(o!==i)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,c=eM(BigInt(o));let f=1;c>12?f=c-3:c>4?f=c-2:c>0&&(f=2);const g=Ac(f),_=new Array(Number(g)+1).fill(a),M=Math.floor((e.BITS-1)/f)*f;let S=a;for(let E=M;E>=0;E-=f){_.fill(a);for(let k=0;k<i;k++){const C=r[k],R=Number(C>>BigInt(E)&g);_[R]=_[R].add(n[k])}let A=a;for(let k=_.length-1,C=a;k>0;k--)C=C.add(_[k]),A=A.add(C);if(S=S.add(A),E!==0)for(let k=0;k<f;k++)S=S.double()}return S}function Rv(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return p3(e),e}else return wa(t,{isLE:n})}function gM(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const f of["p","n","h"]){const g=e[f];if(!(typeof g=="bigint"&&g>Nl))throw new Error(`CURVE.${f} must be positive bigint`)}const o=Rv(e.p,n.Fp,r),i=Rv(e.n,n.Fn,r),c=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(const f of c)if(!o.isValid(e[f]))throw new Error(`CURVE.${f} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:o,Fn:i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Uo=BigInt(0),mn=BigInt(1),J0=BigInt(2),_3=BigInt(8);function E3(t,e,n,r){const o=t.sqr(n),i=t.sqr(r),a=t.add(t.mul(e.a,o),i),c=t.add(t.ONE,t.mul(e.d,t.mul(o,i)));return t.eql(a,c)}function b3(t,e={}){const n=gM("edwards",t,e,e.FpFnLE),{Fp:r,Fn:o}=n;let i=n.CURVE;const{h:a}=i;xc(e,{},{uvRatio:"function"});const c=J0<<BigInt(o.BYTES*8)-mn,f=C=>r.create(C),g=e.uvRatio||((C,R)=>{try{return{isValid:!0,value:r.sqrt(r.div(C,R))}}catch{return{isValid:!1,value:Uo}}});if(!E3(r,i,i.Gx,i.Gy))throw new Error("bad curve params: generator point");function _(C,R,T=!1){const N=T?mn:Uo;return Pm("coordinate "+C,R,N,c),R}function M(C){if(!(C instanceof A))throw new Error("ExtendedPoint expected")}const S=$h((C,R)=>{const{X:T,Y:N,Z:O}=C,D=C.is0();R==null&&(R=D?_3:r.inv(O));const z=f(T*R),P=f(N*R),W=r.mul(O,R);if(D)return{x:Uo,y:mn};if(W!==mn)throw new Error("invZ was invalid");return{x:z,y:P}}),E=$h(C=>{const{a:R,d:T}=i;if(C.is0())throw new Error("bad point: ZERO");const{X:N,Y:O,Z:D,T:z}=C,P=f(N*N),W=f(O*O),U=f(D*D),F=f(U*U),j=f(P*R),V=f(U*f(j+W)),d=f(F+f(T*f(P*W)));if(V!==d)throw new Error("bad point: equation left != right (1)");const s=f(N*O),u=f(D*z);if(s!==u)throw new Error("bad point: equation left != right (2)");return!0});class A{constructor(R,T,N,O){this.X=_("x",R),this.Y=_("y",T),this.Z=_("z",N,!0),this.T=_("t",O),Object.freeze(this)}static CURVE(){return i}static fromAffine(R){if(R instanceof A)throw new Error("extended point not allowed");const{x:T,y:N}=R||{};return _("x",T),_("y",N),new A(T,N,mn,f(T*N))}static fromBytes(R,T=!1){const N=r.BYTES,{a:O,d:D}=i;R=bv(Ei(R,N,"point")),fa(T,"zip215");const z=bv(R),P=R[N-1];z[N-1]=P&-129;const W=uc(z),U=T?c:r.ORDER;Pm("point.y",W,Uo,U);const F=f(W*W),j=f(F-mn),V=f(D*F-O);let{isValid:d,value:s}=g(j,V);if(!d)throw new Error("bad point: invalid y coordinate");const u=(s&mn)===mn,h=(P&128)!==0;if(!T&&s===Uo&&h)throw new Error("bad point: x=0 and x_0=1");return h!==u&&(s=f(-s)),A.fromAffine({x:s,y:W})}static fromHex(R,T=!1){return A.fromBytes(Gt("point",R),T)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(R=8,T=!0){return k.createCache(this,R),T||this.multiply(J0),this}assertValidity(){E(this)}equals(R){M(R);const{X:T,Y:N,Z:O}=this,{X:D,Y:z,Z:P}=R,W=f(T*P),U=f(D*O),F=f(N*P),j=f(z*O);return W===U&&F===j}is0(){return this.equals(A.ZERO)}negate(){return new A(f(-this.X),this.Y,this.Z,f(-this.T))}double(){const{a:R}=i,{X:T,Y:N,Z:O}=this,D=f(T*T),z=f(N*N),P=f(J0*f(O*O)),W=f(R*D),U=T+N,F=f(f(U*U)-D-z),j=W+z,V=j-P,d=W-z,s=f(F*V),u=f(j*d),h=f(F*d),p=f(V*j);return new A(s,u,p,h)}add(R){M(R);const{a:T,d:N}=i,{X:O,Y:D,Z:z,T:P}=this,{X:W,Y:U,Z:F,T:j}=R,V=f(O*W),d=f(D*U),s=f(P*N*j),u=f(z*F),h=f((O+D)*(W+U)-V-d),p=u-s,y=u+s,v=f(d-T*V),b=f(h*p),m=f(y*v),l=f(h*v),w=f(p*y);return new A(b,m,w,l)}subtract(R){return this.add(R.negate())}multiply(R){if(!o.isValidNot0(R))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:T,f:N}=k.cached(this,R,O=>qs(A,O));return qs(A,[T,N])[0]}multiplyUnsafe(R,T=A.ZERO){if(!o.isValid(R))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return R===Uo?A.ZERO:this.is0()||R===mn?this:k.unsafe(this,R,N=>qs(A,N),T)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}isTorsionFree(){return k.unsafe(this,i.n).is0()}toAffine(R){return S(this,R)}clearCofactor(){return a===mn?this:this.multiplyUnsafe(a)}toBytes(){const{x:R,y:T}=this.toAffine(),N=r.toBytes(T);return N[N.length-1]|=R&mn?128:0,N}toHex(){return Ki(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(R){return qs(A,R)}static msm(R,T){return mM(A,o,R,T)}_setWindowSize(R){this.precompute(R)}toRawBytes(){return this.toBytes()}}A.BASE=new A(i.Gx,i.Gy,mn,f(i.Gx*i.Gy)),A.ZERO=new A(Uo,mn,mn,Uo),A.Fp=r,A.Fn=o;const k=new pM(A,o.BITS);return A.BASE.precompute(8),A}function S3(t,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');xc(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:o,Fp:i,Fn:a}=t,c=n.randomBytes||Dd,f=n.adjustScalarBytes||(U=>U),g=n.domain||((U,F,j)=>{if(fa(j,"phflag"),F.length||j)throw new Error("Contexts/pre-hash are not supported");return U});function _(U){return a.create(uc(U))}function M(U){const F=N.secretKey;U=Gt("private key",U,F);const j=Gt("hashed private key",e(U),2*F),V=f(j.slice(0,F)),d=j.slice(F,2*F),s=_(V);return{head:V,prefix:d,scalar:s}}function S(U){const{head:F,prefix:j,scalar:V}=M(U),d=o.multiply(V),s=d.toBytes();return{head:F,prefix:j,scalar:V,point:d,pointBytes:s}}function E(U){return S(U).pointBytes}function A(U=Uint8Array.of(),...F){const j=Xr(...F);return _(e(g(j,Gt("context",U),!!r)))}function k(U,F,j={}){U=Gt("message",U),r&&(U=r(U));const{prefix:V,scalar:d,pointBytes:s}=S(F),u=A(j.context,V,U),h=o.multiply(u).toBytes(),p=A(j.context,h,s,U),y=a.create(u+p*d);if(!a.isValid(y))throw new Error("sign failed: invalid s");const v=Xr(h,a.toBytes(y));return Ei(v,N.signature,"result")}const C={zip215:!0};function R(U,F,j,V=C){const{context:d,zip215:s}=V,u=N.signature;U=Gt("signature",U,u),F=Gt("message",F),j=Gt("publicKey",j,N.publicKey),s!==void 0&&fa(s,"zip215"),r&&(F=r(F));const h=u/2,p=U.subarray(0,h),y=uc(U.subarray(h,u));let v,b,m;try{v=t.fromBytes(j,s),b=t.fromBytes(p,s),m=o.multiplyUnsafe(y)}catch{return!1}if(!s&&v.isSmallOrder())return!1;const l=A(d,b.toBytes(),v.toBytes(),F);return b.add(v.multiplyUnsafe(l)).subtract(m).clearCofactor().is0()}const T=i.BYTES,N={secretKey:T,publicKey:T,signature:2*T,seed:T};function O(U=c(N.seed)){return Ei(U,N.seed,"seed")}function D(U){const F=W.randomSecretKey(U);return{secretKey:F,publicKey:E(F)}}function z(U){return Rs(U)&&U.length===a.BYTES}function P(U,F){try{return!!t.fromBytes(U,F)}catch{return!1}}const W={getExtendedPublicKey:S,randomSecretKey:O,isValidSecretKey:z,isValidPublicKey:P,toMontgomery(U){const{y:F}=t.fromBytes(U),j=N.publicKey,V=j===32;if(!V&&j!==57)throw new Error("only defined for 25519 and 448");const d=V?i.div(mn+F,mn-F):i.div(F-mn,F+mn);return i.toBytes(d)},toMontgomeryPriv(U){const F=N.secretKey;Ei(U,F);const j=e(U.subarray(0,F));return f(j).subarray(0,F)},randomPrivateKey:O,precompute(U=8,F=t.BASE){return F.precompute(U,!1)}};return Object.freeze({keygen:D,getPublicKey:E,sign:k,verify:R,utils:W,Point:t,lengths:N})}function M3(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=wa(e.n,t.nBitLength,!0),o={Fp:n,Fn:r,uvRatio:t.uvRatio},i={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:o,hash:t.hash,eddsaOpts:i}}function A3(t,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:t,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function x3(t){const{CURVE:e,curveOpts:n,hash:r,eddsaOpts:o}=M3(t),i=b3(e,n),a=S3(i,r,o);return A3(t,a)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const R3=BigInt(1),Iv=BigInt(2);BigInt(3);const I3=BigInt(5),N3=BigInt(8),ew=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),yM={p:ew,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:N3,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function T3(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),o=BigInt(80),i=ew,c=t*t%i*t%i,f=qt(c,Iv,i)*c%i,g=qt(f,R3,i)*t%i,_=qt(g,I3,i)*g%i,M=qt(_,e,i)*_%i,S=qt(M,n,i)*M%i,E=qt(S,r,i)*S%i,A=qt(E,o,i)*E%i,k=qt(A,o,i)*E%i,C=qt(k,e,i)*_%i;return{pow_p_5_8:qt(C,Iv,i)*t%i,b2:c}}function k3(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const Nv=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function C3(t,e){const n=ew,r=rn(e*e*e,n),o=rn(r*r*e,n),i=T3(t*o).pow_p_5_8;let a=rn(t*r*i,n);const c=rn(e*a*a,n),f=a,g=rn(a*Nv,n),_=c===t,M=c===rn(-t,n),S=c===rn(-t*Nv,n);return _&&(a=f),(M||S)&&(a=g),h3(a,n)&&(a=rn(-a,n)),{isValid:_||M,value:a}}const O3=wa(yM.p,{isLE:!0}),L3={...yM,Fp:O3,hash:QS,adjustScalarBytes:k3,uvRatio:C3},Vl=x3(L3);var tw={exports:{}};const B3={},P3=Object.freeze(Object.defineProperty({__proto__:null,default:B3},Symbol.toStringTag,{value:"Module"})),zd=To(P3);tw.exports;(function(t){(function(e,n){function r(d,s){if(!d)throw new Error(s||"Assertion failed")}function o(d,s){d.super_=s;var u=function(){};u.prototype=s.prototype,d.prototype=new u,d.prototype.constructor=d}function i(d,s,u){if(i.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&((s==="le"||s==="be")&&(u=s,s=10),this._init(d||0,s||10,u||"be"))}typeof e=="object"?e.exports=i:n.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=zd.Buffer}catch{}i.isBN=function(s){return s instanceof i?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===i.wordSize&&Array.isArray(s.words)},i.max=function(s,u){return s.cmp(u)>0?s:u},i.min=function(s,u){return s.cmp(u)<0?s:u},i.prototype._init=function(s,u,h){if(typeof s=="number")return this._initNumber(s,u,h);if(typeof s=="object")return this._initArray(s,u,h);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),s=s.toString().replace(/\s+/g,"");var p=0;s[0]==="-"&&(p++,this.negative=1),p<s.length&&(u===16?this._parseHex(s,p,h):(this._parseBase(s,u,p),h==="le"&&this._initArray(this.toArray(),u,h)))},i.prototype._initNumber=function(s,u,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(r(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},i.prototype._initArray=function(s,u,h){if(r(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var y,v,b=0;if(h==="be")for(p=s.length-1,y=0;p>=0;p-=3)v=s[p]|s[p-1]<<8|s[p-2]<<16,this.words[y]|=v<<b&67108863,this.words[y+1]=v>>>26-b&67108863,b+=24,b>=26&&(b-=26,y++);else if(h==="le")for(p=0,y=0;p<s.length;p+=3)v=s[p]|s[p+1]<<8|s[p+2]<<16,this.words[y]|=v<<b&67108863,this.words[y+1]=v>>>26-b&67108863,b+=24,b>=26&&(b-=26,y++);return this._strip()};function c(d,s){var u=d.charCodeAt(s);if(u>=48&&u<=57)return u-48;if(u>=65&&u<=70)return u-55;if(u>=97&&u<=102)return u-87;r(!1,"Invalid character in "+d)}function f(d,s,u){var h=c(d,u);return u-1>=s&&(h|=c(d,u-1)<<4),h}i.prototype._parseHex=function(s,u,h){this.length=Math.ceil((s.length-u)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var y=0,v=0,b;if(h==="be")for(p=s.length-1;p>=u;p-=2)b=f(s,u,p)<<y,this.words[v]|=b&67108863,y>=18?(y-=18,v+=1,this.words[v]|=b>>>26):y+=8;else{var m=s.length-u;for(p=m%2===0?u+1:u;p<s.length;p+=2)b=f(s,u,p)<<y,this.words[v]|=b&67108863,y>=18?(y-=18,v+=1,this.words[v]|=b>>>26):y+=8}this._strip()};function g(d,s,u,h){for(var p=0,y=0,v=Math.min(d.length,u),b=s;b<v;b++){var m=d.charCodeAt(b)-48;p*=h,m>=49?y=m-49+10:m>=17?y=m-17+10:y=m,r(m>=0&&y<h,"Invalid character"),p+=y}return p}i.prototype._parseBase=function(s,u,h){this.words=[0],this.length=1;for(var p=0,y=1;y<=67108863;y*=u)p++;p--,y=y/u|0;for(var v=s.length-h,b=v%p,m=Math.min(v,v-b)+h,l=0,w=h;w<m;w+=p)l=g(s,w,w+p,u),this.imuln(y),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(b!==0){var K=1;for(l=g(s,w,s.length,u),w=0;w<b;w++)K*=u;this.imuln(K),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},i.prototype.copy=function(s){s.words=new Array(this.length);for(var u=0;u<this.length;u++)s.words[u]=this.words[u];s.length=this.length,s.negative=this.negative,s.red=this.red};function _(d,s){d.words=s.words,d.length=s.length,d.negative=s.negative,d.red=s.red}if(i.prototype._move=function(s){_(s,this)},i.prototype.clone=function(){var s=new i(null);return this.copy(s),s},i.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=M}catch{i.prototype.inspect=M}else i.prototype.inspect=M;function M(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(s,u){s=s||10,u=u|0||1;var h;if(s===16||s==="hex"){h="";for(var p=0,y=0,v=0;v<this.length;v++){var b=this.words[v],m=((b<<p|y)&16777215).toString(16);y=b>>>24-p&16777215,p+=2,p>=26&&(p-=26,v--),y!==0||v!==this.length-1?h=S[6-m.length]+m+h:h=m+h}for(y!==0&&(h=y.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(s===(s|0)&&s>=2&&s<=36){var l=E[s],w=A[s];h="";var K=this.clone();for(K.negative=0;!K.isZero();){var $=K.modrn(w).toString(s);K=K.idivn(w),K.isZero()?h=$+h:h=S[l-$.length]+$+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},i.prototype.toJSON=function(){return this.toString(16,2)},a&&(i.prototype.toBuffer=function(s,u){return this.toArrayLike(a,s,u)}),i.prototype.toArray=function(s,u){return this.toArrayLike(Array,s,u)};var k=function(s,u){return s.allocUnsafe?s.allocUnsafe(u):new s(u)};i.prototype.toArrayLike=function(s,u,h){this._strip();var p=this.byteLength(),y=h||Math.max(1,p);r(p<=y,"byte array longer than desired length"),r(y>0,"Requested array length <= 0");var v=k(s,y),b=u==="le"?"LE":"BE";return this["_toArrayLike"+b](v,p),v},i.prototype._toArrayLikeLE=function(s,u){for(var h=0,p=0,y=0,v=0;y<this.length;y++){var b=this.words[y]<<v|p;s[h++]=b&255,h<s.length&&(s[h++]=b>>8&255),h<s.length&&(s[h++]=b>>16&255),v===6?(h<s.length&&(s[h++]=b>>24&255),p=0,v=0):(p=b>>>24,v+=2)}if(h<s.length)for(s[h++]=p;h<s.length;)s[h++]=0},i.prototype._toArrayLikeBE=function(s,u){for(var h=s.length-1,p=0,y=0,v=0;y<this.length;y++){var b=this.words[y]<<v|p;s[h--]=b&255,h>=0&&(s[h--]=b>>8&255),h>=0&&(s[h--]=b>>16&255),v===6?(h>=0&&(s[h--]=b>>24&255),p=0,v=0):(p=b>>>24,v+=2)}if(h>=0)for(s[h--]=p;h>=0;)s[h--]=0},Math.clz32?i.prototype._countBits=function(s){return 32-Math.clz32(s)}:i.prototype._countBits=function(s){var u=s,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},i.prototype._zeroBits=function(s){if(s===0)return 26;var u=s,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},i.prototype.bitLength=function(){var s=this.words[this.length-1],u=this._countBits(s);return(this.length-1)*26+u};function C(d){for(var s=new Array(d.bitLength()),u=0;u<s.length;u++){var h=u/26|0,p=u%26;s[u]=d.words[h]>>>p&1}return s}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(s+=h,h!==26)break}return s},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},i.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var u=0;u<s.length;u++)this.words[u]=this.words[u]|s.words[u];return this._strip()},i.prototype.ior=function(s){return r((this.negative|s.negative)===0),this.iuor(s)},i.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},i.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},i.prototype.iuand=function(s){var u;this.length>s.length?u=s:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=u.length,this._strip()},i.prototype.iand=function(s){return r((this.negative|s.negative)===0),this.iuand(s)},i.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},i.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},i.prototype.iuxor=function(s){var u,h;this.length>s.length?(u=this,h=s):(u=s,h=this);for(var p=0;p<h.length;p++)this.words[p]=u.words[p]^h.words[p];if(this!==u)for(;p<u.length;p++)this.words[p]=u.words[p];return this.length=u.length,this._strip()},i.prototype.ixor=function(s){return r((this.negative|s.negative)===0),this.iuxor(s)},i.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},i.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},i.prototype.inotn=function(s){r(typeof s=="number"&&s>=0);var u=Math.ceil(s/26)|0,h=s%26;this._expand(u),h>0&&u--;for(var p=0;p<u;p++)this.words[p]=~this.words[p]&67108863;return h>0&&(this.words[p]=~this.words[p]&67108863>>26-h),this._strip()},i.prototype.notn=function(s){return this.clone().inotn(s)},i.prototype.setn=function(s,u){r(typeof s=="number"&&s>=0);var h=s/26|0,p=s%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<p:this.words[h]=this.words[h]&~(1<<p),this._strip()},i.prototype.iadd=function(s){var u;if(this.negative!==0&&s.negative===0)return this.negative=0,u=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,u=this.isub(s),s.negative=1,u._normSign();var h,p;this.length>s.length?(h=this,p=s):(h=s,p=this);for(var y=0,v=0;v<p.length;v++)u=(h.words[v]|0)+(p.words[v]|0)+y,this.words[v]=u&67108863,y=u>>>26;for(;y!==0&&v<h.length;v++)u=(h.words[v]|0)+y,this.words[v]=u&67108863,y=u>>>26;if(this.length=h.length,y!==0)this.words[this.length]=y,this.length++;else if(h!==this)for(;v<h.length;v++)this.words[v]=h.words[v];return this},i.prototype.add=function(s){var u;return s.negative!==0&&this.negative===0?(s.negative=0,u=this.sub(s),s.negative^=1,u):s.negative===0&&this.negative!==0?(this.negative=0,u=s.sub(this),this.negative=1,u):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},i.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var u=this.iadd(s);return s.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var h=this.cmp(s);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,y;h>0?(p=this,y=s):(p=s,y=this);for(var v=0,b=0;b<y.length;b++)u=(p.words[b]|0)-(y.words[b]|0)+v,v=u>>26,this.words[b]=u&67108863;for(;v!==0&&b<p.length;b++)u=(p.words[b]|0)+v,v=u>>26,this.words[b]=u&67108863;if(v===0&&b<p.length&&p!==this)for(;b<p.length;b++)this.words[b]=p.words[b];return this.length=Math.max(this.length,b),p!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(s){return this.clone().isub(s)};function R(d,s,u){u.negative=s.negative^d.negative;var h=d.length+s.length|0;u.length=h,h=h-1|0;var p=d.words[0]|0,y=s.words[0]|0,v=p*y,b=v&67108863,m=v/67108864|0;u.words[0]=b;for(var l=1;l<h;l++){for(var w=m>>>26,K=m&67108863,$=Math.min(l,s.length-1),q=Math.max(0,l-d.length+1);q<=$;q++){var ue=l-q|0;p=d.words[ue]|0,y=s.words[q]|0,v=p*y+K,w+=v/67108864|0,K=v&67108863}u.words[l]=K|0,m=w|0}return m!==0?u.words[l]=m|0:u.length--,u._strip()}var T=function(s,u,h){var p=s.words,y=u.words,v=h.words,b=0,m,l,w,K=p[0]|0,$=K&8191,q=K>>>13,ue=p[1]|0,Y=ue&8191,ne=ue>>>13,ct=p[2]|0,ce=ct&8191,de=ct>>>13,Yt=p[3]|0,pe=Yt&8191,ve=Yt>>>13,kr=p[4]|0,ge=kr&8191,_e=kr>>>13,Cr=p[5]|0,we=Cr&8191,me=Cr>>>13,Kt=p[6]|0,ye=Kt&8191,Ee=Kt>>>13,tn=p[7]|0,be=tn&8191,L=tn>>>13,I=p[8]|0,x=I&8191,B=I>>>13,G=p[9]|0,H=G&8191,Z=G>>>13,et=y[0]|0,se=et&8191,oe=et>>>13,ft=y[1]|0,ie=ft&8191,Ae=ft>>>13,ai=y[2]|0,xe=ai&8191,Re=ai>>>13,li=y[3]|0,Ie=li&8191,Ne=li>>>13,ui=y[4]|0,Te=ui&8191,ke=ui>>>13,ci=y[5]|0,Ce=ci&8191,Oe=ci>>>13,fi=y[6]|0,Le=fi&8191,Be=fi>>>13,hi=y[7]|0,Pe=hi&8191,De=hi>>>13,di=y[8]|0,Ue=di&8191,ze=di>>>13,pi=y[9]|0,je=pi&8191,We=pi>>>13;h.negative=s.negative^u.negative,h.length=19,m=Math.imul($,se),l=Math.imul($,oe),l=l+Math.imul(q,se)|0,w=Math.imul(q,oe);var Fn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,m=Math.imul(Y,se),l=Math.imul(Y,oe),l=l+Math.imul(ne,se)|0,w=Math.imul(ne,oe),m=m+Math.imul($,ie)|0,l=l+Math.imul($,Ae)|0,l=l+Math.imul(q,ie)|0,w=w+Math.imul(q,Ae)|0;var $n=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+($n>>>26)|0,$n&=67108863,m=Math.imul(ce,se),l=Math.imul(ce,oe),l=l+Math.imul(de,se)|0,w=Math.imul(de,oe),m=m+Math.imul(Y,ie)|0,l=l+Math.imul(Y,Ae)|0,l=l+Math.imul(ne,ie)|0,w=w+Math.imul(ne,Ae)|0,m=m+Math.imul($,xe)|0,l=l+Math.imul($,Re)|0,l=l+Math.imul(q,xe)|0,w=w+Math.imul(q,Re)|0;var Hn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,m=Math.imul(pe,se),l=Math.imul(pe,oe),l=l+Math.imul(ve,se)|0,w=Math.imul(ve,oe),m=m+Math.imul(ce,ie)|0,l=l+Math.imul(ce,Ae)|0,l=l+Math.imul(de,ie)|0,w=w+Math.imul(de,Ae)|0,m=m+Math.imul(Y,xe)|0,l=l+Math.imul(Y,Re)|0,l=l+Math.imul(ne,xe)|0,w=w+Math.imul(ne,Re)|0,m=m+Math.imul($,Ie)|0,l=l+Math.imul($,Ne)|0,l=l+Math.imul(q,Ie)|0,w=w+Math.imul(q,Ne)|0;var Kn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,m=Math.imul(ge,se),l=Math.imul(ge,oe),l=l+Math.imul(_e,se)|0,w=Math.imul(_e,oe),m=m+Math.imul(pe,ie)|0,l=l+Math.imul(pe,Ae)|0,l=l+Math.imul(ve,ie)|0,w=w+Math.imul(ve,Ae)|0,m=m+Math.imul(ce,xe)|0,l=l+Math.imul(ce,Re)|0,l=l+Math.imul(de,xe)|0,w=w+Math.imul(de,Re)|0,m=m+Math.imul(Y,Ie)|0,l=l+Math.imul(Y,Ne)|0,l=l+Math.imul(ne,Ie)|0,w=w+Math.imul(ne,Ne)|0,m=m+Math.imul($,Te)|0,l=l+Math.imul($,ke)|0,l=l+Math.imul(q,Te)|0,w=w+Math.imul(q,ke)|0;var Vn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,m=Math.imul(we,se),l=Math.imul(we,oe),l=l+Math.imul(me,se)|0,w=Math.imul(me,oe),m=m+Math.imul(ge,ie)|0,l=l+Math.imul(ge,Ae)|0,l=l+Math.imul(_e,ie)|0,w=w+Math.imul(_e,Ae)|0,m=m+Math.imul(pe,xe)|0,l=l+Math.imul(pe,Re)|0,l=l+Math.imul(ve,xe)|0,w=w+Math.imul(ve,Re)|0,m=m+Math.imul(ce,Ie)|0,l=l+Math.imul(ce,Ne)|0,l=l+Math.imul(de,Ie)|0,w=w+Math.imul(de,Ne)|0,m=m+Math.imul(Y,Te)|0,l=l+Math.imul(Y,ke)|0,l=l+Math.imul(ne,Te)|0,w=w+Math.imul(ne,ke)|0,m=m+Math.imul($,Ce)|0,l=l+Math.imul($,Oe)|0,l=l+Math.imul(q,Ce)|0,w=w+Math.imul(q,Oe)|0;var qn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(qn>>>26)|0,qn&=67108863,m=Math.imul(ye,se),l=Math.imul(ye,oe),l=l+Math.imul(Ee,se)|0,w=Math.imul(Ee,oe),m=m+Math.imul(we,ie)|0,l=l+Math.imul(we,Ae)|0,l=l+Math.imul(me,ie)|0,w=w+Math.imul(me,Ae)|0,m=m+Math.imul(ge,xe)|0,l=l+Math.imul(ge,Re)|0,l=l+Math.imul(_e,xe)|0,w=w+Math.imul(_e,Re)|0,m=m+Math.imul(pe,Ie)|0,l=l+Math.imul(pe,Ne)|0,l=l+Math.imul(ve,Ie)|0,w=w+Math.imul(ve,Ne)|0,m=m+Math.imul(ce,Te)|0,l=l+Math.imul(ce,ke)|0,l=l+Math.imul(de,Te)|0,w=w+Math.imul(de,ke)|0,m=m+Math.imul(Y,Ce)|0,l=l+Math.imul(Y,Oe)|0,l=l+Math.imul(ne,Ce)|0,w=w+Math.imul(ne,Oe)|0,m=m+Math.imul($,Le)|0,l=l+Math.imul($,Be)|0,l=l+Math.imul(q,Le)|0,w=w+Math.imul(q,Be)|0;var Gn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,m=Math.imul(be,se),l=Math.imul(be,oe),l=l+Math.imul(L,se)|0,w=Math.imul(L,oe),m=m+Math.imul(ye,ie)|0,l=l+Math.imul(ye,Ae)|0,l=l+Math.imul(Ee,ie)|0,w=w+Math.imul(Ee,Ae)|0,m=m+Math.imul(we,xe)|0,l=l+Math.imul(we,Re)|0,l=l+Math.imul(me,xe)|0,w=w+Math.imul(me,Re)|0,m=m+Math.imul(ge,Ie)|0,l=l+Math.imul(ge,Ne)|0,l=l+Math.imul(_e,Ie)|0,w=w+Math.imul(_e,Ne)|0,m=m+Math.imul(pe,Te)|0,l=l+Math.imul(pe,ke)|0,l=l+Math.imul(ve,Te)|0,w=w+Math.imul(ve,ke)|0,m=m+Math.imul(ce,Ce)|0,l=l+Math.imul(ce,Oe)|0,l=l+Math.imul(de,Ce)|0,w=w+Math.imul(de,Oe)|0,m=m+Math.imul(Y,Le)|0,l=l+Math.imul(Y,Be)|0,l=l+Math.imul(ne,Le)|0,w=w+Math.imul(ne,Be)|0,m=m+Math.imul($,Pe)|0,l=l+Math.imul($,De)|0,l=l+Math.imul(q,Pe)|0,w=w+Math.imul(q,De)|0;var Zn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,m=Math.imul(x,se),l=Math.imul(x,oe),l=l+Math.imul(B,se)|0,w=Math.imul(B,oe),m=m+Math.imul(be,ie)|0,l=l+Math.imul(be,Ae)|0,l=l+Math.imul(L,ie)|0,w=w+Math.imul(L,Ae)|0,m=m+Math.imul(ye,xe)|0,l=l+Math.imul(ye,Re)|0,l=l+Math.imul(Ee,xe)|0,w=w+Math.imul(Ee,Re)|0,m=m+Math.imul(we,Ie)|0,l=l+Math.imul(we,Ne)|0,l=l+Math.imul(me,Ie)|0,w=w+Math.imul(me,Ne)|0,m=m+Math.imul(ge,Te)|0,l=l+Math.imul(ge,ke)|0,l=l+Math.imul(_e,Te)|0,w=w+Math.imul(_e,ke)|0,m=m+Math.imul(pe,Ce)|0,l=l+Math.imul(pe,Oe)|0,l=l+Math.imul(ve,Ce)|0,w=w+Math.imul(ve,Oe)|0,m=m+Math.imul(ce,Le)|0,l=l+Math.imul(ce,Be)|0,l=l+Math.imul(de,Le)|0,w=w+Math.imul(de,Be)|0,m=m+Math.imul(Y,Pe)|0,l=l+Math.imul(Y,De)|0,l=l+Math.imul(ne,Pe)|0,w=w+Math.imul(ne,De)|0,m=m+Math.imul($,Ue)|0,l=l+Math.imul($,ze)|0,l=l+Math.imul(q,Ue)|0,w=w+Math.imul(q,ze)|0;var Yn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,m=Math.imul(H,se),l=Math.imul(H,oe),l=l+Math.imul(Z,se)|0,w=Math.imul(Z,oe),m=m+Math.imul(x,ie)|0,l=l+Math.imul(x,Ae)|0,l=l+Math.imul(B,ie)|0,w=w+Math.imul(B,Ae)|0,m=m+Math.imul(be,xe)|0,l=l+Math.imul(be,Re)|0,l=l+Math.imul(L,xe)|0,w=w+Math.imul(L,Re)|0,m=m+Math.imul(ye,Ie)|0,l=l+Math.imul(ye,Ne)|0,l=l+Math.imul(Ee,Ie)|0,w=w+Math.imul(Ee,Ne)|0,m=m+Math.imul(we,Te)|0,l=l+Math.imul(we,ke)|0,l=l+Math.imul(me,Te)|0,w=w+Math.imul(me,ke)|0,m=m+Math.imul(ge,Ce)|0,l=l+Math.imul(ge,Oe)|0,l=l+Math.imul(_e,Ce)|0,w=w+Math.imul(_e,Oe)|0,m=m+Math.imul(pe,Le)|0,l=l+Math.imul(pe,Be)|0,l=l+Math.imul(ve,Le)|0,w=w+Math.imul(ve,Be)|0,m=m+Math.imul(ce,Pe)|0,l=l+Math.imul(ce,De)|0,l=l+Math.imul(de,Pe)|0,w=w+Math.imul(de,De)|0,m=m+Math.imul(Y,Ue)|0,l=l+Math.imul(Y,ze)|0,l=l+Math.imul(ne,Ue)|0,w=w+Math.imul(ne,ze)|0,m=m+Math.imul($,je)|0,l=l+Math.imul($,We)|0,l=l+Math.imul(q,je)|0,w=w+Math.imul(q,We)|0;var Qn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,m=Math.imul(H,ie),l=Math.imul(H,Ae),l=l+Math.imul(Z,ie)|0,w=Math.imul(Z,Ae),m=m+Math.imul(x,xe)|0,l=l+Math.imul(x,Re)|0,l=l+Math.imul(B,xe)|0,w=w+Math.imul(B,Re)|0,m=m+Math.imul(be,Ie)|0,l=l+Math.imul(be,Ne)|0,l=l+Math.imul(L,Ie)|0,w=w+Math.imul(L,Ne)|0,m=m+Math.imul(ye,Te)|0,l=l+Math.imul(ye,ke)|0,l=l+Math.imul(Ee,Te)|0,w=w+Math.imul(Ee,ke)|0,m=m+Math.imul(we,Ce)|0,l=l+Math.imul(we,Oe)|0,l=l+Math.imul(me,Ce)|0,w=w+Math.imul(me,Oe)|0,m=m+Math.imul(ge,Le)|0,l=l+Math.imul(ge,Be)|0,l=l+Math.imul(_e,Le)|0,w=w+Math.imul(_e,Be)|0,m=m+Math.imul(pe,Pe)|0,l=l+Math.imul(pe,De)|0,l=l+Math.imul(ve,Pe)|0,w=w+Math.imul(ve,De)|0,m=m+Math.imul(ce,Ue)|0,l=l+Math.imul(ce,ze)|0,l=l+Math.imul(de,Ue)|0,w=w+Math.imul(de,ze)|0,m=m+Math.imul(Y,je)|0,l=l+Math.imul(Y,We)|0,l=l+Math.imul(ne,je)|0,w=w+Math.imul(ne,We)|0;var Xn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,m=Math.imul(H,xe),l=Math.imul(H,Re),l=l+Math.imul(Z,xe)|0,w=Math.imul(Z,Re),m=m+Math.imul(x,Ie)|0,l=l+Math.imul(x,Ne)|0,l=l+Math.imul(B,Ie)|0,w=w+Math.imul(B,Ne)|0,m=m+Math.imul(be,Te)|0,l=l+Math.imul(be,ke)|0,l=l+Math.imul(L,Te)|0,w=w+Math.imul(L,ke)|0,m=m+Math.imul(ye,Ce)|0,l=l+Math.imul(ye,Oe)|0,l=l+Math.imul(Ee,Ce)|0,w=w+Math.imul(Ee,Oe)|0,m=m+Math.imul(we,Le)|0,l=l+Math.imul(we,Be)|0,l=l+Math.imul(me,Le)|0,w=w+Math.imul(me,Be)|0,m=m+Math.imul(ge,Pe)|0,l=l+Math.imul(ge,De)|0,l=l+Math.imul(_e,Pe)|0,w=w+Math.imul(_e,De)|0,m=m+Math.imul(pe,Ue)|0,l=l+Math.imul(pe,ze)|0,l=l+Math.imul(ve,Ue)|0,w=w+Math.imul(ve,ze)|0,m=m+Math.imul(ce,je)|0,l=l+Math.imul(ce,We)|0,l=l+Math.imul(de,je)|0,w=w+Math.imul(de,We)|0;var Jn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,m=Math.imul(H,Ie),l=Math.imul(H,Ne),l=l+Math.imul(Z,Ie)|0,w=Math.imul(Z,Ne),m=m+Math.imul(x,Te)|0,l=l+Math.imul(x,ke)|0,l=l+Math.imul(B,Te)|0,w=w+Math.imul(B,ke)|0,m=m+Math.imul(be,Ce)|0,l=l+Math.imul(be,Oe)|0,l=l+Math.imul(L,Ce)|0,w=w+Math.imul(L,Oe)|0,m=m+Math.imul(ye,Le)|0,l=l+Math.imul(ye,Be)|0,l=l+Math.imul(Ee,Le)|0,w=w+Math.imul(Ee,Be)|0,m=m+Math.imul(we,Pe)|0,l=l+Math.imul(we,De)|0,l=l+Math.imul(me,Pe)|0,w=w+Math.imul(me,De)|0,m=m+Math.imul(ge,Ue)|0,l=l+Math.imul(ge,ze)|0,l=l+Math.imul(_e,Ue)|0,w=w+Math.imul(_e,ze)|0,m=m+Math.imul(pe,je)|0,l=l+Math.imul(pe,We)|0,l=l+Math.imul(ve,je)|0,w=w+Math.imul(ve,We)|0;var er=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(er>>>26)|0,er&=67108863,m=Math.imul(H,Te),l=Math.imul(H,ke),l=l+Math.imul(Z,Te)|0,w=Math.imul(Z,ke),m=m+Math.imul(x,Ce)|0,l=l+Math.imul(x,Oe)|0,l=l+Math.imul(B,Ce)|0,w=w+Math.imul(B,Oe)|0,m=m+Math.imul(be,Le)|0,l=l+Math.imul(be,Be)|0,l=l+Math.imul(L,Le)|0,w=w+Math.imul(L,Be)|0,m=m+Math.imul(ye,Pe)|0,l=l+Math.imul(ye,De)|0,l=l+Math.imul(Ee,Pe)|0,w=w+Math.imul(Ee,De)|0,m=m+Math.imul(we,Ue)|0,l=l+Math.imul(we,ze)|0,l=l+Math.imul(me,Ue)|0,w=w+Math.imul(me,ze)|0,m=m+Math.imul(ge,je)|0,l=l+Math.imul(ge,We)|0,l=l+Math.imul(_e,je)|0,w=w+Math.imul(_e,We)|0;var tr=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(tr>>>26)|0,tr&=67108863,m=Math.imul(H,Ce),l=Math.imul(H,Oe),l=l+Math.imul(Z,Ce)|0,w=Math.imul(Z,Oe),m=m+Math.imul(x,Le)|0,l=l+Math.imul(x,Be)|0,l=l+Math.imul(B,Le)|0,w=w+Math.imul(B,Be)|0,m=m+Math.imul(be,Pe)|0,l=l+Math.imul(be,De)|0,l=l+Math.imul(L,Pe)|0,w=w+Math.imul(L,De)|0,m=m+Math.imul(ye,Ue)|0,l=l+Math.imul(ye,ze)|0,l=l+Math.imul(Ee,Ue)|0,w=w+Math.imul(Ee,ze)|0,m=m+Math.imul(we,je)|0,l=l+Math.imul(we,We)|0,l=l+Math.imul(me,je)|0,w=w+Math.imul(me,We)|0;var nr=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(nr>>>26)|0,nr&=67108863,m=Math.imul(H,Le),l=Math.imul(H,Be),l=l+Math.imul(Z,Le)|0,w=Math.imul(Z,Be),m=m+Math.imul(x,Pe)|0,l=l+Math.imul(x,De)|0,l=l+Math.imul(B,Pe)|0,w=w+Math.imul(B,De)|0,m=m+Math.imul(be,Ue)|0,l=l+Math.imul(be,ze)|0,l=l+Math.imul(L,Ue)|0,w=w+Math.imul(L,ze)|0,m=m+Math.imul(ye,je)|0,l=l+Math.imul(ye,We)|0,l=l+Math.imul(Ee,je)|0,w=w+Math.imul(Ee,We)|0;var rr=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(rr>>>26)|0,rr&=67108863,m=Math.imul(H,Pe),l=Math.imul(H,De),l=l+Math.imul(Z,Pe)|0,w=Math.imul(Z,De),m=m+Math.imul(x,Ue)|0,l=l+Math.imul(x,ze)|0,l=l+Math.imul(B,Ue)|0,w=w+Math.imul(B,ze)|0,m=m+Math.imul(be,je)|0,l=l+Math.imul(be,We)|0,l=l+Math.imul(L,je)|0,w=w+Math.imul(L,We)|0;var ir=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(ir>>>26)|0,ir&=67108863,m=Math.imul(H,Ue),l=Math.imul(H,ze),l=l+Math.imul(Z,Ue)|0,w=Math.imul(Z,ze),m=m+Math.imul(x,je)|0,l=l+Math.imul(x,We)|0,l=l+Math.imul(B,je)|0,w=w+Math.imul(B,We)|0;var or=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(or>>>26)|0,or&=67108863,m=Math.imul(H,je),l=Math.imul(H,We),l=l+Math.imul(Z,je)|0,w=Math.imul(Z,We);var sr=(b+m|0)+((l&8191)<<13)|0;return b=(w+(l>>>13)|0)+(sr>>>26)|0,sr&=67108863,v[0]=Fn,v[1]=$n,v[2]=Hn,v[3]=Kn,v[4]=Vn,v[5]=qn,v[6]=Gn,v[7]=Zn,v[8]=Yn,v[9]=Qn,v[10]=Xn,v[11]=Jn,v[12]=er,v[13]=tr,v[14]=nr,v[15]=rr,v[16]=ir,v[17]=or,v[18]=sr,b!==0&&(v[19]=b,h.length++),h};Math.imul||(T=R);function N(d,s,u){u.negative=s.negative^d.negative,u.length=d.length+s.length;for(var h=0,p=0,y=0;y<u.length-1;y++){var v=p;p=0;for(var b=h&67108863,m=Math.min(y,s.length-1),l=Math.max(0,y-d.length+1);l<=m;l++){var w=y-l,K=d.words[w]|0,$=s.words[l]|0,q=K*$,ue=q&67108863;v=v+(q/67108864|0)|0,ue=ue+b|0,b=ue&67108863,v=v+(ue>>>26)|0,p+=v>>>26,v&=67108863}u.words[y]=b,h=v,v=p}return h!==0?u.words[y]=h:u.length--,u._strip()}function O(d,s,u){return N(d,s,u)}i.prototype.mulTo=function(s,u){var h,p=this.length+s.length;return this.length===10&&s.length===10?h=T(this,s,u):p<63?h=R(this,s,u):p<1024?h=N(this,s,u):h=O(this,s,u),h},i.prototype.mul=function(s){var u=new i(null);return u.words=new Array(this.length+s.length),this.mulTo(s,u)},i.prototype.mulf=function(s){var u=new i(null);return u.words=new Array(this.length+s.length),O(this,s,u)},i.prototype.imul=function(s){return this.clone().mulTo(s,this)},i.prototype.imuln=function(s){var u=s<0;u&&(s=-s),r(typeof s=="number"),r(s<67108864);for(var h=0,p=0;p<this.length;p++){var y=(this.words[p]|0)*s,v=(y&67108863)+(h&67108863);h>>=26,h+=y/67108864|0,h+=v>>>26,this.words[p]=v&67108863}return h!==0&&(this.words[p]=h,this.length++),this.length=s===0?1:this.length,u?this.ineg():this},i.prototype.muln=function(s){return this.clone().imuln(s)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(s){var u=C(s);if(u.length===0)return new i(1);for(var h=this,p=0;p<u.length&&u[p]===0;p++,h=h.sqr());if(++p<u.length)for(var y=h.sqr();p<u.length;p++,y=y.sqr())u[p]!==0&&(h=h.mul(y));return h},i.prototype.iushln=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,p=67108863>>>26-u<<26-u,y;if(u!==0){var v=0;for(y=0;y<this.length;y++){var b=this.words[y]&p,m=(this.words[y]|0)-b<<u;this.words[y]=m|v,v=b>>>26-u}v&&(this.words[y]=v,this.length++)}if(h!==0){for(y=this.length-1;y>=0;y--)this.words[y+h]=this.words[y];for(y=0;y<h;y++)this.words[y]=0;this.length+=h}return this._strip()},i.prototype.ishln=function(s){return r(this.negative===0),this.iushln(s)},i.prototype.iushrn=function(s,u,h){r(typeof s=="number"&&s>=0);var p;u?p=(u-u%26)/26:p=0;var y=s%26,v=Math.min((s-y)/26,this.length),b=67108863^67108863>>>y<<y,m=h;if(p-=v,p=Math.max(0,p),m){for(var l=0;l<v;l++)m.words[l]=this.words[l];m.length=v}if(v!==0)if(this.length>v)for(this.length-=v,l=0;l<this.length;l++)this.words[l]=this.words[l+v];else this.words[0]=0,this.length=1;var w=0;for(l=this.length-1;l>=0&&(w!==0||l>=p);l--){var K=this.words[l]|0;this.words[l]=w<<26-y|K>>>y,w=K&b}return m&&w!==0&&(m.words[m.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(s,u,h){return r(this.negative===0),this.iushrn(s,u,h)},i.prototype.shln=function(s){return this.clone().ishln(s)},i.prototype.ushln=function(s){return this.clone().iushln(s)},i.prototype.shrn=function(s){return this.clone().ishrn(s)},i.prototype.ushrn=function(s){return this.clone().iushrn(s)},i.prototype.testn=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,p=1<<u;if(this.length<=h)return!1;var y=this.words[h];return!!(y&p)},i.prototype.imaskn=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var p=67108863^67108863>>>u<<u;this.words[this.length-1]&=p}return this._strip()},i.prototype.maskn=function(s){return this.clone().imaskn(s)},i.prototype.iaddn=function(s){return r(typeof s=="number"),r(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},i.prototype._iaddn=function(s){this.words[0]+=s;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(s){if(r(typeof s=="number"),r(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},i.prototype.addn=function(s){return this.clone().iaddn(s)},i.prototype.subn=function(s){return this.clone().isubn(s)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(s,u,h){var p=s.length+h,y;this._expand(p);var v,b=0;for(y=0;y<s.length;y++){v=(this.words[y+h]|0)+b;var m=(s.words[y]|0)*u;v-=m&67108863,b=(v>>26)-(m/67108864|0),this.words[y+h]=v&67108863}for(;y<this.length-h;y++)v=(this.words[y+h]|0)+b,b=v>>26,this.words[y+h]=v&67108863;if(b===0)return this._strip();for(r(b===-1),b=0,y=0;y<this.length;y++)v=-(this.words[y]|0)+b,b=v>>26,this.words[y]=v&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(s,u){var h=this.length-s.length,p=this.clone(),y=s,v=y.words[y.length-1]|0,b=this._countBits(v);h=26-b,h!==0&&(y=y.ushln(h),p.iushln(h),v=y.words[y.length-1]|0);var m=p.length-y.length,l;if(u!=="mod"){l=new i(null),l.length=m+1,l.words=new Array(l.length);for(var w=0;w<l.length;w++)l.words[w]=0}var K=p.clone()._ishlnsubmul(y,1,m);K.negative===0&&(p=K,l&&(l.words[m]=1));for(var $=m-1;$>=0;$--){var q=(p.words[y.length+$]|0)*67108864+(p.words[y.length+$-1]|0);for(q=Math.min(q/v|0,67108863),p._ishlnsubmul(y,q,$);p.negative!==0;)q--,p.negative=0,p._ishlnsubmul(y,1,$),p.isZero()||(p.negative^=1);l&&(l.words[$]=q)}return l&&l._strip(),p._strip(),u!=="div"&&h!==0&&p.iushrn(h),{div:l||null,mod:p}},i.prototype.divmod=function(s,u,h){if(r(!s.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var p,y,v;return this.negative!==0&&s.negative===0?(v=this.neg().divmod(s,u),u!=="mod"&&(p=v.div.neg()),u!=="div"&&(y=v.mod.neg(),h&&y.negative!==0&&y.iadd(s)),{div:p,mod:y}):this.negative===0&&s.negative!==0?(v=this.divmod(s.neg(),u),u!=="mod"&&(p=v.div.neg()),{div:p,mod:v.mod}):this.negative&s.negative?(v=this.neg().divmod(s.neg(),u),u!=="div"&&(y=v.mod.neg(),h&&y.negative!==0&&y.isub(s)),{div:v.div,mod:y}):s.length>this.length||this.cmp(s)<0?{div:new i(0),mod:this}:s.length===1?u==="div"?{div:this.divn(s.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new i(this.modrn(s.words[0]))}:this._wordDiv(s,u)},i.prototype.div=function(s){return this.divmod(s,"div",!1).div},i.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},i.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},i.prototype.divRound=function(s){var u=this.divmod(s);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(s):u.mod,p=s.ushrn(1),y=s.andln(1),v=h.cmp(p);return v<0||y===1&&v===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modrn=function(s){var u=s<0;u&&(s=-s),r(s<=67108863);for(var h=(1<<26)%s,p=0,y=this.length-1;y>=0;y--)p=(h*p+(this.words[y]|0))%s;return u?-p:p},i.prototype.modn=function(s){return this.modrn(s)},i.prototype.idivn=function(s){var u=s<0;u&&(s=-s),r(s<=67108863);for(var h=0,p=this.length-1;p>=0;p--){var y=(this.words[p]|0)+h*67108864;this.words[p]=y/s|0,h=y%s}return this._strip(),u?this.ineg():this},i.prototype.divn=function(s){return this.clone().idivn(s)},i.prototype.egcd=function(s){r(s.negative===0),r(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var p=new i(1),y=new i(0),v=new i(0),b=new i(1),m=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++m;for(var l=h.clone(),w=u.clone();!u.isZero();){for(var K=0,$=1;!(u.words[0]&$)&&K<26;++K,$<<=1);if(K>0)for(u.iushrn(K);K-- >0;)(p.isOdd()||y.isOdd())&&(p.iadd(l),y.isub(w)),p.iushrn(1),y.iushrn(1);for(var q=0,ue=1;!(h.words[0]&ue)&&q<26;++q,ue<<=1);if(q>0)for(h.iushrn(q);q-- >0;)(v.isOdd()||b.isOdd())&&(v.iadd(l),b.isub(w)),v.iushrn(1),b.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(v),y.isub(b)):(h.isub(u),v.isub(p),b.isub(y))}return{a:v,b,gcd:h.iushln(m)}},i.prototype._invmp=function(s){r(s.negative===0),r(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var p=new i(1),y=new i(0),v=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var b=0,m=1;!(u.words[0]&m)&&b<26;++b,m<<=1);if(b>0)for(u.iushrn(b);b-- >0;)p.isOdd()&&p.iadd(v),p.iushrn(1);for(var l=0,w=1;!(h.words[0]&w)&&l<26;++l,w<<=1);if(l>0)for(h.iushrn(l);l-- >0;)y.isOdd()&&y.iadd(v),y.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(y)):(h.isub(u),y.isub(p))}var K;return u.cmpn(1)===0?K=p:K=y,K.cmpn(0)<0&&K.iadd(s),K},i.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var u=this.clone(),h=s.clone();u.negative=0,h.negative=0;for(var p=0;u.isEven()&&h.isEven();p++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var y=u.cmp(h);if(y<0){var v=u;u=h,h=v}else if(y===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(p)},i.prototype.invm=function(s){return this.egcd(s).a.umod(s)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(s){return this.words[0]&s},i.prototype.bincn=function(s){r(typeof s=="number");var u=s%26,h=(s-u)/26,p=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=p,this;for(var y=p,v=h;y!==0&&v<this.length;v++){var b=this.words[v]|0;b+=y,y=b>>>26,b&=67108863,this.words[v]=b}return y!==0&&(this.words[v]=y,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(s){var u=s<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var h;if(this.length>1)h=1;else{u&&(s=-s),r(s<=67108863,"Number is too big");var p=this.words[0]|0;h=p===s?0:p<s?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var u=this.ucmp(s);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var p=this.words[h]|0,y=s.words[h]|0;if(p!==y){p<y?u=-1:p>y&&(u=1);break}}return u},i.prototype.gtn=function(s){return this.cmpn(s)===1},i.prototype.gt=function(s){return this.cmp(s)===1},i.prototype.gten=function(s){return this.cmpn(s)>=0},i.prototype.gte=function(s){return this.cmp(s)>=0},i.prototype.ltn=function(s){return this.cmpn(s)===-1},i.prototype.lt=function(s){return this.cmp(s)===-1},i.prototype.lten=function(s){return this.cmpn(s)<=0},i.prototype.lte=function(s){return this.cmp(s)<=0},i.prototype.eqn=function(s){return this.cmpn(s)===0},i.prototype.eq=function(s){return this.cmp(s)===0},i.red=function(s){return new j(s)},i.prototype.toRed=function(s){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(s){return this.red=s,this},i.prototype.forceRed=function(s){return r(!this.red,"Already a number in reduction context"),this._forceRed(s)},i.prototype.redAdd=function(s){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},i.prototype.redIAdd=function(s){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},i.prototype.redSub=function(s){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},i.prototype.redISub=function(s){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},i.prototype.redShl=function(s){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},i.prototype.redMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},i.prototype.redIMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(s){return r(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var D={k256:null,p224:null,p192:null,p25519:null};function z(d,s){this.name=d,this.p=new i(s,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}z.prototype._tmp=function(){var s=new i(null);return s.words=new Array(Math.ceil(this.n/13)),s},z.prototype.ireduce=function(s){var u=s,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var p=h<this.n?-1:u.ucmp(this.p);return p===0?(u.words[0]=0,u.length=1):p>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},z.prototype.split=function(s,u){s.iushrn(this.n,0,u)},z.prototype.imulK=function(s){return s.imul(this.k)};function P(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(P,z),P.prototype.split=function(s,u){for(var h=4194303,p=Math.min(s.length,9),y=0;y<p;y++)u.words[y]=s.words[y];if(u.length=p,s.length<=9){s.words[0]=0,s.length=1;return}var v=s.words[9];for(u.words[u.length++]=v&h,y=10;y<s.length;y++){var b=s.words[y]|0;s.words[y-10]=(b&h)<<4|v>>>22,v=b}v>>>=22,s.words[y-10]=v,v===0&&s.length>10?s.length-=10:s.length-=9},P.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var u=0,h=0;h<s.length;h++){var p=s.words[h]|0;u+=p*977,s.words[h]=u&67108863,u=p*64+(u/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function W(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(W,z);function U(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(U,z);function F(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(F,z),F.prototype.imulK=function(s){for(var u=0,h=0;h<s.length;h++){var p=(s.words[h]|0)*19+u,y=p&67108863;p>>>=26,s.words[h]=y,u=p}return u!==0&&(s.words[s.length++]=u),s},i._prime=function(s){if(D[s])return D[s];var u;if(s==="k256")u=new P;else if(s==="p224")u=new W;else if(s==="p192")u=new U;else if(s==="p25519")u=new F;else throw new Error("Unknown prime "+s);return D[s]=u,u};function j(d){if(typeof d=="string"){var s=i._prime(d);this.m=s.p,this.prime=s}else r(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}j.prototype._verify1=function(s){r(s.negative===0,"red works only with positives"),r(s.red,"red works only with red numbers")},j.prototype._verify2=function(s,u){r((s.negative|u.negative)===0,"red works only with positives"),r(s.red&&s.red===u.red,"red works only with red numbers")},j.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(_(s,s.umod(this.m)._forceRed(this)),s)},j.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},j.prototype.add=function(s,u){this._verify2(s,u);var h=s.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},j.prototype.iadd=function(s,u){this._verify2(s,u);var h=s.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},j.prototype.sub=function(s,u){this._verify2(s,u);var h=s.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},j.prototype.isub=function(s,u){this._verify2(s,u);var h=s.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},j.prototype.shl=function(s,u){return this._verify1(s),this.imod(s.ushln(u))},j.prototype.imul=function(s,u){return this._verify2(s,u),this.imod(s.imul(u))},j.prototype.mul=function(s,u){return this._verify2(s,u),this.imod(s.mul(u))},j.prototype.isqr=function(s){return this.imul(s,s.clone())},j.prototype.sqr=function(s){return this.mul(s,s)},j.prototype.sqrt=function(s){if(s.isZero())return s.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(s,h)}for(var p=this.m.subn(1),y=0;!p.isZero()&&p.andln(1)===0;)y++,p.iushrn(1);r(!p.isZero());var v=new i(1).toRed(this),b=v.redNeg(),m=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);this.pow(l,m).cmp(b)!==0;)l.redIAdd(b);for(var w=this.pow(l,p),K=this.pow(s,p.addn(1).iushrn(1)),$=this.pow(s,p),q=y;$.cmp(v)!==0;){for(var ue=$,Y=0;ue.cmp(v)!==0;Y++)ue=ue.redSqr();r(Y<q);var ne=this.pow(w,new i(1).iushln(q-Y-1));K=K.redMul(ne),w=ne.redSqr(),$=$.redMul(w),q=Y}return K},j.prototype.invm=function(s){var u=s._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},j.prototype.pow=function(s,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return s.clone();var h=4,p=new Array(1<<h);p[0]=new i(1).toRed(this),p[1]=s;for(var y=2;y<p.length;y++)p[y]=this.mul(p[y-1],s);var v=p[0],b=0,m=0,l=u.bitLength()%26;for(l===0&&(l=26),y=u.length-1;y>=0;y--){for(var w=u.words[y],K=l-1;K>=0;K--){var $=w>>K&1;if(v!==p[0]&&(v=this.sqr(v)),$===0&&b===0){m=0;continue}b<<=1,b|=$,m++,!(m!==h&&(y!==0||K!==0))&&(v=this.mul(v,p[b]),m=0,b=0)}l=26}return v},j.prototype.convertTo=function(s){var u=s.umod(this.m);return u===s?u.clone():u},j.prototype.convertFrom=function(s){var u=s.clone();return u.red=null,u},i.mont=function(s){return new V(s)};function V(d){j.call(this,d),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(V,j),V.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},V.prototype.convertFrom=function(s){var u=this.imod(s.mul(this.rinv));return u.red=null,u},V.prototype.imul=function(s,u){if(s.isZero()||u.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(p).iushrn(this.shift),v=y;return y.cmp(this.m)>=0?v=y.isub(this.m):y.cmpn(0)<0&&(v=y.iadd(this.m)),v._forceRed(this)},V.prototype.mul=function(s,u){if(s.isZero()||u.isZero())return new i(0)._forceRed(this);var h=s.mul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(p).iushrn(this.shift),v=y;return y.cmp(this.m)>=0?v=y.isub(this.m):y.cmpn(0)<0&&(v=y.iadd(this.m)),v._forceRed(this)},V.prototype.invm=function(s){var u=this.imod(s._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(t,jn)})(tw);var D3=tw.exports;const Tv=Yi(D3);var Dm={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=Ze,r=n.Buffer;function o(a,c){for(var f in a)c[f]=a[f]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=i);function i(a,c,f){return r(a,c,f)}i.prototype=Object.create(r.prototype),o(r,i),i.from=function(a,c,f){if(typeof a=="number")throw new TypeError("Argument must not be a number");return r(a,c,f)},i.alloc=function(a,c,f){if(typeof a!="number")throw new TypeError("Argument must be a number");var g=r(a);return c!==void 0?typeof f=="string"?g.fill(c,f):g.fill(c):g.fill(0),g},i.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r(a)},i.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(a)}})(Dm,Dm.exports);var nw=Dm.exports,cf=nw.Buffer;function U3(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var o=t.charAt(r),i=o.charCodeAt(0);if(e[i]!==255)throw new TypeError(o+" is ambiguous");e[i]=r}var a=t.length,c=t.charAt(0),f=Math.log(a)/Math.log(256),g=Math.log(256)/Math.log(a);function _(E){if((Array.isArray(E)||E instanceof Uint8Array)&&(E=cf.from(E)),!cf.isBuffer(E))throw new TypeError("Expected Buffer");if(E.length===0)return"";for(var A=0,k=0,C=0,R=E.length;C!==R&&E[C]===0;)C++,A++;for(var T=(R-C)*g+1>>>0,N=new Uint8Array(T);C!==R;){for(var O=E[C],D=0,z=T-1;(O!==0||D<k)&&z!==-1;z--,D++)O+=256*N[z]>>>0,N[z]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");k=D,C++}for(var P=T-k;P!==T&&N[P]===0;)P++;for(var W=c.repeat(A);P<T;++P)W+=t.charAt(N[P]);return W}function M(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return cf.alloc(0);for(var A=0,k=0,C=0;E[A]===c;)k++,A++;for(var R=(E.length-A)*f+1>>>0,T=new Uint8Array(R);A<E.length;){var N=E.charCodeAt(A);if(N>255)return;var O=e[N];if(O===255)return;for(var D=0,z=R-1;(O!==0||D<C)&&z!==-1;z--,D++)O+=a*T[z]>>>0,T[z]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");C=D,A++}for(var P=R-C;P!==R&&T[P]===0;)P++;var W=cf.allocUnsafe(k+(R-P));W.fill(0,0,k);for(var U=k;P!==R;)W[U++]=T[P++];return W}function S(E){var A=M(E);if(A)return A;throw new Error("Non-base"+a+" character")}return{encode:_,decodeUnsafe:M,decode:S}}var z3=U3,j3=z3,W3="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",F3=j3(W3);const Rn=Yi(F3),kv=YS;var xn={},rw={exports:{}};rw.exports;(function(t){(function(e,n){function r(d,s){if(!d)throw new Error(s||"Assertion failed")}function o(d,s){d.super_=s;var u=function(){};u.prototype=s.prototype,d.prototype=new u,d.prototype.constructor=d}function i(d,s,u){if(i.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&((s==="le"||s==="be")&&(u=s,s=10),this._init(d||0,s||10,u||"be"))}typeof e=="object"?e.exports=i:n.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=zd.Buffer}catch{}i.isBN=function(s){return s instanceof i?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===i.wordSize&&Array.isArray(s.words)},i.max=function(s,u){return s.cmp(u)>0?s:u},i.min=function(s,u){return s.cmp(u)<0?s:u},i.prototype._init=function(s,u,h){if(typeof s=="number")return this._initNumber(s,u,h);if(typeof s=="object")return this._initArray(s,u,h);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),s=s.toString().replace(/\s+/g,"");var p=0;s[0]==="-"&&(p++,this.negative=1),p<s.length&&(u===16?this._parseHex(s,p,h):(this._parseBase(s,u,p),h==="le"&&this._initArray(this.toArray(),u,h)))},i.prototype._initNumber=function(s,u,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(r(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},i.prototype._initArray=function(s,u,h){if(r(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var y,v,b=0;if(h==="be")for(p=s.length-1,y=0;p>=0;p-=3)v=s[p]|s[p-1]<<8|s[p-2]<<16,this.words[y]|=v<<b&67108863,this.words[y+1]=v>>>26-b&67108863,b+=24,b>=26&&(b-=26,y++);else if(h==="le")for(p=0,y=0;p<s.length;p+=3)v=s[p]|s[p+1]<<8|s[p+2]<<16,this.words[y]|=v<<b&67108863,this.words[y+1]=v>>>26-b&67108863,b+=24,b>=26&&(b-=26,y++);return this._strip()};function c(d,s){var u=d.charCodeAt(s);if(u>=48&&u<=57)return u-48;if(u>=65&&u<=70)return u-55;if(u>=97&&u<=102)return u-87;r(!1,"Invalid character in "+d)}function f(d,s,u){var h=c(d,u);return u-1>=s&&(h|=c(d,u-1)<<4),h}i.prototype._parseHex=function(s,u,h){this.length=Math.ceil((s.length-u)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var y=0,v=0,b;if(h==="be")for(p=s.length-1;p>=u;p-=2)b=f(s,u,p)<<y,this.words[v]|=b&67108863,y>=18?(y-=18,v+=1,this.words[v]|=b>>>26):y+=8;else{var m=s.length-u;for(p=m%2===0?u+1:u;p<s.length;p+=2)b=f(s,u,p)<<y,this.words[v]|=b&67108863,y>=18?(y-=18,v+=1,this.words[v]|=b>>>26):y+=8}this._strip()};function g(d,s,u,h){for(var p=0,y=0,v=Math.min(d.length,u),b=s;b<v;b++){var m=d.charCodeAt(b)-48;p*=h,m>=49?y=m-49+10:m>=17?y=m-17+10:y=m,r(m>=0&&y<h,"Invalid character"),p+=y}return p}i.prototype._parseBase=function(s,u,h){this.words=[0],this.length=1;for(var p=0,y=1;y<=67108863;y*=u)p++;p--,y=y/u|0;for(var v=s.length-h,b=v%p,m=Math.min(v,v-b)+h,l=0,w=h;w<m;w+=p)l=g(s,w,w+p,u),this.imuln(y),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(b!==0){var K=1;for(l=g(s,w,s.length,u),w=0;w<b;w++)K*=u;this.imuln(K),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},i.prototype.copy=function(s){s.words=new Array(this.length);for(var u=0;u<this.length;u++)s.words[u]=this.words[u];s.length=this.length,s.negative=this.negative,s.red=this.red};function _(d,s){d.words=s.words,d.length=s.length,d.negative=s.negative,d.red=s.red}if(i.prototype._move=function(s){_(s,this)},i.prototype.clone=function(){var s=new i(null);return this.copy(s),s},i.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=M}catch{i.prototype.inspect=M}else i.prototype.inspect=M;function M(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(s,u){s=s||10,u=u|0||1;var h;if(s===16||s==="hex"){h="";for(var p=0,y=0,v=0;v<this.length;v++){var b=this.words[v],m=((b<<p|y)&16777215).toString(16);y=b>>>24-p&16777215,p+=2,p>=26&&(p-=26,v--),y!==0||v!==this.length-1?h=S[6-m.length]+m+h:h=m+h}for(y!==0&&(h=y.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(s===(s|0)&&s>=2&&s<=36){var l=E[s],w=A[s];h="";var K=this.clone();for(K.negative=0;!K.isZero();){var $=K.modrn(w).toString(s);K=K.idivn(w),K.isZero()?h=$+h:h=S[l-$.length]+$+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},i.prototype.toJSON=function(){return this.toString(16,2)},a&&(i.prototype.toBuffer=function(s,u){return this.toArrayLike(a,s,u)}),i.prototype.toArray=function(s,u){return this.toArrayLike(Array,s,u)};var k=function(s,u){return s.allocUnsafe?s.allocUnsafe(u):new s(u)};i.prototype.toArrayLike=function(s,u,h){this._strip();var p=this.byteLength(),y=h||Math.max(1,p);r(p<=y,"byte array longer than desired length"),r(y>0,"Requested array length <= 0");var v=k(s,y),b=u==="le"?"LE":"BE";return this["_toArrayLike"+b](v,p),v},i.prototype._toArrayLikeLE=function(s,u){for(var h=0,p=0,y=0,v=0;y<this.length;y++){var b=this.words[y]<<v|p;s[h++]=b&255,h<s.length&&(s[h++]=b>>8&255),h<s.length&&(s[h++]=b>>16&255),v===6?(h<s.length&&(s[h++]=b>>24&255),p=0,v=0):(p=b>>>24,v+=2)}if(h<s.length)for(s[h++]=p;h<s.length;)s[h++]=0},i.prototype._toArrayLikeBE=function(s,u){for(var h=s.length-1,p=0,y=0,v=0;y<this.length;y++){var b=this.words[y]<<v|p;s[h--]=b&255,h>=0&&(s[h--]=b>>8&255),h>=0&&(s[h--]=b>>16&255),v===6?(h>=0&&(s[h--]=b>>24&255),p=0,v=0):(p=b>>>24,v+=2)}if(h>=0)for(s[h--]=p;h>=0;)s[h--]=0},Math.clz32?i.prototype._countBits=function(s){return 32-Math.clz32(s)}:i.prototype._countBits=function(s){var u=s,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},i.prototype._zeroBits=function(s){if(s===0)return 26;var u=s,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},i.prototype.bitLength=function(){var s=this.words[this.length-1],u=this._countBits(s);return(this.length-1)*26+u};function C(d){for(var s=new Array(d.bitLength()),u=0;u<s.length;u++){var h=u/26|0,p=u%26;s[u]=d.words[h]>>>p&1}return s}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(s+=h,h!==26)break}return s},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},i.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var u=0;u<s.length;u++)this.words[u]=this.words[u]|s.words[u];return this._strip()},i.prototype.ior=function(s){return r((this.negative|s.negative)===0),this.iuor(s)},i.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},i.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},i.prototype.iuand=function(s){var u;this.length>s.length?u=s:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=u.length,this._strip()},i.prototype.iand=function(s){return r((this.negative|s.negative)===0),this.iuand(s)},i.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},i.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},i.prototype.iuxor=function(s){var u,h;this.length>s.length?(u=this,h=s):(u=s,h=this);for(var p=0;p<h.length;p++)this.words[p]=u.words[p]^h.words[p];if(this!==u)for(;p<u.length;p++)this.words[p]=u.words[p];return this.length=u.length,this._strip()},i.prototype.ixor=function(s){return r((this.negative|s.negative)===0),this.iuxor(s)},i.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},i.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},i.prototype.inotn=function(s){r(typeof s=="number"&&s>=0);var u=Math.ceil(s/26)|0,h=s%26;this._expand(u),h>0&&u--;for(var p=0;p<u;p++)this.words[p]=~this.words[p]&67108863;return h>0&&(this.words[p]=~this.words[p]&67108863>>26-h),this._strip()},i.prototype.notn=function(s){return this.clone().inotn(s)},i.prototype.setn=function(s,u){r(typeof s=="number"&&s>=0);var h=s/26|0,p=s%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<p:this.words[h]=this.words[h]&~(1<<p),this._strip()},i.prototype.iadd=function(s){var u;if(this.negative!==0&&s.negative===0)return this.negative=0,u=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,u=this.isub(s),s.negative=1,u._normSign();var h,p;this.length>s.length?(h=this,p=s):(h=s,p=this);for(var y=0,v=0;v<p.length;v++)u=(h.words[v]|0)+(p.words[v]|0)+y,this.words[v]=u&67108863,y=u>>>26;for(;y!==0&&v<h.length;v++)u=(h.words[v]|0)+y,this.words[v]=u&67108863,y=u>>>26;if(this.length=h.length,y!==0)this.words[this.length]=y,this.length++;else if(h!==this)for(;v<h.length;v++)this.words[v]=h.words[v];return this},i.prototype.add=function(s){var u;return s.negative!==0&&this.negative===0?(s.negative=0,u=this.sub(s),s.negative^=1,u):s.negative===0&&this.negative!==0?(this.negative=0,u=s.sub(this),this.negative=1,u):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},i.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var u=this.iadd(s);return s.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var h=this.cmp(s);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,y;h>0?(p=this,y=s):(p=s,y=this);for(var v=0,b=0;b<y.length;b++)u=(p.words[b]|0)-(y.words[b]|0)+v,v=u>>26,this.words[b]=u&67108863;for(;v!==0&&b<p.length;b++)u=(p.words[b]|0)+v,v=u>>26,this.words[b]=u&67108863;if(v===0&&b<p.length&&p!==this)for(;b<p.length;b++)this.words[b]=p.words[b];return this.length=Math.max(this.length,b),p!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(s){return this.clone().isub(s)};function R(d,s,u){u.negative=s.negative^d.negative;var h=d.length+s.length|0;u.length=h,h=h-1|0;var p=d.words[0]|0,y=s.words[0]|0,v=p*y,b=v&67108863,m=v/67108864|0;u.words[0]=b;for(var l=1;l<h;l++){for(var w=m>>>26,K=m&67108863,$=Math.min(l,s.length-1),q=Math.max(0,l-d.length+1);q<=$;q++){var ue=l-q|0;p=d.words[ue]|0,y=s.words[q]|0,v=p*y+K,w+=v/67108864|0,K=v&67108863}u.words[l]=K|0,m=w|0}return m!==0?u.words[l]=m|0:u.length--,u._strip()}var T=function(s,u,h){var p=s.words,y=u.words,v=h.words,b=0,m,l,w,K=p[0]|0,$=K&8191,q=K>>>13,ue=p[1]|0,Y=ue&8191,ne=ue>>>13,ct=p[2]|0,ce=ct&8191,de=ct>>>13,Yt=p[3]|0,pe=Yt&8191,ve=Yt>>>13,kr=p[4]|0,ge=kr&8191,_e=kr>>>13,Cr=p[5]|0,we=Cr&8191,me=Cr>>>13,Kt=p[6]|0,ye=Kt&8191,Ee=Kt>>>13,tn=p[7]|0,be=tn&8191,L=tn>>>13,I=p[8]|0,x=I&8191,B=I>>>13,G=p[9]|0,H=G&8191,Z=G>>>13,et=y[0]|0,se=et&8191,oe=et>>>13,ft=y[1]|0,ie=ft&8191,Ae=ft>>>13,ai=y[2]|0,xe=ai&8191,Re=ai>>>13,li=y[3]|0,Ie=li&8191,Ne=li>>>13,ui=y[4]|0,Te=ui&8191,ke=ui>>>13,ci=y[5]|0,Ce=ci&8191,Oe=ci>>>13,fi=y[6]|0,Le=fi&8191,Be=fi>>>13,hi=y[7]|0,Pe=hi&8191,De=hi>>>13,di=y[8]|0,Ue=di&8191,ze=di>>>13,pi=y[9]|0,je=pi&8191,We=pi>>>13;h.negative=s.negative^u.negative,h.length=19,m=Math.imul($,se),l=Math.imul($,oe),l=l+Math.imul(q,se)|0,w=Math.imul(q,oe);var Fn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,m=Math.imul(Y,se),l=Math.imul(Y,oe),l=l+Math.imul(ne,se)|0,w=Math.imul(ne,oe),m=m+Math.imul($,ie)|0,l=l+Math.imul($,Ae)|0,l=l+Math.imul(q,ie)|0,w=w+Math.imul(q,Ae)|0;var $n=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+($n>>>26)|0,$n&=67108863,m=Math.imul(ce,se),l=Math.imul(ce,oe),l=l+Math.imul(de,se)|0,w=Math.imul(de,oe),m=m+Math.imul(Y,ie)|0,l=l+Math.imul(Y,Ae)|0,l=l+Math.imul(ne,ie)|0,w=w+Math.imul(ne,Ae)|0,m=m+Math.imul($,xe)|0,l=l+Math.imul($,Re)|0,l=l+Math.imul(q,xe)|0,w=w+Math.imul(q,Re)|0;var Hn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,m=Math.imul(pe,se),l=Math.imul(pe,oe),l=l+Math.imul(ve,se)|0,w=Math.imul(ve,oe),m=m+Math.imul(ce,ie)|0,l=l+Math.imul(ce,Ae)|0,l=l+Math.imul(de,ie)|0,w=w+Math.imul(de,Ae)|0,m=m+Math.imul(Y,xe)|0,l=l+Math.imul(Y,Re)|0,l=l+Math.imul(ne,xe)|0,w=w+Math.imul(ne,Re)|0,m=m+Math.imul($,Ie)|0,l=l+Math.imul($,Ne)|0,l=l+Math.imul(q,Ie)|0,w=w+Math.imul(q,Ne)|0;var Kn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,m=Math.imul(ge,se),l=Math.imul(ge,oe),l=l+Math.imul(_e,se)|0,w=Math.imul(_e,oe),m=m+Math.imul(pe,ie)|0,l=l+Math.imul(pe,Ae)|0,l=l+Math.imul(ve,ie)|0,w=w+Math.imul(ve,Ae)|0,m=m+Math.imul(ce,xe)|0,l=l+Math.imul(ce,Re)|0,l=l+Math.imul(de,xe)|0,w=w+Math.imul(de,Re)|0,m=m+Math.imul(Y,Ie)|0,l=l+Math.imul(Y,Ne)|0,l=l+Math.imul(ne,Ie)|0,w=w+Math.imul(ne,Ne)|0,m=m+Math.imul($,Te)|0,l=l+Math.imul($,ke)|0,l=l+Math.imul(q,Te)|0,w=w+Math.imul(q,ke)|0;var Vn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,m=Math.imul(we,se),l=Math.imul(we,oe),l=l+Math.imul(me,se)|0,w=Math.imul(me,oe),m=m+Math.imul(ge,ie)|0,l=l+Math.imul(ge,Ae)|0,l=l+Math.imul(_e,ie)|0,w=w+Math.imul(_e,Ae)|0,m=m+Math.imul(pe,xe)|0,l=l+Math.imul(pe,Re)|0,l=l+Math.imul(ve,xe)|0,w=w+Math.imul(ve,Re)|0,m=m+Math.imul(ce,Ie)|0,l=l+Math.imul(ce,Ne)|0,l=l+Math.imul(de,Ie)|0,w=w+Math.imul(de,Ne)|0,m=m+Math.imul(Y,Te)|0,l=l+Math.imul(Y,ke)|0,l=l+Math.imul(ne,Te)|0,w=w+Math.imul(ne,ke)|0,m=m+Math.imul($,Ce)|0,l=l+Math.imul($,Oe)|0,l=l+Math.imul(q,Ce)|0,w=w+Math.imul(q,Oe)|0;var qn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(qn>>>26)|0,qn&=67108863,m=Math.imul(ye,se),l=Math.imul(ye,oe),l=l+Math.imul(Ee,se)|0,w=Math.imul(Ee,oe),m=m+Math.imul(we,ie)|0,l=l+Math.imul(we,Ae)|0,l=l+Math.imul(me,ie)|0,w=w+Math.imul(me,Ae)|0,m=m+Math.imul(ge,xe)|0,l=l+Math.imul(ge,Re)|0,l=l+Math.imul(_e,xe)|0,w=w+Math.imul(_e,Re)|0,m=m+Math.imul(pe,Ie)|0,l=l+Math.imul(pe,Ne)|0,l=l+Math.imul(ve,Ie)|0,w=w+Math.imul(ve,Ne)|0,m=m+Math.imul(ce,Te)|0,l=l+Math.imul(ce,ke)|0,l=l+Math.imul(de,Te)|0,w=w+Math.imul(de,ke)|0,m=m+Math.imul(Y,Ce)|0,l=l+Math.imul(Y,Oe)|0,l=l+Math.imul(ne,Ce)|0,w=w+Math.imul(ne,Oe)|0,m=m+Math.imul($,Le)|0,l=l+Math.imul($,Be)|0,l=l+Math.imul(q,Le)|0,w=w+Math.imul(q,Be)|0;var Gn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,m=Math.imul(be,se),l=Math.imul(be,oe),l=l+Math.imul(L,se)|0,w=Math.imul(L,oe),m=m+Math.imul(ye,ie)|0,l=l+Math.imul(ye,Ae)|0,l=l+Math.imul(Ee,ie)|0,w=w+Math.imul(Ee,Ae)|0,m=m+Math.imul(we,xe)|0,l=l+Math.imul(we,Re)|0,l=l+Math.imul(me,xe)|0,w=w+Math.imul(me,Re)|0,m=m+Math.imul(ge,Ie)|0,l=l+Math.imul(ge,Ne)|0,l=l+Math.imul(_e,Ie)|0,w=w+Math.imul(_e,Ne)|0,m=m+Math.imul(pe,Te)|0,l=l+Math.imul(pe,ke)|0,l=l+Math.imul(ve,Te)|0,w=w+Math.imul(ve,ke)|0,m=m+Math.imul(ce,Ce)|0,l=l+Math.imul(ce,Oe)|0,l=l+Math.imul(de,Ce)|0,w=w+Math.imul(de,Oe)|0,m=m+Math.imul(Y,Le)|0,l=l+Math.imul(Y,Be)|0,l=l+Math.imul(ne,Le)|0,w=w+Math.imul(ne,Be)|0,m=m+Math.imul($,Pe)|0,l=l+Math.imul($,De)|0,l=l+Math.imul(q,Pe)|0,w=w+Math.imul(q,De)|0;var Zn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,m=Math.imul(x,se),l=Math.imul(x,oe),l=l+Math.imul(B,se)|0,w=Math.imul(B,oe),m=m+Math.imul(be,ie)|0,l=l+Math.imul(be,Ae)|0,l=l+Math.imul(L,ie)|0,w=w+Math.imul(L,Ae)|0,m=m+Math.imul(ye,xe)|0,l=l+Math.imul(ye,Re)|0,l=l+Math.imul(Ee,xe)|0,w=w+Math.imul(Ee,Re)|0,m=m+Math.imul(we,Ie)|0,l=l+Math.imul(we,Ne)|0,l=l+Math.imul(me,Ie)|0,w=w+Math.imul(me,Ne)|0,m=m+Math.imul(ge,Te)|0,l=l+Math.imul(ge,ke)|0,l=l+Math.imul(_e,Te)|0,w=w+Math.imul(_e,ke)|0,m=m+Math.imul(pe,Ce)|0,l=l+Math.imul(pe,Oe)|0,l=l+Math.imul(ve,Ce)|0,w=w+Math.imul(ve,Oe)|0,m=m+Math.imul(ce,Le)|0,l=l+Math.imul(ce,Be)|0,l=l+Math.imul(de,Le)|0,w=w+Math.imul(de,Be)|0,m=m+Math.imul(Y,Pe)|0,l=l+Math.imul(Y,De)|0,l=l+Math.imul(ne,Pe)|0,w=w+Math.imul(ne,De)|0,m=m+Math.imul($,Ue)|0,l=l+Math.imul($,ze)|0,l=l+Math.imul(q,Ue)|0,w=w+Math.imul(q,ze)|0;var Yn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,m=Math.imul(H,se),l=Math.imul(H,oe),l=l+Math.imul(Z,se)|0,w=Math.imul(Z,oe),m=m+Math.imul(x,ie)|0,l=l+Math.imul(x,Ae)|0,l=l+Math.imul(B,ie)|0,w=w+Math.imul(B,Ae)|0,m=m+Math.imul(be,xe)|0,l=l+Math.imul(be,Re)|0,l=l+Math.imul(L,xe)|0,w=w+Math.imul(L,Re)|0,m=m+Math.imul(ye,Ie)|0,l=l+Math.imul(ye,Ne)|0,l=l+Math.imul(Ee,Ie)|0,w=w+Math.imul(Ee,Ne)|0,m=m+Math.imul(we,Te)|0,l=l+Math.imul(we,ke)|0,l=l+Math.imul(me,Te)|0,w=w+Math.imul(me,ke)|0,m=m+Math.imul(ge,Ce)|0,l=l+Math.imul(ge,Oe)|0,l=l+Math.imul(_e,Ce)|0,w=w+Math.imul(_e,Oe)|0,m=m+Math.imul(pe,Le)|0,l=l+Math.imul(pe,Be)|0,l=l+Math.imul(ve,Le)|0,w=w+Math.imul(ve,Be)|0,m=m+Math.imul(ce,Pe)|0,l=l+Math.imul(ce,De)|0,l=l+Math.imul(de,Pe)|0,w=w+Math.imul(de,De)|0,m=m+Math.imul(Y,Ue)|0,l=l+Math.imul(Y,ze)|0,l=l+Math.imul(ne,Ue)|0,w=w+Math.imul(ne,ze)|0,m=m+Math.imul($,je)|0,l=l+Math.imul($,We)|0,l=l+Math.imul(q,je)|0,w=w+Math.imul(q,We)|0;var Qn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,m=Math.imul(H,ie),l=Math.imul(H,Ae),l=l+Math.imul(Z,ie)|0,w=Math.imul(Z,Ae),m=m+Math.imul(x,xe)|0,l=l+Math.imul(x,Re)|0,l=l+Math.imul(B,xe)|0,w=w+Math.imul(B,Re)|0,m=m+Math.imul(be,Ie)|0,l=l+Math.imul(be,Ne)|0,l=l+Math.imul(L,Ie)|0,w=w+Math.imul(L,Ne)|0,m=m+Math.imul(ye,Te)|0,l=l+Math.imul(ye,ke)|0,l=l+Math.imul(Ee,Te)|0,w=w+Math.imul(Ee,ke)|0,m=m+Math.imul(we,Ce)|0,l=l+Math.imul(we,Oe)|0,l=l+Math.imul(me,Ce)|0,w=w+Math.imul(me,Oe)|0,m=m+Math.imul(ge,Le)|0,l=l+Math.imul(ge,Be)|0,l=l+Math.imul(_e,Le)|0,w=w+Math.imul(_e,Be)|0,m=m+Math.imul(pe,Pe)|0,l=l+Math.imul(pe,De)|0,l=l+Math.imul(ve,Pe)|0,w=w+Math.imul(ve,De)|0,m=m+Math.imul(ce,Ue)|0,l=l+Math.imul(ce,ze)|0,l=l+Math.imul(de,Ue)|0,w=w+Math.imul(de,ze)|0,m=m+Math.imul(Y,je)|0,l=l+Math.imul(Y,We)|0,l=l+Math.imul(ne,je)|0,w=w+Math.imul(ne,We)|0;var Xn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,m=Math.imul(H,xe),l=Math.imul(H,Re),l=l+Math.imul(Z,xe)|0,w=Math.imul(Z,Re),m=m+Math.imul(x,Ie)|0,l=l+Math.imul(x,Ne)|0,l=l+Math.imul(B,Ie)|0,w=w+Math.imul(B,Ne)|0,m=m+Math.imul(be,Te)|0,l=l+Math.imul(be,ke)|0,l=l+Math.imul(L,Te)|0,w=w+Math.imul(L,ke)|0,m=m+Math.imul(ye,Ce)|0,l=l+Math.imul(ye,Oe)|0,l=l+Math.imul(Ee,Ce)|0,w=w+Math.imul(Ee,Oe)|0,m=m+Math.imul(we,Le)|0,l=l+Math.imul(we,Be)|0,l=l+Math.imul(me,Le)|0,w=w+Math.imul(me,Be)|0,m=m+Math.imul(ge,Pe)|0,l=l+Math.imul(ge,De)|0,l=l+Math.imul(_e,Pe)|0,w=w+Math.imul(_e,De)|0,m=m+Math.imul(pe,Ue)|0,l=l+Math.imul(pe,ze)|0,l=l+Math.imul(ve,Ue)|0,w=w+Math.imul(ve,ze)|0,m=m+Math.imul(ce,je)|0,l=l+Math.imul(ce,We)|0,l=l+Math.imul(de,je)|0,w=w+Math.imul(de,We)|0;var Jn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,m=Math.imul(H,Ie),l=Math.imul(H,Ne),l=l+Math.imul(Z,Ie)|0,w=Math.imul(Z,Ne),m=m+Math.imul(x,Te)|0,l=l+Math.imul(x,ke)|0,l=l+Math.imul(B,Te)|0,w=w+Math.imul(B,ke)|0,m=m+Math.imul(be,Ce)|0,l=l+Math.imul(be,Oe)|0,l=l+Math.imul(L,Ce)|0,w=w+Math.imul(L,Oe)|0,m=m+Math.imul(ye,Le)|0,l=l+Math.imul(ye,Be)|0,l=l+Math.imul(Ee,Le)|0,w=w+Math.imul(Ee,Be)|0,m=m+Math.imul(we,Pe)|0,l=l+Math.imul(we,De)|0,l=l+Math.imul(me,Pe)|0,w=w+Math.imul(me,De)|0,m=m+Math.imul(ge,Ue)|0,l=l+Math.imul(ge,ze)|0,l=l+Math.imul(_e,Ue)|0,w=w+Math.imul(_e,ze)|0,m=m+Math.imul(pe,je)|0,l=l+Math.imul(pe,We)|0,l=l+Math.imul(ve,je)|0,w=w+Math.imul(ve,We)|0;var er=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(er>>>26)|0,er&=67108863,m=Math.imul(H,Te),l=Math.imul(H,ke),l=l+Math.imul(Z,Te)|0,w=Math.imul(Z,ke),m=m+Math.imul(x,Ce)|0,l=l+Math.imul(x,Oe)|0,l=l+Math.imul(B,Ce)|0,w=w+Math.imul(B,Oe)|0,m=m+Math.imul(be,Le)|0,l=l+Math.imul(be,Be)|0,l=l+Math.imul(L,Le)|0,w=w+Math.imul(L,Be)|0,m=m+Math.imul(ye,Pe)|0,l=l+Math.imul(ye,De)|0,l=l+Math.imul(Ee,Pe)|0,w=w+Math.imul(Ee,De)|0,m=m+Math.imul(we,Ue)|0,l=l+Math.imul(we,ze)|0,l=l+Math.imul(me,Ue)|0,w=w+Math.imul(me,ze)|0,m=m+Math.imul(ge,je)|0,l=l+Math.imul(ge,We)|0,l=l+Math.imul(_e,je)|0,w=w+Math.imul(_e,We)|0;var tr=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(tr>>>26)|0,tr&=67108863,m=Math.imul(H,Ce),l=Math.imul(H,Oe),l=l+Math.imul(Z,Ce)|0,w=Math.imul(Z,Oe),m=m+Math.imul(x,Le)|0,l=l+Math.imul(x,Be)|0,l=l+Math.imul(B,Le)|0,w=w+Math.imul(B,Be)|0,m=m+Math.imul(be,Pe)|0,l=l+Math.imul(be,De)|0,l=l+Math.imul(L,Pe)|0,w=w+Math.imul(L,De)|0,m=m+Math.imul(ye,Ue)|0,l=l+Math.imul(ye,ze)|0,l=l+Math.imul(Ee,Ue)|0,w=w+Math.imul(Ee,ze)|0,m=m+Math.imul(we,je)|0,l=l+Math.imul(we,We)|0,l=l+Math.imul(me,je)|0,w=w+Math.imul(me,We)|0;var nr=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(nr>>>26)|0,nr&=67108863,m=Math.imul(H,Le),l=Math.imul(H,Be),l=l+Math.imul(Z,Le)|0,w=Math.imul(Z,Be),m=m+Math.imul(x,Pe)|0,l=l+Math.imul(x,De)|0,l=l+Math.imul(B,Pe)|0,w=w+Math.imul(B,De)|0,m=m+Math.imul(be,Ue)|0,l=l+Math.imul(be,ze)|0,l=l+Math.imul(L,Ue)|0,w=w+Math.imul(L,ze)|0,m=m+Math.imul(ye,je)|0,l=l+Math.imul(ye,We)|0,l=l+Math.imul(Ee,je)|0,w=w+Math.imul(Ee,We)|0;var rr=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(rr>>>26)|0,rr&=67108863,m=Math.imul(H,Pe),l=Math.imul(H,De),l=l+Math.imul(Z,Pe)|0,w=Math.imul(Z,De),m=m+Math.imul(x,Ue)|0,l=l+Math.imul(x,ze)|0,l=l+Math.imul(B,Ue)|0,w=w+Math.imul(B,ze)|0,m=m+Math.imul(be,je)|0,l=l+Math.imul(be,We)|0,l=l+Math.imul(L,je)|0,w=w+Math.imul(L,We)|0;var ir=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(ir>>>26)|0,ir&=67108863,m=Math.imul(H,Ue),l=Math.imul(H,ze),l=l+Math.imul(Z,Ue)|0,w=Math.imul(Z,ze),m=m+Math.imul(x,je)|0,l=l+Math.imul(x,We)|0,l=l+Math.imul(B,je)|0,w=w+Math.imul(B,We)|0;var or=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(or>>>26)|0,or&=67108863,m=Math.imul(H,je),l=Math.imul(H,We),l=l+Math.imul(Z,je)|0,w=Math.imul(Z,We);var sr=(b+m|0)+((l&8191)<<13)|0;return b=(w+(l>>>13)|0)+(sr>>>26)|0,sr&=67108863,v[0]=Fn,v[1]=$n,v[2]=Hn,v[3]=Kn,v[4]=Vn,v[5]=qn,v[6]=Gn,v[7]=Zn,v[8]=Yn,v[9]=Qn,v[10]=Xn,v[11]=Jn,v[12]=er,v[13]=tr,v[14]=nr,v[15]=rr,v[16]=ir,v[17]=or,v[18]=sr,b!==0&&(v[19]=b,h.length++),h};Math.imul||(T=R);function N(d,s,u){u.negative=s.negative^d.negative,u.length=d.length+s.length;for(var h=0,p=0,y=0;y<u.length-1;y++){var v=p;p=0;for(var b=h&67108863,m=Math.min(y,s.length-1),l=Math.max(0,y-d.length+1);l<=m;l++){var w=y-l,K=d.words[w]|0,$=s.words[l]|0,q=K*$,ue=q&67108863;v=v+(q/67108864|0)|0,ue=ue+b|0,b=ue&67108863,v=v+(ue>>>26)|0,p+=v>>>26,v&=67108863}u.words[y]=b,h=v,v=p}return h!==0?u.words[y]=h:u.length--,u._strip()}function O(d,s,u){return N(d,s,u)}i.prototype.mulTo=function(s,u){var h,p=this.length+s.length;return this.length===10&&s.length===10?h=T(this,s,u):p<63?h=R(this,s,u):p<1024?h=N(this,s,u):h=O(this,s,u),h},i.prototype.mul=function(s){var u=new i(null);return u.words=new Array(this.length+s.length),this.mulTo(s,u)},i.prototype.mulf=function(s){var u=new i(null);return u.words=new Array(this.length+s.length),O(this,s,u)},i.prototype.imul=function(s){return this.clone().mulTo(s,this)},i.prototype.imuln=function(s){var u=s<0;u&&(s=-s),r(typeof s=="number"),r(s<67108864);for(var h=0,p=0;p<this.length;p++){var y=(this.words[p]|0)*s,v=(y&67108863)+(h&67108863);h>>=26,h+=y/67108864|0,h+=v>>>26,this.words[p]=v&67108863}return h!==0&&(this.words[p]=h,this.length++),this.length=s===0?1:this.length,u?this.ineg():this},i.prototype.muln=function(s){return this.clone().imuln(s)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(s){var u=C(s);if(u.length===0)return new i(1);for(var h=this,p=0;p<u.length&&u[p]===0;p++,h=h.sqr());if(++p<u.length)for(var y=h.sqr();p<u.length;p++,y=y.sqr())u[p]!==0&&(h=h.mul(y));return h},i.prototype.iushln=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,p=67108863>>>26-u<<26-u,y;if(u!==0){var v=0;for(y=0;y<this.length;y++){var b=this.words[y]&p,m=(this.words[y]|0)-b<<u;this.words[y]=m|v,v=b>>>26-u}v&&(this.words[y]=v,this.length++)}if(h!==0){for(y=this.length-1;y>=0;y--)this.words[y+h]=this.words[y];for(y=0;y<h;y++)this.words[y]=0;this.length+=h}return this._strip()},i.prototype.ishln=function(s){return r(this.negative===0),this.iushln(s)},i.prototype.iushrn=function(s,u,h){r(typeof s=="number"&&s>=0);var p;u?p=(u-u%26)/26:p=0;var y=s%26,v=Math.min((s-y)/26,this.length),b=67108863^67108863>>>y<<y,m=h;if(p-=v,p=Math.max(0,p),m){for(var l=0;l<v;l++)m.words[l]=this.words[l];m.length=v}if(v!==0)if(this.length>v)for(this.length-=v,l=0;l<this.length;l++)this.words[l]=this.words[l+v];else this.words[0]=0,this.length=1;var w=0;for(l=this.length-1;l>=0&&(w!==0||l>=p);l--){var K=this.words[l]|0;this.words[l]=w<<26-y|K>>>y,w=K&b}return m&&w!==0&&(m.words[m.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(s,u,h){return r(this.negative===0),this.iushrn(s,u,h)},i.prototype.shln=function(s){return this.clone().ishln(s)},i.prototype.ushln=function(s){return this.clone().iushln(s)},i.prototype.shrn=function(s){return this.clone().ishrn(s)},i.prototype.ushrn=function(s){return this.clone().iushrn(s)},i.prototype.testn=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,p=1<<u;if(this.length<=h)return!1;var y=this.words[h];return!!(y&p)},i.prototype.imaskn=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var p=67108863^67108863>>>u<<u;this.words[this.length-1]&=p}return this._strip()},i.prototype.maskn=function(s){return this.clone().imaskn(s)},i.prototype.iaddn=function(s){return r(typeof s=="number"),r(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},i.prototype._iaddn=function(s){this.words[0]+=s;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(s){if(r(typeof s=="number"),r(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},i.prototype.addn=function(s){return this.clone().iaddn(s)},i.prototype.subn=function(s){return this.clone().isubn(s)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(s,u,h){var p=s.length+h,y;this._expand(p);var v,b=0;for(y=0;y<s.length;y++){v=(this.words[y+h]|0)+b;var m=(s.words[y]|0)*u;v-=m&67108863,b=(v>>26)-(m/67108864|0),this.words[y+h]=v&67108863}for(;y<this.length-h;y++)v=(this.words[y+h]|0)+b,b=v>>26,this.words[y+h]=v&67108863;if(b===0)return this._strip();for(r(b===-1),b=0,y=0;y<this.length;y++)v=-(this.words[y]|0)+b,b=v>>26,this.words[y]=v&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(s,u){var h=this.length-s.length,p=this.clone(),y=s,v=y.words[y.length-1]|0,b=this._countBits(v);h=26-b,h!==0&&(y=y.ushln(h),p.iushln(h),v=y.words[y.length-1]|0);var m=p.length-y.length,l;if(u!=="mod"){l=new i(null),l.length=m+1,l.words=new Array(l.length);for(var w=0;w<l.length;w++)l.words[w]=0}var K=p.clone()._ishlnsubmul(y,1,m);K.negative===0&&(p=K,l&&(l.words[m]=1));for(var $=m-1;$>=0;$--){var q=(p.words[y.length+$]|0)*67108864+(p.words[y.length+$-1]|0);for(q=Math.min(q/v|0,67108863),p._ishlnsubmul(y,q,$);p.negative!==0;)q--,p.negative=0,p._ishlnsubmul(y,1,$),p.isZero()||(p.negative^=1);l&&(l.words[$]=q)}return l&&l._strip(),p._strip(),u!=="div"&&h!==0&&p.iushrn(h),{div:l||null,mod:p}},i.prototype.divmod=function(s,u,h){if(r(!s.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var p,y,v;return this.negative!==0&&s.negative===0?(v=this.neg().divmod(s,u),u!=="mod"&&(p=v.div.neg()),u!=="div"&&(y=v.mod.neg(),h&&y.negative!==0&&y.iadd(s)),{div:p,mod:y}):this.negative===0&&s.negative!==0?(v=this.divmod(s.neg(),u),u!=="mod"&&(p=v.div.neg()),{div:p,mod:v.mod}):this.negative&s.negative?(v=this.neg().divmod(s.neg(),u),u!=="div"&&(y=v.mod.neg(),h&&y.negative!==0&&y.isub(s)),{div:v.div,mod:y}):s.length>this.length||this.cmp(s)<0?{div:new i(0),mod:this}:s.length===1?u==="div"?{div:this.divn(s.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new i(this.modrn(s.words[0]))}:this._wordDiv(s,u)},i.prototype.div=function(s){return this.divmod(s,"div",!1).div},i.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},i.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},i.prototype.divRound=function(s){var u=this.divmod(s);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(s):u.mod,p=s.ushrn(1),y=s.andln(1),v=h.cmp(p);return v<0||y===1&&v===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modrn=function(s){var u=s<0;u&&(s=-s),r(s<=67108863);for(var h=(1<<26)%s,p=0,y=this.length-1;y>=0;y--)p=(h*p+(this.words[y]|0))%s;return u?-p:p},i.prototype.modn=function(s){return this.modrn(s)},i.prototype.idivn=function(s){var u=s<0;u&&(s=-s),r(s<=67108863);for(var h=0,p=this.length-1;p>=0;p--){var y=(this.words[p]|0)+h*67108864;this.words[p]=y/s|0,h=y%s}return this._strip(),u?this.ineg():this},i.prototype.divn=function(s){return this.clone().idivn(s)},i.prototype.egcd=function(s){r(s.negative===0),r(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var p=new i(1),y=new i(0),v=new i(0),b=new i(1),m=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++m;for(var l=h.clone(),w=u.clone();!u.isZero();){for(var K=0,$=1;!(u.words[0]&$)&&K<26;++K,$<<=1);if(K>0)for(u.iushrn(K);K-- >0;)(p.isOdd()||y.isOdd())&&(p.iadd(l),y.isub(w)),p.iushrn(1),y.iushrn(1);for(var q=0,ue=1;!(h.words[0]&ue)&&q<26;++q,ue<<=1);if(q>0)for(h.iushrn(q);q-- >0;)(v.isOdd()||b.isOdd())&&(v.iadd(l),b.isub(w)),v.iushrn(1),b.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(v),y.isub(b)):(h.isub(u),v.isub(p),b.isub(y))}return{a:v,b,gcd:h.iushln(m)}},i.prototype._invmp=function(s){r(s.negative===0),r(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var p=new i(1),y=new i(0),v=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var b=0,m=1;!(u.words[0]&m)&&b<26;++b,m<<=1);if(b>0)for(u.iushrn(b);b-- >0;)p.isOdd()&&p.iadd(v),p.iushrn(1);for(var l=0,w=1;!(h.words[0]&w)&&l<26;++l,w<<=1);if(l>0)for(h.iushrn(l);l-- >0;)y.isOdd()&&y.iadd(v),y.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(y)):(h.isub(u),y.isub(p))}var K;return u.cmpn(1)===0?K=p:K=y,K.cmpn(0)<0&&K.iadd(s),K},i.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var u=this.clone(),h=s.clone();u.negative=0,h.negative=0;for(var p=0;u.isEven()&&h.isEven();p++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var y=u.cmp(h);if(y<0){var v=u;u=h,h=v}else if(y===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(p)},i.prototype.invm=function(s){return this.egcd(s).a.umod(s)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(s){return this.words[0]&s},i.prototype.bincn=function(s){r(typeof s=="number");var u=s%26,h=(s-u)/26,p=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=p,this;for(var y=p,v=h;y!==0&&v<this.length;v++){var b=this.words[v]|0;b+=y,y=b>>>26,b&=67108863,this.words[v]=b}return y!==0&&(this.words[v]=y,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(s){var u=s<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var h;if(this.length>1)h=1;else{u&&(s=-s),r(s<=67108863,"Number is too big");var p=this.words[0]|0;h=p===s?0:p<s?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var u=this.ucmp(s);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var p=this.words[h]|0,y=s.words[h]|0;if(p!==y){p<y?u=-1:p>y&&(u=1);break}}return u},i.prototype.gtn=function(s){return this.cmpn(s)===1},i.prototype.gt=function(s){return this.cmp(s)===1},i.prototype.gten=function(s){return this.cmpn(s)>=0},i.prototype.gte=function(s){return this.cmp(s)>=0},i.prototype.ltn=function(s){return this.cmpn(s)===-1},i.prototype.lt=function(s){return this.cmp(s)===-1},i.prototype.lten=function(s){return this.cmpn(s)<=0},i.prototype.lte=function(s){return this.cmp(s)<=0},i.prototype.eqn=function(s){return this.cmpn(s)===0},i.prototype.eq=function(s){return this.cmp(s)===0},i.red=function(s){return new j(s)},i.prototype.toRed=function(s){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(s){return this.red=s,this},i.prototype.forceRed=function(s){return r(!this.red,"Already a number in reduction context"),this._forceRed(s)},i.prototype.redAdd=function(s){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},i.prototype.redIAdd=function(s){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},i.prototype.redSub=function(s){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},i.prototype.redISub=function(s){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},i.prototype.redShl=function(s){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},i.prototype.redMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},i.prototype.redIMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(s){return r(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var D={k256:null,p224:null,p192:null,p25519:null};function z(d,s){this.name=d,this.p=new i(s,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}z.prototype._tmp=function(){var s=new i(null);return s.words=new Array(Math.ceil(this.n/13)),s},z.prototype.ireduce=function(s){var u=s,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var p=h<this.n?-1:u.ucmp(this.p);return p===0?(u.words[0]=0,u.length=1):p>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},z.prototype.split=function(s,u){s.iushrn(this.n,0,u)},z.prototype.imulK=function(s){return s.imul(this.k)};function P(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(P,z),P.prototype.split=function(s,u){for(var h=4194303,p=Math.min(s.length,9),y=0;y<p;y++)u.words[y]=s.words[y];if(u.length=p,s.length<=9){s.words[0]=0,s.length=1;return}var v=s.words[9];for(u.words[u.length++]=v&h,y=10;y<s.length;y++){var b=s.words[y]|0;s.words[y-10]=(b&h)<<4|v>>>22,v=b}v>>>=22,s.words[y-10]=v,v===0&&s.length>10?s.length-=10:s.length-=9},P.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var u=0,h=0;h<s.length;h++){var p=s.words[h]|0;u+=p*977,s.words[h]=u&67108863,u=p*64+(u/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function W(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(W,z);function U(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(U,z);function F(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(F,z),F.prototype.imulK=function(s){for(var u=0,h=0;h<s.length;h++){var p=(s.words[h]|0)*19+u,y=p&67108863;p>>>=26,s.words[h]=y,u=p}return u!==0&&(s.words[s.length++]=u),s},i._prime=function(s){if(D[s])return D[s];var u;if(s==="k256")u=new P;else if(s==="p224")u=new W;else if(s==="p192")u=new U;else if(s==="p25519")u=new F;else throw new Error("Unknown prime "+s);return D[s]=u,u};function j(d){if(typeof d=="string"){var s=i._prime(d);this.m=s.p,this.prime=s}else r(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}j.prototype._verify1=function(s){r(s.negative===0,"red works only with positives"),r(s.red,"red works only with red numbers")},j.prototype._verify2=function(s,u){r((s.negative|u.negative)===0,"red works only with positives"),r(s.red&&s.red===u.red,"red works only with red numbers")},j.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(_(s,s.umod(this.m)._forceRed(this)),s)},j.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},j.prototype.add=function(s,u){this._verify2(s,u);var h=s.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},j.prototype.iadd=function(s,u){this._verify2(s,u);var h=s.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},j.prototype.sub=function(s,u){this._verify2(s,u);var h=s.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},j.prototype.isub=function(s,u){this._verify2(s,u);var h=s.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},j.prototype.shl=function(s,u){return this._verify1(s),this.imod(s.ushln(u))},j.prototype.imul=function(s,u){return this._verify2(s,u),this.imod(s.imul(u))},j.prototype.mul=function(s,u){return this._verify2(s,u),this.imod(s.mul(u))},j.prototype.isqr=function(s){return this.imul(s,s.clone())},j.prototype.sqr=function(s){return this.mul(s,s)},j.prototype.sqrt=function(s){if(s.isZero())return s.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(s,h)}for(var p=this.m.subn(1),y=0;!p.isZero()&&p.andln(1)===0;)y++,p.iushrn(1);r(!p.isZero());var v=new i(1).toRed(this),b=v.redNeg(),m=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);this.pow(l,m).cmp(b)!==0;)l.redIAdd(b);for(var w=this.pow(l,p),K=this.pow(s,p.addn(1).iushrn(1)),$=this.pow(s,p),q=y;$.cmp(v)!==0;){for(var ue=$,Y=0;ue.cmp(v)!==0;Y++)ue=ue.redSqr();r(Y<q);var ne=this.pow(w,new i(1).iushln(q-Y-1));K=K.redMul(ne),w=ne.redSqr(),$=$.redMul(w),q=Y}return K},j.prototype.invm=function(s){var u=s._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},j.prototype.pow=function(s,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return s.clone();var h=4,p=new Array(1<<h);p[0]=new i(1).toRed(this),p[1]=s;for(var y=2;y<p.length;y++)p[y]=this.mul(p[y-1],s);var v=p[0],b=0,m=0,l=u.bitLength()%26;for(l===0&&(l=26),y=u.length-1;y>=0;y--){for(var w=u.words[y],K=l-1;K>=0;K--){var $=w>>K&1;if(v!==p[0]&&(v=this.sqr(v)),$===0&&b===0){m=0;continue}b<<=1,b|=$,m++,!(m!==h&&(y!==0||K!==0))&&(v=this.mul(v,p[b]),m=0,b=0)}l=26}return v},j.prototype.convertTo=function(s){var u=s.umod(this.m);return u===s?u.clone():u},j.prototype.convertFrom=function(s){var u=s.clone();return u.red=null,u},i.mont=function(s){return new V(s)};function V(d){j.call(this,d),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(V,j),V.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},V.prototype.convertFrom=function(s){var u=this.imod(s.mul(this.rinv));return u.red=null,u},V.prototype.imul=function(s,u){if(s.isZero()||u.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(p).iushrn(this.shift),v=y;return y.cmp(this.m)>=0?v=y.isub(this.m):y.cmpn(0)<0&&(v=y.iadd(this.m)),v._forceRed(this)},V.prototype.mul=function(s,u){if(s.isZero()||u.isZero())return new i(0)._forceRed(this);var h=s.mul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(p).iushrn(this.shift),v=y;return y.cmp(this.m)>=0?v=y.isub(this.m):y.cmpn(0)<0&&(v=y.iadd(this.m)),v._forceRed(this)},V.prototype.invm=function(s){var u=this.imod(s._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(t,jn)})(rw);var $3=rw.exports,ff=nw.Buffer;function H3(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var o=t.charAt(r),i=o.charCodeAt(0);if(e[i]!==255)throw new TypeError(o+" is ambiguous");e[i]=r}var a=t.length,c=t.charAt(0),f=Math.log(a)/Math.log(256),g=Math.log(256)/Math.log(a);function _(E){if((Array.isArray(E)||E instanceof Uint8Array)&&(E=ff.from(E)),!ff.isBuffer(E))throw new TypeError("Expected Buffer");if(E.length===0)return"";for(var A=0,k=0,C=0,R=E.length;C!==R&&E[C]===0;)C++,A++;for(var T=(R-C)*g+1>>>0,N=new Uint8Array(T);C!==R;){for(var O=E[C],D=0,z=T-1;(O!==0||D<k)&&z!==-1;z--,D++)O+=256*N[z]>>>0,N[z]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");k=D,C++}for(var P=T-k;P!==T&&N[P]===0;)P++;for(var W=c.repeat(A);P<T;++P)W+=t.charAt(N[P]);return W}function M(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return ff.alloc(0);for(var A=0,k=0,C=0;E[A]===c;)k++,A++;for(var R=(E.length-A)*f+1>>>0,T=new Uint8Array(R);A<E.length;){var N=E.charCodeAt(A);if(N>255)return;var O=e[N];if(O===255)return;for(var D=0,z=R-1;(O!==0||D<C)&&z!==-1;z--,D++)O+=a*T[z]>>>0,T[z]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");C=D,A++}for(var P=R-C;P!==R&&T[P]===0;)P++;var W=ff.allocUnsafe(k+(R-P));W.fill(0,0,k);for(var U=k;P!==R;)W[U++]=T[P++];return W}function S(E){var A=M(E);if(A)return A;throw new Error("Non-base"+a+" character")}return{encode:_,decodeUnsafe:M,decode:S}}var K3=H3,V3=K3,q3="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",G3=V3(q3);function mo(t,e,n){return e<=t&&t<=n}function jd(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function Z3(t){for(var e=String(t),n=e.length,r=0,o=[];r<n;){var i=e.charCodeAt(r);if(i<55296||i>57343)o.push(i);else if(56320<=i&&i<=57343)o.push(65533);else if(55296<=i&&i<=56319)if(r===n-1)o.push(65533);else{var a=t.charCodeAt(r+1);if(56320<=a&&a<=57343){var c=i&1023,f=a&1023;o.push(65536+(c<<10)+f),r+=1}else o.push(65533)}r+=1}return o}function Y3(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var Kh=-1;function iw(t){this.tokens=[].slice.call(t)}iw.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Kh},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var Tl=-1;function ep(t,e){if(t)throw TypeError("Decoder error");return e||65533}var Vh="utf-8";function qh(t,e){if(!(this instanceof qh))return new qh(t,e);if(t=t!==void 0?String(t).toLowerCase():Vh,t!==Vh)throw new Error("Encoding not supported. Only utf-8 is supported");e=jd(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}qh.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=jd(n),this._streaming||(this._decoder=new Q3({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var o=new iw(r),i=[],a;!o.endOfStream()&&(a=this._decoder.handler(o,o.read()),a!==Tl);)a!==null&&(Array.isArray(a)?i.push.apply(i,a):i.push(a));if(!this._streaming){do{if(a=this._decoder.handler(o,o.read()),a===Tl)break;a!==null&&(Array.isArray(a)?i.push.apply(i,a):i.push(a))}while(!o.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),Y3(i)}};function Gh(t,e){if(!(this instanceof Gh))return new Gh(t,e);if(t=t!==void 0?String(t).toLowerCase():Vh,t!==Vh)throw new Error("Encoding not supported. Only utf-8 is supported");e=jd(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Gh.prototype={encode:function(e,n){e=e?String(e):"",n=jd(n),this._streaming||(this._encoder=new X3(this._options)),this._streaming=!!n.stream;for(var r=[],o=new iw(Z3(e)),i;!o.endOfStream()&&(i=this._encoder.handler(o,o.read()),i!==Tl);)Array.isArray(i)?r.push.apply(r,i):r.push(i);if(!this._streaming){for(;i=this._encoder.handler(o,o.read()),i!==Tl;)Array.isArray(i)?r.push.apply(r,i):r.push(i);this._encoder=null}return new Uint8Array(r)}};function Q3(t){var e=t.fatal,n=0,r=0,o=0,i=128,a=191;this.handler=function(c,f){if(f===Kh&&o!==0)return o=0,ep(e);if(f===Kh)return Tl;if(o===0){if(mo(f,0,127))return f;if(mo(f,194,223))o=1,n=f-192;else if(mo(f,224,239))f===224&&(i=160),f===237&&(a=159),o=2,n=f-224;else if(mo(f,240,244))f===240&&(i=144),f===244&&(a=143),o=3,n=f-240;else return ep(e);return n=n<<6*o,null}if(!mo(f,i,a))return n=o=r=0,i=128,a=191,c.prepend(f),ep(e);if(i=128,a=191,r+=1,n+=f-128<<6*(o-r),r!==o)return null;var g=n;return n=o=r=0,g}}function X3(t){t.fatal,this.handler=function(e,n){if(n===Kh)return Tl;if(mo(n,0,127))return n;var r,o;mo(n,128,2047)?(r=1,o=192):mo(n,2048,65535)?(r=2,o=224):mo(n,65536,1114111)&&(r=3,o=240);for(var i=[(n>>6*r)+o];r>0;){var a=n>>6*(r-1);i.push(128|a&63),r-=1}return i}}const J3=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:qh,TextEncoder:Gh},Symbol.toStringTag,{value:"Module"})),eC=To(J3);var tC=jn&&jn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),nC=jn&&jn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Qi=jn&&jn.__decorate||function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},rC=jn&&jn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&tC(e,t,n);return nC(e,t),e},wM=jn&&jn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xn,"__esModule",{value:!0});var vM=xn.deserializeUnchecked=AM=xn.deserialize=MM=xn.serialize=xn.BinaryReader=xn.BinaryWriter=xn.BorshError=xn.baseDecode=xn.baseEncode=void 0;const es=wM($3),_M=wM(G3),iC=rC(eC),oC=typeof TextDecoder!="function"?iC.TextDecoder:TextDecoder,sC=new oC("utf-8",{fatal:!0});function aC(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),_M.default.encode(Buffer.from(t))}xn.baseEncode=aC;function lC(t){return Buffer.from(_M.default.decode(t))}xn.baseDecode=lC;const tp=1024;class fr extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}xn.BorshError=fr;class EM{constructor(){this.buf=Buffer.alloc(tp),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(tp)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new es.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new es.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new es.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new es.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(tp)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}xn.BinaryWriter=EM;function Xi(t,e,n){const r=n.value;n.value=function(...o){try{return r.apply(this,o)}catch(i){if(i instanceof RangeError){const a=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(a)>=0)throw new fr("Reached the end of buffer when deserializing")}throw i}}}class Vr{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new es.default(e,"le")}readU128(){const e=this.readBuffer(16);return new es.default(e,"le")}readU256(){const e=this.readBuffer(32);return new es.default(e,"le")}readU512(){const e=this.readBuffer(64);return new es.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new fr(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return sC.decode(n)}catch(r){throw new fr(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let o=0;o<n;++o)r.push(e());return r}}Qi([Xi],Vr.prototype,"readU8",null);Qi([Xi],Vr.prototype,"readU16",null);Qi([Xi],Vr.prototype,"readU32",null);Qi([Xi],Vr.prototype,"readU64",null);Qi([Xi],Vr.prototype,"readU128",null);Qi([Xi],Vr.prototype,"readU256",null);Qi([Xi],Vr.prototype,"readU512",null);Qi([Xi],Vr.prototype,"readString",null);Qi([Xi],Vr.prototype,"readFixedArray",null);Qi([Xi],Vr.prototype,"readArray",null);xn.BinaryReader=Vr;function bM(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Ds(t,e,n,r,o){try{if(typeof r=="string")o[`write${bM(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new fr(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);o.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new fr(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let i=0;i<r[1];i++)Ds(t,null,n[i],r[0],o)}else o.writeArray(n,i=>{Ds(t,e,i,r[0],o)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?o.writeU8(0):(o.writeU8(1),Ds(t,e,n,r.type,o));break}case"map":{o.writeU32(n.size),n.forEach((i,a)=>{Ds(t,e,a,r.key,o),Ds(t,e,i,r.value,o)});break}default:throw new fr(`FieldType ${r} unrecognized`)}else SM(t,n,o)}catch(i){throw i instanceof fr&&i.addToFieldPath(e),i}}function SM(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new fr(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([o,i])=>{Ds(t,o,e[o],i,n)});else if(r.kind==="enum"){const o=e[r.field];for(let i=0;i<r.values.length;++i){const[a,c]=r.values[i];if(a===o){n.writeU8(i),Ds(t,a,e[a],c,n);break}}}else throw new fr(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function uC(t,e,n=EM){const r=new n;return SM(t,e,r),r.toArray()}var MM=xn.serialize=uC;function Us(t,e,n,r){try{if(typeof n=="string")return r[`read${bM(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const o=[];for(let i=0;i<n[1];i++)o.push(Us(t,null,n[0],r));return o}else return r.readArray(()=>Us(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?Us(t,e,n.type,r):void 0;if(n.kind==="map"){let o=new Map;const i=r.readU32();for(let a=0;a<i;a++){const c=Us(t,e,n.key,r),f=Us(t,e,n.value,r);o.set(c,f)}return o}return ow(t,n,r)}catch(o){throw o instanceof fr&&o.addToFieldPath(e),o}}function ow(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new fr(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const o={};for(const[i,a]of t.get(e).fields)o[i]=Us(t,i,a,n);return new e(o)}if(r.kind==="enum"){const o=n.readU8();if(o>=r.values.length)throw new fr(`Enum index: ${o} is out of range`);const[i,a]=r.values[o],c=Us(t,i,a,n);return new e({[i]:c})}throw new fr(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function cC(t,e,n,r=Vr){const o=new r(n),i=ow(t,e,o);if(o.offset<n.length)throw new fr(`Unexpected ${n.length-o.offset} bytes after deserialized data`);return i}var AM=xn.deserialize=cC;function fC(t,e,n,r=Vr){const o=new r(n);return ow(t,e,o)}vM=xn.deserializeUnchecked=fC;var ee={};Object.defineProperty(ee,"__esModule",{value:!0});var Um=ee.s16=ee.s8=ee.nu64be=ee.u48be=ee.u40be=ee.u32be=ee.u24be=ee.u16be=Sn=ee.nu64=ee.u48=ee.u40=Ve=ee.u32=ee.u24=Dr=ee.u16=nt=ee.u8=ds=ee.offset=$M=ee.greedy=ee.Constant=ee.UTF8=ee.CString=ee.Blob=ee.Boolean=ee.BitField=ee.BitStructure=ee.VariantLayout=ee.Union=ee.UnionLayoutDiscriminator=ee.UnionDiscriminator=ee.Structure=ee.Sequence=ee.DoubleBE=ee.Double=ee.FloatBE=ee.Float=ee.NearInt64BE=ee.NearInt64=ee.NearUInt64BE=ee.NearUInt64=ee.IntBE=ee.Int=ee.UIntBE=ee.UInt=ee.OffsetLayout=ee.GreedyCount=ee.ExternalLayout=ee.bindConstructorLayout=ee.nameWithProperty=ee.Layout=ee.uint8ArrayToBuffer=ee.checkUint8Array=void 0;ee.constant=ee.utf8=ee.cstr=It=ee.blob=ee.unionLayoutDiscriminator=ee.union=_n=ee.seq=ee.bits=Se=ee.struct=ee.f64be=ee.f64=ee.f32be=ee.f32=ee.ns64be=ee.s48be=ee.s40be=ee.s32be=ee.s24be=ee.s16be=cr=ee.ns64=ee.s48=ee.s40=ee.s32=ee.s24=void 0;const sw=Ze;function ql(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}ee.checkUint8Array=ql;function wt(t){return ql(t),sw.Buffer.from(t.buffer,t.byteOffset,t.length)}ee.uint8ArrayToBuffer=wt;let Mt=class{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}};ee.Layout=Mt;function aw(t,e){return e.property?t+"["+e.property+"]":t}ee.nameWithProperty=aw;function hC(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Mt))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}ee.bindConstructorLayout=hC;let Er=class extends Mt{isCount(){throw new Error("ExternalLayout is abstract")}};ee.ExternalLayout=Er;let xM=class extends Er{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){ql(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}};ee.GreedyCount=xM;let lw=class extends Er{constructor(e,n=0,r){if(!(e instanceof Mt))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof ni||this.layout instanceof xi}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}};ee.OffsetLayout=lw;let ni=class extends Mt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return wt(e).readUIntLE(n,this.span)}encode(e,n,r=0){return wt(n).writeUIntLE(e,r,this.span),this.span}};ee.UInt=ni;let xi=class extends Mt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return wt(e).readUIntBE(n,this.span)}encode(e,n,r=0){return wt(n).writeUIntBE(e,r,this.span),this.span}};ee.UIntBE=xi;let va=class extends Mt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return wt(e).readIntLE(n,this.span)}encode(e,n,r=0){return wt(n).writeIntLE(e,r,this.span),this.span}};ee.Int=va;let Gl=class extends Mt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return wt(e).readIntBE(n,this.span)}encode(e,n,r=0){return wt(n).writeIntBE(e,r,this.span),this.span}};ee.IntBE=Gl;const zm=Math.pow(2,32);function Wd(t){const e=Math.floor(t/zm),n=t-e*zm;return{hi32:e,lo32:n}}function Fd(t,e){return t*zm+e}let RM=class extends Mt{constructor(e){super(8,e)}decode(e,n=0){const r=wt(e),o=r.readUInt32LE(n),i=r.readUInt32LE(n+4);return Fd(i,o)}encode(e,n,r=0){const o=Wd(e),i=wt(n);return i.writeUInt32LE(o.lo32,r),i.writeUInt32LE(o.hi32,r+4),8}};ee.NearUInt64=RM;let IM=class extends Mt{constructor(e){super(8,e)}decode(e,n=0){const r=wt(e),o=r.readUInt32BE(n),i=r.readUInt32BE(n+4);return Fd(o,i)}encode(e,n,r=0){const o=Wd(e),i=wt(n);return i.writeUInt32BE(o.hi32,r),i.writeUInt32BE(o.lo32,r+4),8}};ee.NearUInt64BE=IM;let NM=class extends Mt{constructor(e){super(8,e)}decode(e,n=0){const r=wt(e),o=r.readUInt32LE(n),i=r.readInt32LE(n+4);return Fd(i,o)}encode(e,n,r=0){const o=Wd(e),i=wt(n);return i.writeUInt32LE(o.lo32,r),i.writeInt32LE(o.hi32,r+4),8}};ee.NearInt64=NM;let TM=class extends Mt{constructor(e){super(8,e)}decode(e,n=0){const r=wt(e),o=r.readInt32BE(n),i=r.readUInt32BE(n+4);return Fd(o,i)}encode(e,n,r=0){const o=Wd(e),i=wt(n);return i.writeInt32BE(o.hi32,r),i.writeUInt32BE(o.lo32,r+4),8}};ee.NearInt64BE=TM;let kM=class extends Mt{constructor(e){super(4,e)}decode(e,n=0){return wt(e).readFloatLE(n)}encode(e,n,r=0){return wt(n).writeFloatLE(e,r),4}};ee.Float=kM;let CM=class extends Mt{constructor(e){super(4,e)}decode(e,n=0){return wt(e).readFloatBE(n)}encode(e,n,r=0){return wt(n).writeFloatBE(e,r),4}};ee.FloatBE=CM;let OM=class extends Mt{constructor(e){super(8,e)}decode(e,n=0){return wt(e).readDoubleLE(n)}encode(e,n,r=0){return wt(n).writeDoubleLE(e,r),8}};ee.Double=OM;let LM=class extends Mt{constructor(e){super(8,e)}decode(e,n=0){return wt(e).readDoubleBE(n)}encode(e,n,r=0){return wt(n).writeDoubleBE(e,r),8}};ee.DoubleBE=LM;let BM=class extends Mt{constructor(e,n,r){if(!(e instanceof Mt))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof Er&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(n instanceof Er)&&0<e.span&&(o=n*e.span),super(o,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,o=this.count;if(o instanceof Er&&(o=o.decode(e,n)),0<this.elementLayout.span)r=o*this.elementLayout.span;else{let i=0;for(;i<o;)r+=this.elementLayout.getSpan(e,n+r),++i}return r}decode(e,n=0){const r=[];let o=0,i=this.count;for(i instanceof Er&&(i=i.decode(e,n));o<i;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),o+=1;return r}encode(e,n,r=0){const o=this.elementLayout,i=e.reduce((a,c)=>a+o.encode(c,n,r+a),0);return this.count instanceof Er&&this.count.encode(e.length,n,r),i}};ee.Sequence=BM;let PM=class extends Mt{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((i,a)=>i&&a instanceof Mt,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((i,a)=>i+a.getSpan(),0)}catch{}super(o,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((o,i)=>{const a=i.getSpan(e,n);return n+=a,o+a},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){ql(e);const r=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(r[o.property]=o.decode(e,n)),n+=o.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const o=r;let i=0,a=0;for(const c of this.fields){let f=c.span;if(a=0<f?f:0,c.property!==void 0){const g=e[c.property];g!==void 0&&(a=c.encode(g,n,r),0>f&&(f=c.getSpan(n,r)))}i=r,r+=f}return i+a-o}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}};ee.Structure=PM;let uw=class{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}};ee.UnionDiscriminator=uw;let Zh=class extends uw{constructor(e,n){if(!(e instanceof Er&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}};ee.UnionLayoutDiscriminator=Zh;let cw=class extends Mt{constructor(e,n,r){let o;if(e instanceof ni||e instanceof xi)o=new Zh(new lw(e));else if(e instanceof Er&&e.isCount())o=new Zh(e);else if(e instanceof uw)o=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Mt))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let i=-1;n&&(i=n.span,0<=i&&(e instanceof ni||e instanceof xi)&&(i+=o.layout.span)),super(i,r),this.discriminator=o,this.usesPrefixDiscriminator=e instanceof ni||e instanceof xi,this.defaultLayout=n,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return a(c)},this.configGetSourceVariant=function(c){a=c.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const o=this.discriminator,i=o.decode(e,n),a=this.registry[i];if(a===void 0){const c=this.defaultLayout;let f=0;this.usesPrefixDiscriminator&&(f=o.layout.span),r=this.makeDestinationObject(),r[o.property]=i,r[c.property]=c.decode(e,n+f)}else r=a.decode(e,n);return r}encode(e,n,r=0){const o=this.getSourceVariant(e);if(o===void 0){const i=this.discriminator,a=this.defaultLayout;let c=0;return this.usesPrefixDiscriminator&&(c=i.layout.span),i.encode(e[i.property],n,r),c+a.encode(e[a.property],n,r+c)}return o.encode(e,n,r)}addVariant(e,n,r){const o=new DM(this,e,n,r);return this.registry[e]=o,o}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}};ee.Union=cw;let DM=class extends Mt{constructor(e,n,r,o){if(!(e instanceof cw))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&o===void 0&&(o=r,r=null),r){if(!(r instanceof Mt))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,o),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let o=0;return this.layout&&(o=this.layout.getSpan(e,n+r)),r+o}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+o):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let i=o;if(this.layout&&(this.layout.encode(e[this.property],n,r+o),i+=this.layout.getSpan(n,r+o),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};ee.VariantLayout=DM;function Ca(t){return 0>t&&(t+=4294967296),t}let fw=class extends Mt{constructor(e,n,r){if(!(e instanceof ni||e instanceof xi))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let o=0;this._packedSetValue=function(i){return o=Ca(i),this},this._packedGetValue=function(){return o}}decode(e,n=0){const r=this.makeDestinationObject(),o=this.word.decode(e,n);this._packedSetValue(o);for(const i of this.fields)i.property!==void 0&&(r[i.property]=i.decode(e));return r}encode(e,n,r=0){const o=this.word.decode(n,r);this._packedSetValue(o);for(const i of this.fields)if(i.property!==void 0){const a=e[i.property];a!==void 0&&i.encode(a)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new hw(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new UM(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}};ee.BitStructure=fw;let hw=class{constructor(e,n,r){if(!(e instanceof fw))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const o=8*e.span,i=e.fields.reduce((a,c)=>a+c.bits,0);if(n+i>o)throw new Error("bits too long for span remainder ("+(o-i)+" of "+o+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=o-i-n),this.wordMask=Ca(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return Ca(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Ca(e&this.valueMask))throw new TypeError(aw("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Ca(e<<this.start);this.container._packedSetValue(Ca(n&~this.wordMask)|r)}};ee.BitField=hw;let UM=class extends hw{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};ee.Boolean=UM;let zM=class extends Mt{constructor(e,n){if(!(e instanceof Er&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Er||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),wt(e).slice(n,n+r)}encode(e,n,r){let o=this.length;if(this.length instanceof Er&&(o=e.length),!(e instanceof Uint8Array&&o===e.length))throw new TypeError(aw("Blob.encode",this)+" requires (length "+o+") Uint8Array as src");if(r+o>n.length)throw new RangeError("encoding overruns Uint8Array");const i=wt(e);return wt(n).write(i.toString("hex"),r,o,"hex"),this.length instanceof Er&&this.length.encode(o,n,r),o}};ee.Blob=zM;let jM=class extends Mt{constructor(e){super(-1,e)}getSpan(e,n=0){ql(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return wt(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const o=sw.Buffer.from(e,"utf8"),i=o.length;if(r+i>n.length)throw new RangeError("encoding overruns Buffer");const a=wt(n);return o.copy(a,r),a[r+i]=0,i+1}};ee.CString=jM;let WM=class extends Mt{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return ql(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return wt(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const o=sw.Buffer.from(e,"utf8"),i=o.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return o.copy(wt(n),r),i}};ee.UTF8=WM;let FM=class extends Mt{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}};ee.Constant=FM;var $M=ee.greedy=(t,e)=>new xM(t,e),ds=ee.offset=(t,e,n)=>new lw(t,e,n),nt=ee.u8=t=>new ni(1,t),Dr=ee.u16=t=>new ni(2,t);ee.u24=t=>new ni(3,t);var Ve=ee.u32=t=>new ni(4,t);ee.u40=t=>new ni(5,t);ee.u48=t=>new ni(6,t);var Sn=ee.nu64=t=>new RM(t);ee.u16be=t=>new xi(2,t);ee.u24be=t=>new xi(3,t);ee.u32be=t=>new xi(4,t);ee.u40be=t=>new xi(5,t);ee.u48be=t=>new xi(6,t);ee.nu64be=t=>new IM(t);ee.s8=t=>new va(1,t);Um=ee.s16=t=>new va(2,t);ee.s24=t=>new va(3,t);ee.s32=t=>new va(4,t);ee.s40=t=>new va(5,t);ee.s48=t=>new va(6,t);var cr=ee.ns64=t=>new NM(t);ee.s16be=t=>new Gl(2,t);ee.s24be=t=>new Gl(3,t);ee.s32be=t=>new Gl(4,t);ee.s40be=t=>new Gl(5,t);ee.s48be=t=>new Gl(6,t);ee.ns64be=t=>new TM(t);ee.f32=t=>new kM(t);ee.f32be=t=>new CM(t);ee.f64=t=>new OM(t);ee.f64be=t=>new LM(t);var Se=ee.struct=(t,e,n)=>new PM(t,e,n);ee.bits=(t,e,n)=>new fw(t,e,n);var _n=ee.seq=(t,e,n)=>new BM(t,e,n);ee.union=(t,e,n)=>new cw(t,e,n);ee.unionLayoutDiscriminator=(t,e)=>new Zh(t,e);var It=ee.blob=(t,e)=>new zM(t,e);ee.cstr=t=>new jM(t);ee.utf8=(t,e)=>new WM(t,e);ee.constant=(t,e)=>new FM(t,e);var dC=8078e3,pC=8078001,mC=8078004,gC=8078005,yC=8078006,wC=8078011;function HM(t){return Array.isArray(t)?"%5B"+t.map(HM).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function vC([t,e]){return`${t}=${HM(e)}`}function _C(t){const e=Object.entries(t).map(vC).join("&");return btoa(e)}function EC(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${_C(e)}'`),`${n}\``}}var dl=class extends Error{constructor(...[e,n]){let r,o;if(n){const{cause:a,...c}=n;a&&(o={cause:a}),Object.keys(c).length>0&&(r=c)}const i=EC(e,r);super(i,o);Vt(this,"cause",this.cause);Vt(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function bC(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function SC(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(bC(e,t));return t.write(e,n,0),n}})}function MC(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function Ta(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function AC(t,e){if(Ta(t)!==Ta(e))throw new dl(mC);if(Ta(t)&&Ta(e)&&t.fixedSize!==e.fixedSize)throw new dl(gC,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!Ta(t)&&!Ta(e)&&t.maxSize!==e.maxSize)throw new dl(yC,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function xC(t,e,n=0){if(e.length-n<=0)throw new dl(dC,{codecDescription:t})}function RC(t,e,n,r=0){const o=n.length-r;if(o<e)throw new dl(pC,{bytesLength:o,codecDescription:t,expected:e})}function IC(t,e,n,r){if(r<e||r>n)throw new dl(wC,{codecDescription:t,max:n,min:e,value:r})}function KM(t){return(t==null?void 0:t.endian)!==1}function NC(t){return SC({fixedSize:t.size,write(e,n,r){t.range&&IC(t.name,t.range[0],t.range[1],e);const o=new ArrayBuffer(t.size);return t.set(new DataView(o),e,KM(t.config)),n.set(new Uint8Array(o),r),r+t.size}})}function TC(t){return MC({fixedSize:t.size,read(e,n=0){xC(t.name,e,n),RC(t.name,t.size,e,n);const r=new DataView(kC(e,n,t.size));return[t.get(r,KM(t.config)),n+t.size]}})}function kC(t,e,n){const r=t.byteOffset+(e??0),o=n??t.byteLength;return t.buffer.slice(r,r+o)}var VM=(t={})=>NC({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),CC=(t={})=>TC({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),OC=(t={})=>AC(VM(t),CC(t));let LC=class extends TypeError{constructor(e,n){let r;const{message:o,explanation:i,...a}=e,{path:c}=e,f=c.length===0?o:`At path: ${c.join(".")} -- ${o}`;super(i??f),i!=null&&(this.cause=f),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}};function BC(t){return Rc(t)&&typeof t[Symbol.iterator]=="function"}function Rc(t){return typeof t=="object"&&t!=null}function Yh(t){return Rc(t)&&!Array.isArray(t)}function Ii(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function PC(t){const{done:e,value:n}=t.next();return e?void 0:n}function DC(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:o,branch:i}=e,{type:a}=n,{refinement:c,message:f=`Expected a value of type \`${a}\`${c?` with refinement \`${c}\``:""}, but received: \`${Ii(r)}\``}=t;return{value:r,type:a,refinement:c,key:o[o.length-1],path:o,branch:i,...t,message:f}}function*Cv(t,e,n,r){BC(t)||(t=[t]);for(const o of t){const i=DC(o,e,n,r);i&&(yield i)}}function*dw(t,e,n={}){const{path:r=[],branch:o=[t],coerce:i=!1,mask:a=!1}=n,c={path:r,branch:o,mask:a};i&&(t=e.coercer(t,c));let f="valid";for(const g of e.validator(t,c))g.explanation=n.message,f="not_valid",yield[g,void 0];for(let[g,_,M]of e.entries(t,c)){const S=dw(_,M,{path:g===void 0?r:[...r,g],branch:g===void 0?o:[...o,_],coerce:i,mask:a,message:n.message});for(const E of S)E[0]?(f=E[0].refinement!=null?"not_refined":"not_valid",yield[E[0],void 0]):i&&(_=E[1],g===void 0?t=_:t instanceof Map?t.set(g,_):t instanceof Set?t.add(_):Rc(t)&&(_!==void 0||g in t)&&(t[g]=_))}if(f!=="not_valid")for(const g of e.refiner(t,c))g.explanation=n.message,f="not_refined",yield[g,void 0];f==="valid"&&(yield[void 0,t])}let Ji=class{constructor(e){const{type:n,schema:r,validator:o,refiner:i,coercer:a=f=>f,entries:c=function*(){}}=e;this.type=n,this.schema=r,this.entries=c,this.coercer=a,o?this.validator=(f,g)=>{const _=o(f,g);return Cv(_,g,this,f)}:this.validator=()=>[],i?this.refiner=(f,g)=>{const _=i(f,g);return Cv(_,g,this,f)}:this.refiner=()=>[]}assert(e,n){return qM(e,this,n)}create(e,n){return Fe(e,this,n)}is(e){return GM(e,this)}mask(e,n){return UC(e,this,n)}validate(e,n={}){return Ic(e,this,n)}};function qM(t,e,n){const r=Ic(t,e,{message:n});if(r[0])throw r[0]}function Fe(t,e,n){const r=Ic(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function UC(t,e,n){const r=Ic(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function GM(t,e){return!Ic(t,e)[0]}function Ic(t,e,n={}){const r=dw(t,e,n),o=PC(r);return o[0]?[new LC(o[0],function*(){for(const a of r)a[0]&&(yield a[0])}),void 0]:[void 0,o[1]]}function _a(t,e){return new Ji({type:t,schema:null,validator:e})}function zC(){return _a("any",()=>!0)}function He(t){return new Ji({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Ii(e)}`}})}function Zi(){return _a("boolean",t=>typeof t=="boolean")}function pw(t){return _a("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${Ii(e)}`)}function jt(t){const e=Ii(t),n=typeof t;return new Ji({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${Ii(r)}`}})}function jC(){return _a("never",()=>!1)}function Ke(t){return new Ji({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function X(){return _a("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${Ii(t)}`)}function Xe(t){return new Ji({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function ZM(t,e){return new Ji({type:"record",schema:null,*entries(n){if(Rc(n))for(const r in n){const o=n[r];yield[r,r,t],yield[r,o,e]}},validator(n){return Yh(n)||`Expected an object, but received: ${Ii(n)}`},coercer(n){return Yh(n)?{...n}:n}})}function Me(){return _a("string",t=>typeof t=="string"||`Expected a string, but received: ${Ii(t)}`)}function mw(t){const e=jC();return new Ji({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let o=0;o<r;o++)yield[o,n[o],t[o]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${Ii(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function le(t){const e=Object.keys(t);return new Ji({type:"type",schema:t,*entries(n){if(Rc(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return Yh(n)||`Expected an object, but received: ${Ii(n)}`},coercer(n){return Yh(n)?{...n}:n}})}function pr(t){const e=t.map(n=>n.type).join(" | ");return new Ji({type:"union",schema:null,coercer(n,r){for(const o of t){const[i,a]=o.validate(n,{coerce:!0,mask:r.mask});if(!i)return a}return n},validator(n,r){const o=[];for(const i of t){const[...a]=dw(n,i,r),[c]=a;if(c[0])for(const[f]of a)f&&o.push(f);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Ii(n)}`,...o]}})}function Zl(){return _a("unknown",()=>!0)}function Nc(t,e,n){return new Ji({...t,coercer:(r,o)=>GM(r,e)?t.coercer(n(r,o),o):t.coercer(r,o)})}var hf,WC=new Uint8Array(16);function YM(){if(!hf&&(hf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!hf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return hf(WC)}const FC=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function $d(t){return typeof t=="string"&&FC.test(t)}var bn=[];for(var np=0;np<256;++np)bn.push((np+256).toString(16).substr(1));function Hd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(bn[t[e+0]]+bn[t[e+1]]+bn[t[e+2]]+bn[t[e+3]]+"-"+bn[t[e+4]]+bn[t[e+5]]+"-"+bn[t[e+6]]+bn[t[e+7]]+"-"+bn[t[e+8]]+bn[t[e+9]]+"-"+bn[t[e+10]]+bn[t[e+11]]+bn[t[e+12]]+bn[t[e+13]]+bn[t[e+14]]+bn[t[e+15]]).toLowerCase();if(!$d(n))throw TypeError("Stringified UUID is invalid");return n}var Ov,rp,ip=0,op=0;function $C(t,e,n){var r=e&&n||0,o=e||new Array(16);t=t||{};var i=t.node||Ov,a=t.clockseq!==void 0?t.clockseq:rp;if(i==null||a==null){var c=t.random||(t.rng||YM)();i==null&&(i=Ov=[c[0]|1,c[1],c[2],c[3],c[4],c[5]]),a==null&&(a=rp=(c[6]<<8|c[7])&16383)}var f=t.msecs!==void 0?t.msecs:Date.now(),g=t.nsecs!==void 0?t.nsecs:op+1,_=f-ip+(g-op)/1e4;if(_<0&&t.clockseq===void 0&&(a=a+1&16383),(_<0||f>ip)&&t.nsecs===void 0&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ip=f,op=g,rp=a,f+=122192928e5;var M=((f&268435455)*1e4+g)%4294967296;o[r++]=M>>>24&255,o[r++]=M>>>16&255,o[r++]=M>>>8&255,o[r++]=M&255;var S=f/4294967296*1e4&268435455;o[r++]=S>>>8&255,o[r++]=S&255,o[r++]=S>>>24&15|16,o[r++]=S>>>16&255,o[r++]=a>>>8|128,o[r++]=a&255;for(var E=0;E<6;++E)o[r+E]=i[E];return e||Hd(o)}function QM(t){if(!$d(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function HC(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var KC="6ba7b810-9dad-11d1-80b4-00c04fd430c8",VC="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function XM(t,e,n){function r(o,i,a,c){if(typeof o=="string"&&(o=HC(o)),typeof i=="string"&&(i=QM(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var f=new Uint8Array(16+o.length);if(f.set(i),f.set(o,i.length),f=n(f),f[6]=f[6]&15|e,f[8]=f[8]&63|128,a){c=c||0;for(var g=0;g<16;++g)a[c+g]=f[g];return a}return Hd(f)}try{r.name=t}catch{}return r.DNS=KC,r.URL=VC,r}function qC(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return GC(ZC(YC(t),t.length*8))}function GC(t){for(var e=[],n=t.length*32,r="0123456789abcdef",o=0;o<n;o+=8){var i=t[o>>5]>>>o%32&255,a=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);e.push(a)}return e}function JM(t){return(t+64>>>9<<4)+14+1}function ZC(t,e){t[e>>5]|=128<<e%32,t[JM(e)-1]=e;for(var n=1732584193,r=-271733879,o=-1732584194,i=271733878,a=0;a<t.length;a+=16){var c=n,f=r,g=o,_=i;n=Ln(n,r,o,i,t[a],7,-680876936),i=Ln(i,n,r,o,t[a+1],12,-389564586),o=Ln(o,i,n,r,t[a+2],17,606105819),r=Ln(r,o,i,n,t[a+3],22,-1044525330),n=Ln(n,r,o,i,t[a+4],7,-176418897),i=Ln(i,n,r,o,t[a+5],12,1200080426),o=Ln(o,i,n,r,t[a+6],17,-1473231341),r=Ln(r,o,i,n,t[a+7],22,-45705983),n=Ln(n,r,o,i,t[a+8],7,1770035416),i=Ln(i,n,r,o,t[a+9],12,-1958414417),o=Ln(o,i,n,r,t[a+10],17,-42063),r=Ln(r,o,i,n,t[a+11],22,-1990404162),n=Ln(n,r,o,i,t[a+12],7,1804603682),i=Ln(i,n,r,o,t[a+13],12,-40341101),o=Ln(o,i,n,r,t[a+14],17,-1502002290),r=Ln(r,o,i,n,t[a+15],22,1236535329),n=Bn(n,r,o,i,t[a+1],5,-165796510),i=Bn(i,n,r,o,t[a+6],9,-1069501632),o=Bn(o,i,n,r,t[a+11],14,643717713),r=Bn(r,o,i,n,t[a],20,-373897302),n=Bn(n,r,o,i,t[a+5],5,-701558691),i=Bn(i,n,r,o,t[a+10],9,38016083),o=Bn(o,i,n,r,t[a+15],14,-660478335),r=Bn(r,o,i,n,t[a+4],20,-405537848),n=Bn(n,r,o,i,t[a+9],5,568446438),i=Bn(i,n,r,o,t[a+14],9,-1019803690),o=Bn(o,i,n,r,t[a+3],14,-187363961),r=Bn(r,o,i,n,t[a+8],20,1163531501),n=Bn(n,r,o,i,t[a+13],5,-1444681467),i=Bn(i,n,r,o,t[a+2],9,-51403784),o=Bn(o,i,n,r,t[a+7],14,1735328473),r=Bn(r,o,i,n,t[a+12],20,-1926607734),n=Pn(n,r,o,i,t[a+5],4,-378558),i=Pn(i,n,r,o,t[a+8],11,-2022574463),o=Pn(o,i,n,r,t[a+11],16,1839030562),r=Pn(r,o,i,n,t[a+14],23,-35309556),n=Pn(n,r,o,i,t[a+1],4,-1530992060),i=Pn(i,n,r,o,t[a+4],11,1272893353),o=Pn(o,i,n,r,t[a+7],16,-155497632),r=Pn(r,o,i,n,t[a+10],23,-1094730640),n=Pn(n,r,o,i,t[a+13],4,681279174),i=Pn(i,n,r,o,t[a],11,-358537222),o=Pn(o,i,n,r,t[a+3],16,-722521979),r=Pn(r,o,i,n,t[a+6],23,76029189),n=Pn(n,r,o,i,t[a+9],4,-640364487),i=Pn(i,n,r,o,t[a+12],11,-421815835),o=Pn(o,i,n,r,t[a+15],16,530742520),r=Pn(r,o,i,n,t[a+2],23,-995338651),n=Dn(n,r,o,i,t[a],6,-198630844),i=Dn(i,n,r,o,t[a+7],10,1126891415),o=Dn(o,i,n,r,t[a+14],15,-1416354905),r=Dn(r,o,i,n,t[a+5],21,-57434055),n=Dn(n,r,o,i,t[a+12],6,1700485571),i=Dn(i,n,r,o,t[a+3],10,-1894986606),o=Dn(o,i,n,r,t[a+10],15,-1051523),r=Dn(r,o,i,n,t[a+1],21,-2054922799),n=Dn(n,r,o,i,t[a+8],6,1873313359),i=Dn(i,n,r,o,t[a+15],10,-30611744),o=Dn(o,i,n,r,t[a+6],15,-1560198380),r=Dn(r,o,i,n,t[a+13],21,1309151649),n=Dn(n,r,o,i,t[a+4],6,-145523070),i=Dn(i,n,r,o,t[a+11],10,-1120210379),o=Dn(o,i,n,r,t[a+2],15,718787259),r=Dn(r,o,i,n,t[a+9],21,-343485551),n=ts(n,c),r=ts(r,f),o=ts(o,g),i=ts(i,_)}return[n,r,o,i]}function YC(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(JM(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function ts(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function QC(t,e){return t<<e|t>>>32-e}function Kd(t,e,n,r,o,i){return ts(QC(ts(ts(e,t),ts(r,i)),o),n)}function Ln(t,e,n,r,o,i,a){return Kd(e&n|~e&r,t,e,o,i,a)}function Bn(t,e,n,r,o,i,a){return Kd(e&r|n&~r,t,e,o,i,a)}function Pn(t,e,n,r,o,i,a){return Kd(e^n^r,t,e,o,i,a)}function Dn(t,e,n,r,o,i,a){return Kd(n^(e|~r),t,e,o,i,a)}var XC=XM("v3",48,qC);function JC(t,e,n){t=t||{};var r=t.random||(t.rng||YM)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return Hd(r)}function eO(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function sp(t,e){return t<<e|t>>>32-e}function tO(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var o=0;o<r.length;++o)t.push(r.charCodeAt(o))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var i=t.length/4+2,a=Math.ceil(i/16),c=new Array(a),f=0;f<a;++f){for(var g=new Uint32Array(16),_=0;_<16;++_)g[_]=t[f*64+_*4]<<24|t[f*64+_*4+1]<<16|t[f*64+_*4+2]<<8|t[f*64+_*4+3];c[f]=g}c[a-1][14]=(t.length-1)*8/Math.pow(2,32),c[a-1][14]=Math.floor(c[a-1][14]),c[a-1][15]=(t.length-1)*8&4294967295;for(var M=0;M<a;++M){for(var S=new Uint32Array(80),E=0;E<16;++E)S[E]=c[M][E];for(var A=16;A<80;++A)S[A]=sp(S[A-3]^S[A-8]^S[A-14]^S[A-16],1);for(var k=n[0],C=n[1],R=n[2],T=n[3],N=n[4],O=0;O<80;++O){var D=Math.floor(O/20),z=sp(k,5)+eO(D,C,R,T)+N+e[D]+S[O]>>>0;N=T,T=R,R=sp(C,30)>>>0,C=k,k=z}n[0]=n[0]+k>>>0,n[1]=n[1]+C>>>0,n[2]=n[2]+R>>>0,n[3]=n[3]+T>>>0,n[4]=n[4]+N>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var nO=XM("v5",80,tO);const rO="00000000-0000-0000-0000-000000000000";function iO(t){if(!$d(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const oO=Object.freeze(Object.defineProperty({__proto__:null,NIL:rO,parse:QM,stringify:Hd,v1:$C,v3:XC,v4:JC,v5:nO,validate:$d,version:iO},Symbol.toStringTag,{value:"Module"})),e2=To(oO),sO=e2.v4,aO=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const o=typeof r.version=="number"?r.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");const i={method:t};if(o===2&&(i.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");i.params=e}if(typeof n>"u"){const a=typeof r.generator=="function"?r.generator:function(){return sO()};i.id=a(i,r)}else o===2&&n===null?r.notificationIdNull&&(i.id=null):i.id=n;return i};var lO=aO;const uO=e2.v4,cO=lO,cc=function(t,e){if(!(this instanceof cc))return new cc(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return uO()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var fO=cc;cc.prototype.request=function(t,e,n,r){const o=this;let i=null;const a=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&t&&typeof t=="object"&&typeof e=="function")r=e,i=t;else{typeof n=="function"&&(r=n,n=void 0);const g=typeof r=="function";try{i=cO(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(_){if(g)return r(_);throw _}if(!g)return i}let f;try{f=JSON.stringify(i,this.options.replacer)}catch(g){return r(g)}return this.callServer(f,function(g,_){o._parseResponse(g,_,r)}),i};cc.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(o){return n(o)}if(n.length===3)if(Array.isArray(r)){const o=function(a){return typeof a.error<"u"},i=function(a){return!o(a)};return n(null,r.filter(o),r.filter(i))}else return n(null,r.error,r.result);n(null,r)};const hO=Yi(fO);var t2={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function o(f,g,_){this.fn=f,this.context=g,this.once=_||!1}function i(f,g,_,M,S){if(typeof _!="function")throw new TypeError("The listener must be a function");var E=new o(_,M||f,S),A=n?n+g:g;return f._events[A]?f._events[A].fn?f._events[A]=[f._events[A],E]:f._events[A].push(E):(f._events[A]=E,f._eventsCount++),f}function a(f,g){--f._eventsCount===0?f._events=new r:delete f._events[g]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var g=[],_,M;if(this._eventsCount===0)return g;for(M in _=this._events)e.call(_,M)&&g.push(n?M.slice(1):M);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(_)):g},c.prototype.listeners=function(g){var _=n?n+g:g,M=this._events[_];if(!M)return[];if(M.fn)return[M.fn];for(var S=0,E=M.length,A=new Array(E);S<E;S++)A[S]=M[S].fn;return A},c.prototype.listenerCount=function(g){var _=n?n+g:g,M=this._events[_];return M?M.fn?1:M.length:0},c.prototype.emit=function(g,_,M,S,E,A){var k=n?n+g:g;if(!this._events[k])return!1;var C=this._events[k],R=arguments.length,T,N;if(C.fn){switch(C.once&&this.removeListener(g,C.fn,void 0,!0),R){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,_),!0;case 3:return C.fn.call(C.context,_,M),!0;case 4:return C.fn.call(C.context,_,M,S),!0;case 5:return C.fn.call(C.context,_,M,S,E),!0;case 6:return C.fn.call(C.context,_,M,S,E,A),!0}for(N=1,T=new Array(R-1);N<R;N++)T[N-1]=arguments[N];C.fn.apply(C.context,T)}else{var O=C.length,D;for(N=0;N<O;N++)switch(C[N].once&&this.removeListener(g,C[N].fn,void 0,!0),R){case 1:C[N].fn.call(C[N].context);break;case 2:C[N].fn.call(C[N].context,_);break;case 3:C[N].fn.call(C[N].context,_,M);break;case 4:C[N].fn.call(C[N].context,_,M,S);break;default:if(!T)for(D=1,T=new Array(R-1);D<R;D++)T[D-1]=arguments[D];C[N].fn.apply(C[N].context,T)}}return!0},c.prototype.on=function(g,_,M){return i(this,g,_,M,!1)},c.prototype.once=function(g,_,M){return i(this,g,_,M,!0)},c.prototype.removeListener=function(g,_,M,S){var E=n?n+g:g;if(!this._events[E])return this;if(!_)return a(this,E),this;var A=this._events[E];if(A.fn)A.fn===_&&(!S||A.once)&&(!M||A.context===M)&&a(this,E);else{for(var k=0,C=[],R=A.length;k<R;k++)(A[k].fn!==_||S&&!A[k].once||M&&A[k].context!==M)&&C.push(A[k]);C.length?this._events[E]=C.length===1?C[0]:C:a(this,E)}return this},c.prototype.removeAllListeners=function(g){var _;return g?(_=n?n+g:g,this._events[_]&&a(this,_)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(t2);var dO=t2.exports;const Vd=Yi(dO);var pO=class extends Vd{constructor(e,n,r){super();Vt(this,"socket");this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=o=>this.emit("message",o.data),this.socket.onerror=o=>this.emit("error",o),this.socket.onclose=o=>{this.emit("close",o.code,o.reason)}}send(e,n,r){const o=r||n;try{this.socket.send(e),o()}catch(i){o(i)}}close(e,n){this.socket.close(e,n)}addEventListener(e,n,r){this.socket.addEventListener(e,n,r)}};function mO(t,e){return new pO(t,e)}var gO=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},yO=class extends Vd{constructor(e,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:o=!0,reconnect_interval:i=1e3,max_reconnects:a=5,...c}={},f,g){super();Vt(this,"address");Vt(this,"rpc_id");Vt(this,"queue");Vt(this,"options");Vt(this,"autoconnect");Vt(this,"ready");Vt(this,"reconnect");Vt(this,"reconnect_timer_id");Vt(this,"reconnect_interval");Vt(this,"max_reconnects");Vt(this,"rest_options");Vt(this,"current_reconnects");Vt(this,"generate_request_id");Vt(this,"socket");Vt(this,"webSocketFactory");Vt(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=o,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=a,this.rest_options=c,this.current_reconnects=0,this.generate_request_id=f||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),g?this.dataPack=g:this.dataPack=new gO,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,n,r,o){return!o&&typeof r=="object"&&(o=r,r=null),new Promise((i,a)=>{if(!this.ready)return a(new Error("socket not ready"));const c=this.generate_request_id(e,n),f={jsonrpc:"2.0",method:e,params:n||void 0,id:c};this.socket.send(this.dataPack.encode(f),o,g=>{if(g)return a(g);this.queue[c]={promise:[i,a]},r&&(this.queue[c].timeout=setTimeout(()=>{delete this.queue[c],a(new Error("reply timeout"))},r))})})}async login(e){const n=await this.call("rpc.login",e);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(e,n){return new Promise((r,o)=>{if(!this.ready)return o(new Error("socket not ready"));const i={jsonrpc:"2.0",method:e,params:n};this.socket.send(this.dataPack.encode(i),a=>{if(a)return o(a);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.on",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);return n}async unsubscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.off",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(e,n){this.socket.close(e||1e3,n)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=Ze.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const o=[r.notification];if(r.params.constructor===Object)o.push(r.params);else for(let i=0;i<r.params.length;i++)o.push(r.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,o)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:o})=>{this.ready&&setTimeout(()=>this.emit("close",r,o),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,n),this.reconnect_interval)))})}};const wO=BigInt(0),lu=BigInt(1),vO=BigInt(2),_O=BigInt(7),EO=BigInt(256),bO=BigInt(113),n2=[],r2=[],i2=[];for(let t=0,e=lu,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],n2.push(2*(5*r+n)),r2.push((t+1)*(t+2)/2%64);let o=wO;for(let i=0;i<7;i++)e=(e<<lu^(e>>_O)*bO)%EO,e&vO&&(o^=lu<<(lu<<BigInt(i))-lu);i2.push(o)}const o2=GS(i2,!0),SO=o2[0],MO=o2[1],Lv=(t,e,n)=>n>32?Vk(t,e,n):Hk(t,e,n),Bv=(t,e,n)=>n>32?qk(t,e,n):Kk(t,e,n);function AO(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const c=(a+8)%10,f=(a+2)%10,g=n[f],_=n[f+1],M=Lv(g,_,1)^n[c],S=Bv(g,_,1)^n[c+1];for(let E=0;E<50;E+=10)t[a+E]^=M,t[a+E+1]^=S}let o=t[2],i=t[3];for(let a=0;a<24;a++){const c=r2[a],f=Lv(o,i,c),g=Bv(o,i,c),_=n2[a];o=t[_],i=t[_+1],t[_]=f,t[_+1]=g}for(let a=0;a<50;a+=10){for(let c=0;c<10;c++)n[c]=t[a+c];for(let c=0;c<10;c++)t[a+c]^=~n[(c+2)%10]&n[(c+4)%10]}t[0]^=SO[r],t[1]^=MO[r]}vs(n)}class gw extends Zy{constructor(e,n,r,o=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=o,this.rounds=i,xl(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Lk(this.state)}clone(){return this._cloneInto()}keccak(){yv(this.state32),AO(this.state32,this.rounds),yv(this.state32),this.posOut=0,this.pos=0}update(e){Rl(this),e=Pd(e),Gi(e);const{blockLen:n,state:r}=this,o=e.length;for(let i=0;i<o;){const a=Math.min(n-this.pos,o-i);for(let c=0;c<a;c++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:o}=this;e[r]^=n,n&128&&r===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){Rl(this,!1),Gi(e),this.finish();const n=this.state,{blockLen:r}=this;for(let o=0,i=e.length;o<i;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,i-o);e.set(n.subarray(this.posOut,this.posOut+a),o),this.posOut+=a,o+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return xl(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(KS(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,vs(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:o,rounds:i,enableXOF:a}=this;return e||(e=new gw(n,r,o,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=o,e.enableXOF=a,e.destroyed=this.destroyed,e}}const xO=(t,e,n)=>Yy(()=>new gw(e,t,n)),Pv=xO(1,136,256/8);class s2 extends Zy{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,HS(e);const r=Pd(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(r.length>o?e.create().update(r).digest():r);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=e.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),vs(i)}update(e){return Rl(this),this.iHash.update(e),this}digestInto(e){Rl(this),Gi(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:i,blockLen:a,outputLen:c}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=a,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const a2=(t,e,n)=>new s2(t,e).update(n).digest();a2.create=(t,e)=>new s2(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Dv=(t,e)=>(t+(t>=0?e:-e)/l2)/e;function RO(t,e,n){const[[r,o],[i,a]]=e,c=Dv(a*t,n),f=Dv(-o*t,n);let g=t-c*r-f*i,_=-c*o-f*a;const M=g<Eo,S=_<Eo;M&&(g=-g),S&&(_=-_);const E=Ac(Math.ceil(eM(n)/2))+pl;if(g<Eo||g>=E||_<Eo||_>=E)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:M,k1:g,k2neg:S,k2:_}}function jm(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function ap(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return fa(n.lowS,"lowS"),fa(n.prehash,"prehash"),n.format!==void 0&&jm(n.format),n}class IO extends Error{constructor(e=""){super(e)}}const fo={Err:IO,_tlv:{encode:(t,e)=>{const{Err:n}=fo;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,o=uf(r);if(o.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?uf(o.length/2|128):"";return uf(t)+i+o+e},decode(t,e){const{Err:n}=fo;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const o=e[r++],i=!!(o&128);let a=0;if(!i)a=o;else{const f=o&127;if(!f)throw new n("tlv.decode(long): indefinite length not supported");if(f>4)throw new n("tlv.decode(long): byte length is too big");const g=e.subarray(r,r+f);if(g.length!==f)throw new n("tlv.decode: length bytes not complete");if(g[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const _ of g)a=a<<8|_;if(r+=f,a<128)throw new n("tlv.decode(long): not minimal encoding")}const c=e.subarray(r,r+a);if(c.length!==a)throw new n("tlv.decode: wrong value length");return{v:c,l:e.subarray(r+a)}}},_int:{encode(t){const{Err:e}=fo;if(t<Eo)throw new e("integer: negative integers are not allowed");let n=uf(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=fo;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Ud(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=fo,o=Gt("signature",t),{v:i,l:a}=r.decode(48,o);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:c,l:f}=r.decode(2,i),{v:g,l:_}=r.decode(2,f);if(_.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(g)}},hexFromSig(t){const{_tlv:e,_int:n}=fo,r=e.encode(2,n.encode(t.r)),o=e.encode(2,n.encode(t.s)),i=r+o;return e.encode(48,i)}},Eo=BigInt(0),pl=BigInt(1),l2=BigInt(2),df=BigInt(3),NO=BigInt(4);function rl(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let o=Gt("private key",e);try{r=t.fromBytes(o)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function TO(t,e={}){const n=gM("weierstrass",t,e),{Fp:r,Fn:o}=n;let i=n.CURVE;const{h:a,n:c}=i;xc(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:f}=e;if(f&&(!r.is0(i.a)||typeof f.beta!="bigint"||!Array.isArray(f.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const g=c2(r,o);function _(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function M(V,d,s){const{x:u,y:h}=d.toAffine(),p=r.toBytes(u);if(fa(s,"isCompressed"),s){_();const y=!r.isOdd(h);return Xr(u2(y),p)}else return Xr(Uint8Array.of(4),p,r.toBytes(h))}function S(V){Ei(V,void 0,"Point");const{publicKey:d,publicKeyUncompressed:s}=g,u=V.length,h=V[0],p=V.subarray(1);if(u===d&&(h===2||h===3)){const y=r.fromBytes(p);if(!r.isValid(y))throw new Error("bad point: is not on curve, wrong x");const v=k(y);let b;try{b=r.sqrt(v)}catch(w){const K=w instanceof Error?": "+w.message:"";throw new Error("bad point: is not on curve, sqrt error"+K)}_();const m=r.isOdd(b);return(h&1)===1!==m&&(b=r.neg(b)),{x:y,y:b}}else if(u===s&&h===4){const y=r.BYTES,v=r.fromBytes(p.subarray(0,y)),b=r.fromBytes(p.subarray(y,y*2));if(!C(v,b))throw new Error("bad point: is not on curve");return{x:v,y:b}}else throw new Error(`bad point: got length ${u}, expected compressed=${d} or uncompressed=${s}`)}const E=e.toBytes||M,A=e.fromBytes||S;function k(V){const d=r.sqr(V),s=r.mul(d,V);return r.add(r.add(s,r.mul(V,i.a)),i.b)}function C(V,d){const s=r.sqr(d),u=k(V);return r.eql(s,u)}if(!C(i.Gx,i.Gy))throw new Error("bad curve params: generator point");const R=r.mul(r.pow(i.a,df),NO),T=r.mul(r.sqr(i.b),BigInt(27));if(r.is0(r.add(R,T)))throw new Error("bad curve params: a or b");function N(V,d,s=!1){if(!r.isValid(d)||s&&r.is0(d))throw new Error(`bad point coordinate ${V}`);return d}function O(V){if(!(V instanceof U))throw new Error("ProjectivePoint expected")}function D(V){if(!f||!f.basises)throw new Error("no endo");return RO(V,f.basises,o.ORDER)}const z=$h((V,d)=>{const{X:s,Y:u,Z:h}=V;if(r.eql(h,r.ONE))return{x:s,y:u};const p=V.is0();d==null&&(d=p?r.ONE:r.inv(h));const y=r.mul(s,d),v=r.mul(u,d),b=r.mul(h,d);if(p)return{x:r.ZERO,y:r.ZERO};if(!r.eql(b,r.ONE))throw new Error("invZ was invalid");return{x:y,y:v}}),P=$h(V=>{if(V.is0()){if(e.allowInfinityPoint&&!r.is0(V.Y))return;throw new Error("bad point: ZERO")}const{x:d,y:s}=V.toAffine();if(!r.isValid(d)||!r.isValid(s))throw new Error("bad point: x or y not field elements");if(!C(d,s))throw new Error("bad point: equation left != right");if(!V.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function W(V,d,s,u,h){return s=new U(r.mul(s.X,V),s.Y,s.Z),d=Hh(u,d),s=Hh(h,s),d.add(s)}class U{constructor(d,s,u){this.X=N("x",d),this.Y=N("y",s,!0),this.Z=N("z",u),Object.freeze(this)}static CURVE(){return i}static fromAffine(d){const{x:s,y:u}=d||{};if(!d||!r.isValid(s)||!r.isValid(u))throw new Error("invalid affine point");if(d instanceof U)throw new Error("projective point not allowed");return r.is0(s)&&r.is0(u)?U.ZERO:new U(s,u,r.ONE)}static fromBytes(d){const s=U.fromAffine(A(Ei(d,void 0,"point")));return s.assertValidity(),s}static fromHex(d){return U.fromBytes(Gt("pointHex",d))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(d=8,s=!0){return j.createCache(this,d),s||this.multiply(df),this}assertValidity(){P(this)}hasEvenY(){const{y:d}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(d)}equals(d){O(d);const{X:s,Y:u,Z:h}=this,{X:p,Y:y,Z:v}=d,b=r.eql(r.mul(s,v),r.mul(p,h)),m=r.eql(r.mul(u,v),r.mul(y,h));return b&&m}negate(){return new U(this.X,r.neg(this.Y),this.Z)}double(){const{a:d,b:s}=i,u=r.mul(s,df),{X:h,Y:p,Z:y}=this;let v=r.ZERO,b=r.ZERO,m=r.ZERO,l=r.mul(h,h),w=r.mul(p,p),K=r.mul(y,y),$=r.mul(h,p);return $=r.add($,$),m=r.mul(h,y),m=r.add(m,m),v=r.mul(d,m),b=r.mul(u,K),b=r.add(v,b),v=r.sub(w,b),b=r.add(w,b),b=r.mul(v,b),v=r.mul($,v),m=r.mul(u,m),K=r.mul(d,K),$=r.sub(l,K),$=r.mul(d,$),$=r.add($,m),m=r.add(l,l),l=r.add(m,l),l=r.add(l,K),l=r.mul(l,$),b=r.add(b,l),K=r.mul(p,y),K=r.add(K,K),l=r.mul(K,$),v=r.sub(v,l),m=r.mul(K,w),m=r.add(m,m),m=r.add(m,m),new U(v,b,m)}add(d){O(d);const{X:s,Y:u,Z:h}=this,{X:p,Y:y,Z:v}=d;let b=r.ZERO,m=r.ZERO,l=r.ZERO;const w=i.a,K=r.mul(i.b,df);let $=r.mul(s,p),q=r.mul(u,y),ue=r.mul(h,v),Y=r.add(s,u),ne=r.add(p,y);Y=r.mul(Y,ne),ne=r.add($,q),Y=r.sub(Y,ne),ne=r.add(s,h);let ct=r.add(p,v);return ne=r.mul(ne,ct),ct=r.add($,ue),ne=r.sub(ne,ct),ct=r.add(u,h),b=r.add(y,v),ct=r.mul(ct,b),b=r.add(q,ue),ct=r.sub(ct,b),l=r.mul(w,ne),b=r.mul(K,ue),l=r.add(b,l),b=r.sub(q,l),l=r.add(q,l),m=r.mul(b,l),q=r.add($,$),q=r.add(q,$),ue=r.mul(w,ue),ne=r.mul(K,ne),q=r.add(q,ue),ue=r.sub($,ue),ue=r.mul(w,ue),ne=r.add(ne,ue),$=r.mul(q,ne),m=r.add(m,$),$=r.mul(ct,ne),b=r.mul(Y,b),b=r.sub(b,$),$=r.mul(Y,q),l=r.mul(ct,l),l=r.add(l,$),new U(b,m,l)}subtract(d){return this.add(d.negate())}is0(){return this.equals(U.ZERO)}multiply(d){const{endo:s}=e;if(!o.isValidNot0(d))throw new Error("invalid scalar: out of range");let u,h;const p=y=>j.cached(this,y,v=>qs(U,v));if(s){const{k1neg:y,k1:v,k2neg:b,k2:m}=D(d),{p:l,f:w}=p(v),{p:K,f:$}=p(m);h=w.add($),u=W(s.beta,l,K,y,b)}else{const{p:y,f:v}=p(d);u=y,h=v}return qs(U,[u,h])[0]}multiplyUnsafe(d){const{endo:s}=e,u=this;if(!o.isValid(d))throw new Error("invalid scalar: out of range");if(d===Eo||u.is0())return U.ZERO;if(d===pl)return u;if(j.hasCache(this))return this.multiply(d);if(s){const{k1neg:h,k1:p,k2neg:y,k2:v}=D(d),{p1:b,p2:m}=v3(U,u,p,v);return W(s.beta,b,m,h,y)}else return j.unsafe(u,d)}multiplyAndAddUnsafe(d,s,u){const h=this.multiplyUnsafe(s).add(d.multiplyUnsafe(u));return h.is0()?void 0:h}toAffine(d){return z(this,d)}isTorsionFree(){const{isTorsionFree:d}=e;return a===pl?!0:d?d(U,this):j.unsafe(this,c).is0()}clearCofactor(){const{clearCofactor:d}=e;return a===pl?this:d?d(U,this):this.multiplyUnsafe(a)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}toBytes(d=!0){return fa(d,"isCompressed"),this.assertValidity(),E(U,this,d)}toHex(d=!0){return Ki(this.toBytes(d))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(d=!0){return this.toBytes(d)}_setWindowSize(d){this.precompute(d)}static normalizeZ(d){return qs(U,d)}static msm(d,s){return mM(U,o,d,s)}static fromPrivateKey(d){return U.BASE.multiply(rl(o,d))}}U.BASE=new U(i.Gx,i.Gy,r.ONE),U.ZERO=new U(r.ZERO,r.ONE,r.ZERO),U.Fp=r,U.Fn=o;const F=o.BITS,j=new pM(U,e.endo?Math.ceil(F/2):F);return U.BASE.precompute(8),U}function u2(t){return Uint8Array.of(t?2:3)}function c2(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function kO(t,e={}){const{Fn:n}=t,r=e.randomBytes||Dd,o=Object.assign(c2(t.Fp,n),{seed:fM(n.ORDER)});function i(E){try{return!!rl(n,E)}catch{return!1}}function a(E,A){const{publicKey:k,publicKeyUncompressed:C}=o;try{const R=E.length;return A===!0&&R!==k||A===!1&&R!==C?!1:!!t.fromBytes(E)}catch{return!1}}function c(E=r(o.seed)){return g3(Ei(E,o.seed,"seed"),n.ORDER)}function f(E,A=!0){return t.BASE.multiply(rl(n,E)).toBytes(A)}function g(E){const A=c(E);return{secretKey:A,publicKey:f(A)}}function _(E){if(typeof E=="bigint")return!1;if(E instanceof t)return!0;const{secretKey:A,publicKey:k,publicKeyUncompressed:C}=o;if(n.allowedLengths||A===k)return;const R=Gt("key",E).length;return R===k||R===C}function M(E,A,k=!0){if(_(E)===!0)throw new Error("first arg must be private key");if(_(A)===!1)throw new Error("second arg must be public key");const C=rl(n,E);return t.fromHex(A).multiply(C).toBytes(k)}return Object.freeze({getPublicKey:f,getSharedSecret:M,keygen:g,Point:t,utils:{isValidSecretKey:i,isValidPublicKey:a,randomSecretKey:c,isValidPrivateKey:i,randomPrivateKey:c,normPrivateKeyToScalar:E=>rl(n,E),precompute(E=8,A=t.BASE){return A.precompute(E,!1)}},lengths:o})}function CO(t,e,n={}){HS(e),xc(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||Dd,o=n.hmac||((s,...u)=>a2(e,s,Xr(...u))),{Fp:i,Fn:a}=t,{ORDER:c,BITS:f}=a,{keygen:g,getPublicKey:_,getSharedSecret:M,utils:S,lengths:E}=kO(t,n),A={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},k="compact";function C(s){const u=c>>pl;return s>u}function R(s,u){if(!a.isValidNot0(u))throw new Error(`invalid signature ${s}: out of range 1..Point.Fn.ORDER`);return u}function T(s,u){jm(u);const h=E.signature,p=u==="compact"?h:u==="recovered"?h+1:void 0;return Ei(s,p,`${u} signature`)}class N{constructor(u,h,p){this.r=R("r",u),this.s=R("s",h),p!=null&&(this.recovery=p),Object.freeze(this)}static fromBytes(u,h=k){T(u,h);let p;if(h==="der"){const{r:m,s:l}=fo.toSig(Ei(u));return new N(m,l)}h==="recovered"&&(p=u[0],h="compact",u=u.subarray(1));const y=a.BYTES,v=u.subarray(0,y),b=u.subarray(y,y*2);return new N(a.fromBytes(v),a.fromBytes(b),p)}static fromHex(u,h){return this.fromBytes(Il(u),h)}addRecoveryBit(u){return new N(this.r,this.s,u)}recoverPublicKey(u){const h=i.ORDER,{r:p,s:y,recovery:v}=this;if(v==null||![0,1,2,3].includes(v))throw new Error("recovery id invalid");if(c*l2<h&&v>1)throw new Error("recovery id is ambiguous for h>1 curve");const m=v===2||v===3?p+c:p;if(!i.isValid(m))throw new Error("recovery id 2 or 3 invalid");const l=i.toBytes(m),w=t.fromBytes(Xr(u2((v&1)===0),l)),K=a.inv(m),$=D(Gt("msgHash",u)),q=a.create(-$*K),ue=a.create(y*K),Y=t.BASE.multiplyUnsafe(q).add(w.multiplyUnsafe(ue));if(Y.is0())throw new Error("point at infinify");return Y.assertValidity(),Y}hasHighS(){return C(this.s)}toBytes(u=k){if(jm(u),u==="der")return Il(fo.hexFromSig(this));const h=a.toBytes(this.r),p=a.toBytes(this.s);if(u==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Xr(Uint8Array.of(this.recovery),h,p)}return Xr(h,p)}toHex(u){return Ki(this.toBytes(u))}assertValidity(){}static fromCompact(u){return N.fromBytes(Gt("sig",u),"compact")}static fromDER(u){return N.fromBytes(Gt("sig",u),"der")}normalizeS(){return this.hasHighS()?new N(this.r,a.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Ki(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Ki(this.toBytes("compact"))}}const O=n.bits2int||function(u){if(u.length>8192)throw new Error("input is too large");const h=Ud(u),p=u.length*8-f;return p>0?h>>BigInt(p):h},D=n.bits2int_modN||function(u){return a.create(O(u))},z=Ac(f);function P(s){return Pm("num < 2^"+f,s,Eo,z),a.toBytes(s)}function W(s,u){return Ei(s,void 0,"message"),u?Ei(e(s),void 0,"prehashed message"):s}function U(s,u,h){if(["recovered","canonical"].some(q=>q in h))throw new Error("sign() legacy options not supported");const{lowS:p,prehash:y,extraEntropy:v}=ap(h,A);s=W(s,y);const b=D(s),m=rl(a,u),l=[P(m),P(b)];if(v!=null&&v!==!1){const q=v===!0?r(E.secretKey):v;l.push(Gt("extraEntropy",q))}const w=Xr(...l),K=b;function $(q){const ue=O(q);if(!a.isValidNot0(ue))return;const Y=a.inv(ue),ne=t.BASE.multiply(ue).toAffine(),ct=a.create(ne.x);if(ct===Eo)return;const ce=a.create(Y*a.create(K+ct*m));if(ce===Eo)return;let de=(ne.x===ct?0:2)|Number(ne.y&pl),Yt=ce;return p&&C(ce)&&(Yt=a.neg(ce),de^=1),new N(ct,Yt,de)}return{seed:w,k2sig:$}}function F(s,u,h={}){s=Gt("message",s);const{seed:p,k2sig:y}=U(s,u,h);return s3(e.outputLen,a.BYTES,o)(p,y)}function j(s){let u;const h=typeof s=="string"||Rs(s),p=!h&&s!==null&&typeof s=="object"&&typeof s.r=="bigint"&&typeof s.s=="bigint";if(!h&&!p)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(p)u=new N(s.r,s.s);else if(h){try{u=N.fromBytes(Gt("sig",s),"der")}catch(y){if(!(y instanceof fo.Err))throw y}if(!u)try{u=N.fromBytes(Gt("sig",s),"compact")}catch{return!1}}return u||!1}function V(s,u,h,p={}){const{lowS:y,prehash:v,format:b}=ap(p,A);if(h=Gt("publicKey",h),u=W(Gt("message",u),v),"strict"in p)throw new Error("options.strict was renamed to lowS");const m=b===void 0?j(s):N.fromBytes(Gt("sig",s),b);if(m===!1)return!1;try{const l=t.fromBytes(h);if(y&&m.hasHighS())return!1;const{r:w,s:K}=m,$=D(u),q=a.inv(K),ue=a.create($*q),Y=a.create(w*q),ne=t.BASE.multiplyUnsafe(ue).add(l.multiplyUnsafe(Y));return ne.is0()?!1:a.create(ne.x)===w}catch{return!1}}function d(s,u,h={}){const{prehash:p}=ap(h,A);return u=W(u,p),N.fromBytes(s,"recovered").recoverPublicKey(u).toBytes()}return Object.freeze({keygen:g,getPublicKey:_,getSharedSecret:M,utils:S,lengths:E,Point:t,sign:F,verify:V,recoverPublicKey:d,Signature:N,hash:e})}function OO(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(a=>Math.ceil(a/2)))):void 0;const o=wa(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),i={Fp:n,Fn:o,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function LO(t){const{CURVE:e,curveOpts:n}=OO(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function BO(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,uM(n.Fn.ORDER,n.Fn.BITS))})}function PO(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:o}=LO(t),i=TO(e,n),a=CO(i,r,o);return BO(t,a)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function DO(t,e){const n=r=>PO({...t,hash:r});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yw={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},UO={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},Uv=BigInt(2);function zO(t){const e=yw.p,n=BigInt(3),r=BigInt(6),o=BigInt(11),i=BigInt(22),a=BigInt(23),c=BigInt(44),f=BigInt(88),g=t*t*t%e,_=g*g*t%e,M=qt(_,n,e)*_%e,S=qt(M,n,e)*_%e,E=qt(S,Uv,e)*g%e,A=qt(E,o,e)*E%e,k=qt(A,i,e)*A%e,C=qt(k,c,e)*k%e,R=qt(C,f,e)*C%e,T=qt(R,c,e)*k%e,N=qt(T,n,e)*_%e,O=qt(N,a,e)*A%e,D=qt(O,r,e)*g%e,z=qt(D,Uv,e);if(!Wm.eql(Wm.sqr(z),t))throw new Error("Cannot find square root");return z}const Wm=wa(yw.p,{sqrt:zO}),ww=DO({...yw,Fp:Wm,lowS:!0,endo:UO},YS),jO=Vl.utils.randomPrivateKey,zv=()=>{const t=Vl.utils.randomPrivateKey(),e=Qh(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),{publicKey:e,secretKey:n}},Qh=Vl.getPublicKey;function jv(t){try{return Vl.ExtendedPoint.fromHex(t),!0}catch{return!1}}const vw=(t,e)=>Vl.sign(t,e.slice(0,32)),WO=Vl.verify,ot=t=>Ze.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Ze.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Ze.Buffer.from(t);let _w=class{constructor(e){Object.assign(this,e)}encode(){return Ze.Buffer.from(MM(Uu,this))}static decode(e){return AM(Uu,this,e)}static decodeUnchecked(e){return vM(Uu,this,e)}};class FO extends _w{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(n=>{this.enum=n})}}const Uu=new Map;var f2;const h2=32,Vi=32;function $O(t){return t._bn!==void 0}let Wv=1;class re extends _w{constructor(e){if(super({}),this._bn=void 0,$O(e))this._bn=e._bn;else{if(typeof e=="string"){const n=Rn.decode(e);if(n.length!=Vi)throw new Error("Invalid public key input");this._bn=new Tv(n)}else this._bn=new Tv(e);if(this._bn.byteLength()>Vi)throw new Error("Invalid public key input")}}static unique(){const e=new re(Wv);return Wv+=1,new re(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Rn.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Ze.Buffer);if(e.length===Vi)return e;const n=Ze.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const o=Ze.Buffer.concat([e.toBuffer(),Ze.Buffer.from(n),r.toBuffer()]),i=kv(o);return new re(i)}static createProgramAddressSync(e,n){let r=Ze.Buffer.alloc(0);e.forEach(function(i){if(i.length>h2)throw new TypeError("Max seed length exceeded");r=Ze.Buffer.concat([r,ot(i)])}),r=Ze.Buffer.concat([r,n.toBuffer(),Ze.Buffer.from("ProgramDerivedAddress")]);const o=kv(r);if(jv(o))throw new Error("Invalid seeds, address must fall off the curve");return new re(o)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,o;for(;r!=0;){try{const i=e.concat(Ze.Buffer.from([r]));o=this.createProgramAddressSync(i,n)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[o,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new re(e);return jv(n.toBytes())}}f2=re;re.default=new f2("11111111111111111111111111111111");Uu.set(re,{kind:"struct",fields:[["_bn","u256"]]});class HO{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const n=ot(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=n.slice(32,64),this._secretKey=n.slice(0,32)}else this._secretKey=ot(jO()),this._publicKey=ot(Qh(this._secretKey))}get publicKey(){return new re(this._publicKey)}get secretKey(){return Ze.Buffer.concat([this._secretKey,this._publicKey],64)}}const KO=new re("BPFLoader1111111111111111111111111111111111"),ps=1232,qd=127,kl=64;class Ew extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Ew.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class bw extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(bw.prototype,"name",{value:"TransactionExpiredTimeoutError"});class il extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(il.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class fc{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,a)=>{r.set(i.toBase58(),a)});const o=i=>{const a=r.get(i.toBase58());if(a===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return a};return e.map(i=>({programIdIndex:o(i.programId),accountKeyIndexes:i.keys.map(a=>o(a.pubkey)),data:i.data}))}}const lt=(t="publicKey")=>It(32,t),VO=(t="signature")=>It(64,t),Gs=(t="string")=>{const e=Se([Ve("length"),Ve("lengthPadding"),It(ds(Ve(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),o=e;return o.decode=(i,a)=>n(i,a).chars.toString(),o.encode=(i,a,c)=>{const f={chars:Ze.Buffer.from(i,"utf8")};return r(f,a,c)},o.alloc=i=>Ve().span+Ve().span+Ze.Buffer.from(i,"utf8").length,o},qO=(t="authorized")=>Se([lt("staker"),lt("withdrawer")],t),GO=(t="lockup")=>Se([cr("unixTimestamp"),cr("epoch"),lt("custodian")],t),ZO=(t="voteInit")=>Se([lt("nodePubkey"),lt("authorizedVoter"),lt("authorizedWithdrawer"),nt("commission")],t),YO=(t="voteAuthorizeWithSeedArgs")=>Se([Ve("voteAuthorizationType"),lt("currentAuthorityDerivedKeyOwnerPubkey"),Gs("currentAuthorityDerivedKeySeed"),lt("newAuthorized")],t);function d2(t,e){const n=o=>{if(o.span>=0)return o.span;if(typeof o.alloc=="function")return o.alloc(e[o.property]);if("count"in o&&"elementLayout"in o){const i=e[o.property];if(Array.isArray(i))return i.length*n(o.elementLayout)}else if("fields"in o)return d2({layout:o},e[o.property]);return 0};let r=0;return t.layout.fields.forEach(o=>{r+=n(o)}),r}function wr(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function Ur(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function gt(t,e){if(!t)throw new Error(e||"Assertion failed")}class Gd{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,o=a=>{const c=a.toBase58();let f=r.get(c);return f===void 0&&(f={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(c,f)),f},i=o(n);i.isSigner=!0,i.isWritable=!0;for(const a of e){o(a.programId).isInvoked=!0;for(const c of a.keys){const f=o(c.pubkey);f.isSigner||(f.isSigner=c.isSigner),f.isWritable||(f.isWritable=c.isWritable)}}return new Gd(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];gt(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,f])=>f.isSigner&&f.isWritable),r=e.filter(([,f])=>f.isSigner&&!f.isWritable),o=e.filter(([,f])=>!f.isSigner&&f.isWritable),i=e.filter(([,f])=>!f.isSigner&&!f.isWritable),a={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{gt(n.length>0,"Expected at least one writable signer key");const[f]=n[0];gt(f===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const c=[...n.map(([f])=>new re(f)),...r.map(([f])=>new re(f)),...o.map(([f])=>new re(f)),...i.map(([f])=>new re(f))];return[a,c]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&a.isWritable),[o,i]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&!a.isWritable);if(!(n.length===0&&o.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:o},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,n){const r=new Array,o=new Array;for(const[i,a]of this.keyMetaMap.entries())if(n(a)){const c=new re(i),f=e.findIndex(g=>g.equals(c));f>=0&&(gt(f<256,"Max lookup table index exceeded"),r.push(f),o.push(c),this.keyMetaMap.delete(i))}return[r,o]}}const p2="Reached end of buffer unexpectedly";function Ui(t){if(t.length===0)throw new Error(p2);return t.shift()}function vr(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(p2);return t.splice(...e)}class Ni{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new re(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Rn.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new fc(this.staticAccountKeys)}static compile(e){const n=Gd.compile(e.instructions,e.payerKey),[r,o]=n.getMessageComponents(),a=new fc(o).compileInstructions(e.instructions).map(c=>({programIdIndex:c.programIdIndex,accounts:c.accountKeyIndexes,data:Rn.encode(c.data)}));return new Ni({header:r,accountKeys:o,recentBlockhash:e.recentBlockhash,instructions:a})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,i=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];Ur(n,e);const r=this.instructions.map(M=>{const{accounts:S,programIdIndex:E}=M,A=Array.from(Rn.decode(M.data));let k=[];Ur(k,S.length);let C=[];return Ur(C,A.length),{programIdIndex:E,keyIndicesCount:Ze.Buffer.from(k),keyIndices:S,dataLength:Ze.Buffer.from(C),data:A}});let o=[];Ur(o,r.length);let i=Ze.Buffer.alloc(ps);Ze.Buffer.from(o).copy(i);let a=o.length;r.forEach(M=>{const E=Se([nt("programIdIndex"),It(M.keyIndicesCount.length,"keyIndicesCount"),_n(nt("keyIndex"),M.keyIndices.length,"keyIndices"),It(M.dataLength.length,"dataLength"),_n(nt("userdatum"),M.data.length,"data")]).encode(M,i,a);a+=E}),i=i.slice(0,a);const c=Se([It(1,"numRequiredSignatures"),It(1,"numReadonlySignedAccounts"),It(1,"numReadonlyUnsignedAccounts"),It(n.length,"keyCount"),_n(lt("key"),e,"keys"),lt("recentBlockhash")]),f={numRequiredSignatures:Ze.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Ze.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Ze.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Ze.Buffer.from(n),keys:this.accountKeys.map(M=>ot(M.toBytes())),recentBlockhash:Rn.decode(this.recentBlockhash)};let g=Ze.Buffer.alloc(2048);const _=c.encode(f,g);return i.copy(g,_),g.slice(0,_+i.length)}static from(e){let n=[...e];const r=Ui(n);if(r!==(r&qd))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const o=Ui(n),i=Ui(n),a=wr(n);let c=[];for(let S=0;S<a;S++){const E=vr(n,0,Vi);c.push(new re(Ze.Buffer.from(E)))}const f=vr(n,0,Vi),g=wr(n);let _=[];for(let S=0;S<g;S++){const E=Ui(n),A=wr(n),k=vr(n,0,A),C=wr(n),R=vr(n,0,C),T=Rn.encode(Ze.Buffer.from(R));_.push({programIdIndex:E,accounts:k,data:T})}const M={header:{numRequiredSignatures:r,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:i},recentBlockhash:Rn.encode(Ze.Buffer.from(f)),accountKeys:c,instructions:_};return new Ni(M)}}class ha{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new fc(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const o=e-r,i=this.addressTableLookups.reduce((a,c)=>a+c.writableIndexes.length,0);return o<i}else if(e>=this.header.numRequiredSignatures){const o=e-n,a=r-n-this.header.numReadonlyUnsignedAccounts;return o<a}else{const o=n-this.header.numReadonlySignedAccounts;return e<o}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const o=e.find(i=>i.key.equals(r.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<o.state.addresses.length)n.writable.push(o.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<o.state.addresses.length)n.readonly.push(o.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=Gd.compile(e.instructions,e.payerKey),r=new Array,o={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const _ of i){const M=n.extractTableLookup(_);if(M!==void 0){const[S,{writable:E,readonly:A}]=M;r.push(S),o.writable.push(...E),o.readonly.push(...A)}}const[a,c]=n.getMessageComponents(),g=new fc(c,o).compileInstructions(e.instructions);return new ha({header:a,staticAccountKeys:c,recentBlockhash:e.recentBlockhash,compiledInstructions:g,addressTableLookups:r})}serialize(){const e=Array();Ur(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();Ur(r,this.compiledInstructions.length);const o=this.serializeAddressTableLookups(),i=Array();Ur(i,this.addressTableLookups.length);const a=Se([nt("prefix"),Se([nt("numRequiredSignatures"),nt("numReadonlySignedAccounts"),nt("numReadonlyUnsignedAccounts")],"header"),It(e.length,"staticAccountKeysLength"),_n(lt(),this.staticAccountKeys.length,"staticAccountKeys"),lt("recentBlockhash"),It(r.length,"instructionsLength"),It(n.length,"serializedInstructions"),It(i.length,"addressTableLookupsLength"),It(o.length,"serializedAddressTableLookups")]),c=new Uint8Array(ps),g=a.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(_=>_.toBytes()),recentBlockhash:Rn.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:o},c);return c.slice(0,g)}serializeInstructions(){let e=0;const n=new Uint8Array(ps);for(const r of this.compiledInstructions){const o=Array();Ur(o,r.accountKeyIndexes.length);const i=Array();Ur(i,r.data.length);const a=Se([nt("programIdIndex"),It(o.length,"encodedAccountKeyIndexesLength"),_n(nt(),r.accountKeyIndexes.length,"accountKeyIndexes"),It(i.length,"encodedDataLength"),It(r.data.length,"data")]);e+=a.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(ps);for(const r of this.addressTableLookups){const o=Array();Ur(o,r.writableIndexes.length);const i=Array();Ur(i,r.readonlyIndexes.length);const a=Se([lt("accountKey"),It(o.length,"encodedWritableIndexesLength"),_n(nt(),r.writableIndexes.length,"writableIndexes"),It(i.length,"encodedReadonlyIndexesLength"),_n(nt(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=a.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=Ui(n),o=r&qd;gt(r!==o,"Expected versioned message but received legacy message");const i=o;gt(i===0,`Expected versioned message with version 0 but found version ${i}`);const a={numRequiredSignatures:Ui(n),numReadonlySignedAccounts:Ui(n),numReadonlyUnsignedAccounts:Ui(n)},c=[],f=wr(n);for(let A=0;A<f;A++)c.push(new re(vr(n,0,Vi)));const g=Rn.encode(vr(n,0,Vi)),_=wr(n),M=[];for(let A=0;A<_;A++){const k=Ui(n),C=wr(n),R=vr(n,0,C),T=wr(n),N=new Uint8Array(vr(n,0,T));M.push({programIdIndex:k,accountKeyIndexes:R,data:N})}const S=wr(n),E=[];for(let A=0;A<S;A++){const k=new re(vr(n,0,Vi)),C=wr(n),R=vr(n,0,C),T=wr(n),N=vr(n,0,T);E.push({accountKey:k,writableIndexes:R,readonlyIndexes:N})}return new ha({header:a,staticAccountKeys:c,recentBlockhash:g,compiledInstructions:M,addressTableLookups:E})}}const Zd={deserializeMessageVersion(t){const e=t[0],n=e&qd;return n===e?"legacy":n},deserialize:t=>{const e=Zd.deserializeMessageVersion(t);if(e==="legacy")return Ni.from(t);if(e===0)return ha.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let ao=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const QO=Ze.Buffer.alloc(kl).fill(0);class vt{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Ze.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class at{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new vt(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let k=0;k<n.length;k++)if(n[k].programId===void 0)throw new Error(`Transaction instruction index ${k} has undefined program id`);const o=[],i=[];n.forEach(k=>{k.keys.forEach(R=>{i.push({...R})});const C=k.programId.toString();o.includes(C)||o.push(C)}),o.forEach(k=>{i.push({pubkey:new re(k),isSigner:!1,isWritable:!1})});const a=[];i.forEach(k=>{const C=k.pubkey.toString(),R=a.findIndex(T=>T.pubkey.toString()===C);R>-1?(a[R].isWritable=a[R].isWritable||k.isWritable,a[R].isSigner=a[R].isSigner||k.isSigner):a.push(k)}),a.sort(function(k,C){if(k.isSigner!==C.isSigner)return k.isSigner?-1:1;if(k.isWritable!==C.isWritable)return k.isWritable?-1:1;const R={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return k.pubkey.toBase58().localeCompare(C.pubkey.toBase58(),"en",R)});const c=a.findIndex(k=>k.pubkey.equals(r));if(c>-1){const[k]=a.splice(c,1);k.isSigner=!0,k.isWritable=!0,a.unshift(k)}else a.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const k of this.signatures){const C=a.findIndex(R=>R.pubkey.equals(k.publicKey));if(C>-1)a[C].isSigner||(a[C].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${k.publicKey.toString()}`)}let f=0,g=0,_=0;const M=[],S=[];a.forEach(({pubkey:k,isSigner:C,isWritable:R})=>{C?(M.push(k.toString()),f+=1,R||(g+=1)):(S.push(k.toString()),R||(_+=1))});const E=M.concat(S),A=n.map(k=>{const{data:C,programId:R}=k;return{programIdIndex:E.indexOf(R.toString()),accounts:k.keys.map(T=>E.indexOf(T.pubkey.toString())),data:Rn.encode(C)}});return A.forEach(k=>{gt(k.programIdIndex>=0),k.accounts.forEach(C=>gt(C>=0))}),new Ni({header:{numRequiredSignatures:f,numReadonlySignedAccounts:g,numReadonlyUnsignedAccounts:_},accountKeys:E,recentBlockhash:e,instructions:A})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((o,i)=>n[i].equals(o.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const o=r.toString();return n.has(o)?!1:(n.add(o),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of e){const a=i.publicKey.toString();n.has(a)||(n.add(a),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const o=this._compile();this._partialSign(o,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of e){const a=i.publicKey.toString();n.has(a)||(n.add(a),r.push(i))}const o=this._compile();this._partialSign(o,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(o=>{const i=vw(r,o.secretKey);this._addSignature(o.publicKey,ot(i))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){gt(n.length===64);const r=this.signatures.findIndex(o=>e.equals(o.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=Ze.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:o,publicKey:i}of this.signatures)o===null?n&&(r.missing||(r.missing=[])).push(i):WO(o,e,i.toBytes())||(r.invalid||(r.invalid=[])).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),o=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(o,n);if(i){let a="Signature verification failed.";throw i.invalid&&(a+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(c=>c.toBase58()).join("`, `")}\`].`),i.missing&&(a+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(c=>c.toBase58()).join("`, `")}\`].`),new Error(a)}}return this._serialize(o)}_serialize(e){const{signatures:n}=this,r=[];Ur(r,n.length);const o=r.length+n.length*64+e.length,i=Ze.Buffer.alloc(o);return gt(n.length<256),Ze.Buffer.from(r).copy(i,0),n.forEach(({signature:a},c)=>{a!==null&&(gt(a.length===64,"signature has invalid length"),Ze.Buffer.from(a).copy(i,r.length+c*64))}),e.copy(i,r.length+n.length*64),gt(i.length<=ps,`Transaction too large: ${i.length} > ${ps}`),i}get keys(){return gt(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return gt(this.instructions.length===1),this.instructions[0].programId}get data(){return gt(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=wr(n);let o=[];for(let i=0;i<r;i++){const a=vr(n,0,kl);o.push(Rn.encode(Ze.Buffer.from(a)))}return at.populate(Ni.from(n),o)}static populate(e,n=[]){const r=new at;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((o,i)=>{const a={signature:o==Rn.encode(QO)?null:Rn.decode(o),publicKey:e.accountKeys[i]};r.signatures.push(a)}),e.instructions.forEach(o=>{const i=o.accounts.map(a=>{const c=e.accountKeys[a];return{pubkey:c,isSigner:r.signatures.some(f=>f.publicKey.toString()===c.toString())||e.isAccountSigner(a),isWritable:e.isAccountWritable(a)}});r.instructions.push(new vt({keys:i,programId:e.accountKeys[o.programIdIndex],data:Rn.decode(o.data)}))}),r._message=e,r._json=r.toJSON(),r}}class Sw{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,n){const{header:r,compiledInstructions:o,recentBlockhash:i}=e,{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:f}=r,g=a-c;gt(g>0,"Message header is invalid");const _=e.staticAccountKeys.length-a-f;gt(_>=0,"Message header is invalid");const M=e.getAccountKeys(n),S=M.get(0);if(S===void 0)throw new Error("Failed to decompile message because no account keys were found");const E=[];for(const A of o){const k=[];for(const R of A.accountKeyIndexes){const T=M.get(R);if(T===void 0)throw new Error(`Failed to find key for account key index ${R}`);const N=R<a;let O;N?O=R<g:R<M.staticAccountKeys.length?O=R-a<_:O=R-M.staticAccountKeys.length<M.accountKeysFromLookups.writable.length,k.push({pubkey:T,isSigner:R<r.numRequiredSignatures,isWritable:O})}const C=M.get(A.programIdIndex);if(C===void 0)throw new Error(`Failed to find program id for program id index ${A.programIdIndex}`);E.push(new vt({programId:C,data:ot(A.data),keys:k}))}return new Sw({payerKey:S,instructions:E,recentBlockhash:i})}compileToLegacyMessage(){return Ni.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return ha.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class Cl{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)gt(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let o=0;o<e.header.numRequiredSignatures;o++)r.push(new Uint8Array(kl));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();Ur(n,this.signatures.length);const r=Se([It(n.length,"encodedSignaturesLength"),_n(VO(),this.signatures.length,"signatures"),It(e.length,"serializedMessage")]),o=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},o);return o.slice(0,i)}static deserialize(e){let n=[...e];const r=[],o=wr(n);for(let a=0;a<o;a++)r.push(new Uint8Array(vr(n,0,kl)));const i=Zd.deserialize(new Uint8Array(n));return new Cl(i,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const o of e){const i=r.findIndex(a=>a.equals(o.publicKey));gt(i>=0,`Cannot sign with non signer key ${o.publicKey.toBase58()}`),this.signatures[i]=vw(n,o.secretKey)}}addSignature(e,n){gt(n.byteLength===64,"Signature must be 64 bytes long");const o=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));gt(o>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[o]=n}}const XO=160,JO=64,e6=XO/JO,m2=1e3/e6,Bi=new re("SysvarC1ock11111111111111111111111111111111"),t6=new re("SysvarEpochSchedu1e111111111111111111111111"),n6=new re("Sysvar1nstructions1111111111111111111111111"),Df=new re("SysvarRecentB1ockHashes11111111111111111111"),_s=new re("SysvarRent111111111111111111111111111111111"),r6=new re("SysvarRewards111111111111111111111111111111"),i6=new re("SysvarS1otHashes111111111111111111111111111"),o6=new re("SysvarS1otHistory11111111111111111111111111"),Uf=new re("SysvarStakeHistory1111111111111111111111111");class Es extends Error{constructor({action:e,signature:n,transactionMessage:r,logs:o}){const i=o?`Logs: 
${JSON.stringify(o.slice(-10),null,2)}. `:"",a="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let c;switch(e){case"send":c=`Transaction ${n} resulted in an error. 
${r}. `+i+a;break;case"simulate":c=`Simulation failed. 
Message: ${r}. 
`+i+a;break;default:c=`Unknown action '${(f=>f)(e)}'`}super(c),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=o||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{e.getTransaction(this.signature).then(o=>{if(o&&o.meta&&o.meta.logMessages){const i=o.meta.logMessages;this.transactionLogs=i,n(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const s6={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Qe extends Error{constructor({code:e,message:n,data:r},o){super(o!=null?`${o}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function Ol(t,e,n,r){const o=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await t.sendTransaction(e,n,o);let a;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)a=(await t.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:c}=e.nonceInfo,f=c.keys[0].pubkey;a=(await t.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:f,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),a=(await t.confirmTransaction(i,r&&r.commitment)).value;if(a.err)throw i!=null?new Es({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(a)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(a)})`);return i}function zs(t){return new Promise(e=>setTimeout(e,t))}function dt(t,e){const n=t.layout.span>=0?t.layout.span:d2(t,e),r=Ze.Buffer.alloc(n),o=Object.assign({instruction:t.index},e);return t.layout.encode(o,r),r}function _t(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${t.index}`);return n}const g2=Sn("lamportsPerSignature"),y2=Se([Ve("version"),Ve("state"),lt("authorizedPubkey"),lt("nonce"),Se([g2],"feeCalculator")]),Fm=y2.span;class Yd{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=y2.decode(ot(e),0);return new Yd({authorizedPubkey:new re(n.authorizedPubkey),nonce:new re(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function Ll(t){const e=It(8,t),n=e.decode.bind(e),r=e.encode.bind(e),o=e,i=OC();return o.decode=(a,c)=>{const f=n(a,c);return i.decode(f)},o.encode=(a,c,f)=>{const g=i.encode(a);return r(g,c,f)},o}class a6{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Ve("instruction").decode(e.data);let o;for(const[i,a]of Object.entries(kt))if(a.index==r){o=i;break}if(!o)throw new Error("Instruction type incorrect; not a SystemInstruction");return o}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n,space:r,programId:o}=_t(kt.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:n,space:r,programId:new re(o)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n}=_t(kt.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:n}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n,seed:r,programId:o}=_t(kt.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:n,seed:r,programId:new re(o)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:n}=_t(kt.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:n}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:r,space:o,programId:i}=_t(kt.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new re(n),seed:r,space:o,programId:new re(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:n}=_t(kt.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new re(n)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:r,programId:o}=_t(kt.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new re(n),seed:r,programId:new re(o)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:n,seed:r,lamports:o,space:i,programId:a}=_t(kt.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new re(n),seed:r,lamports:o,space:i,programId:new re(a)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:n}=_t(kt.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new re(n)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),_t(kt.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=_t(kt.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n}=_t(kt.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new re(n)}}static checkProgramId(e){if(!e.equals(Nt.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const kt=Object.freeze({Create:{index:0,layout:Se([Ve("instruction"),cr("lamports"),cr("space"),lt("programId")])},Assign:{index:1,layout:Se([Ve("instruction"),lt("programId")])},Transfer:{index:2,layout:Se([Ve("instruction"),Ll("lamports")])},CreateWithSeed:{index:3,layout:Se([Ve("instruction"),lt("base"),Gs("seed"),cr("lamports"),cr("space"),lt("programId")])},AdvanceNonceAccount:{index:4,layout:Se([Ve("instruction")])},WithdrawNonceAccount:{index:5,layout:Se([Ve("instruction"),cr("lamports")])},InitializeNonceAccount:{index:6,layout:Se([Ve("instruction"),lt("authorized")])},AuthorizeNonceAccount:{index:7,layout:Se([Ve("instruction"),lt("authorized")])},Allocate:{index:8,layout:Se([Ve("instruction"),cr("space")])},AllocateWithSeed:{index:9,layout:Se([Ve("instruction"),lt("base"),Gs("seed"),cr("space"),lt("programId")])},AssignWithSeed:{index:10,layout:Se([Ve("instruction"),lt("base"),Gs("seed"),lt("programId")])},TransferWithSeed:{index:11,layout:Se([Ve("instruction"),Ll("lamports"),Gs("seed"),lt("programId")])},UpgradeNonceAccount:{index:12,layout:Se([Ve("instruction")])}});class Nt{constructor(){}static createAccount(e){const n=kt.Create,r=dt(n,{lamports:e.lamports,space:e.space,programId:ot(e.programId.toBuffer())});return new vt({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){const o=kt.TransferWithSeed;n=dt(o,{lamports:BigInt(e.lamports),seed:e.seed,programId:ot(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const o=kt.Transfer;n=dt(o,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new vt({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){const o=kt.AssignWithSeed;n=dt(o,{base:ot(e.basePubkey.toBuffer()),seed:e.seed,programId:ot(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=kt.Assign;n=dt(o,{programId:ot(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new vt({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=kt.CreateWithSeed,r=dt(n,{base:ot(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:ot(e.programId.toBuffer())});let o=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||o.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new vt({keys:o,programId:this.programId,data:r})}static createNonceAccount(e){const n=new at;"basePubkey"in e&&"seed"in e?n.add(Nt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Fm,programId:this.programId})):n.add(Nt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Fm,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){const n=kt.InitializeNonceAccount,r=dt(n,{authorized:ot(e.authorizedPubkey.toBuffer())}),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Df,isSigner:!1,isWritable:!1},{pubkey:_s,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new vt(o)}static nonceAdvance(e){const n=kt.AdvanceNonceAccount,r=dt(n),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Df,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new vt(o)}static nonceWithdraw(e){const n=kt.WithdrawNonceAccount,r=dt(n,{lamports:e.lamports});return new vt({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Df,isSigner:!1,isWritable:!1},{pubkey:_s,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const n=kt.AuthorizeNonceAccount,r=dt(n,{authorized:ot(e.newAuthorizedPubkey.toBuffer())});return new vt({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){const o=kt.AllocateWithSeed;n=dt(o,{base:ot(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:ot(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=kt.Allocate;n=dt(o,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new vt({keys:r,programId:this.programId,data:n})}}Nt.programId=new re("11111111111111111111111111111111");const l6=ps-300;class da{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/da.chunkSize)+1+1)}static async load(e,n,r,o,i){{const M=await e.getMinimumBalanceForRentExemption(i.length),S=await e.getAccountInfo(r.publicKey,"confirmed");let E=null;if(S!==null){if(S.executable)return console.error("Program load failed, account is already executable"),!1;S.data.length!==i.length&&(E=E||new at,E.add(Nt.allocate({accountPubkey:r.publicKey,space:i.length}))),S.owner.equals(o)||(E=E||new at,E.add(Nt.assign({accountPubkey:r.publicKey,programId:o}))),S.lamports<M&&(E=E||new at,E.add(Nt.transfer({fromPubkey:n.publicKey,toPubkey:r.publicKey,lamports:M-S.lamports})))}else E=new at().add(Nt.createAccount({fromPubkey:n.publicKey,newAccountPubkey:r.publicKey,lamports:M>0?M:1,space:i.length,programId:o}));E!==null&&await Ol(e,E,[n,r],{commitment:"confirmed"})}const a=Se([Ve("instruction"),Ve("offset"),Ve("bytesLength"),Ve("bytesLengthPadding"),_n(nt("byte"),ds(Ve(),-8),"bytes")]),c=da.chunkSize;let f=0,g=i,_=[];for(;g.length>0;){const M=g.slice(0,c),S=Ze.Buffer.alloc(c+16);a.encode({instruction:0,offset:f,bytes:M,bytesLength:0,bytesLengthPadding:0},S);const E=new at().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:o,data:S});_.push(Ol(e,E,[n,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await zs(1e3/4),f+=c,g=g.slice(c)}await Promise.all(_);{const M=Se([Ve("instruction")]),S=Ze.Buffer.alloc(M.span);M.encode({instruction:1},S);const E=new at().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:_s,isSigner:!1,isWritable:!1}],programId:o,data:S}),A="processed",k=await e.sendTransaction(E,[n,r],{preflightCommitment:A}),{context:C,value:R}=await e.confirmTransaction({signature:k,lastValidBlockHeight:E.lastValidBlockHeight,blockhash:E.recentBlockhash},A);if(R.err)throw new Error(`Transaction ${k} failed (${JSON.stringify(R)})`);for(;;){try{if(await e.getSlot({commitment:A})>C.slot)break}catch{}await new Promise(T=>setTimeout(T,Math.round(m2/2)))}}return!0}}da.chunkSize=l6;const u6=new re("BPFLoader2111111111111111111111111111111111");class c6{static getMinNumSignatures(e){return da.getMinNumSignatures(e)}static load(e,n,r,o,i){return da.load(e,n,r,i,o)}}function f6(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lp,Fv;function h6(){if(Fv)return lp;Fv=1;var t=Object.prototype.toString,e=Object.keys||function(r){var o=[];for(var i in r)o.push(i);return o};function n(r,o){var i,a,c,f,g,_,M;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),o);if(M=t.call(r),M==="[object Array]"){for(c="[",a=r.length-1,i=0;i<a;i++)c+=n(r[i],!0)+",";return a>-1&&(c+=n(r[i],!0)),c+"]"}else if(M==="[object Object]"){for(f=e(r).sort(),a=f.length,c="",i=0;i<a;)g=f[i],_=n(r[g],!1),_!==void 0&&(c&&(c+=","),c+=JSON.stringify(g)+":"+_),i++;return"{"+c+"}"}else return JSON.stringify(r);case"function":case"undefined":return o?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return lp=function(r){var o=n(r,!1);if(o!==void 0)return""+o},lp}var d6=h6(),$v=f6(d6);const uu=32;function up(t){let e=0;for(;t>1;)t/=2,e++;return e}function p6(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class w2{constructor(e,n,r,o,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=o,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=up(p6(e+uu+1))-up(uu)-1,r=this.getSlotsInEpoch(n),o=e-(r-uu);return[n,o]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),o=this.firstNormalEpoch+r,i=n%this.slotsPerEpoch;return[o,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*uu:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+up(uu)):this.slotsPerEpoch}}var m6=globalThis.fetch;class g6 extends yO{constructor(e,n,r){const o=i=>{const a=mO(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in a?this.underlyingSocket=a.socket:this.underlyingSocket=a,a};super(o,e,n,r),this.underlyingSocket=void 0}call(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function y6(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const Hv=56;class $m{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=y6(w6,e),r=e.length-Hv;gt(r>=0,"lookup table is invalid"),gt(r%32===0,"lookup table is invalid");const o=r/32,{addresses:i}=Se([_n(lt(),o,"addresses")]).decode(e.slice(Hv));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new re(n.authority[0]):void 0,addresses:i.map(a=>new re(a))}}}const w6={index:1,layout:Se([Ve("typeIndex"),Ll("deactivationSlot"),Sn("lastExtendedSlot"),nt("lastExtendedStartIndex"),nt(),_n(lt(),ds(nt(),-1),"authority")])},v6=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function _6(t){const e=t.match(v6);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,o,i]=e,a=t.startsWith("https:")?"wss:":"ws:",c=o==null?null:parseInt(o.slice(1),10),f=c==null?"":`:${c+1}`;return`${a}//${r}${f}${i}`}const $t=Nc(pw(re),Me(),t=>new re(t)),v2=mw([Me(),jt("base64")]),Mw=Nc(pw(Ze.Buffer),v2,t=>Ze.Buffer.from(t[0],"base64")),_2=30*1e3;function E6(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function Tt(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...o}=t;e=r,n=o}return{commitment:e,config:n}}function Kv(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function E2(t){return pr([le({jsonrpc:jt("2.0"),id:Me(),result:t}),le({jsonrpc:jt("2.0"),id:Me(),error:le({code:Zl(),message:Me(),data:Xe(zC())})})])}const b6=E2(Zl());function it(t){return Nc(E2(t),b6,e=>"error"in e?e:{...e,result:Fe(e.result,t)})}function Xt(t){return it(le({context:le({slot:X()}),value:t}))}function Qd(t){return le({context:le({slot:X()}),value:t})}function cp(t,e){return t===0?new ha({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new re(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:Rn.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new Ni(e)}const S6=le({foundation:X(),foundationTerm:X(),initial:X(),taper:X(),terminal:X()}),M6=it(He(Ke(le({epoch:X(),effectiveSlot:X(),amount:X(),postBalance:X(),commission:Xe(Ke(X()))})))),A6=He(le({slot:X(),prioritizationFee:X()})),x6=le({total:X(),validator:X(),foundation:X(),epoch:X()}),R6=le({epoch:X(),slotIndex:X(),slotsInEpoch:X(),absoluteSlot:X(),blockHeight:Xe(X()),transactionCount:Xe(X())}),I6=le({slotsPerEpoch:X(),leaderScheduleSlotOffset:X(),warmup:Zi(),firstNormalEpoch:X(),firstNormalSlot:X()}),N6=ZM(Me(),He(X())),Ea=Ke(pr([le({}),Me()])),T6=le({err:Ea}),k6=jt("receivedSignature"),C6=le({"solana-core":Me(),"feature-set":Xe(X())}),O6=le({program:Me(),programId:$t,parsed:Zl()}),L6=le({programId:$t,accounts:He($t),data:Me()}),Vv=Xt(le({err:Ke(pr([le({}),Me()])),logs:Ke(He(Me())),accounts:Xe(Ke(He(Ke(le({executable:Zi(),owner:Me(),lamports:X(),data:He(Me()),rentEpoch:Xe(X())}))))),unitsConsumed:Xe(X()),returnData:Xe(Ke(le({programId:Me(),data:mw([Me(),jt("base64")])}))),innerInstructions:Xe(Ke(He(le({index:X(),instructions:He(pr([O6,L6]))}))))})),B6=Xt(le({byIdentity:ZM(Me(),He(X())),range:le({firstSlot:X(),lastSlot:X()})}));function P6(t,e,n,r,o,i){const a=n||m6;let c;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let f;return r&&(f=async(_,M)=>{const S=await new Promise((E,A)=>{try{r(_,M,(k,C)=>E([k,C]))}catch(k){A(k)}});return await a(...S)}),new hO(async(_,M)=>{const S={method:"POST",body:_,agent:c,headers:Object.assign({"Content-Type":"application/json"},e||{},P4)};try{let E=5,A,k=500;for(;f?A=await f(t,S):A=await a(t,S),!(A.status!==429||o===!0||(E-=1,E===0));)console.error(`Server responded with ${A.status} ${A.statusText}.  Retrying after ${k}ms delay...`),await zs(k),k*=2;const C=await A.text();A.ok?M(null,C):M(new Error(`${A.status} ${A.statusText}: ${C}`))}catch(E){E instanceof Error&&M(E)}},{})}function D6(t){return(e,n)=>new Promise((r,o)=>{t.request(e,n,(i,a)=>{if(i){o(i);return}r(a)})})}function U6(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const o=e.map(i=>t.request(i.methodName,i.args));t.request(o,(i,a)=>{if(i){r(i);return}n(a)})})}const z6=it(S6),j6=it(x6),W6=it(A6),F6=it(R6),$6=it(I6),H6=it(N6),K6=it(X()),V6=Xt(le({total:X(),circulating:X(),nonCirculating:X(),nonCirculatingAccounts:He($t)})),Hm=le({amount:Me(),uiAmount:Ke(X()),decimals:X(),uiAmountString:Xe(Me())}),q6=Xt(He(le({address:$t,amount:Me(),uiAmount:Ke(X()),decimals:X(),uiAmountString:Xe(Me())}))),G6=Xt(He(le({pubkey:$t,account:le({executable:Zi(),owner:$t,lamports:X(),data:Mw,rentEpoch:X()})}))),Km=le({program:Me(),parsed:Zl(),space:X()}),Z6=Xt(He(le({pubkey:$t,account:le({executable:Zi(),owner:$t,lamports:X(),data:Km,rentEpoch:X()})}))),Y6=Xt(He(le({lamports:X(),address:$t}))),hc=le({executable:Zi(),owner:$t,lamports:X(),data:Mw,rentEpoch:X()}),Q6=le({pubkey:$t,account:hc}),X6=Nc(pr([pw(Ze.Buffer),Km]),pr([v2,Km]),t=>Array.isArray(t)?Fe(t,Mw):t),Vm=le({executable:Zi(),owner:$t,lamports:X(),data:X6,rentEpoch:X()}),J6=le({pubkey:$t,account:Vm}),e4=le({state:pr([jt("active"),jt("inactive"),jt("activating"),jt("deactivating")]),active:X(),inactive:X()}),t4=it(He(le({signature:Me(),slot:X(),err:Ea,memo:Ke(Me()),blockTime:Xe(Ke(X()))}))),n4=it(He(le({signature:Me(),slot:X(),err:Ea,memo:Ke(Me()),blockTime:Xe(Ke(X()))}))),r4=le({subscription:X(),result:Qd(hc)}),i4=le({pubkey:$t,account:hc}),o4=le({subscription:X(),result:Qd(i4)}),s4=le({parent:X(),slot:X(),root:X()}),a4=le({subscription:X(),result:s4}),l4=pr([le({type:pr([jt("firstShredReceived"),jt("completed"),jt("optimisticConfirmation"),jt("root")]),slot:X(),timestamp:X()}),le({type:jt("createdBank"),parent:X(),slot:X(),timestamp:X()}),le({type:jt("frozen"),slot:X(),timestamp:X(),stats:le({numTransactionEntries:X(),numSuccessfulTransactions:X(),numFailedTransactions:X(),maxTransactionsPerEntry:X()})}),le({type:jt("dead"),slot:X(),timestamp:X(),err:Me()})]),u4=le({subscription:X(),result:l4}),c4=le({subscription:X(),result:Qd(pr([T6,k6]))}),f4=le({subscription:X(),result:X()}),h4=le({pubkey:Me(),gossip:Ke(Me()),tpu:Ke(Me()),rpc:Ke(Me()),version:Ke(Me())}),qv=le({votePubkey:Me(),nodePubkey:Me(),activatedStake:X(),epochVoteAccount:Zi(),epochCredits:He(mw([X(),X(),X()])),commission:X(),lastVote:X(),rootSlot:Ke(X())}),d4=it(le({current:He(qv),delinquent:He(qv)})),p4=pr([jt("processed"),jt("confirmed"),jt("finalized")]),m4=le({slot:X(),confirmations:Ke(X()),err:Ea,confirmationStatus:Xe(p4)}),g4=Xt(He(Ke(m4))),y4=it(X()),b2=le({accountKey:$t,writableIndexes:He(X()),readonlyIndexes:He(X())}),Aw=le({signatures:He(Me()),message:le({accountKeys:He(Me()),header:le({numRequiredSignatures:X(),numReadonlySignedAccounts:X(),numReadonlyUnsignedAccounts:X()}),instructions:He(le({accounts:He(X()),data:Me(),programIdIndex:X()})),recentBlockhash:Me(),addressTableLookups:Xe(He(b2))})}),S2=le({pubkey:$t,signer:Zi(),writable:Zi(),source:Xe(pr([jt("transaction"),jt("lookupTable")]))}),M2=le({accountKeys:He(S2),signatures:He(Me())}),A2=le({parsed:Zl(),program:Me(),programId:$t}),x2=le({accounts:He($t),data:Me(),programId:$t}),w4=pr([x2,A2]),v4=pr([le({parsed:Zl(),program:Me(),programId:Me()}),le({accounts:He(Me()),data:Me(),programId:Me()})]),R2=Nc(w4,v4,t=>"accounts"in t?Fe(t,x2):Fe(t,A2)),I2=le({signatures:He(Me()),message:le({accountKeys:He(S2),instructions:He(R2),recentBlockhash:Me(),addressTableLookups:Xe(Ke(He(b2)))})}),Xh=le({accountIndex:X(),mint:Me(),owner:Xe(Me()),programId:Xe(Me()),uiTokenAmount:Hm}),N2=le({writable:He($t),readonly:He($t)}),Xd=le({err:Ea,fee:X(),innerInstructions:Xe(Ke(He(le({index:X(),instructions:He(le({accounts:He(X()),data:Me(),programIdIndex:X()}))})))),preBalances:He(X()),postBalances:He(X()),logMessages:Xe(Ke(He(Me()))),preTokenBalances:Xe(Ke(He(Xh))),postTokenBalances:Xe(Ke(He(Xh))),loadedAddresses:Xe(N2),computeUnitsConsumed:Xe(X()),costUnits:Xe(X())}),xw=le({err:Ea,fee:X(),innerInstructions:Xe(Ke(He(le({index:X(),instructions:He(R2)})))),preBalances:He(X()),postBalances:He(X()),logMessages:Xe(Ke(He(Me()))),preTokenBalances:Xe(Ke(He(Xh))),postTokenBalances:Xe(Ke(He(Xh))),loadedAddresses:Xe(N2),computeUnitsConsumed:Xe(X()),costUnits:Xe(X())}),Yl=pr([jt(0),jt("legacy")]),ba=le({pubkey:Me(),lamports:X(),postBalance:Ke(X()),rewardType:Ke(Me()),commission:Xe(Ke(X()))}),_4=it(Ke(le({blockhash:Me(),previousBlockhash:Me(),parentSlot:X(),transactions:He(le({transaction:Aw,meta:Ke(Xd),version:Xe(Yl)})),rewards:Xe(He(ba)),blockTime:Ke(X()),blockHeight:Ke(X())}))),E4=it(Ke(le({blockhash:Me(),previousBlockhash:Me(),parentSlot:X(),rewards:Xe(He(ba)),blockTime:Ke(X()),blockHeight:Ke(X())}))),b4=it(Ke(le({blockhash:Me(),previousBlockhash:Me(),parentSlot:X(),transactions:He(le({transaction:M2,meta:Ke(Xd),version:Xe(Yl)})),rewards:Xe(He(ba)),blockTime:Ke(X()),blockHeight:Ke(X())}))),S4=it(Ke(le({blockhash:Me(),previousBlockhash:Me(),parentSlot:X(),transactions:He(le({transaction:I2,meta:Ke(xw),version:Xe(Yl)})),rewards:Xe(He(ba)),blockTime:Ke(X()),blockHeight:Ke(X())}))),M4=it(Ke(le({blockhash:Me(),previousBlockhash:Me(),parentSlot:X(),transactions:He(le({transaction:M2,meta:Ke(xw),version:Xe(Yl)})),rewards:Xe(He(ba)),blockTime:Ke(X()),blockHeight:Ke(X())}))),A4=it(Ke(le({blockhash:Me(),previousBlockhash:Me(),parentSlot:X(),rewards:Xe(He(ba)),blockTime:Ke(X()),blockHeight:Ke(X())}))),x4=it(Ke(le({blockhash:Me(),previousBlockhash:Me(),parentSlot:X(),transactions:He(le({transaction:Aw,meta:Ke(Xd)})),rewards:Xe(He(ba)),blockTime:Ke(X())}))),Gv=it(Ke(le({blockhash:Me(),previousBlockhash:Me(),parentSlot:X(),signatures:He(Me()),blockTime:Ke(X())}))),fp=it(Ke(le({slot:X(),meta:Ke(Xd),blockTime:Xe(Ke(X())),transaction:Aw,version:Xe(Yl)}))),pf=it(Ke(le({slot:X(),transaction:I2,meta:Ke(xw),blockTime:Xe(Ke(X())),version:Xe(Yl)}))),R4=Xt(le({blockhash:Me(),lastValidBlockHeight:X()})),I4=Xt(Zi()),N4=le({slot:X(),numTransactions:X(),numSlots:X(),samplePeriodSecs:X()}),T4=it(He(N4)),k4=Xt(Ke(le({feeCalculator:le({lamportsPerSignature:X()})}))),C4=it(Me()),O4=it(Me()),L4=le({err:Ea,logs:He(Me()),signature:Me()}),B4=le({result:Qd(L4),subscription:X()}),P4={"solana-client":"js/1.0.0-maintenance"};class T2{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const g={};return async _=>{const{commitment:M,config:S}=Tt(_),E=this._buildArgs([],M,void 0,S),A=$v(E);return g[A]=g[A]??(async()=>{try{const k=await this._rpcRequest("getBlockHeight",E),C=Fe(k,it(X()));if("error"in C)throw new Qe(C.error,"failed to get block height information");return C.result}finally{delete g[A]}})(),await g[A]}})();let r,o,i,a,c,f;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,o=n.httpHeaders,i=n.fetch,a=n.fetchMiddleware,c=n.disableRetryOnRateLimit,f=n.httpAgent),this._rpcEndpoint=E6(e),this._rpcWsEndpoint=r||_6(e),this._rpcClient=P6(e,o,i,a,c,f),this._rpcRequest=D6(this._rpcClient),this._rpcBatchRequest=U6(this._rpcClient),this._rpcWebSocket=new g6(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:o}=Tt(n),i=this._buildArgs([e.toBase58()],r,void 0,o),a=await this._rpcRequest("getBalance",i),c=Fe(a,Xt(X()));if("error"in c)throw new Qe(c.error,`failed to get balance for ${e.toBase58()}`);return c.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=Fe(n,it(Ke(X())));if("error"in r)throw new Qe(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=Fe(e,it(X()));if("error"in n)throw new Qe(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=Fe(e,K6);if("error"in n)throw new Qe(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),o=Fe(r,V6);if("error"in o)throw new Qe(o.error,"failed to get supply");return o.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),o=await this._rpcRequest("getTokenSupply",r),i=Fe(o,Xt(Hm));if("error"in i)throw new Qe(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),o=await this._rpcRequest("getTokenAccountBalance",r),i=Fe(o,Xt(Hm));if("error"in i)throw new Qe(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,n,r){const{commitment:o,config:i}=Tt(r);let a=[e.toBase58()];"mint"in n?a.push({mint:n.mint.toBase58()}):a.push({programId:n.programId.toBase58()});const c=this._buildArgs(a,o,"base64",i),f=await this._rpcRequest("getTokenAccountsByOwner",c),g=Fe(f,G6);if("error"in g)throw new Qe(g.error,`failed to get token accounts owned by account ${e.toBase58()}`);return g.result}async getParsedTokenAccountsByOwner(e,n,r){let o=[e.toBase58()];"mint"in n?o.push({mint:n.mint.toBase58()}):o.push({programId:n.programId.toBase58()});const i=this._buildArgs(o,r,"jsonParsed"),a=await this._rpcRequest("getTokenAccountsByOwner",i),c=Fe(a,Z6);if("error"in c)throw new Qe(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],o=await this._rpcRequest("getLargestAccounts",r),i=Fe(o,Y6);if("error"in i)throw new Qe(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),o=await this._rpcRequest("getTokenLargestAccounts",r),i=Fe(o,q6);if("error"in i)throw new Qe(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:o}=Tt(n),i=this._buildArgs([e.toBase58()],r,"base64",o),a=await this._rpcRequest("getAccountInfo",i),c=Fe(a,Xt(Ke(hc)));if("error"in c)throw new Qe(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getParsedAccountInfo(e,n){const{commitment:r,config:o}=Tt(n),i=this._buildArgs([e.toBase58()],r,"jsonParsed",o),a=await this._rpcRequest("getAccountInfo",i),c=Fe(a,Xt(Ke(Vm)));if("error"in c)throw new Qe(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:o}=Tt(n),i=e.map(g=>g.toBase58()),a=this._buildArgs([i],r,"jsonParsed",o),c=await this._rpcRequest("getMultipleAccounts",a),f=Fe(c,Xt(He(Ke(Vm))));if("error"in f)throw new Qe(f.error,`failed to get info for accounts ${i}`);return f.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:o}=Tt(n),i=e.map(g=>g.toBase58()),a=this._buildArgs([i],r,"base64",o),c=await this._rpcRequest("getMultipleAccounts",a),f=Fe(c,Xt(He(Ke(hc))));if("error"in f)throw new Qe(f.error,`failed to get info for accounts ${i}`);return f.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:o,config:i}=Tt(n),a=this._buildArgs([e.toBase58()],o,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),c=await this._rpcRequest("getStakeActivation",a),f=Fe(c,it(e4));if("error"in f)throw new Qe(f.error,`failed to get Stake Activation ${e.toBase58()}`);return f.result}async getProgramAccounts(e,n){const{commitment:r,config:o}=Tt(n),{encoding:i,...a}=o||{},c=this._buildArgs([e.toBase58()],r,i||"base64",{...a,...a.filters?{filters:Kv(a.filters)}:null}),f=await this._rpcRequest("getProgramAccounts",c),g=He(Q6),_=a.withContext===!0?Fe(f,Xt(g)):Fe(f,it(g));if("error"in _)throw new Qe(_.error,`failed to get accounts owned by program ${e.toBase58()}`);return _.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:o}=Tt(n),i=this._buildArgs([e.toBase58()],r,"jsonParsed",o),a=await this._rpcRequest("getProgramAccounts",i),c=Fe(a,it(He(J6)));if("error"in c)throw new Qe(c.error,`failed to get accounts owned by program ${e.toBase58()}`);return c.result}async confirmTransaction(e,n){var i;let r;if(typeof e=="string")r=e;else{const a=e;if((i=a.abortSignal)!=null&&i.aborted)return Promise.reject(a.abortSignal.reason);r=a.signature}let o;try{o=Rn.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return gt(o.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,o,i=!1;const a=new Promise((f,g)=>{try{r=this.onSignature(n,(M,S)=>{r=void 0;const E={context:S,value:M};f({__type:ao.PROCESSED,response:E})},e);const _=new Promise(M=>{r==null?M():o=this._onSubscriptionStateChange(r,S=>{S==="subscribed"&&M()})});(async()=>{if(await _,i)return;const M=await this.getSignatureStatus(n);if(i||M==null)return;const{context:S,value:E}=M;if(E!=null)if(E!=null&&E.err)g(E.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(E.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(E.confirmationStatus==="processed"||E.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,f({__type:ao.PROCESSED,response:{context:S,value:E}})}})()}catch(_){g(_)}});return{abortConfirmation:()=>{o&&(o(),o=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:a}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:o}}){let i=!1;const a=new Promise(M=>{const S=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let E=await S();if(!i){for(;E<=r;)if(await zs(1e3),i||(E=await S(),i))return;M({__type:ao.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:c,confirmationPromise:f}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),g=this.getCancellationPromise(n);let _;try{const M=await Promise.race([g,f,a]);if(M.__type===ao.PROCESSED)_=M.response;else throw new Ew(o)}finally{i=!0,c()}return _}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:o,nonceValue:i,signature:a}}){let c=!1;const f=new Promise(E=>{let A=i,k=null;const C=async()=>{try{const{context:R,value:T}=await this.getNonceAndContext(o,{commitment:e,minContextSlot:r});return k=R.slot,T==null?void 0:T.nonce}catch{return A}};(async()=>{if(A=await C(),!c)for(;;){if(i!==A){E({__type:ao.NONCE_INVALID,slotInWhichNonceDidAdvance:k});return}if(await zs(2e3),c||(A=await C(),c))return}})()}),{abortConfirmation:g,confirmationPromise:_}=this.getTransactionConfirmationPromise({commitment:e,signature:a}),M=this.getCancellationPromise(n);let S;try{const E=await Promise.race([M,_,f]);if(E.__type===ao.PROCESSED)S=E.response;else{let A;for(;;){const k=await this.getSignatureStatus(a);if(k==null)break;if(k.context.slot<(E.slotInWhichNonceDidAdvance??r)){await zs(400);continue}A=k;break}if(A!=null&&A.value){const k=e||"finalized",{confirmationStatus:C}=A.value;switch(k){case"processed":case"recent":if(C!=="processed"&&C!=="confirmed"&&C!=="finalized")throw new il(a);break;case"confirmed":case"single":case"singleGossip":if(C!=="confirmed"&&C!=="finalized")throw new il(a);break;case"finalized":case"max":case"root":if(C!=="finalized")throw new il(a);break;default:}S={context:A.context,value:{err:A.value.err}}}else throw new il(a)}}finally{c=!0,g()}return S}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const o=new Promise(f=>{let g=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{g=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>f({__type:ao.TIMED_OUT,timeoutMs:g}),g)}),{abortConfirmation:i,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let c;try{const f=await Promise.race([a,o]);if(f.__type===ao.PROCESSED)c=f.response;else throw new bw(n,f.timeoutMs/1e3)}finally{clearTimeout(r),i()}return c}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=Fe(e,it(He(h4)));if("error"in n)throw new Qe(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),o=Fe(r,d4);if("error"in o)throw new Qe(o.error,"failed to get vote accounts");return o.result}async getSlot(e){const{commitment:n,config:r}=Tt(e),o=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getSlot",o),a=Fe(i,it(X()));if("error"in a)throw new Qe(a.error,"failed to get slot");return a.result}async getSlotLeader(e){const{commitment:n,config:r}=Tt(e),o=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getSlotLeader",o),a=Fe(i,it(Me()));if("error"in a)throw new Qe(a.error,"failed to get slot leader");return a.result}async getSlotLeaders(e,n){const r=[e,n],o=await this._rpcRequest("getSlotLeaders",r),i=Fe(o,it(He($t)));if("error"in i)throw new Qe(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,n){const{context:r,value:o}=await this.getSignatureStatuses([e],n);gt(o.length===1);const i=o[0];return{context:r,value:i}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const o=await this._rpcRequest("getSignatureStatuses",r),i=Fe(o,g4);if("error"in i)throw new Qe(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:n,config:r}=Tt(e),o=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getTransactionCount",o),a=Fe(i,it(X()));if("error"in a)throw new Qe(a.error,"failed to get transaction count");return a.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),o=Fe(r,z6);if("error"in o)throw new Qe(o.error,"failed to get inflation");return o.result}async getInflationReward(e,n,r){const{commitment:o,config:i}=Tt(r),a=this._buildArgs([e.map(g=>g.toBase58())],o,void 0,{...i,epoch:n??(i==null?void 0:i.epoch)}),c=await this._rpcRequest("getInflationReward",a),f=Fe(c,M6);if("error"in f)throw new Qe(f.error,"failed to get inflation reward");return f.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=Fe(e,j6);if("error"in n)throw new Qe(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=Tt(e),o=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getEpochInfo",o),a=Fe(i,F6);if("error"in a)throw new Qe(a.error,"failed to get epoch info");return a.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=Fe(e,$6);if("error"in n)throw new Qe(n.error,"failed to get epoch schedule");const r=n.result;return new w2(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=Fe(e,H6);if("error"in n)throw new Qe(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),o=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=Fe(o,y4);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=Fe(n,T4);if("error"in r)throw new Qe(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),o=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=Fe(o,k4);if("error"in i)throw new Qe(i.error,"failed to get fee calculator");const{context:a,value:c}=i.result;return{context:a,value:c!==null?c.feeCalculator:null}}async getFeeForMessage(e,n){const r=ot(e.serialize()).toString("base64"),o=this._buildArgs([r],n),i=await this._rpcRequest("getFeeForMessage",o),a=Fe(i,Xt(Ke(X())));if("error"in a)throw new Qe(a.error,"failed to get fee for message");if(a.result===null)throw new Error("invalid blockhash");return a.result}async getRecentPrioritizationFees(e){var a;const n=(a=e==null?void 0:e.lockedWritableAccounts)==null?void 0:a.map(c=>c.toBase58()),r=n!=null&&n.length?[n]:[],o=await this._rpcRequest("getRecentPrioritizationFees",r),i=Fe(o,W6);if("error"in i)throw new Qe(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=Tt(e),o=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getLatestBlockhash",o),a=Fe(i,R4);if("error"in a)throw new Qe(a.error,"failed to get latest blockhash");return a.result}async isBlockhashValid(e,n){const{commitment:r,config:o}=Tt(n),i=this._buildArgs([e],r,void 0,o),a=await this._rpcRequest("isBlockhashValid",i),c=Fe(a,I4);if("error"in c)throw new Qe(c.error,"failed to determine if the blockhash `"+e+"`is valid");return c.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=Fe(e,it(C6));if("error"in n)throw new Qe(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=Fe(e,it(Me()));if("error"in n)throw new Qe(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:o}=Tt(n),i=this._buildArgsAtLeastConfirmed([e],r,void 0,o),a=await this._rpcRequest("getBlock",i);try{switch(o==null?void 0:o.transactionDetails){case"accounts":{const c=Fe(a,b4);if("error"in c)throw c.error;return c.result}case"none":{const c=Fe(a,E4);if("error"in c)throw c.error;return c.result}default:{const c=Fe(a,_4);if("error"in c)throw c.error;const{result:f}=c;return f?{...f,transactions:f.transactions.map(({transaction:g,meta:_,version:M})=>({meta:_,transaction:{...g,message:cp(M,g.message)},version:M}))}:null}}}catch(c){throw new Qe(c,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:o}=Tt(n),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",o),a=await this._rpcRequest("getBlock",i);try{switch(o==null?void 0:o.transactionDetails){case"accounts":{const c=Fe(a,M4);if("error"in c)throw c.error;return c.result}case"none":{const c=Fe(a,A4);if("error"in c)throw c.error;return c.result}default:{const c=Fe(a,S4);if("error"in c)throw c.error;return c.result}}}catch(c){throw new Qe(c,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:c,...f}=e;r=c,n=f}const o=this._buildArgs([],r,"base64",n),i=await this._rpcRequest("getBlockProduction",o),a=Fe(i,B6);if("error"in a)throw new Qe(a.error,"failed to get block production information");return a.result}async getTransaction(e,n){const{commitment:r,config:o}=Tt(n),i=this._buildArgsAtLeastConfirmed([e],r,void 0,o),a=await this._rpcRequest("getTransaction",i),c=Fe(a,fp);if("error"in c)throw new Qe(c.error,"failed to get transaction");const f=c.result;return f&&{...f,transaction:{...f.transaction,message:cp(f.version,f.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:o}=Tt(n),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",o),a=await this._rpcRequest("getTransaction",i),c=Fe(a,pf);if("error"in c)throw new Qe(c.error,"failed to get transaction");return c.result}async getParsedTransactions(e,n){const{commitment:r,config:o}=Tt(n),i=e.map(f=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([f],r,"jsonParsed",o)}));return(await this._rpcBatchRequest(i)).map(f=>{const g=Fe(f,pf);if("error"in g)throw new Qe(g.error,"failed to get transactions");return g.result})}async getTransactions(e,n){const{commitment:r,config:o}=Tt(n),i=e.map(f=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([f],r,void 0,o)}));return(await this._rpcBatchRequest(i)).map(f=>{const g=Fe(f,fp);if("error"in g)throw new Qe(g.error,"failed to get transactions");const _=g.result;return _&&{..._,transaction:{..._.transaction,message:cp(_.version,_.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),o=await this._rpcRequest("getBlock",r),i=Fe(o,x4);if("error"in i)throw new Qe(i.error,"failed to get confirmed block");const a=i.result;if(!a)throw new Error("Confirmed block "+e+" not found");const c={...a,transactions:a.transactions.map(({transaction:f,meta:g})=>{const _=new Ni(f.message);return{meta:g,transaction:{...f,message:_}}})};return{...c,transactions:c.transactions.map(({transaction:f,meta:g})=>({meta:g,transaction:at.populate(f.message,f.signatures)}))}}async getBlocks(e,n,r){const o=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),i=await this._rpcRequest("getBlocks",o),a=Fe(i,it(He(X())));if("error"in a)throw new Qe(a.error,"failed to get blocks");return a.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getBlock",r),i=Fe(o,Gv);if("error"in i)throw new Qe(i.error,"failed to get block");const a=i.result;if(!a)throw new Error("Block "+e+" not found");return a}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getBlock",r),i=Fe(o,Gv);if("error"in i)throw new Qe(i.error,"failed to get confirmed block");const a=i.result;if(!a)throw new Error("Confirmed block "+e+" not found");return a}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),o=await this._rpcRequest("getTransaction",r),i=Fe(o,fp);if("error"in i)throw new Qe(i.error,"failed to get transaction");const a=i.result;if(!a)return a;const c=new Ni(a.transaction.message),f=a.transaction.signatures;return{...a,transaction:at.populate(c,f)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),o=await this._rpcRequest("getTransaction",r),i=Fe(o,pf);if("error"in i)throw new Qe(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,n){const r=e.map(a=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([a],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(a=>{const c=Fe(a,pf);if("error"in c)throw new Qe(c.error,"failed to get confirmed transactions");return c.result})}async getConfirmedSignaturesForAddress(e,n,r){let o={},i=await this.getFirstAvailableBlock();for(;!("until"in o)&&(n--,!(n<=0||n<i));)try{const f=await this.getConfirmedBlockSignatures(n,"finalized");f.signatures.length>0&&(o.until=f.signatures[f.signatures.length-1].toString())}catch(f){if(f instanceof Error&&f.message.includes("skipped"))continue;throw f}let a=await this.getSlot("finalized");for(;!("before"in o)&&(r++,!(r>a));)try{const f=await this.getConfirmedBlockSignatures(r);f.signatures.length>0&&(o.before=f.signatures[f.signatures.length-1].toString())}catch(f){if(f instanceof Error&&f.message.includes("skipped"))continue;throw f}return(await this.getConfirmedSignaturesForAddress2(e,o)).map(f=>f.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const o=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",o),a=Fe(i,t4);if("error"in a)throw new Qe(a.error,"failed to get confirmed signatures for address");return a.result}async getSignaturesForAddress(e,n,r){const o=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),i=await this._rpcRequest("getSignaturesForAddress",o),a=Fe(i,n4);if("error"in a)throw new Qe(a.error,"failed to get signatures for address");return a.result}async getAddressLookupTable(e,n){const{context:r,value:o}=await this.getAccountInfoAndContext(e,n);let i=null;return o!==null&&(i=new $m({key:e,state:$m.deserialize(o.data)})),{context:r,value:i}}async getNonceAndContext(e,n){const{context:r,value:o}=await this.getAccountInfoAndContext(e,n);let i=null;return o!==null&&(i=Yd.fromAccountData(o.data)),{context:r,value:i}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),o=Fe(r,C4);if("error"in o)throw new Qe(o.error,`airdrop to ${e.toBase58()} failed`);return o.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await zs(100);const r=Date.now()-this._blockhashInfo.lastFetch>=_2;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let o=0;o<50;o++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await zs(m2/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=Tt(e),o=this._buildArgs([],n,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",o),a=Fe(i,Xt(X()));if("error"in a)throw new Qe(a.error,"failed to get stake minimum delegation");return a.result}async simulateTransaction(e,n,r){if("message"in e){const k=e.serialize(),C=Ze.Buffer.from(k).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const R=n||{};R.encoding="base64","commitment"in R||(R.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(R.innerInstructions=n.innerInstructions);const T=[C,R],N=await this._rpcRequest("simulateTransaction",T),O=Fe(N,Vv);if("error"in O)throw new Error("failed to simulate transaction: "+O.error.message);return O.result}let o;if(e instanceof at){let A=e;o=new at,o.feePayer=A.feePayer,o.instructions=e.instructions,o.nonceInfo=A.nonceInfo,o.signatures=A.signatures}else o=at.populate(e),o._message=o._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(o.nonceInfo&&i)o.sign(...i);else{let A=this._disableBlockhashCaching;for(;;){const k=await this._blockhashWithExpiryBlockHeight(A);if(o.lastValidBlockHeight=k.lastValidBlockHeight,o.recentBlockhash=k.blockhash,!i)break;if(o.sign(...i),!o.signature)throw new Error("!signature");const C=o.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(C)&&!this._blockhashInfo.transactionSignatures.includes(C)){this._blockhashInfo.simulatedSignatures.push(C);break}else A=!0}}const a=o._compile(),c=a.serialize(),g=o._serialize(c).toString("base64"),_={encoding:"base64",commitment:this.commitment};if(r){const A=(Array.isArray(r)?r:a.nonProgramIds()).map(k=>k.toBase58());_.accounts={encoding:"base64",addresses:A}}i&&(_.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(_.innerInstructions=n.innerInstructions);const M=[g,_],S=await this._rpcRequest("simulateTransaction",M),E=Fe(S,Vv);if("error"in E){let A;if("data"in E.error&&(A=E.error.data.logs,A&&Array.isArray(A))){const k=`
    `,C=k+A.join(k);console.error(E.error.message,C)}throw new Es({action:"simulate",signature:"",transactionMessage:E.error.message,logs:A})}return E.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const a=e.serialize();return await this.sendRawTransaction(a,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(e.nonceInfo)e.sign(...o);else{let a=this._disableBlockhashCaching;for(;;){const c=await this._blockhashWithExpiryBlockHeight(a);if(e.lastValidBlockHeight=c.lastValidBlockHeight,e.recentBlockhash=c.blockhash,e.sign(...o),!e.signature)throw new Error("!signature");const f=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(f))a=!0;else{this._blockhashInfo.transactionSignatures.push(f);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,n){const r=ot(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},o=n&&n.skipPreflight,i=o===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),o&&(r.skipPreflight=o),i&&(r.preflightCommitment=i);const a=[e,r],c=await this._rpcRequest("sendTransaction",a),f=Fe(c,O4);if("error"in f){let g;throw"data"in f.error&&(g=f.error.data.logs),new Es({action:o?"send":"simulate",signature:"",transactionMessage:f.error.message,logs:g})}return f.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){var o;const r=(o=this._subscriptionsByHash[e])==null?void 0:o.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(a=>{try{a(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){var i;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const o=(i=this._subscriptionStateChangeCallbacksByHash)[r]||(i[r]=new Set);return o.add(n),()=>{o.delete(n),o.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const o=this._subscriptionsByHash[r];if(o!==void 0)switch(o.state){case"pending":case"unsubscribed":if(o.callbacks.size===0){delete this._subscriptionsByHash[r],o.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[o.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:a}=o;try{this._setSubscription(r,{...o,state:"subscribing"});const c=await this._rpcWebSocket.call(a,i);this._setSubscription(r,{...o,serverSubscriptionId:c,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[c]=o.callbacks,await this._updateSubscriptions()}catch(c){if(console.error(`Received ${c instanceof Error?"":"JSON-RPC "}error calling \`${a}\``,{args:i,error:c}),!n())return;this._setSubscription(r,{...o,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":o.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:a}=o;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...o,state:"unsubscribing"}),this._setSubscription(r,{...o,state:"unsubscribing"});try{await this._rpcWebSocket.call(a,[i])}catch(c){if(c instanceof Error&&console.error(`${a} error:`,c.message),!n())return;this._setSubscription(r,{...o,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...o,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(o=>{try{o(...n)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=Fe(e,r4);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,o=$v([e.method,n]),i=this._subscriptionsByHash[o];return i===void 0?this._subscriptionsByHash[o]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=o,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const a=this._subscriptionsByHash[o];gt(a!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),a.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const{commitment:o,config:i}=Tt(r),a=this._buildArgs([e.toBase58()],o||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},a)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=Fe(e,o4);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,o){const{commitment:i,config:a}=Tt(r),c=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",a||(o?{filters:Kv(o)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},c)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const o=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},o)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=Fe(e,B4);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=Fe(e,a4);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=Fe(e,u4);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,o){const i=n||this._commitment;if(i||r||o){let a={};r&&(a.encoding=r),i&&(a.commitment=i),o&&(a=Object.assign(a,o)),e.push(a)}return e}_buildArgsAtLeastConfirmed(e,n,r,o){const i=n||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,o)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=Fe(e,c4);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const o=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(a,c)=>{if(a.type==="status"){n(a.result,c);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return i}onSignatureWithOptions(e,n,r){const{commitment:o,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},a=this._buildArgs([e],o,void 0,i),c=this._makeSubscription({callback:(f,g)=>{n(f,g);try{this.removeSignatureListener(c)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},a);return c}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=Fe(e,f4);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class ms{constructor(e){this._keypair=void 0,this._keypair=e??zv()}static generate(){return new ms(zv())}static fromSecretKey(e,n){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!n||!n.skipValidation){const o=e.slice(0,32),i=Qh(o);for(let a=0;a<32;a++)if(r[a]!==i[a])throw new Error("provided secretKey is invalid")}return new ms({publicKey:r,secretKey:e})}static fromSeed(e){const n=Qh(e),r=new Uint8Array(64);return r.set(e),r.set(n,32),new ms({publicKey:n,secretKey:r})}get publicKey(){return new re(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const go=Object.freeze({CreateLookupTable:{index:0,layout:Se([Ve("instruction"),Ll("recentSlot"),nt("bumpSeed")])},FreezeLookupTable:{index:1,layout:Se([Ve("instruction")])},ExtendLookupTable:{index:2,layout:Se([Ve("instruction"),Ll(),_n(lt(),ds(Ve(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Se([Ve("instruction")])},CloseLookupTable:{index:4,layout:Se([Ve("instruction")])}});class D4{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Ve("instruction").decode(e.data);let o;for(const[i,a]of Object.entries(go))if(a.index==r){o=i;break}if(!o)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return o}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:n}=_t(go.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(n)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:n}=_t(go.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:n.map(r=>new re(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Rw.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}class Rw{constructor(){}static createLookupTable(e){const[n,r]=re.findProgramAddressSync([e.authority.toBuffer(),VM().encode(e.recentSlot)],this.programId),o=go.CreateLookupTable,i=dt(o,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),a=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Nt.programId,isSigner:!1,isWritable:!1}];return[new vt({programId:this.programId,keys:a,data:i}),n]}static freezeLookupTable(e){const n=go.FreezeLookupTable,r=dt(n),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new vt({programId:this.programId,keys:o,data:r})}static extendLookupTable(e){const n=go.ExtendLookupTable,r=dt(n,{addresses:e.addresses.map(i=>i.toBytes())}),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&o.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Nt.programId,isSigner:!1,isWritable:!1}),new vt({programId:this.programId,keys:o,data:r})}static deactivateLookupTable(e){const n=go.DeactivateLookupTable,r=dt(n),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new vt({programId:this.programId,keys:o,data:r})}static closeLookupTable(e){const n=go.CloseLookupTable,r=dt(n),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new vt({programId:this.programId,keys:o,data:r})}}Rw.programId=new re("AddressLookupTab1e1111111111111111111111111");class U4{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=nt("instruction").decode(e.data);let o;for(const[i,a]of Object.entries(zi))if(a.index==r){o=i;break}if(!o)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return o}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:n,additionalFee:r}=_t(zi.RequestUnits,e.data);return{units:n,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:n}=_t(zi.RequestHeapFrame,e.data);return{bytes:n}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:n}=_t(zi.SetComputeUnitLimit,e.data);return{units:n}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:n}=_t(zi.SetComputeUnitPrice,e.data);return{microLamports:n}}static checkProgramId(e){if(!e.equals(Iw.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const zi=Object.freeze({RequestUnits:{index:0,layout:Se([nt("instruction"),Ve("units"),Ve("additionalFee")])},RequestHeapFrame:{index:1,layout:Se([nt("instruction"),Ve("bytes")])},SetComputeUnitLimit:{index:2,layout:Se([nt("instruction"),Ve("units")])},SetComputeUnitPrice:{index:3,layout:Se([nt("instruction"),Ll("microLamports")])}});class Iw{constructor(){}static requestUnits(e){const n=zi.RequestUnits,r=dt(n,e);return new vt({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const n=zi.RequestHeapFrame,r=dt(n,e);return new vt({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const n=zi.SetComputeUnitLimit,r=dt(n,e);return new vt({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const n=zi.SetComputeUnitPrice,r=dt(n,{microLamports:BigInt(e.microLamports)});return new vt({keys:[],programId:this.programId,data:r})}}Iw.programId=new re("ComputeBudget111111111111111111111111111111");const Zv=64,Yv=32,Qv=64,Xv=Se([nt("numSignatures"),nt("padding"),Dr("signatureOffset"),Dr("signatureInstructionIndex"),Dr("publicKeyOffset"),Dr("publicKeyInstructionIndex"),Dr("messageDataOffset"),Dr("messageDataSize"),Dr("messageInstructionIndex")]);class Jd{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:n,message:r,signature:o,instructionIndex:i}=e;gt(n.length===Yv,`Public Key must be ${Yv} bytes but received ${n.length} bytes`),gt(o.length===Qv,`Signature must be ${Qv} bytes but received ${o.length} bytes`);const a=Xv.span,c=a+n.length,f=c+o.length,g=1,_=Ze.Buffer.alloc(f+r.length),M=i??65535;return Xv.encode({numSignatures:g,padding:0,signatureOffset:c,signatureInstructionIndex:M,publicKeyOffset:a,publicKeyInstructionIndex:M,messageDataOffset:f,messageDataSize:r.length,messageInstructionIndex:M},_),_.fill(n,a),_.fill(o,c),_.fill(r,f),new vt({keys:[],programId:Jd.programId,data:_})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:r,instructionIndex:o}=e;gt(n.length===Zv,`Private key must be ${Zv} bytes but received ${n.length} bytes`);try{const i=ms.fromSecretKey(n),a=i.publicKey.toBytes(),c=vw(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:a,message:r,signature:c,instructionIndex:o})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Jd.programId=new re("Ed25519SigVerify111111111111111111111111111");const z4=(t,e)=>{const n=ww.sign(t,e);return[n.toCompactRawBytes(),n.recovery]};ww.utils.isValidPrivateKey;const j4=ww.getPublicKey,Jv=32,hp=20,e_=64,W4=11,dp=Se([nt("numSignatures"),Dr("signatureOffset"),nt("signatureInstructionIndex"),Dr("ethAddressOffset"),nt("ethAddressInstructionIndex"),Dr("messageDataOffset"),Dr("messageDataSize"),nt("messageInstructionIndex"),It(20,"ethAddress"),It(64,"signature"),nt("recoveryId")]);class ml{constructor(){}static publicKeyToEthAddress(e){gt(e.length===e_,`Public key must be ${e_} bytes but received ${e.length} bytes`);try{return Ze.Buffer.from(Pv(ot(e))).slice(-hp)}catch(n){throw new Error(`Error constructing Ethereum address: ${n}`)}}static createInstructionWithPublicKey(e){const{publicKey:n,message:r,signature:o,recoveryId:i,instructionIndex:a}=e;return ml.createInstructionWithEthAddress({ethAddress:ml.publicKeyToEthAddress(n),message:r,signature:o,recoveryId:i,instructionIndex:a})}static createInstructionWithEthAddress(e){const{ethAddress:n,message:r,signature:o,recoveryId:i,instructionIndex:a=0}=e;let c;typeof n=="string"?n.startsWith("0x")?c=Ze.Buffer.from(n.substr(2),"hex"):c=Ze.Buffer.from(n,"hex"):c=n,gt(c.length===hp,`Address must be ${hp} bytes but received ${c.length} bytes`);const f=1+W4,g=f,_=f+c.length,M=_+o.length+1,S=1,E=Ze.Buffer.alloc(dp.span+r.length);return dp.encode({numSignatures:S,signatureOffset:_,signatureInstructionIndex:a,ethAddressOffset:g,ethAddressInstructionIndex:a,messageDataOffset:M,messageDataSize:r.length,messageInstructionIndex:a,signature:ot(o),ethAddress:ot(c),recoveryId:i},E),E.fill(ot(r),dp.span),new vt({keys:[],programId:ml.programId,data:E})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:r,instructionIndex:o}=e;gt(n.length===Jv,`Private key must be ${Jv} bytes but received ${n.length} bytes`);try{const i=ot(n),a=j4(i,!1).slice(1),c=Ze.Buffer.from(Pv(ot(r))),[f,g]=z4(c,i);return this.createInstructionWithPublicKey({publicKey:a,message:r,signature:f,recoveryId:g,instructionIndex:o})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}ml.programId=new re("KeccakSecp256k11111111111111111111111111111");var k2;const C2=new re("StakeConfig11111111111111111111111111111111");class O2{constructor(e,n){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=n}}class Tc{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}k2=Tc;Tc.default=new k2(0,0,re.default);class F4{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Ve("instruction").decode(e.data);let o;for(const[i,a]of Object.entries(yn))if(a.index==r){o=i;break}if(!o)throw new Error("Instruction type incorrect; not a StakeInstruction");return o}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n,lockup:r}=_t(yn.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new O2(new re(n.staker),new re(n.withdrawer)),lockup:new Tc(r.unixTimestamp,r.epoch,new re(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),_t(yn.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,stakeAuthorizationType:r}=_t(yn.Authorize,e.data),o={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new re(n),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:n,stakeAuthorizationType:r,authoritySeed:o,authorityOwner:i}=_t(yn.AuthorizeWithSeed,e.data),a={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:o,authorityOwner:new re(i),newAuthorizedPubkey:new re(n),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(a.custodianPubkey=e.keys[3].pubkey),a}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=_t(yn.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:n}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),_t(yn.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=_t(yn.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),_t(yn.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(e0.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const yn=Object.freeze({Initialize:{index:0,layout:Se([Ve("instruction"),qO(),GO()])},Authorize:{index:1,layout:Se([Ve("instruction"),lt("newAuthorized"),Ve("stakeAuthorizationType")])},Delegate:{index:2,layout:Se([Ve("instruction")])},Split:{index:3,layout:Se([Ve("instruction"),cr("lamports")])},Withdraw:{index:4,layout:Se([Ve("instruction"),cr("lamports")])},Deactivate:{index:5,layout:Se([Ve("instruction")])},Merge:{index:7,layout:Se([Ve("instruction")])},AuthorizeWithSeed:{index:8,layout:Se([Ve("instruction"),lt("newAuthorized"),Ve("stakeAuthorizationType"),Gs("authoritySeed"),lt("authorityOwner")])}}),$4=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class e0{constructor(){}static initialize(e){const{stakePubkey:n,authorized:r,lockup:o}=e,i=o||Tc.default,a=yn.Initialize,c=dt(a,{authorized:{staker:ot(r.staker.toBuffer()),withdrawer:ot(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:ot(i.custodian.toBuffer())}}),f={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:_s,isSigner:!1,isWritable:!1}],programId:this.programId,data:c};return new vt(f)}static createAccountWithSeed(e){const n=new at;n.add(Nt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:o,lockup:i}=e;return n.add(this.initialize({stakePubkey:r,authorized:o,lockup:i}))}static createAccount(e){const n=new at;n.add(Nt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:o,lockup:i}=e;return n.add(this.initialize({stakePubkey:r,authorized:o,lockup:i}))}static delegate(e){const{stakePubkey:n,authorizedPubkey:r,votePubkey:o}=e,i=yn.Delegate,a=dt(i);return new at().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:Bi,isSigner:!1,isWritable:!1},{pubkey:Uf,isSigner:!1,isWritable:!1},{pubkey:C2,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static authorize(e){const{stakePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:o,stakeAuthorizationType:i,custodianPubkey:a}=e,c=yn.Authorize,f=dt(c,{newAuthorized:ot(o.toBuffer()),stakeAuthorizationType:i.index}),g=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Bi,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return a&&g.push({pubkey:a,isSigner:!0,isWritable:!1}),new at().add({keys:g,programId:this.programId,data:f})}static authorizeWithSeed(e){const{stakePubkey:n,authorityBase:r,authoritySeed:o,authorityOwner:i,newAuthorizedPubkey:a,stakeAuthorizationType:c,custodianPubkey:f}=e,g=yn.AuthorizeWithSeed,_=dt(g,{newAuthorized:ot(a.toBuffer()),stakeAuthorizationType:c.index,authoritySeed:o,authorityOwner:ot(i.toBuffer())}),M=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Bi,isSigner:!1,isWritable:!1}];return f&&M.push({pubkey:f,isSigner:!0,isWritable:!1}),new at().add({keys:M,programId:this.programId,data:_})}static splitInstruction(e){const{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:o,lamports:i}=e,a=yn.Split,c=dt(a,{lamports:i});return new vt({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static split(e,n){const r=new at;return r.add(Nt.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:n,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,n){const{stakePubkey:r,authorizedPubkey:o,splitStakePubkey:i,basePubkey:a,seed:c,lamports:f}=e,g=new at;return g.add(Nt.allocate({accountPubkey:i,basePubkey:a,seed:c,space:this.space,programId:this.programId})),n&&n>0&&g.add(Nt.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:n})),g.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:o,splitStakePubkey:i,lamports:f}))}static merge(e){const{stakePubkey:n,sourceStakePubKey:r,authorizedPubkey:o}=e,i=yn.Merge,a=dt(i);return new at().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Bi,isSigner:!1,isWritable:!1},{pubkey:Uf,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static withdraw(e){const{stakePubkey:n,authorizedPubkey:r,toPubkey:o,lamports:i,custodianPubkey:a}=e,c=yn.Withdraw,f=dt(c,{lamports:i}),g=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:Bi,isSigner:!1,isWritable:!1},{pubkey:Uf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return a&&g.push({pubkey:a,isSigner:!0,isWritable:!1}),new at().add({keys:g,programId:this.programId,data:f})}static deactivate(e){const{stakePubkey:n,authorizedPubkey:r}=e,o=yn.Deactivate,i=dt(o);return new at().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Bi,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}e0.programId=new re("Stake11111111111111111111111111111111111111");e0.space=200;class L2{constructor(e,n,r,o){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=n,this.authorizedWithdrawer=r,this.commission=o}}class H4{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Ve("instruction").decode(e.data);let o;for(const[i,a]of Object.entries(ji))if(a.index==r){o=i;break}if(!o)throw new Error("Instruction type incorrect; not a VoteInstruction");return o}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:n}=_t(ji.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new L2(new re(n.nodePubkey),new re(n.authorizedVoter),new re(n.authorizedWithdrawer),n.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,voteAuthorizationType:r}=_t(ji.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new re(n),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorized:o,voteAuthorizationType:i}}=_t(ji.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new re(n),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new re(o),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=_t(ji.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:n,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Ql.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const ji=Object.freeze({InitializeAccount:{index:0,layout:Se([Ve("instruction"),ZO()])},Authorize:{index:1,layout:Se([Ve("instruction"),lt("newAuthorized"),Ve("voteAuthorizationType")])},Withdraw:{index:3,layout:Se([Ve("instruction"),cr("lamports")])},UpdateValidatorIdentity:{index:4,layout:Se([Ve("instruction")])},AuthorizeWithSeed:{index:10,layout:Se([Ve("instruction"),YO()])}}),K4=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Ql{constructor(){}static initializeAccount(e){const{votePubkey:n,nodePubkey:r,voteInit:o}=e,i=ji.InitializeAccount,a=dt(i,{voteInit:{nodePubkey:ot(o.nodePubkey.toBuffer()),authorizedVoter:ot(o.authorizedVoter.toBuffer()),authorizedWithdrawer:ot(o.authorizedWithdrawer.toBuffer()),commission:o.commission}}),c={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:_s,isSigner:!1,isWritable:!1},{pubkey:Bi,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a};return new vt(c)}static createAccount(e){const n=new at;return n.add(Nt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),n.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:o,voteAuthorizationType:i}=e,a=ji.Authorize,c=dt(a,{newAuthorized:ot(o.toBuffer()),voteAuthorizationType:i.index}),f=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Bi,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new at().add({keys:f,programId:this.programId,data:c})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:n,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:o,newAuthorizedPubkey:i,voteAuthorizationType:a,votePubkey:c}=e,f=ji.AuthorizeWithSeed,g=dt(f,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:ot(r.toBuffer()),currentAuthorityDerivedKeySeed:o,newAuthorized:ot(i.toBuffer()),voteAuthorizationType:a.index}}),_=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:Bi,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new at().add({keys:_,programId:this.programId,data:g})}static withdraw(e){const{votePubkey:n,authorizedWithdrawerPubkey:r,lamports:o,toPubkey:i}=e,a=ji.Withdraw,c=dt(a,{lamports:o}),f=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new at().add({keys:f,programId:this.programId,data:c})}static safeWithdraw(e,n,r){if(e.lamports>n-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return Ql.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:n,authorizedWithdrawerPubkey:r,nodePubkey:o}=e,i=ji.UpdateValidatorIdentity,a=dt(i),c=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new at().add({keys:c,programId:this.programId,data:a})}}Ql.programId=new re("Vote111111111111111111111111111111111111111");Ql.space=3762;const B2=new re("Va1idator1nfo111111111111111111111111111111"),V4=le({name:Me(),website:Xe(Me()),details:Xe(Me()),iconUrl:Xe(Me()),keybaseUsername:Xe(Me())});class Nw{constructor(e,n){this.key=void 0,this.info=void 0,this.key=e,this.info=n}static fromConfigData(e){let n=[...e];if(wr(n)!==2)return null;const o=[];for(let i=0;i<2;i++){const a=new re(vr(n,0,Vi)),c=Ui(n)===1;o.push({publicKey:a,isSigner:c})}if(o[0].publicKey.equals(B2)&&o[1].isSigner){const i=Gs().decode(Ze.Buffer.from(n)),a=JSON.parse(i);return qM(a,V4),new Nw(o[1].publicKey,a)}return null}}const q4=new re("Vote111111111111111111111111111111111111111"),G4=Se([lt("nodePubkey"),lt("authorizedWithdrawer"),nt("commission"),Sn(),_n(Se([Sn("slot"),Ve("confirmationCount")]),ds(Ve(),-8),"votes"),nt("rootSlotValid"),Sn("rootSlot"),Sn(),_n(Se([Sn("epoch"),lt("authorizedVoter")]),ds(Ve(),-8),"authorizedVoters"),Se([_n(Se([lt("authorizedPubkey"),Sn("epochOfLastAuthorizedSwitch"),Sn("targetEpoch")]),32,"buf"),Sn("idx"),nt("isEmpty")],"priorVoters"),Sn(),_n(Se([Sn("epoch"),Sn("credits"),Sn("prevCredits")]),ds(Ve(),-8),"epochCredits"),Se([Sn("slot"),Sn("timestamp")],"lastTimestamp")]);class Tw{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=G4.decode(ot(e),4);let o=r.rootSlot;return r.rootSlotValid||(o=null),new Tw({nodePubkey:new re(r.nodePubkey),authorizedWithdrawer:new re(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:o,authorizedVoters:r.authorizedVoters.map(Z4),priorVoters:Y4(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function Z4({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new re(t)}}function t_({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:n}){return{authorizedPubkey:new re(t),epochOfLastAuthorizedSwitch:e,targetEpoch:n}}function Y4({buf:t,idx:e,isEmpty:n}){return n?[]:[...t.slice(e+1).map(t_),...t.slice(0,e).map(t_)]}const n_={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function P2(t,e){const n=e===!1?"http":"https";if(!t)return n_[n].devnet;const r=n_[n][t];if(!r)throw new Error(`Unknown ${n} cluster: ${t}`);return r}async function Q4(t,e,n,r){let o,i;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(o=n,i=r):i=n;const a=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},c=await t.sendRawTransaction(e,a),f=i&&i.commitment,_=(await(o?t.confirmTransaction(o,f):t.confirmTransaction(c,f))).value;if(_.err)throw c!=null?new Es({action:a!=null&&a.skipPreflight?"send":"simulate",signature:c,transactionMessage:`Status: (${JSON.stringify(_)})`}):new Error(`Raw transaction ${c} failed (${JSON.stringify(_)})`);return c}const X4=1e9,J4=Object.freeze(Object.defineProperty({__proto__:null,Account:HO,AddressLookupTableAccount:$m,AddressLookupTableInstruction:D4,AddressLookupTableProgram:Rw,Authorized:O2,BLOCKHASH_CACHE_TIMEOUT_MS:_2,BPF_LOADER_DEPRECATED_PROGRAM_ID:KO,BPF_LOADER_PROGRAM_ID:u6,BpfLoader:c6,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:zi,ComputeBudgetInstruction:U4,ComputeBudgetProgram:Iw,Connection:T2,Ed25519Program:Jd,Enum:FO,EpochSchedule:w2,FeeCalculatorLayout:g2,Keypair:ms,LAMPORTS_PER_SOL:X4,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:go,Loader:da,Lockup:Tc,MAX_SEED_LENGTH:h2,Message:Ni,MessageAccountKeys:fc,MessageV0:ha,NONCE_ACCOUNT_LENGTH:Fm,NonceAccount:Yd,PACKET_DATA_SIZE:ps,PUBLIC_KEY_LENGTH:Vi,PublicKey:re,SIGNATURE_LENGTH_IN_BYTES:kl,SOLANA_SCHEMA:Uu,STAKE_CONFIG_ID:C2,STAKE_INSTRUCTION_LAYOUTS:yn,SYSTEM_INSTRUCTION_LAYOUTS:kt,SYSVAR_CLOCK_PUBKEY:Bi,SYSVAR_EPOCH_SCHEDULE_PUBKEY:t6,SYSVAR_INSTRUCTIONS_PUBKEY:n6,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:Df,SYSVAR_RENT_PUBKEY:_s,SYSVAR_REWARDS_PUBKEY:r6,SYSVAR_SLOT_HASHES_PUBKEY:i6,SYSVAR_SLOT_HISTORY_PUBKEY:o6,SYSVAR_STAKE_HISTORY_PUBKEY:Uf,Secp256k1Program:ml,SendTransactionError:Es,SolanaJSONRPCError:Qe,SolanaJSONRPCErrorCode:s6,StakeAuthorizationLayout:$4,StakeInstruction:F4,StakeProgram:e0,Struct:_w,SystemInstruction:a6,SystemProgram:Nt,Transaction:at,TransactionExpiredBlockheightExceededError:Ew,TransactionExpiredNonceInvalidError:il,TransactionExpiredTimeoutError:bw,TransactionInstruction:vt,TransactionMessage:Sw,TransactionStatus:ao,VALIDATOR_INFO_KEY:B2,VERSION_PREFIX_MASK:qd,VOTE_PROGRAM_ID:q4,ValidatorInfo:Nw,VersionedMessage:Zd,VersionedTransaction:Cl,VoteAccount:Tw,VoteAuthorizationLayout:K4,VoteInit:L2,VoteInstruction:H4,VoteProgram:Ql,clusterApiUrl:P2,sendAndConfirmRawTransaction:Q4,sendAndConfirmTransaction:Ol},Symbol.toStringTag,{value:"Module"})),D2=ae.createContext({});function U2(){return ae.useContext(D2)}const eL=({children:t,endpoint:e,config:n={commitment:"confirmed"}})=>{const r=ae.useMemo(()=>new T2(e,n),[e,n]);return fe.createElement(D2.Provider,{value:{connection:r}},t)};class Ht extends Error{constructor(e,n){super(e),this.error=n}}class Bl extends Ht{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class z2 extends Ht{constructor(){super(...arguments),this.name="WalletLoadError"}}class Zs extends Ht{constructor(){super(...arguments),this.name="WalletConfigError"}}class dc extends Ht{constructor(){super(...arguments),this.name="WalletConnectionError"}}class t0 extends Ht{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class n0 extends Ht{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class ns extends Ht{constructor(){super(...arguments),this.name="WalletAccountError"}}class Pl extends Ht{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class tL extends Ht{constructor(){super(...arguments),this.name="WalletKeypairError"}}class en extends Ht{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class bo extends Ht{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class bi extends Ht{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class r0 extends Ht{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class qm extends Ht{constructor(){super(...arguments),this.name="WalletSignInError"}}class nL extends Ht{constructor(){super(...arguments),this.name="WalletTimeoutError"}}class rL extends Ht{constructor(){super(...arguments),this.name="WalletWindowBlockedError"}}class iL extends Ht{constructor(){super(...arguments),this.name="WalletWindowClosedError"}}var yt;(function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"})(yt||(yt={}));class kw extends Vd{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,n,r={}){const o=this.publicKey;if(!o)throw new en;return e.feePayer=e.feePayer||o,e.recentBlockhash=e.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,e}}function Cw(t){if(typeof window>"u"||typeof document>"u")return;const e=[];function n(){if(t())for(const i of e)i()}const r=setInterval(n,1e3);e.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),document.readyState!=="complete"&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}function Jh(){if(!navigator)return!1;const t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),n=t.includes("safari");return e&&n}function Fi(t){return"version"in t}class j2 extends kw{async sendTransaction(e,n,r={}){let o=!0;try{if(Fi(e)){if(!this.supportedTransactionVersions)throw new bo("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new bo(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const i=e.serialize();return await n.sendRawTransaction(i,r)}catch(i){throw i instanceof bi?(o=!1,i):new bo(i==null?void 0:i.message,i)}}else try{const{signers:i,...a}=r;e=await this.prepareTransaction(e,n,a),i!=null&&i.length&&e.partialSign(...i),e=await this.signTransaction(e);const c=e.serialize();return await n.sendRawTransaction(c,a)}catch(i){throw i instanceof bi?(o=!1,i):new bo(i==null?void 0:i.message,i)}}catch(i){throw o&&this.emit("error",i),i}}async signAllTransactions(e){for(const r of e)if(Fi(r)){if(!this.supportedTransactionVersions)throw new bi("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new bi(`Signing transaction version ${r.version} isn't supported by this wallet`)}const n=[];for(const r of e)n.push(await this.signTransaction(r));return n}}class i0 extends j2{}class oL extends i0{}const Wi="solana:signAndSendTransaction",zf="solana:signIn",js="solana:signMessage",un="solana:signTransaction",sL="solana:signAndSendAllTransactions",aL=Object.freeze(Object.defineProperty({__proto__:null,SignAndSendAllTransactions:sL,SolanaSignAndSendTransaction:Wi,SolanaSignIn:zf,SolanaSignMessage:js,SolanaSignTransaction:un},Symbol.toStringTag,{value:"Module"})),kc="standard:connect",lL=kc,pc="standard:disconnect",uL=pc,Cc="standard:events",cL=Cc,fL=Object.freeze(Object.defineProperty({__proto__:null,Connect:lL,Disconnect:uL,Events:cL,StandardConnect:kc,StandardDisconnect:pc,StandardEvents:Cc},Symbol.toStringTag,{value:"Module"}));function W2(t){return kc in t.features&&Cc in t.features&&(Wi in t.features||un in t.features)}var ed;(function(t){t.Mainnet="mainnet-beta",t.Testnet="testnet",t.Devnet="devnet"})(ed||(ed={}));const hL=Object.freeze(Object.defineProperty({__proto__:null,BaseMessageSignerWalletAdapter:i0,BaseSignInMessageSignerWalletAdapter:oL,BaseSignerWalletAdapter:j2,BaseWalletAdapter:kw,EventEmitter:Vd,WalletAccountError:ns,get WalletAdapterNetwork(){return ed},WalletConfigError:Zs,WalletConnectionError:dc,WalletDisconnectedError:t0,WalletDisconnectionError:n0,WalletError:Ht,WalletKeypairError:tL,WalletLoadError:z2,WalletNotConnectedError:en,WalletNotReadyError:Bl,WalletPublicKeyError:Pl,get WalletReadyState(){return yt},WalletSendTransactionError:bo,WalletSignInError:qm,WalletSignMessageError:r0,WalletSignTransactionError:bi,WalletTimeoutError:nL,WalletWindowBlockedError:rL,WalletWindowClosedError:iL,isIosAndRedirectable:Jh,isVersionedTransaction:Fi,isWalletAdapterCompatibleStandardWallet:W2,scopePollingDetectionStrategy:Cw},Symbol.toStringTag,{value:"Module"}));class r_ extends Ht{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const dL=[],o0={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){wi("call","select")},connect(){return Promise.reject(wi("call","connect"))},disconnect(){return Promise.reject(wi("call","disconnect"))},sendTransaction(){return Promise.reject(wi("call","sendTransaction"))},signTransaction(){return Promise.reject(wi("call","signTransaction"))},signAllTransactions(){return Promise.reject(wi("call","signAllTransactions"))},signMessage(){return Promise.reject(wi("call","signMessage"))},signIn(){return Promise.reject(wi("call","signIn"))}};Object.defineProperty(o0,"wallets",{get(){return wi("read","wallets"),dL}});Object.defineProperty(o0,"wallet",{get(){return wi("read","wallet"),null}});Object.defineProperty(o0,"publicKey",{get(){return wi("read","publicKey"),null}});function wi(t,e){const n=new Error(`You have tried to ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}const F2=ae.createContext(o0);function s0(){return ae.useContext(F2)}function pL(t,e){const n=ae.useState(()=>{try{const i=localStorage.getItem(t);if(i)return JSON.parse(i)}catch(i){typeof window<"u"&&console.error(i)}return e}),r=n[0],o=ae.useRef(!0);return ae.useEffect(()=>{if(o.current){o.current=!1;return}try{r===null?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(r))}catch(i){typeof window<"u"&&console.error(i)}},[r,t]),n}var Is={};const mL=To(hL),Ow=To(J4),$2=To(aL);var eo={},Oc={},gL=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},H2={},qr={};let Lw;const yL=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];qr.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};qr.getSymbolTotalCodewords=function(e){return yL[e]};qr.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};qr.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Lw=e};qr.isKanjiModeEnabled=function(){return typeof Lw<"u"};qr.toSJIS=function(e){return Lw(e)};var a0={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,o){if(t.isValid(r))return r;try{return e(r)}catch{return o}}})(a0);function K2(){this.buffer=[],this.length=0}K2.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var wL=K2;function Lc(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Lc.prototype.set=function(t,e,n,r){const o=t*this.size+e;this.data[o]=n,r&&(this.reservedBit[o]=!0)};Lc.prototype.get=function(t,e){return this.data[t*this.size+e]};Lc.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};Lc.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var vL=Lc,V2={};(function(t){const e=qr.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const o=Math.floor(r/7)+2,i=e(r),a=i===145?26:Math.ceil((i-13)/(2*o-2))*2,c=[i-7];for(let f=1;f<o-1;f++)c[f]=c[f-1]-a;return c.push(6),c.reverse()},t.getPositions=function(r){const o=[],i=t.getRowColCoords(r),a=i.length;for(let c=0;c<a;c++)for(let f=0;f<a;f++)c===0&&f===0||c===0&&f===a-1||c===a-1&&f===0||o.push([i[c],i[f]]);return o}})(V2);var q2={};const _L=qr.getSymbolSize,i_=7;q2.getPositions=function(e){const n=_L(e);return[[0,0],[n-i_,0],[0,n-i_]]};var G2={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},t.from=function(o){return t.isValid(o)?parseInt(o,10):void 0},t.getPenaltyN1=function(o){const i=o.size;let a=0,c=0,f=0,g=null,_=null;for(let M=0;M<i;M++){c=f=0,g=_=null;for(let S=0;S<i;S++){let E=o.get(M,S);E===g?c++:(c>=5&&(a+=e.N1+(c-5)),g=E,c=1),E=o.get(S,M),E===_?f++:(f>=5&&(a+=e.N1+(f-5)),_=E,f=1)}c>=5&&(a+=e.N1+(c-5)),f>=5&&(a+=e.N1+(f-5))}return a},t.getPenaltyN2=function(o){const i=o.size;let a=0;for(let c=0;c<i-1;c++)for(let f=0;f<i-1;f++){const g=o.get(c,f)+o.get(c,f+1)+o.get(c+1,f)+o.get(c+1,f+1);(g===4||g===0)&&a++}return a*e.N2},t.getPenaltyN3=function(o){const i=o.size;let a=0,c=0,f=0;for(let g=0;g<i;g++){c=f=0;for(let _=0;_<i;_++)c=c<<1&2047|o.get(g,_),_>=10&&(c===1488||c===93)&&a++,f=f<<1&2047|o.get(_,g),_>=10&&(f===1488||f===93)&&a++}return a*e.N3},t.getPenaltyN4=function(o){let i=0;const a=o.data.length;for(let f=0;f<a;f++)i+=o.data[f];return Math.abs(Math.ceil(i*100/a/5)-10)*e.N4};function n(r,o,i){switch(r){case t.Patterns.PATTERN000:return(o+i)%2===0;case t.Patterns.PATTERN001:return o%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(o+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return o*i%2+o*i%3===0;case t.Patterns.PATTERN110:return(o*i%2+o*i%3)%2===0;case t.Patterns.PATTERN111:return(o*i%3+(o+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(o,i){const a=i.size;for(let c=0;c<a;c++)for(let f=0;f<a;f++)i.isReserved(f,c)||i.xor(f,c,n(o,f,c))},t.getBestMask=function(o,i){const a=Object.keys(t.Patterns).length;let c=0,f=1/0;for(let g=0;g<a;g++){i(g),t.applyMask(g,o);const _=t.getPenaltyN1(o)+t.getPenaltyN2(o)+t.getPenaltyN3(o)+t.getPenaltyN4(o);t.applyMask(g,o),_<f&&(f=_,c=g)}return c}})(G2);var l0={};const rs=a0,mf=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],gf=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];l0.getBlocksCount=function(e,n){switch(n){case rs.L:return mf[(e-1)*4+0];case rs.M:return mf[(e-1)*4+1];case rs.Q:return mf[(e-1)*4+2];case rs.H:return mf[(e-1)*4+3];default:return}};l0.getTotalCodewordsCount=function(e,n){switch(n){case rs.L:return gf[(e-1)*4+0];case rs.M:return gf[(e-1)*4+1];case rs.Q:return gf[(e-1)*4+2];case rs.H:return gf[(e-1)*4+3];default:return}};var Z2={},u0={};const zu=new Uint8Array(512),td=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)zu[n]=e,td[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)zu[n]=zu[n-255]})();u0.log=function(e){if(e<1)throw new Error("log("+e+")");return td[e]};u0.exp=function(e){return zu[e]};u0.mul=function(e,n){return e===0||n===0?0:zu[td[e]+td[n]]};(function(t){const e=u0;t.mul=function(r,o){const i=new Uint8Array(r.length+o.length-1);for(let a=0;a<r.length;a++)for(let c=0;c<o.length;c++)i[a+c]^=e.mul(r[a],o[c]);return i},t.mod=function(r,o){let i=new Uint8Array(r);for(;i.length-o.length>=0;){const a=i[0];for(let f=0;f<o.length;f++)i[f]^=e.mul(o[f],a);let c=0;for(;c<i.length&&i[c]===0;)c++;i=i.slice(c)}return i},t.generateECPolynomial=function(r){let o=new Uint8Array([1]);for(let i=0;i<r;i++)o=t.mul(o,new Uint8Array([1,e.exp(i)]));return o}})(Z2);const Y2=Z2;function Bw(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Bw.prototype.initialize=function(e){this.degree=e,this.genPoly=Y2.generateECPolynomial(this.degree)};Bw.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=Y2.mod(n,this.genPoly),o=this.degree-r.length;if(o>0){const i=new Uint8Array(this.degree);return i.set(r,o),i}return r};var EL=Bw,Q2={},Ns={},Pw={};Pw.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var to={};const X2="[0-9]+",bL="[A-Z $%*+\\-./:]+";let mc="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";mc=mc.replace(/u/g,"\\u");const SL="(?:(?![A-Z0-9 $%*+\\-./:]|"+mc+`)(?:.|[\r
]))+`;to.KANJI=new RegExp(mc,"g");to.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");to.BYTE=new RegExp(SL,"g");to.NUMERIC=new RegExp(X2,"g");to.ALPHANUMERIC=new RegExp(bL,"g");const ML=new RegExp("^"+mc+"$"),AL=new RegExp("^"+X2+"$"),xL=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");to.testKanji=function(e){return ML.test(e)};to.testNumeric=function(e){return AL.test(e)};to.testAlphanumeric=function(e){return xL.test(e)};(function(t){const e=Pw,n=to;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,a){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?i.ccBits[0]:a<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return n.testNumeric(i)?t.NUMERIC:n.testAlphanumeric(i)?t.ALPHANUMERIC:n.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function r(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+o)}}t.from=function(i,a){if(t.isValid(i))return i;try{return r(i)}catch{return a}}})(Ns);(function(t){const e=qr,n=l0,r=a0,o=Ns,i=Pw,a=7973,c=e.getBCHDigit(a);function f(S,E,A){for(let k=1;k<=40;k++)if(E<=t.getCapacity(k,A,S))return k}function g(S,E){return o.getCharCountIndicator(S,E)+4}function _(S,E){let A=0;return S.forEach(function(k){const C=g(k.mode,E);A+=C+k.getBitsLength()}),A}function M(S,E){for(let A=1;A<=40;A++)if(_(S,A)<=t.getCapacity(A,E,o.MIXED))return A}t.from=function(E,A){return i.isValid(E)?parseInt(E,10):A},t.getCapacity=function(E,A,k){if(!i.isValid(E))throw new Error("Invalid QR Code version");typeof k>"u"&&(k=o.BYTE);const C=e.getSymbolTotalCodewords(E),R=n.getTotalCodewordsCount(E,A),T=(C-R)*8;if(k===o.MIXED)return T;const N=T-g(k,E);switch(k){case o.NUMERIC:return Math.floor(N/10*3);case o.ALPHANUMERIC:return Math.floor(N/11*2);case o.KANJI:return Math.floor(N/13);case o.BYTE:default:return Math.floor(N/8)}},t.getBestVersionForData=function(E,A){let k;const C=r.from(A,r.M);if(Array.isArray(E)){if(E.length>1)return M(E,C);if(E.length===0)return 1;k=E[0]}else k=E;return f(k.mode,k.getLength(),C)},t.getEncodedBits=function(E){if(!i.isValid(E)||E<7)throw new Error("Invalid QR Code version");let A=E<<12;for(;e.getBCHDigit(A)-c>=0;)A^=a<<e.getBCHDigit(A)-c;return E<<12|A}})(Q2);var J2={};const Gm=qr,eA=1335,RL=21522,o_=Gm.getBCHDigit(eA);J2.getEncodedBits=function(e,n){const r=e.bit<<3|n;let o=r<<10;for(;Gm.getBCHDigit(o)-o_>=0;)o^=eA<<Gm.getBCHDigit(o)-o_;return(r<<10|o)^RL};var tA={};const IL=Ns;function Dl(t){this.mode=IL.NUMERIC,this.data=t.toString()}Dl.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Dl.prototype.getLength=function(){return this.data.length};Dl.prototype.getBitsLength=function(){return Dl.getBitsLength(this.data.length)};Dl.prototype.write=function(e){let n,r,o;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),o=parseInt(r,10),e.put(o,10);const i=this.data.length-n;i>0&&(r=this.data.substr(n),o=parseInt(r,10),e.put(o,i*3+1))};var NL=Dl;const TL=Ns,pp=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ul(t){this.mode=TL.ALPHANUMERIC,this.data=t}Ul.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Ul.prototype.getLength=function(){return this.data.length};Ul.prototype.getBitsLength=function(){return Ul.getBitsLength(this.data.length)};Ul.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=pp.indexOf(this.data[n])*45;r+=pp.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(pp.indexOf(this.data[n]),6)};var kL=Ul;const CL=Ns;function zl(t){this.mode=CL.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}zl.getBitsLength=function(e){return e*8};zl.prototype.getLength=function(){return this.data.length};zl.prototype.getBitsLength=function(){return zl.getBitsLength(this.data.length)};zl.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var OL=zl;const LL=Ns,BL=qr;function jl(t){this.mode=LL.KANJI,this.data=t}jl.getBitsLength=function(e){return e*13};jl.prototype.getLength=function(){return this.data.length};jl.prototype.getBitsLength=function(){return jl.getBitsLength(this.data.length)};jl.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=BL.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var PL=jl,nA={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,o){var i={},a={};a[r]=0;var c=e.PriorityQueue.make();c.push(r,0);for(var f,g,_,M,S,E,A,k,C;!c.empty();){f=c.pop(),g=f.value,M=f.cost,S=n[g]||{};for(_ in S)S.hasOwnProperty(_)&&(E=S[_],A=M+E,k=a[_],C=typeof a[_]>"u",(C||k>A)&&(a[_]=A,c.push(_,A),i[_]=g))}if(typeof o<"u"&&typeof a[o]>"u"){var R=["Could not find a path from ",r," to ",o,"."].join("");throw new Error(R)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var o=[],i=r;i;)o.push(i),n[i],i=n[i];return o.reverse(),o},find_path:function(n,r,o){var i=e.single_source_shortest_paths(n,r,o);return e.extract_shortest_path_from_predecessor_list(i,o)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,o={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(o[i]=r[i]);return o.queue=[],o.sorter=n.sorter||r.default_sorter,o},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var o={value:n,cost:r};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(nA);var DL=nA.exports;(function(t){const e=Ns,n=NL,r=kL,o=OL,i=PL,a=to,c=qr,f=DL;function g(R){return unescape(encodeURIComponent(R)).length}function _(R,T,N){const O=[];let D;for(;(D=R.exec(N))!==null;)O.push({data:D[0],index:D.index,mode:T,length:D[0].length});return O}function M(R){const T=_(a.NUMERIC,e.NUMERIC,R),N=_(a.ALPHANUMERIC,e.ALPHANUMERIC,R);let O,D;return c.isKanjiModeEnabled()?(O=_(a.BYTE,e.BYTE,R),D=_(a.KANJI,e.KANJI,R)):(O=_(a.BYTE_KANJI,e.BYTE,R),D=[]),T.concat(N,O,D).sort(function(P,W){return P.index-W.index}).map(function(P){return{data:P.data,mode:P.mode,length:P.length}})}function S(R,T){switch(T){case e.NUMERIC:return n.getBitsLength(R);case e.ALPHANUMERIC:return r.getBitsLength(R);case e.KANJI:return i.getBitsLength(R);case e.BYTE:return o.getBitsLength(R)}}function E(R){return R.reduce(function(T,N){const O=T.length-1>=0?T[T.length-1]:null;return O&&O.mode===N.mode?(T[T.length-1].data+=N.data,T):(T.push(N),T)},[])}function A(R){const T=[];for(let N=0;N<R.length;N++){const O=R[N];switch(O.mode){case e.NUMERIC:T.push([O,{data:O.data,mode:e.ALPHANUMERIC,length:O.length},{data:O.data,mode:e.BYTE,length:O.length}]);break;case e.ALPHANUMERIC:T.push([O,{data:O.data,mode:e.BYTE,length:O.length}]);break;case e.KANJI:T.push([O,{data:O.data,mode:e.BYTE,length:g(O.data)}]);break;case e.BYTE:T.push([{data:O.data,mode:e.BYTE,length:g(O.data)}])}}return T}function k(R,T){const N={},O={start:{}};let D=["start"];for(let z=0;z<R.length;z++){const P=R[z],W=[];for(let U=0;U<P.length;U++){const F=P[U],j=""+z+U;W.push(j),N[j]={node:F,lastCount:0},O[j]={};for(let V=0;V<D.length;V++){const d=D[V];N[d]&&N[d].node.mode===F.mode?(O[d][j]=S(N[d].lastCount+F.length,F.mode)-S(N[d].lastCount,F.mode),N[d].lastCount+=F.length):(N[d]&&(N[d].lastCount=F.length),O[d][j]=S(F.length,F.mode)+4+e.getCharCountIndicator(F.mode,T))}}D=W}for(let z=0;z<D.length;z++)O[D[z]].end=0;return{map:O,table:N}}function C(R,T){let N;const O=e.getBestModeForData(R);if(N=e.from(T,O),N!==e.BYTE&&N.bit<O.bit)throw new Error('"'+R+'" cannot be encoded with mode '+e.toString(N)+`.
 Suggested mode is: `+e.toString(O));switch(N===e.KANJI&&!c.isKanjiModeEnabled()&&(N=e.BYTE),N){case e.NUMERIC:return new n(R);case e.ALPHANUMERIC:return new r(R);case e.KANJI:return new i(R);case e.BYTE:return new o(R)}}t.fromArray=function(T){return T.reduce(function(N,O){return typeof O=="string"?N.push(C(O,null)):O.data&&N.push(C(O.data,O.mode)),N},[])},t.fromString=function(T,N){const O=M(T,c.isKanjiModeEnabled()),D=A(O),z=k(D,N),P=f.find_path(z.map,"start","end"),W=[];for(let U=1;U<P.length-1;U++)W.push(z.table[P[U]].node);return t.fromArray(E(W))},t.rawSplit=function(T){return t.fromArray(M(T,c.isKanjiModeEnabled()))}})(tA);const c0=qr,mp=a0,UL=wL,zL=vL,jL=V2,WL=q2,Zm=G2,Ym=l0,FL=EL,nd=Q2,$L=J2,HL=Ns,gp=tA;function KL(t,e){const n=t.size,r=WL.getPositions(e);for(let o=0;o<r.length;o++){const i=r[o][0],a=r[o][1];for(let c=-1;c<=7;c++)if(!(i+c<=-1||n<=i+c))for(let f=-1;f<=7;f++)a+f<=-1||n<=a+f||(c>=0&&c<=6&&(f===0||f===6)||f>=0&&f<=6&&(c===0||c===6)||c>=2&&c<=4&&f>=2&&f<=4?t.set(i+c,a+f,!0,!0):t.set(i+c,a+f,!1,!0))}}function VL(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function qL(t,e){const n=jL.getPositions(e);for(let r=0;r<n.length;r++){const o=n[r][0],i=n[r][1];for(let a=-2;a<=2;a++)for(let c=-2;c<=2;c++)a===-2||a===2||c===-2||c===2||a===0&&c===0?t.set(o+a,i+c,!0,!0):t.set(o+a,i+c,!1,!0)}}function GL(t,e){const n=t.size,r=nd.getEncodedBits(e);let o,i,a;for(let c=0;c<18;c++)o=Math.floor(c/3),i=c%3+n-8-3,a=(r>>c&1)===1,t.set(o,i,a,!0),t.set(i,o,a,!0)}function yp(t,e,n){const r=t.size,o=$L.getEncodedBits(e,n);let i,a;for(i=0;i<15;i++)a=(o>>i&1)===1,i<6?t.set(i,8,a,!0):i<8?t.set(i+1,8,a,!0):t.set(r-15+i,8,a,!0),i<8?t.set(8,r-i-1,a,!0):i<9?t.set(8,15-i-1+1,a,!0):t.set(8,15-i-1,a,!0);t.set(r-8,8,1,!0)}function ZL(t,e){const n=t.size;let r=-1,o=n-1,i=7,a=0;for(let c=n-1;c>0;c-=2)for(c===6&&c--;;){for(let f=0;f<2;f++)if(!t.isReserved(o,c-f)){let g=!1;a<e.length&&(g=(e[a]>>>i&1)===1),t.set(o,c-f,g),i--,i===-1&&(a++,i=7)}if(o+=r,o<0||n<=o){o-=r,r=-r;break}}}function YL(t,e,n){const r=new UL;n.forEach(function(f){r.put(f.mode.bit,4),r.put(f.getLength(),HL.getCharCountIndicator(f.mode,t)),f.write(r)});const o=c0.getSymbolTotalCodewords(t),i=Ym.getTotalCodewordsCount(t,e),a=(o-i)*8;for(r.getLengthInBits()+4<=a&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const c=(a-r.getLengthInBits())/8;for(let f=0;f<c;f++)r.put(f%2?17:236,8);return QL(r,t,e)}function QL(t,e,n){const r=c0.getSymbolTotalCodewords(e),o=Ym.getTotalCodewordsCount(e,n),i=r-o,a=Ym.getBlocksCount(e,n),c=r%a,f=a-c,g=Math.floor(r/a),_=Math.floor(i/a),M=_+1,S=g-_,E=new FL(S);let A=0;const k=new Array(a),C=new Array(a);let R=0;const T=new Uint8Array(t.buffer);for(let P=0;P<a;P++){const W=P<f?_:M;k[P]=T.slice(A,A+W),C[P]=E.encode(k[P]),A+=W,R=Math.max(R,W)}const N=new Uint8Array(r);let O=0,D,z;for(D=0;D<R;D++)for(z=0;z<a;z++)D<k[z].length&&(N[O++]=k[z][D]);for(D=0;D<S;D++)for(z=0;z<a;z++)N[O++]=C[z][D];return N}function XL(t,e,n,r){let o;if(Array.isArray(t))o=gp.fromArray(t);else if(typeof t=="string"){let g=e;if(!g){const _=gp.rawSplit(t);g=nd.getBestVersionForData(_,n)}o=gp.fromString(t,g||40)}else throw new Error("Invalid data");const i=nd.getBestVersionForData(o,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const a=YL(e,n,o),c=c0.getSymbolSize(e),f=new zL(c);return KL(f,e),VL(f),qL(f,e),yp(f,n,0),e>=7&&GL(f,e),ZL(f,a),isNaN(r)&&(r=Zm.getBestMask(f,yp.bind(null,f,n))),Zm.applyMask(r,f),yp(f,n,r),{modules:f,version:e,errorCorrectionLevel:n,maskPattern:r,segments:o}}H2.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=mp.M,o,i;return typeof n<"u"&&(r=mp.from(n.errorCorrectionLevel,mp.M),o=nd.from(n.version),i=Zm.from(n.maskPattern),n.toSJISFunc&&c0.setToSJISFunction(n.toSJISFunc)),XL(e,o,r,i)};var rA={},Dw={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const o=parseInt(r.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const o=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,a=r.scale||4;return{width:i,scale:i?4:a,margin:o,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,o){return o.width&&o.width>=r+o.margin*2?o.width/(r+o.margin*2):o.scale},t.getImageWidth=function(r,o){const i=t.getScale(r,o);return Math.floor((r+o.margin*2)*i)},t.qrToImageData=function(r,o,i){const a=o.modules.size,c=o.modules.data,f=t.getScale(a,i),g=Math.floor((a+i.margin*2)*f),_=i.margin*f,M=[i.color.light,i.color.dark];for(let S=0;S<g;S++)for(let E=0;E<g;E++){let A=(S*g+E)*4,k=i.color.light;if(S>=_&&E>=_&&S<g-_&&E<g-_){const C=Math.floor((S-_)/f),R=Math.floor((E-_)/f);k=M[c[C*a+R]?1:0]}r[A++]=k.r,r[A++]=k.g,r[A++]=k.b,r[A]=k.a}}})(Dw);(function(t){const e=Dw;function n(o,i,a){o.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=a,i.width=a,i.style.height=a+"px",i.style.width=a+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,a,c){let f=c,g=a;typeof f>"u"&&(!a||!a.getContext)&&(f=a,a=void 0),a||(g=r()),f=e.getOptions(f);const _=e.getImageWidth(i.modules.size,f),M=g.getContext("2d"),S=M.createImageData(_,_);return e.qrToImageData(S.data,i,f),n(M,g,_),M.putImageData(S,0,0),g},t.renderToDataURL=function(i,a,c){let f=c;typeof f>"u"&&(!a||!a.getContext)&&(f=a,a=void 0),f||(f={});const g=t.render(i,a,f),_=f.type||"image/png",M=f.rendererOpts||{};return g.toDataURL(_,M.quality)}})(rA);var iA={};const JL=Dw;function s_(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function wp(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function eB(t,e,n){let r="",o=0,i=!1,a=0;for(let c=0;c<t.length;c++){const f=Math.floor(c%e),g=Math.floor(c/e);!f&&!i&&(i=!0),t[c]?(a++,c>0&&f>0&&t[c-1]||(r+=i?wp("M",f+n,.5+g+n):wp("m",o,0),o=0,i=!1),f+1<e&&t[c+1]||(r+=wp("h",a),a=0)):o++}return r}iA.render=function(e,n,r){const o=JL.getOptions(n),i=e.modules.size,a=e.modules.data,c=i+o.margin*2,f=o.color.light.a?"<path "+s_(o.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",g="<path "+s_(o.color.dark,"stroke")+' d="'+eB(a,i,o.margin)+'"/>',_='viewBox="0 0 '+c+" "+c+'"',S='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+_+' shape-rendering="crispEdges">'+f+g+`</svg>
`;return typeof r=="function"&&r(null,S),S};const tB=gL,Qm=H2,oA=rA,nB=iA;function Uw(t,e,n,r,o){const i=[].slice.call(arguments,1),a=i.length,c=typeof i[a-1]=="function";if(!c&&!tB())throw new Error("Callback required as last argument");if(c){if(a<2)throw new Error("Too few arguments provided");a===2?(o=n,n=e,e=r=void 0):a===3&&(e.getContext&&typeof o>"u"?(o=r,r=void 0):(o=r,r=n,n=e,e=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(n=e,e=r=void 0):a===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(f,g){try{const _=Qm.create(n,r);f(t(_,e,r))}catch(_){g(_)}})}try{const f=Qm.create(n,r);o(null,t(f,e,r))}catch(f){o(f)}}Oc.create=Qm.create;Oc.toCanvas=Uw.bind(null,oA.render);Oc.toDataURL=Uw.bind(null,oA.renderToDataURL);Oc.toString=Uw.bind(null,function(t,e,n){return nB.render(t,n)});const rB=To(fL);var br={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SOLANA_CHAINS=t.SOLANA_LOCALNET_CHAIN=t.SOLANA_TESTNET_CHAIN=t.SOLANA_DEVNET_CHAIN=t.SOLANA_MAINNET_CHAIN=void 0,t.isSolanaChain=e,t.SOLANA_MAINNET_CHAIN="solana:mainnet",t.SOLANA_DEVNET_CHAIN="solana:devnet",t.SOLANA_TESTNET_CHAIN="solana:testnet",t.SOLANA_LOCALNET_CHAIN="solana:localnet",t.SOLANA_CHAINS=[t.SOLANA_MAINNET_CHAIN,t.SOLANA_DEVNET_CHAIN,t.SOLANA_TESTNET_CHAIN,t.SOLANA_LOCALNET_CHAIN];function e(n){return t.SOLANA_CHAINS.includes(n)}})(br);var no={};function jf(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const rd="https://api.mainnet-beta.solana.com",sA="https://api.devnet.solana.com",aA="https://api.testnet.solana.com",lA="http://localhost:8899";function uA(t){return t.includes(rd)?br.SOLANA_MAINNET_CHAIN:/\bdevnet\b/i.test(t)?br.SOLANA_DEVNET_CHAIN:/\btestnet\b/i.test(t)?br.SOLANA_TESTNET_CHAIN:/\blocalhost\b/i.test(t)||/\b127\.0\.0\.1\b/.test(t)?br.SOLANA_LOCALNET_CHAIN:br.SOLANA_MAINNET_CHAIN}function iB(t,e){return e||(t===br.SOLANA_MAINNET_CHAIN?rd:t===br.SOLANA_DEVNET_CHAIN?sA:t===br.SOLANA_TESTNET_CHAIN?aA:t===br.SOLANA_LOCALNET_CHAIN?lA:rd)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zw=BigInt(0),Xm=BigInt(1);function Jm(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function Wf(t,e,n=""){const r=Rs(t),o=t==null?void 0:t.length,i=e!==void 0;if(!r||i&&o!==e){const a=n&&`"${n}" `,c=i?` of length ${e}`:"",f=r?`length=${o}`:`type=${typeof t}`;throw new Error(a+"expected Uint8Array"+c+", got "+f)}return t}function cA(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?zw:BigInt("0x"+t)}function oB(t){return cA(Ki(t))}function id(t){return Gi(t),cA(Ki(Uint8Array.from(t).reverse()))}function fA(t,e){return Il(t.toString(16).padStart(e*2,"0"))}function sB(t,e){return fA(t,e).reverse()}function jo(t,e,n){let r;if(typeof e=="string")try{r=Il(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(Rs(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const o=r.length;if(typeof n=="number"&&o!==n)throw new Error(t+" of length "+n+" expected, got "+o);return r}function a_(t){return Uint8Array.from(t)}const vp=t=>typeof t=="bigint"&&zw<=t;function aB(t,e,n){return vp(t)&&vp(e)&&vp(n)&&e<=t&&t<n}function l_(t,e,n,r){if(!aB(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function lB(t){let e;for(e=0;t>zw;t>>=Xm,e+=1);return e}const jw=t=>(Xm<<BigInt(t))-Xm;function Ww(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(o,i,a){const c=t[o];if(a&&c===void 0)return;const f=typeof c;if(f!==i||c===null)throw new Error(`param "${o}" is invalid: expected ${i}, got ${f}`)}Object.entries(e).forEach(([o,i])=>r(o,i,!1)),Object.entries(n).forEach(([o,i])=>r(o,i,!0))}function u_(t){const e=new WeakMap;return(n,...r)=>{const o=e.get(n);if(o!==void 0)return o;const i=t(n,...r);return e.set(n,i),i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xr=BigInt(0),dr=BigInt(1),Ys=BigInt(2),hA=BigInt(3),dA=BigInt(4),pA=BigInt(5),uB=BigInt(7),mA=BigInt(8),cB=BigInt(9),gA=BigInt(16);function fn(t,e){const n=t%e;return n>=xr?n:e+n}function Ci(t,e,n){let r=t;for(;e-- >xr;)r*=r,r%=n;return r}function c_(t,e){if(t===xr)throw new Error("invert: expected non-zero number");if(e<=xr)throw new Error("invert: expected positive modulus, got "+e);let n=fn(t,e),r=e,o=xr,i=dr;for(;n!==xr;){const c=r/n,f=r%n,g=o-i*c;r=n,n=f,o=i,i=g}if(r!==dr)throw new Error("invert: does not exist");return fn(o,e)}function Fw(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function yA(t,e){const n=(t.ORDER+dr)/dA,r=t.pow(e,n);return Fw(t,r,e),r}function fB(t,e){const n=(t.ORDER-pA)/mA,r=t.mul(e,Ys),o=t.pow(r,n),i=t.mul(e,o),a=t.mul(t.mul(i,Ys),o),c=t.mul(i,t.sub(a,t.ONE));return Fw(t,c,e),c}function hB(t){const e=Bc(t),n=wA(t),r=n(e,e.neg(e.ONE)),o=n(e,r),i=n(e,e.neg(r)),a=(t+uB)/gA;return(c,f)=>{let g=c.pow(f,a),_=c.mul(g,r);const M=c.mul(g,o),S=c.mul(g,i),E=c.eql(c.sqr(_),f),A=c.eql(c.sqr(M),f);g=c.cmov(g,_,E),_=c.cmov(S,M,A);const k=c.eql(c.sqr(_),f),C=c.cmov(g,_,k);return Fw(c,C,f),C}}function wA(t){if(t<hA)throw new Error("sqrt is not defined for small field");let e=t-dr,n=0;for(;e%Ys===xr;)e/=Ys,n++;let r=Ys;const o=Bc(t);for(;f_(o,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return yA;let i=o.pow(r,e);const a=(e+dr)/Ys;return function(f,g){if(f.is0(g))return g;if(f_(f,g)!==1)throw new Error("Cannot find square root");let _=n,M=f.mul(f.ONE,i),S=f.pow(g,e),E=f.pow(g,a);for(;!f.eql(S,f.ONE);){if(f.is0(S))return f.ZERO;let A=1,k=f.sqr(S);for(;!f.eql(k,f.ONE);)if(A++,k=f.sqr(k),A===_)throw new Error("Cannot find square root");const C=dr<<BigInt(_-A-1),R=f.pow(M,C);_=A,M=f.sqr(R),S=f.mul(S,M),E=f.mul(E,R)}return E}}function dB(t){return t%dA===hA?yA:t%mA===pA?fB:t%gA===cB?hB(t):wA(t)}const pB=(t,e)=>(fn(t,e)&dr)===dr,mB=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function gB(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=mB.reduce((r,o)=>(r[o]="function",r),e);return Ww(t,n),t}function yB(t,e,n){if(n<xr)throw new Error("invalid exponent, negatives unsupported");if(n===xr)return t.ONE;if(n===dr)return e;let r=t.ONE,o=e;for(;n>xr;)n&dr&&(r=t.mul(r,o)),o=t.sqr(o),n>>=dr;return r}function vA(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),o=e.reduce((a,c,f)=>t.is0(c)?a:(r[f]=a,t.mul(a,c)),t.ONE),i=t.inv(o);return e.reduceRight((a,c,f)=>t.is0(c)?a:(r[f]=t.mul(a,r[f]),t.mul(a,c)),i),r}function f_(t,e){const n=(t.ORDER-dr)/Ys,r=t.pow(e,n),o=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),a=t.eql(r,t.neg(t.ONE));if(!o&&!i&&!a)throw new Error("invalid Legendre symbol result");return o?1:i?0:-1}function wB(t,e){e!==void 0&&xl(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Bc(t,e,n=!1,r={}){if(t<=xr)throw new Error("invalid field: expected ORDER > 0, got "+t);let o,i,a=!1,c;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const S=e;S.BITS&&(o=S.BITS),S.sqrt&&(i=S.sqrt),typeof S.isLE=="boolean"&&(n=S.isLE),typeof S.modFromBytes=="boolean"&&(a=S.modFromBytes),c=S.allowedLengths}else typeof e=="number"&&(o=e),r.sqrt&&(i=r.sqrt);const{nBitLength:f,nByteLength:g}=wB(t,o);if(g>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let _;const M=Object.freeze({ORDER:t,isLE:n,BITS:f,BYTES:g,MASK:jw(f),ZERO:xr,ONE:dr,allowedLengths:c,create:S=>fn(S,t),isValid:S=>{if(typeof S!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof S);return xr<=S&&S<t},is0:S=>S===xr,isValidNot0:S=>!M.is0(S)&&M.isValid(S),isOdd:S=>(S&dr)===dr,neg:S=>fn(-S,t),eql:(S,E)=>S===E,sqr:S=>fn(S*S,t),add:(S,E)=>fn(S+E,t),sub:(S,E)=>fn(S-E,t),mul:(S,E)=>fn(S*E,t),pow:(S,E)=>yB(M,S,E),div:(S,E)=>fn(S*c_(E,t),t),sqrN:S=>S*S,addN:(S,E)=>S+E,subN:(S,E)=>S-E,mulN:(S,E)=>S*E,inv:S=>c_(S,t),sqrt:i||(S=>(_||(_=dB(t)),_(M,S))),toBytes:S=>n?sB(S,g):fA(S,g),fromBytes:(S,E=!0)=>{if(c){if(!c.includes(S.length)||S.length>g)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+S.length);const k=new Uint8Array(g);k.set(S,n?0:k.length-S.length),S=k}if(S.length!==g)throw new Error("Field.fromBytes: expected "+g+" bytes, got "+S.length);let A=n?id(S):oB(S);if(a&&(A=fn(A,t)),!E&&!M.isValid(A))throw new Error("invalid field element: outside of range 0..ORDER");return A},invertBatch:S=>vA(M,S),cmov:(S,E,A)=>A?E:S});return Object.freeze(M)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const od=BigInt(0),eg=BigInt(1);function h_(t,e){const n=e.negate();return t?n:e}function yf(t,e){const n=vA(t.Fp,e.map(r=>r.Z));return e.map((r,o)=>t.fromAffine(r.toAffine(n[o])))}function _A(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function _p(t,e){_A(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),o=2**t,i=jw(t),a=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:o,shiftBy:a}}function d_(t,e,n){const{windowSize:r,mask:o,maxNumber:i,shiftBy:a}=n;let c=Number(t&o),f=t>>a;c>r&&(c-=i,f+=eg);const g=e*r,_=g+Math.abs(c)-1,M=c===0,S=c<0,E=e%2!==0;return{nextN:f,offset:_,isZero:M,isNeg:S,isNegF:E,offsetF:g}}function vB(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function _B(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Ep=new WeakMap,EA=new WeakMap;function bp(t){return EA.get(t)||1}function p_(t){if(t!==od)throw new Error("invalid wNAF")}class EB{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let o=e;for(;n>od;)n&eg&&(r=r.add(o)),o=o.double(),n>>=eg;return r}precomputeWindow(e,n){const{windows:r,windowSize:o}=_p(n,this.bits),i=[];let a=e,c=a;for(let f=0;f<r;f++){c=a,i.push(c);for(let g=1;g<o;g++)c=c.add(a),i.push(c);a=c.double()}return i}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let o=this.ZERO,i=this.BASE;const a=_p(e,this.bits);for(let c=0;c<a.windows;c++){const{nextN:f,offset:g,isZero:_,isNeg:M,isNegF:S,offsetF:E}=d_(r,c,a);r=f,_?i=i.add(h_(S,n[E])):o=o.add(h_(M,n[g]))}return p_(r),{p:o,f:i}}wNAFUnsafe(e,n,r,o=this.ZERO){const i=_p(e,this.bits);for(let a=0;a<i.windows&&r!==od;a++){const{nextN:c,offset:f,isZero:g,isNeg:_}=d_(r,a,i);if(r=c,!g){const M=n[f];o=o.add(_?M.negate():M)}}return p_(r),o}getPrecomputes(e,n,r){let o=Ep.get(n);return o||(o=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(o=r(o)),Ep.set(n,o))),o}cached(e,n,r){const o=bp(e);return this.wNAF(o,this.getPrecomputes(o,e,r),n)}unsafe(e,n,r,o){const i=bp(e);return i===1?this._unsafeLadder(e,n,o):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),n,o)}createCache(e,n){_A(n,this.bits),EA.set(e,n),Ep.delete(e)}hasCache(e){return bp(e)!==1}}function bB(t,e,n,r){vB(n,t),_B(r,e);const o=n.length,i=r.length;if(o!==i)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,c=lB(BigInt(o));let f=1;c>12?f=c-3:c>4?f=c-2:c>0&&(f=2);const g=jw(f),_=new Array(Number(g)+1).fill(a),M=Math.floor((e.BITS-1)/f)*f;let S=a;for(let E=M;E>=0;E-=f){_.fill(a);for(let k=0;k<i;k++){const C=r[k],R=Number(C>>BigInt(E)&g);_[R]=_[R].add(n[k])}let A=a;for(let k=_.length-1,C=a;k>0;k--)C=C.add(_[k]),A=A.add(C);if(S=S.add(A),E!==0)for(let k=0;k<f;k++)S=S.double()}return S}function m_(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return gB(e),e}else return Bc(t,{isLE:n})}function SB(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const f of["p","n","h"]){const g=e[f];if(!(typeof g=="bigint"&&g>od))throw new Error(`CURVE.${f} must be positive bigint`)}const o=m_(e.p,n.Fp,r),i=m_(e.n,n.Fn,r),c=["Gx","Gy","a","d"];for(const f of c)if(!o.isValid(e[f]))throw new Error(`CURVE.${f} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:o,Fn:i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zo=BigInt(0),gn=BigInt(1),Sp=BigInt(2),MB=BigInt(8);function AB(t,e,n,r){const o=t.sqr(n),i=t.sqr(r),a=t.add(t.mul(e.a,o),i),c=t.add(t.ONE,t.mul(e.d,t.mul(o,i)));return t.eql(a,c)}function xB(t,e={}){const n=SB("edwards",t,e,e.FpFnLE),{Fp:r,Fn:o}=n;let i=n.CURVE;const{h:a}=i;Ww(e,{},{uvRatio:"function"});const c=Sp<<BigInt(o.BYTES*8)-gn,f=C=>r.create(C),g=e.uvRatio||((C,R)=>{try{return{isValid:!0,value:r.sqrt(r.div(C,R))}}catch{return{isValid:!1,value:zo}}});if(!AB(r,i,i.Gx,i.Gy))throw new Error("bad curve params: generator point");function _(C,R,T=!1){const N=T?gn:zo;return l_("coordinate "+C,R,N,c),R}function M(C){if(!(C instanceof A))throw new Error("ExtendedPoint expected")}const S=u_((C,R)=>{const{X:T,Y:N,Z:O}=C,D=C.is0();R==null&&(R=D?MB:r.inv(O));const z=f(T*R),P=f(N*R),W=r.mul(O,R);if(D)return{x:zo,y:gn};if(W!==gn)throw new Error("invZ was invalid");return{x:z,y:P}}),E=u_(C=>{const{a:R,d:T}=i;if(C.is0())throw new Error("bad point: ZERO");const{X:N,Y:O,Z:D,T:z}=C,P=f(N*N),W=f(O*O),U=f(D*D),F=f(U*U),j=f(P*R),V=f(U*f(j+W)),d=f(F+f(T*f(P*W)));if(V!==d)throw new Error("bad point: equation left != right (1)");const s=f(N*O),u=f(D*z);if(s!==u)throw new Error("bad point: equation left != right (2)");return!0});class A{constructor(R,T,N,O){this.X=_("x",R),this.Y=_("y",T),this.Z=_("z",N,!0),this.T=_("t",O),Object.freeze(this)}static CURVE(){return i}static fromAffine(R){if(R instanceof A)throw new Error("extended point not allowed");const{x:T,y:N}=R||{};return _("x",T),_("y",N),new A(T,N,gn,f(T*N))}static fromBytes(R,T=!1){const N=r.BYTES,{a:O,d:D}=i;R=a_(Wf(R,N,"point")),Jm(T,"zip215");const z=a_(R),P=R[N-1];z[N-1]=P&-129;const W=id(z),U=T?c:r.ORDER;l_("point.y",W,zo,U);const F=f(W*W),j=f(F-gn),V=f(D*F-O);let{isValid:d,value:s}=g(j,V);if(!d)throw new Error("bad point: invalid y coordinate");const u=(s&gn)===gn,h=(P&128)!==0;if(!T&&s===zo&&h)throw new Error("bad point: x=0 and x_0=1");return h!==u&&(s=f(-s)),A.fromAffine({x:s,y:W})}static fromHex(R,T=!1){return A.fromBytes(jo("point",R),T)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(R=8,T=!0){return k.createCache(this,R),T||this.multiply(Sp),this}assertValidity(){E(this)}equals(R){M(R);const{X:T,Y:N,Z:O}=this,{X:D,Y:z,Z:P}=R,W=f(T*P),U=f(D*O),F=f(N*P),j=f(z*O);return W===U&&F===j}is0(){return this.equals(A.ZERO)}negate(){return new A(f(-this.X),this.Y,this.Z,f(-this.T))}double(){const{a:R}=i,{X:T,Y:N,Z:O}=this,D=f(T*T),z=f(N*N),P=f(Sp*f(O*O)),W=f(R*D),U=T+N,F=f(f(U*U)-D-z),j=W+z,V=j-P,d=W-z,s=f(F*V),u=f(j*d),h=f(F*d),p=f(V*j);return new A(s,u,p,h)}add(R){M(R);const{a:T,d:N}=i,{X:O,Y:D,Z:z,T:P}=this,{X:W,Y:U,Z:F,T:j}=R,V=f(O*W),d=f(D*U),s=f(P*N*j),u=f(z*F),h=f((O+D)*(W+U)-V-d),p=u-s,y=u+s,v=f(d-T*V),b=f(h*p),m=f(y*v),l=f(h*v),w=f(p*y);return new A(b,m,w,l)}subtract(R){return this.add(R.negate())}multiply(R){if(!o.isValidNot0(R))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:T,f:N}=k.cached(this,R,O=>yf(A,O));return yf(A,[T,N])[0]}multiplyUnsafe(R,T=A.ZERO){if(!o.isValid(R))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return R===zo?A.ZERO:this.is0()||R===gn?this:k.unsafe(this,R,N=>yf(A,N),T)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}isTorsionFree(){return k.unsafe(this,i.n).is0()}toAffine(R){return S(this,R)}clearCofactor(){return a===gn?this:this.multiplyUnsafe(a)}toBytes(){const{x:R,y:T}=this.toAffine(),N=r.toBytes(T);return N[N.length-1]|=R&gn?128:0,N}toHex(){return Ki(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(R){return yf(A,R)}static msm(R,T){return bB(A,o,R,T)}_setWindowSize(R){this.precompute(R)}toRawBytes(){return this.toBytes()}}A.BASE=new A(i.Gx,i.Gy,gn,f(i.Gx*i.Gy)),A.ZERO=new A(zo,gn,gn,zo),A.Fp=r,A.Fn=o;const k=new EB(A,o.BITS);return A.BASE.precompute(8),A}function RB(t,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');Ww(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:o,Fp:i,Fn:a}=t,c=n.randomBytes||Dd,f=n.adjustScalarBytes||(U=>U),g=n.domain||((U,F,j)=>{if(Jm(j,"phflag"),F.length||j)throw new Error("Contexts/pre-hash are not supported");return U});function _(U){return a.create(id(U))}function M(U){const F=N.secretKey;U=jo("private key",U,F);const j=jo("hashed private key",e(U),2*F),V=f(j.slice(0,F)),d=j.slice(F,2*F),s=_(V);return{head:V,prefix:d,scalar:s}}function S(U){const{head:F,prefix:j,scalar:V}=M(U),d=o.multiply(V),s=d.toBytes();return{head:F,prefix:j,scalar:V,point:d,pointBytes:s}}function E(U){return S(U).pointBytes}function A(U=Uint8Array.of(),...F){const j=Xr(...F);return _(e(g(j,jo("context",U),!!r)))}function k(U,F,j={}){U=jo("message",U),r&&(U=r(U));const{prefix:V,scalar:d,pointBytes:s}=S(F),u=A(j.context,V,U),h=o.multiply(u).toBytes(),p=A(j.context,h,s,U),y=a.create(u+p*d);if(!a.isValid(y))throw new Error("sign failed: invalid s");const v=Xr(h,a.toBytes(y));return Wf(v,N.signature,"result")}const C={zip215:!0};function R(U,F,j,V=C){const{context:d,zip215:s}=V,u=N.signature;U=jo("signature",U,u),F=jo("message",F),j=jo("publicKey",j,N.publicKey),s!==void 0&&Jm(s,"zip215"),r&&(F=r(F));const h=u/2,p=U.subarray(0,h),y=id(U.subarray(h,u));let v,b,m;try{v=t.fromBytes(j,s),b=t.fromBytes(p,s),m=o.multiplyUnsafe(y)}catch{return!1}if(!s&&v.isSmallOrder())return!1;const l=A(d,b.toBytes(),v.toBytes(),F);return b.add(v.multiplyUnsafe(l)).subtract(m).clearCofactor().is0()}const T=i.BYTES,N={secretKey:T,publicKey:T,signature:2*T,seed:T};function O(U=c(N.seed)){return Wf(U,N.seed,"seed")}function D(U){const F=W.randomSecretKey(U);return{secretKey:F,publicKey:E(F)}}function z(U){return Rs(U)&&U.length===a.BYTES}function P(U,F){try{return!!t.fromBytes(U,F)}catch{return!1}}const W={getExtendedPublicKey:S,randomSecretKey:O,isValidSecretKey:z,isValidPublicKey:P,toMontgomery(U){const{y:F}=t.fromBytes(U),j=N.publicKey,V=j===32;if(!V&&j!==57)throw new Error("only defined for 25519 and 448");const d=V?i.div(gn+F,gn-F):i.div(F-gn,F+gn);return i.toBytes(d)},toMontgomerySecret(U){const F=N.secretKey;Wf(U,F);const j=e(U.subarray(0,F));return f(j).subarray(0,F)},randomPrivateKey:O,precompute(U=8,F=t.BASE){return F.precompute(U,!1)}};return Object.freeze({keygen:D,getPublicKey:E,sign:k,verify:R,utils:W,Point:t,lengths:N})}function IB(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=Bc(e.n,t.nBitLength,!0),o={Fp:n,Fn:r,uvRatio:t.uvRatio},i={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:o,hash:t.hash,eddsaOpts:i}}function NB(t,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:t,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function TB(t){const{CURVE:e,curveOpts:n,hash:r,eddsaOpts:o}=IB(t),i=xB(e,n),a=RB(i,r,o);return NB(t,a)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kB=BigInt(1),g_=BigInt(2);BigInt(3);const CB=BigInt(5),OB=BigInt(8),$w=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),bA={p:$w,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:OB,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function LB(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),o=BigInt(80),i=$w,c=t*t%i*t%i,f=Ci(c,g_,i)*c%i,g=Ci(f,kB,i)*t%i,_=Ci(g,CB,i)*g%i,M=Ci(_,e,i)*_%i,S=Ci(M,n,i)*M%i,E=Ci(S,r,i)*S%i,A=Ci(E,o,i)*E%i,k=Ci(A,o,i)*E%i,C=Ci(k,e,i)*_%i;return{pow_p_5_8:Ci(C,g_,i)*t%i,b2:c}}function BB(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const y_=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function PB(t,e){const n=$w,r=fn(e*e*e,n),o=fn(r*r*e,n),i=LB(t*o).pow_p_5_8;let a=fn(t*r*i,n);const c=fn(e*a*a,n),f=a,g=fn(a*y_,n),_=c===t,M=c===fn(-t,n),S=c===fn(-t*y_,n);return _&&(a=f),(M||S)&&(a=g),pB(a,n)&&(a=fn(-a,n)),{isValid:_||M,value:a}}const DB=Bc(bA.p,{isLE:!0}),UB={...bA,Fp:DB,hash:QS,adjustScalarBytes:BB,uvRatio:PB},zB=TB(UB);function SA(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function jB(t,e){return SA(t,e)}function Hw({message:t,signedMessage:e,signature:n,publicKey:r}){return jB(t,e)&&zB.verify(n,e,r)}function WB(t,e){const{message:n,account:{publicKey:r}}=t,{signedMessage:o,signature:i}=e;return Hw({message:n,signedMessage:o,signature:i,publicKey:r})}function FB(t,e){const{signedMessage:n,signature:r,account:{publicKey:o}}=e,i=MA(t,e);return!!i&&Hw({message:i,signedMessage:n,signature:r,publicKey:o})}function MA(t,e){const n=AA(t,e);return n?new TextEncoder().encode(n):null}function AA(t,e){const n=xA(e.signedMessage);if(!n||t.domain&&t.domain!==n.domain||t.address&&t.address!==n.address||t.statement!==n.statement||t.uri!==n.uri||t.version!==n.version||t.chainId!==n.chainId||t.nonce!==n.nonce||t.issuedAt!==n.issuedAt||t.expirationTime!==n.expirationTime||t.notBefore!==n.notBefore||t.requestId!==n.requestId)return null;if(t.resources){if(!n.resources||!SA(t.resources,n.resources))return null}else if(n.resources)return null;return Kw(n)}function xA(t){const e=new TextDecoder().decode(t);return RA(e)}const $B="(?<domain>[^\\n]+?) wants you to sign in with your Solana account:\\n",HB="(?<address>[^\\n]+)(?:\\n|$)",KB="(?:\\n(?<statement>[\\S\\s]*?)(?:\\n|$))??",VB="(?:\\nURI: (?<uri>[^\\n]+))?",qB="(?:\\nVersion: (?<version>[^\\n]+))?",GB="(?:\\nChain ID: (?<chainId>[^\\n]+))?",ZB="(?:\\nNonce: (?<nonce>[^\\n]+))?",YB="(?:\\nIssued At: (?<issuedAt>[^\\n]+))?",QB="(?:\\nExpiration Time: (?<expirationTime>[^\\n]+))?",XB="(?:\\nNot Before: (?<notBefore>[^\\n]+))?",JB="(?:\\nRequest ID: (?<requestId>[^\\n]+))?",e5="(?:\\nResources:(?<resources>(?:\\n- [^\\n]+)*))?",t5=`${VB}${qB}${GB}${ZB}${YB}${QB}${XB}${JB}${e5}`,n5=new RegExp(`^${$B}${HB}${KB}${t5}\\n*$`);function RA(t){var r;const e=n5.exec(t);if(!e)return null;const n=e.groups;return n?{domain:n.domain,address:n.address,statement:n.statement,uri:n.uri,version:n.version,nonce:n.nonce,chainId:n.chainId,issuedAt:n.issuedAt,expirationTime:n.expirationTime,notBefore:n.notBefore,requestId:n.requestId,resources:(r=n.resources)==null?void 0:r.split(`
- `).slice(1)}:null}function r5(t){const e=Kw(t);return new TextEncoder().encode(e)}function Kw(t){let e=`${t.domain} wants you to sign in with your Solana account:
`;e+=`${t.address}`,t.statement&&(e+=`

${t.statement}`);const n=[];if(t.uri&&n.push(`URI: ${t.uri}`),t.version&&n.push(`Version: ${t.version}`),t.chainId&&n.push(`Chain ID: ${t.chainId}`),t.nonce&&n.push(`Nonce: ${t.nonce}`),t.issuedAt&&n.push(`Issued At: ${t.issuedAt}`),t.expirationTime&&n.push(`Expiration Time: ${t.expirationTime}`),t.notBefore&&n.push(`Not Before: ${t.notBefore}`),t.requestId&&n.push(`Request ID: ${t.requestId}`),t.resources){n.push("Resources:");for(const r of t.resources)n.push(`- ${r}`)}return n.length&&(e+=`

${n.join(`
`)}`),e}const i5=Object.freeze(Object.defineProperty({__proto__:null,DEVNET_ENDPOINT:sA,LOCALNET_ENDPOINT:lA,MAINNET_ENDPOINT:rd,TESTNET_ENDPOINT:aA,createSignInMessage:r5,createSignInMessageText:Kw,deriveSignInMessage:MA,deriveSignInMessageText:AA,getChainForEndpoint:uA,getCommitment:jf,getEndpointForChain:iB,parseSignInMessage:xA,parseSignInMessageText:RA,verifyMessageSignature:Hw,verifySignIn:FB,verifySignMessage:WB},Symbol.toStringTag,{value:"Module"})),o5=To(i5);Object.defineProperty(no,"__esModule",{value:!0});var s5=o5;const Wr={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_REFLECTOR_ID_OUT_OF_RANGE:"ERROR_REFLECTOR_ID_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION",ERROR_BROWSER_NOT_SUPPORTED:"ERROR_BROWSER_NOT_SUPPORTED"};class Fr extends Error{constructor(...e){const[n,r,o]=e;super(r),this.code=n,this.data=o,this.name="SolanaMobileWalletAdapterError"}}const a5={ERROR_AUTHORIZATION_FAILED:-1,ERROR_INVALID_PAYLOADS:-2,ERROR_NOT_SIGNED:-3,ERROR_NOT_SUBMITTED:-4,ERROR_TOO_MANY_PAYLOADS:-5,ERROR_ATTEST_ORIGIN_ANDROID:-100};class f0 extends Error{constructor(...e){const[n,r,o,i]=e;super(o),this.code=r,this.data=i,this.jsonRpcMessageId=n,this.name="SolanaMobileWalletAdapterProtocolError"}}function bt(t,e,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(_){try{g(r.next(_))}catch(M){a(M)}}function f(_){try{g(r.throw(_))}catch(M){a(M)}}function g(_){_.done?i(_.value):o(_.value).then(c,f)}g((r=r.apply(t,[])).next())})}function l5(t){return window.btoa(t)}function tg(t,e){const n=window.btoa(String.fromCharCode.call(null,...t));return e?n.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):n}function u5(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function Ff(t,e){return bt(this,void 0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",t),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),o=new Uint8Array(n.byteLength+r.byteLength);return o.set(new Uint8Array(n),0),o.set(new Uint8Array(r),n.byteLength),o})}function c5(t){return s5.createSignInMessageText(t)}function f5(t){return l5(c5(t))}const IA="solana:signTransactions",ng="solana:cloneAuthorization",h5="solana:signInWithSolana";function NA(t,e){return new Proxy({},{get(n,r){return r==="then"?null:(n[r]==null&&(n[r]=function(o){return bt(this,void 0,void 0,function*(){const{method:i,params:a}=d5(r,o,t),c=yield e(i,a);return i==="authorize"&&a.sign_in_payload&&!c.sign_in_result&&(c.sign_in_result=yield m5(a.sign_in_payload,c,e)),p5(r,c,t)})}),n[r])},defineProperty(){return!1},deleteProperty(){return!1}})}function d5(t,e,n){let r=e,o=t.toString().replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`).toLowerCase();switch(t){case"authorize":{let{chain:i}=r;if(n==="legacy"){switch(i){case"solana:testnet":{i="testnet";break}case"solana:devnet":{i="devnet";break}case"solana:mainnet":{i="mainnet-beta";break}default:i=r.cluster}r.cluster=i}else{switch(i){case"testnet":case"devnet":{i=`solana:${i}`;break}case"mainnet-beta":{i="solana:mainnet";break}}r.chain=i}}case"reauthorize":{const{auth_token:i,identity:a}=r;if(i)switch(n){case"legacy":{o="reauthorize",r={auth_token:i,identity:a};break}default:{o="authorize";break}}break}}return{method:o,params:r}}function p5(t,e,n){switch(t){case"getCapabilities":{const r=e;switch(n){case"legacy":{const o=[IA];return r.supports_clone_authorization===!0&&o.push(ng),Object.assign(Object.assign({},r),{features:o})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(ng)})}}}return e}function m5(t,e,n){var r;return bt(this,void 0,void 0,function*(){const o=(r=t.domain)!==null&&r!==void 0?r:window.location.host,i=e.accounts[0].address,a=f5(Object.assign(Object.assign({},t),{domain:o,address:i})),c=yield n("sign_messages",{addresses:[i],payloads:[a]});return{address:i,signed_message:a,signature:c.signed_payloads[0].slice(a.length)}})}const So=4;function g5(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(So);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}const rg=12,Vw=65;function y5(t,e,n){return bt(this,void 0,void 0,function*(){const r=g5(e),o=new Uint8Array(rg);crypto.getRandomValues(o);const i=yield crypto.subtle.encrypt(kA(r,o),n,new TextEncoder().encode(t)),a=new Uint8Array(r.byteLength+o.byteLength+i.byteLength);return a.set(new Uint8Array(r),0),a.set(new Uint8Array(o),r.byteLength),a.set(new Uint8Array(i),r.byteLength+o.byteLength),a})}function TA(t,e){return bt(this,void 0,void 0,function*(){const n=t.slice(0,So),r=t.slice(So,So+rg),o=t.slice(So+rg),i=yield crypto.subtle.decrypt(kA(n,r),e,o);return w5().decode(i)})}function kA(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let Mp;function w5(){return Mp===void 0&&(Mp=new TextDecoder("utf-8")),Mp}function CA(){return bt(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function $f(){return bt(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function OA(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let o=0;o<r;o++)e+=String.fromCharCode(n[o]);return window.btoa(e)}function v5(){return LA(49152+Math.floor(Math.random()*16384))}function LA(t){if(t<49152||t>65535)throw new Fr(Wr.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function BA(t){return t.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const _5="solana-wallet";function w_(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function PA(t,e){let n=null;if(e){try{n=new URL(e)}catch{}if((n==null?void 0:n.protocol)!=="https:")throw new Fr(Wr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${_5}:/`));const r=t.startsWith("/")?t:[...w_(n.pathname),...w_(t)].join("/");return new URL(r,n)}function E5(t,e,n,r=["v1"]){return bt(this,void 0,void 0,function*(){const o=LA(e),i=yield crypto.subtle.exportKey("raw",t),a=OA(i),c=PA("v1/associate/local",n);return c.searchParams.set("association",BA(a)),c.searchParams.set("port",`${o}`),r.forEach(f=>{c.searchParams.set("v",f)}),c})}function b5(t,e,n,r,o=["v1"]){return bt(this,void 0,void 0,function*(){const i=yield crypto.subtle.exportKey("raw",t),a=OA(i),c=PA("v1/associate/remote",r);return c.searchParams.set("association",BA(a)),c.searchParams.set("reflector",`${e}`),c.searchParams.set("id",`${tg(n,!0)}`),o.forEach(f=>{c.searchParams.set("v",f)}),c})}function DA(t,e){return bt(this,void 0,void 0,function*(){const n=JSON.stringify(t),r=t.id;return y5(n,r,e)})}function UA(t,e){return bt(this,void 0,void 0,function*(){const n=yield TA(t,e),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new f0(r.id,r.error.code,r.error.message);return r})}function zA(t,e,n){return bt(this,void 0,void 0,function*(){const[r,o]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t.slice(0,Vw),{name:"ECDH",namedCurve:"P-256"},!1,[])]),i=yield crypto.subtle.deriveBits({name:"ECDH",public:o},n,256),a=yield crypto.subtle.importKey("raw",i,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},a,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function jA(t,e){return bt(this,void 0,void 0,function*(){const n=yield TA(t,e),r=JSON.parse(n);let o="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":o="v1";break;case"legacy":o="legacy";break;default:throw new Fr(Wr.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:o}})}const sd={Firefox:0,Other:1};function S5(){return navigator.userAgent.indexOf("Firefox/")!==-1?sd.Firefox:sd.Other}function M5(){return new Promise((t,e)=>{function n(){clearTimeout(o),window.removeEventListener("blur",r)}function r(){n(),t()}window.addEventListener("blur",r);const o=setTimeout(()=>{n(),e()},3e3)})}let cu=null;function A5(t){cu==null&&(cu=document.createElement("iframe"),cu.style.display="none",document.body.appendChild(cu)),cu.contentWindow.location.href=t.toString()}function x5(t){return bt(this,void 0,void 0,function*(){if(t.protocol==="https:")window.location.assign(t);else try{const e=S5();switch(e){case sd.Firefox:A5(t);break;case sd.Other:{const n=M5();window.location.assign(t),yield n;break}default:}}catch{throw new Fr(Wr.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function R5(t,e){return bt(this,void 0,void 0,function*(){const n=v5(),r=yield E5(t,n,e);return yield x5(r),n})}const ad={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},WA="com.solana.mobilewalletadapter.v1",v_="com.solana.mobilewalletadapter.v1.base64";function FA(){if(typeof window>"u"||window.isSecureContext!==!0)throw new Fr(Wr.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function $A(t){let e;try{e=new URL(t)}catch{throw new Fr(Wr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new Fr(Wr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function ld(t){return new DataView(t).getUint32(0,!1)}function I5(t){var e=new Uint8Array(t),n=t.byteLength,r=10,o=0,i=0,a;do{if(i>=n||i>r)throw new RangeError("Failed to decode varint");a=e[i++],o|=(a&127)<<7*i}while(a>=128);return{value:o,offset:i}}function N5(t){let{value:e,offset:n}=I5(t);return new Uint8Array(t.slice(n,n+e))}function T5(t,e){return bt(this,void 0,void 0,function*(){FA();const n=yield CA(),o=`ws://localhost:${yield R5(n.publicKey,e==null?void 0:e.baseUri)}/solana-wallet`;let i;const a=(()=>{const _=[...ad.retryDelayScheduleMs];return()=>_.length>1?_.shift():_[0]})();let c=1,f=0,g={__type:"disconnected"};return new Promise((_,M)=>{let S;const E={},A=()=>bt(this,void 0,void 0,function*(){if(g.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${g.__type}\`.`);return}S.removeEventListener("open",A);const{associationKeypair:D}=g,z=yield $f();S.send(yield Ff(z.publicKey,D.privateKey)),g={__type:"hello_req_sent",associationPublicKey:D.publicKey,ecdhPrivateKey:z.privateKey}}),k=D=>{D.wasClean?g={__type:"disconnected"}:M(new Fr(Wr.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${D.code}: ${D.reason}).`,{closeEvent:D})),T()},C=D=>bt(this,void 0,void 0,function*(){T(),Date.now()-i>=ad.timeoutMs?M(new Fr(Wr.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${o}.`)):(yield new Promise(z=>{const P=a();N=window.setTimeout(z,P)}),O())}),R=D=>bt(this,void 0,void 0,function*(){const z=yield D.data.arrayBuffer();switch(g.__type){case"connecting":if(z.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const P=yield $f();S.send(yield Ff(P.publicKey,n.privateKey)),g={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:P.privateKey};break;case"connected":try{const W=z.slice(0,So),U=ld(W);if(U!==f+1)throw new Error("Encrypted message has invalid sequence number");f=U;const F=yield UA(z,g.sharedSecret),j=E[F.id];delete E[F.id],j.resolve(F.result)}catch(W){if(W instanceof f0){const U=E[W.jsonRpcMessageId];delete E[W.jsonRpcMessageId],U.reject(W)}else throw W}break;case"hello_req_sent":{if(z.byteLength===0){const V=yield $f();S.send(yield Ff(V.publicKey,n.privateKey)),g={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:V.privateKey};break}const W=yield zA(z,g.associationPublicKey,g.ecdhPrivateKey),U=z.slice(Vw),F=U.byteLength!==0?yield bt(this,void 0,void 0,function*(){const V=U.slice(0,So),d=ld(V);if(d!==f+1)throw new Error("Encrypted message has invalid sequence number");return f=d,jA(U,W)}):{protocol_version:"legacy"};g={__type:"connected",sharedSecret:W,sessionProperties:F};const j=NA(F.protocol_version,(V,d)=>bt(this,void 0,void 0,function*(){const s=c++;return S.send(yield DA({id:s,jsonrpc:"2.0",method:V,params:d??{}},W)),new Promise((u,h)=>{E[s]={resolve(p){switch(V){case"authorize":case"reauthorize":{const{wallet_uri_base:y}=p;if(y!=null)try{$A(y)}catch(v){h(v);return}break}}u(p)},reject:h}})}));try{_(yield t(j))}catch(V){M(V)}finally{T(),S.close()}break}}});let T,N;const O=()=>{T&&T(),g={__type:"connecting",associationKeypair:n},i===void 0&&(i=Date.now()),S=new WebSocket(o,[WA]),S.addEventListener("open",A),S.addEventListener("close",k),S.addEventListener("error",C),S.addEventListener("message",R),T=()=>{window.clearTimeout(N),S.removeEventListener("open",A),S.removeEventListener("close",k),S.removeEventListener("error",C),S.removeEventListener("message",R)}};O()})})}function k5(t){return bt(this,void 0,void 0,function*(){FA();const e=yield CA(),n=`wss://${t==null?void 0:t.remoteHostAuthority}/reflect`;let r;const o=(()=>{const k=[...ad.retryDelayScheduleMs];return()=>k.length>1?k.shift():k[0]})();let i=1,a=0,c,f={__type:"disconnected"},g,_,M=k=>bt(this,void 0,void 0,function*(){if(c=="base64"){const C=yield k.data;return u5(C).buffer}else return yield k.data.arrayBuffer()});const S=yield new Promise((k,C)=>{const R=()=>bt(this,void 0,void 0,function*(){if(f.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${f.__type}\`.`);return}g.protocol.includes(v_)?c="base64":c="binary",g.removeEventListener("open",R)}),T=P=>{P.wasClean?f={__type:"disconnected"}:C(new Fr(Wr.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${P.code}: ${P.reason}).`,{closeEvent:P})),_()},N=P=>bt(this,void 0,void 0,function*(){_(),Date.now()-r>=ad.timeoutMs?C(new Fr(Wr.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${n}.`)):(yield new Promise(W=>{const U=o();D=window.setTimeout(W,U)}),z())}),O=P=>bt(this,void 0,void 0,function*(){const W=yield M(P);if(f.__type==="connecting"){if(W.byteLength==0)throw new Error("Encountered unexpected message while connecting");const U=N5(W);f={__type:"reflector_id_received",reflectorId:U};const F=yield b5(e.publicKey,t.remoteHostAuthority,U,t==null?void 0:t.baseUri);g.removeEventListener("message",O),k(F)}});let D;const z=()=>{_&&_(),f={__type:"connecting",associationKeypair:e},r===void 0&&(r=Date.now()),g=new WebSocket(n,[WA,v_]),g.addEventListener("open",R),g.addEventListener("close",T),g.addEventListener("error",N),g.addEventListener("message",O),_=()=>{window.clearTimeout(D),g.removeEventListener("open",R),g.removeEventListener("close",T),g.removeEventListener("error",N),g.removeEventListener("message",O)}};z()});let E=!1,A;return{associationUrl:S,close:()=>{g.close(),A()},wallet:new Promise((k,C)=>{const R={},T=N=>bt(this,void 0,void 0,function*(){const O=yield M(N);switch(f.__type){case"reflector_id_received":if(O.byteLength!==0)throw new Error("Encountered unexpected message while awaiting reflection");const D=yield $f(),z=yield Ff(D.publicKey,e.privateKey);c=="base64"?g.send(tg(z)):g.send(z),f={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:D.privateKey};break;case"connected":try{const P=O.slice(0,So),W=ld(P);if(W!==a+1)throw new Error("Encrypted message has invalid sequence number");a=W;const U=yield UA(O,f.sharedSecret),F=R[U.id];delete R[U.id],F.resolve(U.result)}catch(P){if(P instanceof f0){const W=R[P.jsonRpcMessageId];delete R[P.jsonRpcMessageId],W.reject(P)}else throw P}break;case"hello_req_sent":{const P=yield zA(O,f.associationPublicKey,f.ecdhPrivateKey),W=O.slice(Vw),U=W.byteLength!==0?yield bt(this,void 0,void 0,function*(){const j=W.slice(0,So),V=ld(j);if(V!==a+1)throw new Error("Encrypted message has invalid sequence number");return a=V,jA(W,P)}):{protocol_version:"legacy"};f={__type:"connected",sharedSecret:P,sessionProperties:U};const F=NA(U.protocol_version,(j,V)=>bt(this,void 0,void 0,function*(){const d=i++,s=yield DA({id:d,jsonrpc:"2.0",method:j,params:V??{}},P);return c=="base64"?g.send(tg(s)):g.send(s),new Promise((u,h)=>{R[d]={resolve(p){switch(j){case"authorize":case"reauthorize":{const{wallet_uri_base:y}=p;if(y!=null)try{$A(y)}catch(v){h(v);return}break}}u(p)},reject:h}})}));E=!0;try{k(F)}catch(j){C(j)}break}}});g.addEventListener("message",T),A=()=>{g.removeEventListener("message",T),_(),E||C(new Fr(Wr.ERROR_SESSION_CLOSED,"The wallet session was closed before connection.",{closeEvent:new CloseEvent("socket was closed before connection")}))}})}})}no.SolanaCloneAuthorization=ng;no.SolanaMobileWalletAdapterError=Fr;no.SolanaMobileWalletAdapterErrorCode=Wr;no.SolanaMobileWalletAdapterProtocolError=f0;no.SolanaMobileWalletAdapterProtocolErrorCode=a5;no.SolanaSignInWithSolana=h5;no.SolanaSignTransactions=IA;var C5=no.startRemoteScenario=k5,O5=no.transact=T5;function L5(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var o=t.charAt(r),i=o.charCodeAt(0);if(e[i]!==255)throw new TypeError(o+" is ambiguous");e[i]=r}var a=t.length,c=t.charAt(0),f=Math.log(a)/Math.log(256),g=Math.log(256)/Math.log(a);function _(E){if(E instanceof Uint8Array||(ArrayBuffer.isView(E)?E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength):Array.isArray(E)&&(E=Uint8Array.from(E))),!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(E.length===0)return"";for(var A=0,k=0,C=0,R=E.length;C!==R&&E[C]===0;)C++,A++;for(var T=(R-C)*g+1>>>0,N=new Uint8Array(T);C!==R;){for(var O=E[C],D=0,z=T-1;(O!==0||D<k)&&z!==-1;z--,D++)O+=256*N[z]>>>0,N[z]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");k=D,C++}for(var P=T-k;P!==T&&N[P]===0;)P++;for(var W=c.repeat(A);P<T;++P)W+=t.charAt(N[P]);return W}function M(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return new Uint8Array;for(var A=0,k=0,C=0;E[A]===c;)k++,A++;for(var R=(E.length-A)*f+1>>>0,T=new Uint8Array(R);E[A];){var N=E.charCodeAt(A);if(N>255)return;var O=e[N];if(O===255)return;for(var D=0,z=R-1;(O!==0||D<C)&&z!==-1;z--,D++)O+=a*T[z]>>>0,T[z]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");C=D,A++}for(var P=R-C;P!==R&&T[P]===0;)P++;for(var W=new Uint8Array(k+(R-P)),U=k;P!==R;)W[U++]=T[P++];return W}function S(E){var A=M(E);if(A)return A;throw new Error("Non-base"+a+" character")}return{encode:_,decodeUnsafe:M,decode:S}}var B5=L5;const P5=B5,D5="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var U5=P5(D5);const z5=Yi(U5);function Ap(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function ju(t,e,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(_){try{g(r.next(_))}catch(M){a(M)}}function f(_){try{g(r.throw(_))}catch(M){a(M)}}function g(_){_.done?i(_.value):o(_.value).then(c,f)}g((r=r.apply(t,[])).next())})}function HA(t){return window.btoa(String.fromCharCode.call(null,...t))}function xp(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function __(t){const e="version"in t?t.serialize():t.serialize({requireAllSignatures:!1,verifySignatures:!1});return HA(e)}function j5(t){const n=t[0]*kl+1;return Zd.deserializeMessageVersion(t.slice(n,t.length))==="legacy"?at.from(t):Cl.deserialize(t)}function W5(t,e){return ju(this,void 0,void 0,function*(){return yield O5(r=>t(KA(r)),e)})}function F5(t){return ju(this,void 0,void 0,function*(){const{wallet:e,close:n,associationUrl:r}=yield C5(t);return{wallet:e.then(i=>KA(i)),close:n,associationUrl:r}})}function KA(t){return new Proxy({},{get(e,n){if(e[n]==null)switch(n){case"signAndSendTransactions":e[n]=function(r){var{minContextSlot:o,commitment:i,skipPreflight:a,maxRetries:c,waitForCommitmentToSendNextTransaction:f,transactions:g}=r,_=Ap(r,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return ju(this,void 0,void 0,function*(){const M=g.map(__),S={min_context_slot:o,commitment:i,skip_preflight:a,max_retries:c,wait_for_commitment_to_send_next_transaction:f},{signatures:E}=yield t.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},_),Object.values(S).some(k=>k!=null)?{options:S}:null),{payloads:M}));return E.map(xp).map(z5.encode)})};break;case"signMessages":e[n]=function(r){var{payloads:o}=r,i=Ap(r,["payloads"]);return ju(this,void 0,void 0,function*(){const a=o.map(HA),{signed_payloads:c}=yield t.signMessages(Object.assign(Object.assign({},i),{payloads:a}));return c.map(xp)})};break;case"signTransactions":e[n]=function(r){var{transactions:o}=r,i=Ap(r,["transactions"]);return ju(this,void 0,void 0,function*(){const a=o.map(__),{signed_payloads:c}=yield t.signTransactions(Object.assign(Object.assign({},i),{payloads:a}));return c.map(xp).map(j5)})};break;default:{e[n]=t[n];break}}return e[n]},defineProperty(){return!1},deleteProperty(){return!1}})}const $5=Object.freeze(Object.defineProperty({__proto__:null,startRemoteScenario:F5,transact:W5},Symbol.toStringTag,{value:"Module"})),H5=To($5);function K5(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var o=t.charAt(r),i=o.charCodeAt(0);if(e[i]!==255)throw new TypeError(o+" is ambiguous");e[i]=r}var a=t.length,c=t.charAt(0),f=Math.log(a)/Math.log(256),g=Math.log(256)/Math.log(a);function _(E){if(E instanceof Uint8Array||(ArrayBuffer.isView(E)?E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength):Array.isArray(E)&&(E=Uint8Array.from(E))),!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(E.length===0)return"";for(var A=0,k=0,C=0,R=E.length;C!==R&&E[C]===0;)C++,A++;for(var T=(R-C)*g+1>>>0,N=new Uint8Array(T);C!==R;){for(var O=E[C],D=0,z=T-1;(O!==0||D<k)&&z!==-1;z--,D++)O+=256*N[z]>>>0,N[z]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");k=D,C++}for(var P=T-k;P!==T&&N[P]===0;)P++;for(var W=c.repeat(A);P<T;++P)W+=t.charAt(N[P]);return W}function M(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return new Uint8Array;for(var A=0,k=0,C=0;E[A]===c;)k++,A++;for(var R=(E.length-A)*f+1>>>0,T=new Uint8Array(R);E[A];){var N=E.charCodeAt(A);if(N>255)return;var O=e[N];if(O===255)return;for(var D=0,z=R-1;(O!==0||D<C)&&z!==-1;z--,D++)O+=a*T[z]>>>0,T[z]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");C=D,A++}for(var P=R-C;P!==R&&T[P]===0;)P++;for(var W=new Uint8Array(k+(R-P)),U=k;P!==R;)W[U++]=T[P++];return W}function S(E){var A=M(E);if(A)return A;throw new Error("Non-base"+a+" character")}return{encode:_,decodeUnsafe:M,decode:S}}var V5=K5;const q5=V5,G5="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var Z5=q5(G5);Object.defineProperty(eo,"__esModule",{value:!0});var vn=$2,gc=Ow,Y5=Oc,gl=rB,E_=br,VA=H5,Q5=Z5;function qA(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var X5=qA(Y5),ud=qA(Q5);function tt(t,e,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(_){try{g(r.next(_))}catch(M){a(M)}}function f(_){try{g(r.throw(_))}catch(M){a(M)}}function g(_){_.done?i(_.value):o(_.value).then(c,f)}g((r=r.apply(t,[])).next())})}function Q(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function st(t,e,n,r,o){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var wu,an,Ls,Oa,GA,ZA,YA,Hf;const J5=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,e8=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,t8=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class QA{constructor(){wu.add(this),an.set(this,null),Ls.set(this,{}),Oa.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),Q(this,wu,"m",ZA).call(this),Q(this,an,"f")&&(Q(this,an,"f").style.display="flex")},this.close=(e=void 0)=>{var n;console.debug("Modal close"),Q(this,wu,"m",YA).call(this),Q(this,an,"f")&&(Q(this,an,"f").style.display="none"),(n=Q(this,Ls,"f").close)===null||n===void 0||n.forEach(r=>r(e))},Hf.set(this,e=>{e.key==="Escape"&&this.close(e)}),this.init=this.init.bind(this),st(this,an,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return tt(this,void 0,void 0,function*(){console.log("Injecting modal"),Q(this,wu,"m",GA).call(this)})}addEventListener(e,n){var r;return!((r=Q(this,Ls,"f")[e])===null||r===void 0)&&r.push(n)||(Q(this,Ls,"f")[e]=[n]),()=>this.removeEventListener(e,n)}removeEventListener(e,n){var r;Q(this,Ls,"f")[e]=(r=Q(this,Ls,"f")[e])===null||r===void 0?void 0:r.filter(o=>n!==o)}}an=new WeakMap,Ls=new WeakMap,Oa=new WeakMap,Hf=new WeakMap,wu=new WeakSet,GA=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){Q(this,an,"f")||st(this,an,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}st(this,an,document.createElement("div")),Q(this,an,"f").id="mobile-wallet-adapter-embedded-root-ui",Q(this,an,"f").innerHTML=J5,Q(this,an,"f").style.display="none";const e=Q(this,an,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);const n=document.createElement("style");n.id="mobile-wallet-adapter-embedded-modal-styles",n.textContent=e8+this.contentStyles;const r=document.createElement("div");r.innerHTML=t8,this.dom=r.attachShadow({mode:"closed"}),this.dom.appendChild(n),this.dom.appendChild(Q(this,an,"f")),document.body.appendChild(r)},ZA=function(){if(!Q(this,an,"f")||Q(this,Oa,"f"))return;[...Q(this,an,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",Q(this,Hf,"f")),st(this,Oa,!0)},YA=function(){if(!Q(this,Oa,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",Q(this,Hf,"f")),!Q(this,an,"f")))return;[...Q(this,an,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.removeEventListener("click",this.close)),st(this,Oa,!1)};class n8 extends QA{constructor(){super(...arguments),this.contentStyles=i8,this.contentHtml=r8}initWithQR(e){const n=Object.create(null,{init:{get:()=>super.init}});return tt(this,void 0,void 0,function*(){n.init.call(this),this.populateQRCode(e)})}populateQRCode(e){var n;return tt(this,void 0,void 0,function*(){const r=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-embedded-modal-qr-code-container");if(r){const o=yield X5.default.toCanvas(e,{width:200,margin:0});r.firstElementChild!==null?r.replaceChild(o,r.firstElementChild):r.appendChild(o)}else console.error("QRCode Container not found")})}}const r8=`
<div class="mobile-wallet-adapter-embedded-modal-qr-content">
    <div>
        <svg class="mobile-wallet-adapter-embedded-modal-icon" width="100%" height="100%">
            <circle r="52" cx="53" cy="53" fill="#99b3be" stroke="#000000" stroke-width="2"/>
            <path d="m 53,82.7305 c -3.3116,0 -6.1361,-1.169 -8.4735,-3.507 -2.338,-2.338 -3.507,-5.1625 -3.507,-8.4735 0,-3.3116 1.169,-6.1364 3.507,-8.4744 2.3374,-2.338 5.1619,-3.507 8.4735,-3.507 3.3116,0 6.1361,1.169 8.4735,3.507 2.338,2.338 3.507,5.1628 3.507,8.4744 0,3.311 -1.169,6.1355 -3.507,8.4735 -2.3374,2.338 -5.1619,3.507 -8.4735,3.507 z m 0.007,-5.25 c 1.8532,0 3.437,-0.6598 4.7512,-1.9793 1.3149,-1.3195 1.9723,-2.9058 1.9723,-4.7591 0,-1.8526 -0.6598,-3.4364 -1.9793,-4.7512 -1.3195,-1.3149 -2.9055,-1.9723 -4.7582,-1.9723 -1.8533,0 -3.437,0.6598 -4.7513,1.9793 -1.3148,1.3195 -1.9722,2.9058 -1.9722,4.7591 0,1.8527 0.6597,3.4364 1.9792,4.7512 1.3195,1.3149 2.9056,1.9723 4.7583,1.9723 z m -28,-33.5729 -3.85,-3.6347 c 4.1195,-4.025 8.8792,-7.1984 14.2791,-9.52 5.4005,-2.3223 11.2551,-3.4834 17.5639,-3.4834 6.3087,0 12.1634,1.1611 17.5639,3.4834 5.3999,2.3216 10.1596,5.495 14.2791,9.52 l -3.85,3.6347 C 77.2999,40.358 73.0684,37.5726 68.2985,35.5514 63.5292,33.5301 58.4296,32.5195 53,32.5195 c -5.4297,0 -10.5292,1.0106 -15.2985,3.0319 -4.7699,2.0212 -9.0014,4.8066 -12.6945,8.3562 z m 44.625,10.8771 c -2.2709,-2.1046 -4.7962,-3.7167 -7.5758,-4.8361 -2.7795,-1.12 -5.7983,-1.68 -9.0562,-1.68 -3.2579,0 -6.2621,0.56 -9.0125,1.68 -2.7504,1.1194 -5.2903,2.7315 -7.6195,4.8361 L 32.5189,51.15 c 2.8355,-2.6028 5.9777,-4.6086 9.4263,-6.0174 3.4481,-1.4087 7.133,-2.1131 11.0548,-2.1131 3.9217,0 7.5979,0.7044 11.0285,2.1131 3.43,1.4088 6.5631,3.4146 9.3992,6.0174 z"/>
        </svg>
        <div class="mobile-wallet-adapter-embedded-modal-title">Remote Mobile Wallet Adapter</div>
    </div>
    <div>
        <div>
            <h4 class="mobile-wallet-adapter-embedded-modal-qr-label">
                Open your wallet and scan this code
            </h4>
        </div>
        <div id="mobile-wallet-adapter-embedded-modal-qr-code-container" class="mobile-wallet-adapter-embedded-modal-qr-code-container"></div>
    </div>
</div>
<div class="mobile-wallet-adapter-embedded-modal-divider"><hr></div>
<div class="mobile-wallet-adapter-embedded-modal-footer">
    <div class="mobile-wallet-adapter-embedded-modal-subtitle">
        Follow the instructions on your device. When you're finished, this screen will update.
    </div>
    <div class="mobile-wallet-adapter-embedded-modal-progress-badge">
        <div>
            <div class="spinner">
                <div class="leftWrapper">
                    <div class="left">
                        <div class="circle"></div>
                    </div>
                </div>
                <div class="rightWrapper">
                    <div class="right">
                        <div class="circle"></div>
                    </div>
                </div>
            </div>
        </div>
        <div>Waiting for scan</div>
    </div>
</div>
`,i8=`
.mobile-wallet-adapter-embedded-modal-qr-content {
    display: flex; 
    margin-top: 10px;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
    display: flex;
    flex-direction: column;
    flex: 2;
    margin-top: auto;
    margin-right: 30px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
    display: flex;
    flex-direction: column;
    flex: 1;
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-footer {
    display: flex;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-icon {}

.mobile-wallet-adapter-embedded-modal-title {
    color: #000000;
    font-size: 2.5em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-qr-label {
    text-align: right;
    color: #000000;
}

.mobile-wallet-adapter-embedded-modal-qr-code-container {
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-divider {
    margin-top: 20px;
    padding-left: 10px;
    padding-right: 10px;
}

.mobile-wallet-adapter-embedded-modal-divider hr {
    border-top: 1px solid #D9DEDE;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: auto;
    margin-right: 60px;
    padding: 20px;
    color: #6E8286;
}

.mobile-wallet-adapter-embedded-modal-progress-badge {
    display: flex;
    background: #F7F8F8;
    height: 56px;
    min-width: 200px;
    margin: auto;
    padding-left: 20px;
    padding-right: 20px;
    border-radius: 18px;
    color: #A8B6B8;
    align-items: center;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:first-child {
    margin-left: auto;
    margin-right: 20px;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:nth-child(2) {
    margin-right: auto;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-card {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
        margin: auto;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
        margin: auto;
        flex: 2 auto;
    }
    .mobile-wallet-adapter-embedded-modal-footer {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-icon {
        display: none;
    }
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: unset;
    }
    .mobile-wallet-adapter-embedded-modal-qr-label {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-code-container {
        margin: auto;
    }
}

/* Spinner */
@keyframes spinLeft {
    0% {
        transform: rotate(20deg);
    }
    50% {
        transform: rotate(160deg);
    }
    100% {
        transform: rotate(20deg);
    }
}
@keyframes spinRight {
    0% {
        transform: rotate(160deg);
    }
    50% {
        transform: rotate(20deg);
    }
    100% {
        transform: rotate(160deg);
    }
}
@keyframes spin {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(2520deg);
    }
}

.spinner {
    position: relative;
    width: 1.5em;
    height: 1.5em;
    margin: auto;
    animation: spin 10s linear infinite;
}
.spinner::before {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
}
.right, .rightWrapper, .left, .leftWrapper {
    position: absolute;
    top: 0;
    overflow: hidden;
    width: .75em;
    height: 1.5em;
}
.left, .leftWrapper {
    left: 0;
}
.right {
    left: -12px;
}
.rightWrapper {
    right: 0;
}
.circle {
    border: .125em solid #A8B6B8;
    width: 1.25em; /* 1.5em - 2*0.125em border */
    height: 1.25em; /* 1.5em - 2*0.125em border */
    border-radius: 0.75em; /* 0.5*1.5em spinner size 8 */
}
.left {
    transform-origin: 100% 50%;
    animation: spinLeft 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
.right {
    transform-origin: 100% 50%;
    animation: spinRight 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
`,XA="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function JA(t){return"version"in t}function ex(t){return window.btoa(String.fromCharCode.call(null,...t))}function is(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}var La,Qs,ig,og,sg,ag,vu,ar,lo,Wo,Ba,Pa,Kf,_u,Vf,lg,qf,tx,ug,Gf,Da,cg,Eu,Zf,Ua,bu,Yf,fg,hg,Qf,dg,pg,mg,Xf,za,Xs,gg,yg,wg,vg,Su,lr,Fo,$o,ja,Wa,Jf,Mu,eh,th,gi,_g,nh,nx,Eg,rh,Au,bg,xu,ih,Fa,Ru,oh,Sg,Mg,sh,Ag,xg,Rg,ah;const qw="Mobile Wallet Adapter",rx=64,ix=[vn.SolanaSignAndSendTransaction,vn.SolanaSignTransaction,vn.SolanaSignMessage,vn.SolanaSignIn];class ox{constructor(e){La.add(this),Qs.set(this,{}),ig.set(this,"1.0.0"),og.set(this,qw),sg.set(this,"https://solanamobile.com/wallets"),ag.set(this,XA),vu.set(this,void 0),ar.set(this,void 0),lo.set(this,void 0),Wo.set(this,!1),Ba.set(this,0),Pa.set(this,[]),Kf.set(this,void 0),_u.set(this,void 0),Vf.set(this,void 0),lg.set(this,(n,r)=>{var o;return!((o=Q(this,Qs,"f")[n])===null||o===void 0)&&o.push(r)||(Q(this,Qs,"f")[n]=[r]),()=>Q(this,La,"m",tx).call(this,n,r)}),ug.set(this,({silent:n}={})=>tt(this,void 0,void 0,function*(){if(Q(this,Wo,"f")||this.connected)return{accounts:this.accounts};st(this,Wo,!0);try{if(n){const r=yield Q(this,lo,"f").get();if(r)yield Q(this,Da,"f").call(this,r);else return{accounts:this.accounts}}else yield Q(this,Gf,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{st(this,Wo,!1)}return{accounts:this.accounts}})),Gf.set(this,n=>tt(this,void 0,void 0,function*(){try{const r=yield Q(this,lo,"f").get();if(r)return Q(this,Da,"f").call(this,r),r;const o=yield Q(this,Kf,"f").select(Q(this,Pa,"f"));return yield Q(this,Ua,"f").call(this,i=>tt(this,void 0,void 0,function*(){const[a,c]=yield Promise.all([i.getCapabilities(),i.authorize({chain:o,identity:Q(this,vu,"f"),sign_in_payload:n})]),f=Q(this,Yf,"f").call(this,c.accounts),g=Object.assign(Object.assign({},c),{accounts:f,chain:o});return Promise.all([Q(this,cg,"f").call(this,a),Q(this,lo,"f").set(g),Q(this,Da,"f").call(this,g)]),g}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),Da.set(this,n=>tt(this,void 0,void 0,function*(){var r;const o=Q(this,ar,"f")==null||((r=Q(this,ar,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||Q(this,ar,"f").accounts.some((i,a)=>i.address!==n.accounts[a].address);st(this,ar,n),o&&Q(this,La,"m",qf).call(this,"change",{accounts:this.accounts})})),cg.set(this,n=>tt(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),o=n.supports_sign_and_send_transactions,i=vn.SolanaSignAndSendTransaction in this.features!==o||vn.SolanaSignTransaction in this.features!==r;st(this,_u,Object.assign(Object.assign({},(o||!o&&!r)&&{[vn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Q(this,Qf,"f")}}),r&&{[vn.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:Q(this,dg,"f")}})),i&&Q(this,La,"m",qf).call(this,"change",{features:this.features})})),Eu.set(this,(n,r,o)=>tt(this,void 0,void 0,function*(){try{const i=yield n.authorize({auth_token:r,identity:Q(this,vu,"f"),chain:o}),a=Q(this,Yf,"f").call(this,i.accounts),c=Object.assign(Object.assign({},i),{accounts:a,chain:o});Promise.all([Q(this,lo,"f").set(c),Q(this,Da,"f").call(this,c)])}catch(i){throw Q(this,Zf,"f").call(this),new Error(i instanceof Error&&i.message||"Unknown error")}})),Zf.set(this,()=>tt(this,void 0,void 0,function*(){var n;Q(this,lo,"f").clear(),st(this,Wo,!1),st(this,Ba,(n=Q(this,Ba,"f"),n++,n)),st(this,ar,void 0),Q(this,La,"m",qf).call(this,"change",{accounts:this.accounts})})),Ua.set(this,n=>tt(this,void 0,void 0,function*(){var r;const o=(r=Q(this,ar,"f"))===null||r===void 0?void 0:r.wallet_uri_base,i=o?{baseUri:o}:void 0,a=Q(this,Ba,"f");try{return yield VA.transact(n,i)}catch(c){throw Q(this,Ba,"f")!==a&&(yield new Promise(()=>{})),c instanceof Error&&c.name==="SolanaMobileWalletAdapterError"&&c.code==="ERROR_WALLET_NOT_FOUND"&&(yield Q(this,Vf,"f").call(this,this)),c}})),bu.set(this,()=>{if(!Q(this,ar,"f"))throw new Error("Wallet not connected");return{authToken:Q(this,ar,"f").auth_token,chain:Q(this,ar,"f").chain}}),Yf.set(this,n=>n.map(r=>{var o,i;const a=is(r.address);return{address:ud.default.encode(a),publicKey:a,label:r.label,icon:r.icon,chains:(o=r.chains)!==null&&o!==void 0?o:Q(this,Pa,"f"),features:(i=r.features)!==null&&i!==void 0?i:ix}})),fg.set(this,n=>tt(this,void 0,void 0,function*(){const{authToken:r,chain:o}=Q(this,bu,"f").call(this);try{return yield Q(this,Ua,"f").call(this,i=>tt(this,void 0,void 0,function*(){return yield Q(this,Eu,"f").call(this,i,r,o),yield i.signTransactions({transactions:n})}))}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}})),hg.set(this,(n,r)=>tt(this,void 0,void 0,function*(){const{authToken:o,chain:i}=Q(this,bu,"f").call(this);try{return yield Q(this,Ua,"f").call(this,a=>tt(this,void 0,void 0,function*(){const[c,f]=yield Promise.all([a.getCapabilities(),Q(this,Eu,"f").call(this,a,o,i)]);if(c.supports_sign_and_send_transactions)return(yield a.signAndSendTransactions(Object.assign(Object.assign({},r),{transactions:[n]})))[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),Qf.set(this,(...n)=>tt(this,void 0,void 0,function*(){const r=[];for(const o of n){const i=gc.VersionedTransaction.deserialize(o.transaction),a=yield Q(this,hg,"f").call(this,i,o.options);r.push({signature:ud.default.decode(a)})}return r})),dg.set(this,(...n)=>tt(this,void 0,void 0,function*(){const r=n.map(({transaction:i})=>gc.VersionedTransaction.deserialize(i));return(yield Q(this,fg,"f").call(this,r)).map(i=>({signedTransaction:JA(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))})),pg.set(this,(...n)=>tt(this,void 0,void 0,function*(){const{authToken:r,chain:o}=Q(this,bu,"f").call(this),i=n.map(({account:c})=>ex(c.publicKey)),a=n.map(({message:c})=>c);try{return yield Q(this,Ua,"f").call(this,c=>tt(this,void 0,void 0,function*(){return yield Q(this,Eu,"f").call(this,c,r,o),(yield c.signMessages({addresses:i,payloads:a})).map(g=>({signedMessage:g,signature:g.slice(-rx)}))}))}catch(c){throw new Error(c instanceof Error&&c.message||"Unknown error")}})),mg.set(this,(...n)=>tt(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const o of n)r.push(yield Q(this,Xf,"f").call(this,o));else return[yield Q(this,Xf,"f").call(this,n[0])];return r})),Xf.set(this,n=>tt(this,void 0,void 0,function*(){var r,o;st(this,Wo,!0);try{const i=yield Q(this,Gf,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n==null?void 0:n.domain)!==null&&r!==void 0?r:window.location.host}));if(!i.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const a=i.sign_in_result.address;return{account:Object.assign(Object.assign({},(o=i.accounts.find(f=>f.address==a))!==null&&o!==void 0?o:{address:a}),{publicKey:is(a)}),signedMessage:is(i.sign_in_result.signed_message),signature:is(i.sign_in_result.signature)}}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}finally{st(this,Wo,!1)}})),st(this,lo,e.authorizationCache),st(this,vu,e.appIdentity),st(this,Pa,e.chains),st(this,Kf,e.chainSelector),st(this,Vf,e.onWalletNotFound),st(this,_u,{[vn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Q(this,Qf,"f")}})}get version(){return Q(this,ig,"f")}get name(){return Q(this,og,"f")}get url(){return Q(this,sg,"f")}get icon(){return Q(this,ag,"f")}get chains(){return Q(this,Pa,"f")}get features(){return Object.assign({[gl.StandardConnect]:{version:"1.0.0",connect:Q(this,ug,"f")},[gl.StandardDisconnect]:{version:"1.0.0",disconnect:Q(this,Zf,"f")},[gl.StandardEvents]:{version:"1.0.0",on:Q(this,lg,"f")},[vn.SolanaSignMessage]:{version:"1.0.0",signMessage:Q(this,pg,"f")},[vn.SolanaSignIn]:{version:"1.0.0",signIn:Q(this,mg,"f")}},Q(this,_u,"f"))}get accounts(){var e,n;return(n=(e=Q(this,ar,"f"))===null||e===void 0?void 0:e.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!Q(this,ar,"f")}get isAuthorized(){return!!Q(this,ar,"f")}get currentAuthorization(){return Q(this,ar,"f")}get cachedAuthorizationResult(){return Q(this,lo,"f").get()}}Qs=new WeakMap,ig=new WeakMap,og=new WeakMap,sg=new WeakMap,ag=new WeakMap,vu=new WeakMap,ar=new WeakMap,lo=new WeakMap,Wo=new WeakMap,Ba=new WeakMap,Pa=new WeakMap,Kf=new WeakMap,_u=new WeakMap,Vf=new WeakMap,lg=new WeakMap,ug=new WeakMap,Gf=new WeakMap,Da=new WeakMap,cg=new WeakMap,Eu=new WeakMap,Zf=new WeakMap,Ua=new WeakMap,bu=new WeakMap,Yf=new WeakMap,fg=new WeakMap,hg=new WeakMap,Qf=new WeakMap,dg=new WeakMap,pg=new WeakMap,mg=new WeakMap,Xf=new WeakMap,La=new WeakSet,qf=function(e,...n){var r;(r=Q(this,Qs,"f")[e])===null||r===void 0||r.forEach(o=>o.apply(null,n))},tx=function(e,n){var r;Q(this,Qs,"f")[e]=(r=Q(this,Qs,"f")[e])===null||r===void 0?void 0:r.filter(o=>n!==o)};class sx{constructor(e){za.add(this),Xs.set(this,{}),gg.set(this,"1.0.0"),yg.set(this,qw),wg.set(this,"https://solanamobile.com/wallets"),vg.set(this,XA),Su.set(this,void 0),lr.set(this,void 0),Fo.set(this,void 0),$o.set(this,!1),ja.set(this,0),Wa.set(this,[]),Jf.set(this,void 0),Mu.set(this,void 0),eh.set(this,void 0),th.set(this,void 0),gi.set(this,void 0),_g.set(this,(n,r)=>{var o;return!((o=Q(this,Xs,"f")[n])===null||o===void 0)&&o.push(r)||(Q(this,Xs,"f")[n]=[r]),()=>Q(this,za,"m",nx).call(this,n,r)}),Eg.set(this,({silent:n}={})=>tt(this,void 0,void 0,function*(){if(Q(this,$o,"f")||this.connected)return{accounts:this.accounts};st(this,$o,!0);try{yield Q(this,rh,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{st(this,$o,!1)}return{accounts:this.accounts}})),rh.set(this,n=>tt(this,void 0,void 0,function*(){try{const r=yield Q(this,Fo,"f").get();if(r)return Q(this,Au,"f").call(this,r),r;Q(this,gi,"f")&&st(this,gi,void 0,"f");const o=yield Q(this,Jf,"f").select(Q(this,Wa,"f"));return yield Q(this,Fa,"f").call(this,i=>tt(this,void 0,void 0,function*(){const[a,c]=yield Promise.all([i.getCapabilities(),i.authorize({chain:o,identity:Q(this,Su,"f"),sign_in_payload:n})]),f=Q(this,oh,"f").call(this,c.accounts),g=Object.assign(Object.assign({},c),{accounts:f,chain:o});return Promise.all([Q(this,bg,"f").call(this,a),Q(this,Fo,"f").set(g),Q(this,Au,"f").call(this,g)]),g}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),Au.set(this,n=>tt(this,void 0,void 0,function*(){var r;const o=Q(this,lr,"f")==null||((r=Q(this,lr,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||Q(this,lr,"f").accounts.some((i,a)=>i.address!==n.accounts[a].address);st(this,lr,n),o&&Q(this,za,"m",nh).call(this,"change",{accounts:this.accounts})})),bg.set(this,n=>tt(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),o=n.supports_sign_and_send_transactions||n.features.includes("solana:signAndSendTransaction"),i=vn.SolanaSignAndSendTransaction in this.features!==o||vn.SolanaSignTransaction in this.features!==r;st(this,Mu,Object.assign(Object.assign({},o&&{[vn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:n.supported_transaction_versions,signAndSendTransaction:Q(this,sh,"f")}}),r&&{[vn.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:n.supported_transaction_versions,signTransaction:Q(this,Ag,"f")}})),i&&Q(this,za,"m",nh).call(this,"change",{features:this.features})})),xu.set(this,(n,r,o)=>tt(this,void 0,void 0,function*(){try{const i=yield n.authorize({auth_token:r,identity:Q(this,Su,"f")}),a=Q(this,oh,"f").call(this,i.accounts),c=Object.assign(Object.assign({},i),{accounts:a,chain:o});Promise.all([Q(this,Fo,"f").set(c),Q(this,Au,"f").call(this,c)])}catch(i){throw Q(this,ih,"f").call(this),new Error(i instanceof Error&&i.message||"Unknown error")}})),ih.set(this,()=>tt(this,void 0,void 0,function*(){var n,r;(n=Q(this,gi,"f"))===null||n===void 0||n.close(),Q(this,Fo,"f").clear(),st(this,$o,!1),st(this,ja,(r=Q(this,ja,"f"),r++,r)),st(this,lr,void 0),st(this,gi,void 0),Q(this,za,"m",nh).call(this,"change",{accounts:this.accounts})})),Fa.set(this,n=>tt(this,void 0,void 0,function*(){var r;const o=(r=Q(this,lr,"f"))===null||r===void 0?void 0:r.wallet_uri_base,a=Object.assign(Object.assign({},o?{baseUri:o}:void 0),{remoteHostAuthority:Q(this,th,"f")}),c=Q(this,ja,"f"),f=new n8;if(Q(this,gi,"f"))return n(Q(this,gi,"f").wallet);try{const{associationUrl:g,close:_,wallet:M}=yield VA.startRemoteScenario(a),S=f.addEventListener("close",E=>{E&&_()});return f.initWithQR(g.toString()),f.open(),st(this,gi,{close:_,wallet:yield M},"f"),S(),f.close(),yield n(Q(this,gi,"f").wallet)}catch(g){throw f.close(),Q(this,ja,"f")!==c&&(yield new Promise(()=>{})),g instanceof Error&&g.name==="SolanaMobileWalletAdapterError"&&g.code==="ERROR_WALLET_NOT_FOUND"&&(yield Q(this,eh,"f").call(this,this)),g}})),Ru.set(this,()=>{if(!Q(this,lr,"f"))throw new Error("Wallet not connected");return{authToken:Q(this,lr,"f").auth_token,chain:Q(this,lr,"f").chain}}),oh.set(this,n=>n.map(r=>{var o,i;const a=is(r.address);return{address:ud.default.encode(a),publicKey:a,label:r.label,icon:r.icon,chains:(o=r.chains)!==null&&o!==void 0?o:Q(this,Wa,"f"),features:(i=r.features)!==null&&i!==void 0?i:ix}})),Sg.set(this,n=>tt(this,void 0,void 0,function*(){const{authToken:r,chain:o}=Q(this,Ru,"f").call(this);try{return yield Q(this,Fa,"f").call(this,i=>tt(this,void 0,void 0,function*(){return yield Q(this,xu,"f").call(this,i,r,o),yield i.signTransactions({transactions:n})}))}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}})),Mg.set(this,(n,r)=>tt(this,void 0,void 0,function*(){const{authToken:o,chain:i}=Q(this,Ru,"f").call(this);try{return yield Q(this,Fa,"f").call(this,a=>tt(this,void 0,void 0,function*(){const[c,f]=yield Promise.all([a.getCapabilities(),Q(this,xu,"f").call(this,a,o,i)]);if(c.supports_sign_and_send_transactions)return(yield a.signAndSendTransactions(Object.assign(Object.assign({},r),{transactions:[n]})))[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),sh.set(this,(...n)=>tt(this,void 0,void 0,function*(){const r=[];for(const o of n){const i=gc.VersionedTransaction.deserialize(o.transaction),a=yield Q(this,Mg,"f").call(this,i,o.options);r.push({signature:ud.default.decode(a)})}return r})),Ag.set(this,(...n)=>tt(this,void 0,void 0,function*(){const r=n.map(({transaction:i})=>gc.VersionedTransaction.deserialize(i));return(yield Q(this,Sg,"f").call(this,r)).map(i=>({signedTransaction:JA(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))})),xg.set(this,(...n)=>tt(this,void 0,void 0,function*(){const{authToken:r,chain:o}=Q(this,Ru,"f").call(this),i=n.map(({account:c})=>ex(c.publicKey)),a=n.map(({message:c})=>c);try{return yield Q(this,Fa,"f").call(this,c=>tt(this,void 0,void 0,function*(){return yield Q(this,xu,"f").call(this,c,r,o),(yield c.signMessages({addresses:i,payloads:a})).map(g=>({signedMessage:g,signature:g.slice(-rx)}))}))}catch(c){throw new Error(c instanceof Error&&c.message||"Unknown error")}})),Rg.set(this,(...n)=>tt(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const o of n)r.push(yield Q(this,ah,"f").call(this,o));else return[yield Q(this,ah,"f").call(this,n[0])];return r})),ah.set(this,n=>tt(this,void 0,void 0,function*(){var r,o;st(this,$o,!0);try{const i=yield Q(this,rh,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n==null?void 0:n.domain)!==null&&r!==void 0?r:window.location.host}));if(!i.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const a=i.sign_in_result.address;return{account:Object.assign(Object.assign({},(o=i.accounts.find(f=>f.address==a))!==null&&o!==void 0?o:{address:a}),{publicKey:is(a)}),signedMessage:is(i.sign_in_result.signed_message),signature:is(i.sign_in_result.signature)}}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}finally{st(this,$o,!1)}})),st(this,Fo,e.authorizationCache),st(this,Su,e.appIdentity),st(this,Wa,e.chains),st(this,Jf,e.chainSelector),st(this,th,e.remoteHostAuthority),st(this,eh,e.onWalletNotFound),st(this,Mu,{[vn.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Q(this,sh,"f")}})}get version(){return Q(this,gg,"f")}get name(){return Q(this,yg,"f")}get url(){return Q(this,wg,"f")}get icon(){return Q(this,vg,"f")}get chains(){return Q(this,Wa,"f")}get features(){return Object.assign({[gl.StandardConnect]:{version:"1.0.0",connect:Q(this,Eg,"f")},[gl.StandardDisconnect]:{version:"1.0.0",disconnect:Q(this,ih,"f")},[gl.StandardEvents]:{version:"1.0.0",on:Q(this,_g,"f")},[vn.SolanaSignMessage]:{version:"1.0.0",signMessage:Q(this,xg,"f")},[vn.SolanaSignIn]:{version:"1.0.0",signIn:Q(this,Rg,"f")}},Q(this,Mu,"f"))}get accounts(){var e,n;return(n=(e=Q(this,lr,"f"))===null||e===void 0?void 0:e.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!Q(this,gi,"f")&&!!Q(this,lr,"f")}get isAuthorized(){return!!Q(this,lr,"f")}get currentAuthorization(){return Q(this,lr,"f")}get cachedAuthorizationResult(){return Q(this,Fo,"f").get()}}Xs=new WeakMap,gg=new WeakMap,yg=new WeakMap,wg=new WeakMap,vg=new WeakMap,Su=new WeakMap,lr=new WeakMap,Fo=new WeakMap,$o=new WeakMap,ja=new WeakMap,Wa=new WeakMap,Jf=new WeakMap,Mu=new WeakMap,eh=new WeakMap,th=new WeakMap,gi=new WeakMap,_g=new WeakMap,Eg=new WeakMap,rh=new WeakMap,Au=new WeakMap,bg=new WeakMap,xu=new WeakMap,ih=new WeakMap,Fa=new WeakMap,Ru=new WeakMap,oh=new WeakMap,Sg=new WeakMap,Mg=new WeakMap,sh=new WeakMap,Ag=new WeakMap,xg=new WeakMap,Rg=new WeakMap,ah=new WeakMap,za=new WeakSet,nh=function(e,...n){var r;(r=Q(this,Xs,"f")[e])===null||r===void 0||r.forEach(o=>o.apply(null,n))},nx=function(e,n){var r;Q(this,Xs,"f")[e]=(r=Q(this,Xs,"f")[e])===null||r===void 0?void 0:r.filter(o=>n!==o)};var o8=function(t,e,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n},s8=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},lh;function b_(t){const e=({register:n})=>n(t);try{window.dispatchEvent(new a8(e))}catch(n){console.error(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>e(n))}catch(n){console.error(`wallet-standard:app-ready event listener could not be added
`,n)}}let a8=class extends Event{constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),lh.set(this,void 0),o8(this,lh,e,"f")}get detail(){return s8(this,lh,"f")}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}};lh=new WeakMap;function l8(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}function u8(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function c8(t){l8()?b_(new ox(t)):u8()&&t.remoteHostAuthority!==void 0&&b_(new sx(Object.assign(Object.assign({},t),{remoteHostAuthority:t.remoteHostAuthority})))}const f8="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",h8="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class d8 extends QA{constructor(){super(...arguments),this.contentStyles=m8,this.contentHtml=p8}initWithError(e){super.init(),this.populateError(e)}populateError(e){var n,r;const o=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-error-message"),i=(r=this.dom)===null||r===void 0?void 0:r.getElementById("mobile-wallet-adapter-error-action");if(o){if(e.name==="SolanaMobileWalletAdapterError")switch(e.code){case"ERROR_WALLET_NOT_FOUND":o.innerHTML=f8,i&&i.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":o.innerHTML=h8,i&&(i.style.display="none");return}o.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}}const p8=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,m8=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function ax(){return tt(this,void 0,void 0,function*(){if(typeof window<"u"){const t=window.navigator.userAgent.toLowerCase(),e=new d8;t.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}function g8(){return()=>tt(this,void 0,void 0,function*(){ax()})}const Rp="SolanaMobileWalletAdapterDefaultAuthorizationCache";function y8(){let t;try{t=window.localStorage}catch{}return{clear(){return tt(this,void 0,void 0,function*(){if(t)try{t.removeItem(Rp)}catch{}})},get(){return tt(this,void 0,void 0,function*(){if(t)try{const e=JSON.parse(t.getItem(Rp));if(e&&e.accounts){const n=e.accounts.map(r=>Object.assign(Object.assign({},r),{publicKey:"publicKey"in r?new Uint8Array(Object.values(r.publicKey)):new gc.PublicKey(r.address).toBytes()}));return Object.assign(Object.assign({},e),{accounts:n})}else return e||void 0}catch{}})},set(e){return tt(this,void 0,void 0,function*(){if(t)try{t.setItem(Rp,JSON.stringify(e))}catch{}})}}}function w8(){return{select(t){return tt(this,void 0,void 0,function*(){return t.length===1?t[0]:t.includes(E_.SOLANA_MAINNET_CHAIN)?E_.SOLANA_MAINNET_CHAIN:t[0]})}}}eo.LocalSolanaMobileWalletAdapterWallet=ox;eo.RemoteSolanaMobileWalletAdapterWallet=sx;eo.SolanaMobileWalletAdapterWalletName=qw;eo.createDefaultAuthorizationCache=y8;eo.createDefaultChainSelector=w8;eo.createDefaultWalletNotFoundHandler=g8;eo.defaultErrorModalWalletNotFoundHandler=ax;eo.registerMwa=c8;Object.defineProperty(Is,"__esModule",{value:!0});var ln=mL,uh=Ow,Ws=$2,Wl=eo;function xt(t,e,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(_){try{g(r.next(_))}catch(M){a(M)}}function f(_){try{g(r.throw(_))}catch(M){a(M)}}function g(_){_.done?i(_.value):o(_.value).then(c,f)}g((r=r.apply(t,[])).next())})}function Je(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Lr(t,e,n,r,o){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}const Ig="standard:connect",v8="standard:disconnect",_8="standard:events";function Ip(t){return window.btoa(String.fromCharCode.call(null,...t))}function E8(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var pn,Ut,Qo,yo,ch,ho,Bs,Ng,Tg,lx,cd,fh,qo;const b8="Mobile Wallet Adapter",S8=64;function M8(t){return"version"in t}function Gw(t){switch(t){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return t}}class ux extends ln.BaseSignInMessageSignerWalletAdapter{constructor(e,n){super(),pn.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),Ut.set(this,void 0),Qo.set(this,!1),yo.set(this,E8()?ln.WalletReadyState.Loadable:ln.WalletReadyState.Unsupported),ch.set(this,void 0),ho.set(this,void 0),Bs.set(this,void 0),Ng.set(this,r=>xt(this,void 0,void 0,function*(){if(r.accounts&&r.accounts.length>0){Je(this,pn,"m",lx).call(this);const o=yield Je(this,ch,"f").call(this,r.accounts);o!==Je(this,ho,"f")&&(Lr(this,ho,o),Lr(this,Bs,void 0),this.emit("connect",this.publicKey))}})),Lr(this,ch,r=>xt(this,void 0,void 0,function*(){var o;const i=yield n.addressSelector.select(r.map(({publicKey:a})=>Ip(a)));return(o=r.find(({publicKey:a})=>Ip(a)===i))!==null&&o!==void 0?o:r[0]})),Lr(this,Ut,e),Je(this,Ut,"f").features[_8].on("change",Je(this,Ng,"f")),this.name=Je(this,Ut,"f").name,this.icon=Je(this,Ut,"f").icon,this.url=Je(this,Ut,"f").url}get publicKey(){var e;if(!Je(this,Bs,"f")&&Je(this,ho,"f"))try{Lr(this,Bs,new uh.PublicKey(Je(this,ho,"f").publicKey),"f")}catch(n){throw new ln.WalletPublicKeyError(n instanceof Error&&(n==null?void 0:n.message)||"Unknown error",n)}return(e=Je(this,Bs,"f"))!==null&&e!==void 0?e:null}get connected(){return Je(this,Ut,"f").connected}get connecting(){return Je(this,Qo,"f")}get readyState(){return Je(this,yo,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return xt(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return xt(this,void 0,void 0,function*(){Je(this,pn,"m",Tg).call(this,!0)})}connect(){return xt(this,void 0,void 0,function*(){Je(this,pn,"m",Tg).call(this)})}performAuthorization(e){return xt(this,void 0,void 0,function*(){try{const n=yield Je(this,Ut,"f").cachedAuthorizationResult;return n?(yield Je(this,Ut,"f").features[Ig].connect({silent:!0}),n):(e?yield Je(this,Ut,"f").features[Ws.SolanaSignIn].signIn(e):yield Je(this,Ut,"f").features[Ig].connect(),yield yield Je(this,Ut,"f").cachedAuthorizationResult)}catch(n){throw new ln.WalletConnectionError(n instanceof Error&&n.message||"Unknown error",n)}})}disconnect(){return xt(this,void 0,void 0,function*(){return yield Je(this,pn,"m",qo).call(this,()=>xt(this,void 0,void 0,function*(){Lr(this,Qo,!1),Lr(this,Bs,void 0),Lr(this,ho,void 0),yield Je(this,Ut,"f").features[v8].disconnect(),this.emit("disconnect")}))})}signIn(e){return xt(this,void 0,void 0,function*(){return Je(this,pn,"m",qo).call(this,()=>xt(this,void 0,void 0,function*(){var n;if(Je(this,yo,"f")!==ln.WalletReadyState.Installed&&Je(this,yo,"f")!==ln.WalletReadyState.Loadable)throw new ln.WalletNotReadyError;Lr(this,Qo,!0);try{const r=yield Je(this,Ut,"f").features[Ws.SolanaSignIn].signIn(Object.assign(Object.assign({},e),{domain:(n=e==null?void 0:e.domain)!==null&&n!==void 0?n:window.location.host}));if(r.length>0)return r[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(r){throw new ln.WalletConnectionError(r instanceof Error&&r.message||"Unknown error",r)}finally{Lr(this,Qo,!1)}}))})}signMessage(e){return xt(this,void 0,void 0,function*(){return yield Je(this,pn,"m",qo).call(this,()=>xt(this,void 0,void 0,function*(){const n=Je(this,pn,"m",cd).call(this);try{return(yield Je(this,Ut,"f").features[Ws.SolanaSignMessage].signMessage({account:n,message:e}))[0].signature}catch(r){throw new ln.WalletSignMessageError(r==null?void 0:r.message,r)}}))})}sendTransaction(e,n,r){return xt(this,void 0,void 0,function*(){return yield Je(this,pn,"m",qo).call(this,()=>xt(this,void 0,void 0,function*(){const o=Je(this,pn,"m",cd).call(this);try{let i=function(){let a;switch(n.commitment){case"confirmed":case"finalized":case"processed":a=n.commitment;break;default:a="finalized"}let c;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":c=r.preflightCommitment;break;case void 0:c=a;break;default:c="finalized"}return(c==="finalized"?2:c==="confirmed"?1:0)<(a==="finalized"?2:a==="confirmed"?1:0)?c:a};if(Ws.SolanaSignAndSendTransaction in Je(this,Ut,"f").features){const a=Gw(Je(this,Ut,"f").currentAuthorization.chain),[c]=(yield Je(this,Ut,"f").features[Ws.SolanaSignAndSendTransaction].signAndSendTransaction({account:o,transaction:e.serialize(),chain:a,options:r?{skipPreflight:r.skipPreflight,maxRetries:r.maxRetries}:void 0})).map(f=>Ip(f.signature));return c}else{const[a]=yield Je(this,pn,"m",fh).call(this,[e]);if(M8(a))return yield n.sendTransaction(a);{const c=a.serialize();return yield n.sendRawTransaction(c,Object.assign(Object.assign({},r),{preflightCommitment:i()}))}}}catch(i){throw new ln.WalletSendTransactionError(i==null?void 0:i.message,i)}}))})}signTransaction(e){return xt(this,void 0,void 0,function*(){return yield Je(this,pn,"m",qo).call(this,()=>xt(this,void 0,void 0,function*(){const[n]=yield Je(this,pn,"m",fh).call(this,[e]);return n}))})}signAllTransactions(e){return xt(this,void 0,void 0,function*(){return yield Je(this,pn,"m",qo).call(this,()=>xt(this,void 0,void 0,function*(){return yield Je(this,pn,"m",fh).call(this,e)}))})}}Ut=new WeakMap,Qo=new WeakMap,yo=new WeakMap,ch=new WeakMap,ho=new WeakMap,Bs=new WeakMap,Ng=new WeakMap,pn=new WeakSet,Tg=function(e=!1){return xt(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield Je(this,pn,"m",qo).call(this,()=>xt(this,void 0,void 0,function*(){if(Je(this,yo,"f")!==ln.WalletReadyState.Installed&&Je(this,yo,"f")!==ln.WalletReadyState.Loadable)throw new ln.WalletNotReadyError;Lr(this,Qo,!0);try{yield Je(this,Ut,"f").features[Ig].connect({silent:e})}catch(n){throw new ln.WalletConnectionError(n instanceof Error&&n.message||"Unknown error",n)}finally{Lr(this,Qo,!1)}}))})},lx=function(){Je(this,yo,"f")!==ln.WalletReadyState.Installed&&this.emit("readyStateChange",Lr(this,yo,ln.WalletReadyState.Installed))},cd=function(){if(!Je(this,Ut,"f").isAuthorized||!Je(this,ho,"f"))throw new ln.WalletNotConnectedError;return Je(this,ho,"f")},fh=function(e){return xt(this,void 0,void 0,function*(){const n=Je(this,pn,"m",cd).call(this);try{if(Ws.SolanaSignTransaction in Je(this,Ut,"f").features)return Je(this,Ut,"f").features[Ws.SolanaSignTransaction].signTransaction(...e.map(r=>({account:n,transaction:r.serialize()}))).then(r=>r.map(o=>{const i=o.signedTransaction,c=i[0]*S8+1;return uh.VersionedMessage.deserializeMessageVersion(i.slice(c,i.length))==="legacy"?uh.Transaction.from(i):uh.VersionedTransaction.deserialize(i)}));throw new Error("Connected wallet does not support signing transactions")}catch(r){throw new ln.WalletSignTransactionError(r==null?void 0:r.message,r)}})},qo=function(e){return xt(this,void 0,void 0,function*(){try{return yield e()}catch(n){throw this.emit("error",n),n}})};class cx extends ux{constructor(e){var n;const r=Gw((n=e.chain)!==null&&n!==void 0?n:e.cluster);super(new Wl.LocalSolanaMobileWalletAdapterWallet({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>xt(this,void 0,void 0,function*(){const o=yield e.authorizationResultCache.get();return o&&"chain"in o?o:o?Object.assign(Object.assign({},o),{chain:r}):void 0}),clear:e.authorizationResultCache.clear},chains:[r],chainSelector:Wl.createDefaultChainSelector(),onWalletNotFound:()=>xt(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:r})}}class A8 extends ux{constructor(e){const n=Gw(e.chain);super(new Wl.RemoteSolanaMobileWalletAdapterWallet({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>xt(this,void 0,void 0,function*(){const r=yield e.authorizationResultCache.get();return r&&"chain"in r?r:r?Object.assign(Object.assign({},r),{chain:n}):void 0}),clear:e.authorizationResultCache.clear},chains:[n],chainSelector:Wl.createDefaultChainSelector(),remoteHostAuthority:e.remoteHostAuthority,onWalletNotFound:()=>xt(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:n})}}class x8 extends cx{}function R8(){return{select(t){return xt(this,void 0,void 0,function*(){return t[0]})}}}function I8(){return Wl.createDefaultAuthorizationCache()}function N8(t){return xt(this,void 0,void 0,function*(){return Wl.defaultErrorModalWalletNotFoundHandler()})}function T8(){return N8}Is.LocalSolanaMobileWalletAdapter=cx;Is.RemoteSolanaMobileWalletAdapter=A8;var k8=Is.SolanaMobileWalletAdapter=x8,hh=Is.SolanaMobileWalletAdapterWalletName=b8,C8=Is.createDefaultAddressSelector=R8,O8=Is.createDefaultAuthorizationResultCache=I8,L8=Is.createDefaultWalletNotFoundHandler=T8,B8=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},P8=function(t,e,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n},dh;function D8(t){const e=({register:n})=>n(t);try{window.dispatchEvent(new U8(e))}catch(n){console.error(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>e(n))}catch(n){console.error(`wallet-standard:app-ready event listener could not be added
`,n)}}class U8 extends Event{get detail(){return B8(this,dh,"f")}get type(){return"wallet-standard:register-wallet"}constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),dh.set(this,void 0),P8(this,dh,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}dh=new WeakMap;function z8(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function j8(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let g=0;g<e.length;g++)e[g]=255;for(let g=0;g<t.length;g++){const _=t.charAt(g),M=_.charCodeAt(0);if(e[M]!==255)throw new TypeError(_+" is ambiguous");e[M]=g}const n=t.length,r=t.charAt(0),o=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function a(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";let _=0,M=0,S=0;const E=g.length;for(;S!==E&&g[S]===0;)S++,_++;const A=(E-S)*i+1>>>0,k=new Uint8Array(A);for(;S!==E;){let T=g[S],N=0;for(let O=A-1;(T!==0||N<M)&&O!==-1;O--,N++)T+=256*k[O]>>>0,k[O]=T%n>>>0,T=T/n>>>0;if(T!==0)throw new Error("Non-zero carry");M=N,S++}let C=A-M;for(;C!==A&&k[C]===0;)C++;let R=r.repeat(_);for(;C<A;++C)R+=t.charAt(k[C]);return R}function c(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;let _=0,M=0,S=0;for(;g[_]===r;)M++,_++;const E=(g.length-_)*o+1>>>0,A=new Uint8Array(E);for(;_<g.length;){const T=g.charCodeAt(_);if(T>255)return;let N=e[T];if(N===255)return;let O=0;for(let D=E-1;(N!==0||O<S)&&D!==-1;D--,O++)N+=n*A[D]>>>0,A[D]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");S=O,_++}let k=E-S;for(;k!==E&&A[k]===0;)k++;const C=new Uint8Array(M+(E-k));let R=M;for(;k!==E;)C[R++]=A[k++];return C}function f(g){const _=c(g);if(_)return _;throw new Error("Non-base"+n+" character")}return{encode:a,decodeUnsafe:c,decode:f}}var W8="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const F8=j8(W8);var Ye=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},nn=function(t,e,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n},An,yr,Js,ea,Ps,Iu,fd,mt,hd,kg,ph,Cg,Wu,Og,S_,M_,A_,x_;class $8 extends kw{get name(){return Ye(this,mt,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return Ye(this,mt,"f").icon}get readyState(){return Ye(this,hd,"f")}get publicKey(){return Ye(this,Js,"f")}get connecting(){return Ye(this,ea,"f")}get supportedTransactionVersions(){return Ye(this,fd,"f")}get wallet(){return Ye(this,mt,"f")}get standard(){return!0}constructor({wallet:e}){super(),An.add(this),yr.set(this,void 0),Js.set(this,void 0),ea.set(this,void 0),Ps.set(this,void 0),Iu.set(this,void 0),fd.set(this,void 0),mt.set(this,void 0),hd.set(this,typeof window>"u"||typeof document>"u"?yt.Unsupported:yt.Installed),Og.set(this,n=>{if("accounts"in n){const r=Ye(this,mt,"f").accounts[0];Ye(this,yr,"f")&&!Ye(this,Ps,"f")&&r!==Ye(this,yr,"f")&&(r?Ye(this,An,"m",ph).call(this,r):(this.emit("error",new t0),Ye(this,An,"m",Cg).call(this)))}"features"in n&&Ye(this,An,"m",Wu).call(this)}),nn(this,mt,e,"f"),nn(this,yr,null,"f"),nn(this,Js,null,"f"),nn(this,ea,!1,"f"),nn(this,Ps,!1,"f"),nn(this,Iu,Ye(this,mt,"f").features[Cc].on("change",Ye(this,Og,"f")),"f"),Ye(this,An,"m",Wu).call(this)}destroy(){nn(this,yr,null,"f"),nn(this,Js,null,"f"),nn(this,ea,!1,"f"),nn(this,Ps,!1,"f");const e=Ye(this,Iu,"f");e&&(nn(this,Iu,null,"f"),e())}async autoConnect(){return Ye(this,An,"m",kg).call(this,{silent:!0})}async connect(){return Ye(this,An,"m",kg).call(this)}async disconnect(){if(pc in Ye(this,mt,"f").features)try{nn(this,Ps,!0,"f"),await Ye(this,mt,"f").features[pc].disconnect()}catch(e){this.emit("error",new n0(e==null?void 0:e.message,e))}finally{nn(this,Ps,!1,"f")}Ye(this,An,"m",Cg).call(this)}async sendTransaction(e,n,r={}){try{const o=Ye(this,yr,"f");if(!o)throw new en;let i;if(Wi in Ye(this,mt,"f").features)if(o.features.includes(Wi))i=Wi;else if(un in Ye(this,mt,"f").features&&o.features.includes(un))i=un;else throw new ns;else if(un in Ye(this,mt,"f").features){if(!o.features.includes(un))throw new ns;i=un}else throw new Zs;const a=uA(n.rpcEndpoint);if(!o.chains.includes(a))throw new bo;try{const{signers:c,...f}=r;let g;if(Fi(e)?(c!=null&&c.length&&e.sign(c),g=e.serialize()):(e=await this.prepareTransaction(e,n,f),c!=null&&c.length&&e.partialSign(...c),g=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),i===Wi){const[_]=await Ye(this,mt,"f").features[Wi].signAndSendTransaction({account:o,chain:a,transaction:g,options:{preflightCommitment:jf(f.preflightCommitment||n.commitment),skipPreflight:f.skipPreflight,maxRetries:f.maxRetries,minContextSlot:f.minContextSlot}});return F8.encode(_.signature)}else{const[_]=await Ye(this,mt,"f").features[un].signTransaction({account:o,chain:a,transaction:g,options:{preflightCommitment:jf(f.preflightCommitment||n.commitment),minContextSlot:f.minContextSlot}});return await n.sendRawTransaction(_.signedTransaction,{...f,preflightCommitment:jf(f.preflightCommitment||n.commitment)})}}catch(c){throw c instanceof Ht?c:new bo(c==null?void 0:c.message,c)}}catch(o){throw this.emit("error",o),o}}}yr=new WeakMap,Js=new WeakMap,ea=new WeakMap,Ps=new WeakMap,Iu=new WeakMap,fd=new WeakMap,mt=new WeakMap,hd=new WeakMap,Og=new WeakMap,An=new WeakSet,kg=async function(e){try{if(this.connected||this.connecting)return;if(Ye(this,hd,"f")!==yt.Installed)throw new Bl;if(nn(this,ea,!0,"f"),!Ye(this,mt,"f").accounts.length)try{await Ye(this,mt,"f").features[kc].connect(e)}catch(r){throw new dc(r==null?void 0:r.message,r)}const n=Ye(this,mt,"f").accounts[0];if(!n)throw new ns;Ye(this,An,"m",ph).call(this,n)}catch(n){throw this.emit("error",n),n}finally{nn(this,ea,!1,"f")}},ph=function(e){let n;try{n=new re(e.address)}catch(r){throw new Pl(r==null?void 0:r.message,r)}nn(this,yr,e,"f"),nn(this,Js,n,"f"),Ye(this,An,"m",Wu).call(this),this.emit("connect",n)},Cg=function(){nn(this,yr,null,"f"),nn(this,Js,null,"f"),Ye(this,An,"m",Wu).call(this),this.emit("disconnect")},Wu=function(){var n,r;const e=Wi in Ye(this,mt,"f").features?Ye(this,mt,"f").features[Wi].supportedTransactionVersions:Ye(this,mt,"f").features[un].supportedTransactionVersions;nn(this,fd,z8(e,["legacy"])?null:new Set(e),"f"),un in Ye(this,mt,"f").features&&((n=Ye(this,yr,"f"))!=null&&n.features.includes(un))?(this.signTransaction=Ye(this,An,"m",S_),this.signAllTransactions=Ye(this,An,"m",M_)):(delete this.signTransaction,delete this.signAllTransactions),js in Ye(this,mt,"f").features&&((r=Ye(this,yr,"f"))!=null&&r.features.includes(js))?this.signMessage=Ye(this,An,"m",A_):delete this.signMessage,zf in Ye(this,mt,"f").features?this.signIn=Ye(this,An,"m",x_):delete this.signIn},S_=async function(e){try{const n=Ye(this,yr,"f");if(!n)throw new en;if(!(un in Ye(this,mt,"f").features))throw new Zs;if(!n.features.includes(un))throw new ns;try{const o=(await Ye(this,mt,"f").features[un].signTransaction({account:n,transaction:Fi(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return Fi(e)?Cl.deserialize(o):at.from(o)}catch(r){throw r instanceof Ht?r:new bi(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},M_=async function(e){try{const n=Ye(this,yr,"f");if(!n)throw new en;if(!(un in Ye(this,mt,"f").features))throw new Zs;if(!n.features.includes(un))throw new ns;try{const r=await Ye(this,mt,"f").features[un].signTransaction(...e.map(o=>({account:n,transaction:Fi(o)?o.serialize():new Uint8Array(o.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((o,i)=>{const a=r[i].signedTransaction;return Fi(o)?Cl.deserialize(a):at.from(a)})}catch(r){throw new bi(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},A_=async function(e){try{const n=Ye(this,yr,"f");if(!n)throw new en;if(!(js in Ye(this,mt,"f").features))throw new Zs;if(!n.features.includes(js))throw new ns;try{return(await Ye(this,mt,"f").features[js].signMessage({account:n,message:e}))[0].signature}catch(r){throw new r0(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},x_=async function(e={}){try{if(!(zf in Ye(this,mt,"f").features))throw new Zs;let n;try{[n]=await Ye(this,mt,"f").features[zf].signIn(e)}catch(r){throw new qm(r==null?void 0:r.message,r)}if(!n)throw new qm;return Ye(this,An,"m",ph).call(this,n.account),n}catch(n){throw this.emit("error",n),n}};const H8=W2;var K8=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},V8=function(t,e,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n},mh;let Pr;const h0=new Set;function q8(t){Fu=void 0,h0.add(t)}function G8(t){Fu=void 0,h0.delete(t)}const ol={};function Z8(){if(Pr||(Pr=Object.freeze({register:R_,get:Y8,on:Q8}),typeof window>"u"))return Pr;const t=Object.freeze({register:R_});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new X8(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return Pr}function R_(...t){var e;return t=t.filter(n=>!h0.has(n)),t.length?(t.forEach(n=>q8(n)),(e=ol.register)==null||e.forEach(n=>Lg(()=>n(...t))),function(){var r;t.forEach(o=>G8(o)),(r=ol.unregister)==null||r.forEach(o=>Lg(()=>o(...t)))}):()=>{}}let Fu;function Y8(){return Fu||(Fu=[...h0]),Fu}function Q8(t,e){var n;return(n=ol[t])!=null&&n.push(e)||(ol[t]=[e]),function(){var o;ol[t]=(o=ol[t])==null?void 0:o.filter(i=>e!==i)}}function Lg(t){try{t()}catch(e){console.error(e)}}class X8 extends Event{get detail(){return K8(this,mh,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),mh.set(this,void 0),V8(this,mh,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}mh=new WeakMap;function J8(){if(Pr||(Pr=Z8(),typeof window>"u"))return Pr;const t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),Pr;const{register:e}=Pr,n=(...r)=>r.forEach(o=>Lg(()=>o({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch{return console.error("window.navigator.wallets could not be set"),Pr}return n(...t),Pr}function eP(t){const e=I_(()=>new Set),{get:n,on:r}=I_(()=>J8()),[o,i]=ae.useState(()=>N_(n()));ae.useEffect(()=>{const c=[r("register",(...f)=>i(g=>[...g,...N_(f)])),r("unregister",(...f)=>i(g=>g.filter(_=>f.some(M=>M===_.wallet))))];return()=>c.forEach(f=>f())},[r]);const a=tP(o);return ae.useEffect(()=>{if(!a)return;const c=new Set(o);new Set(a.filter(g=>!c.has(g))).forEach(g=>g.destroy())},[a,o]),ae.useEffect(()=>()=>o.forEach(c=>c.destroy()),[]),ae.useMemo(()=>[...o,...t.filter(({name:c})=>o.some(f=>f.name===c)?(e.has(c)||(e.add(c),console.warn(`${c} was registered as a Standard Wallet. The Wallet Adapter for ${c} can be removed from your app.`)),!1):!0)],[o,t,e])}function I_(t){const e=ae.useRef(void 0);return e.current===void 0&&(e.current={value:t()}),e.current.value}function tP(t){const e=ae.useRef(void 0);return ae.useEffect(()=>{e.current=t}),e.current}function N_(t){return t.filter(H8).map(e=>new $8({wallet:e}))}var yl;(function(t){t[t.DESKTOP_WEB=0]="DESKTOP_WEB",t[t.MOBILE_WEB=1]="MOBILE_WEB"})(yl||(yl={}));function nP(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}function rP({adapters:t,userAgentString:e}){return t.some(n=>n.name!==hh&&n.readyState===yt.Installed)?yl.DESKTOP_WEB:e&&/android/i.test(e)&&!nP(e)?yl.MOBILE_WEB:yl.DESKTOP_WEB}function iP(t){return t?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta"}function oP({children:t,wallets:e,adapter:n,isUnloadingRef:r,onAutoConnectRequest:o,onConnectError:i,onError:a,onSelectWallet:c}){const f=ae.useRef(!1),[g,_]=ae.useState(!1),M=ae.useRef(!1),[S,E]=ae.useState(!1),[A,k]=ae.useState(()=>(n==null?void 0:n.publicKey)??null),[C,R]=ae.useState(()=>(n==null?void 0:n.connected)??!1),T=ae.useRef(a);ae.useEffect(()=>(T.current=a,()=>{T.current=void 0}),[a]);const N=ae.useRef((u,h)=>(r.current||(T.current?T.current(u,h):(console.error(u,h),u instanceof Bl&&typeof window<"u"&&h&&window.open(h.url,"_blank"))),u)),[O,D]=ae.useState(()=>e.map(u=>({adapter:u,readyState:u.readyState})).filter(({readyState:u})=>u!==yt.Unsupported));ae.useEffect(()=>{D(h=>e.map((p,y)=>{const v=h[y];return v&&v.adapter===p&&v.readyState===p.readyState?v:{adapter:p,readyState:p.readyState}}).filter(({readyState:p})=>p!==yt.Unsupported));function u(h){D(p=>{const y=p.findIndex(({adapter:b})=>b===this);if(y===-1)return p;const{adapter:v}=p[y];return[...p.slice(0,y),{adapter:v,readyState:h},...p.slice(y+1)].filter(({readyState:b})=>b!==yt.Unsupported)})}return e.forEach(h=>h.on("readyStateChange",u,h)),()=>{e.forEach(h=>h.off("readyStateChange",u,h))}},[n,e]);const z=ae.useMemo(()=>O.find(u=>u.adapter===n)??null,[n,O]);ae.useEffect(()=>{if(!n)return;const u=y=>{k(y),f.current=!1,_(!1),R(!0),M.current=!1,E(!1)},h=()=>{r.current||(k(null),f.current=!1,_(!1),R(!1),M.current=!1,E(!1))},p=y=>{N.current(y,n)};return n.on("connect",u),n.on("disconnect",h),n.on("error",p),()=>{n.off("connect",u),n.off("disconnect",h),n.off("error",p),h()}},[n,r]);const P=ae.useRef(!1);ae.useEffect(()=>()=>{P.current=!1},[n]),ae.useEffect(()=>{P.current||f.current||C||!o||!((z==null?void 0:z.readyState)===yt.Installed||(z==null?void 0:z.readyState)===yt.Loadable)||(f.current=!0,_(!0),P.current=!0,async function(){try{await o()}catch{i()}finally{_(!1),f.current=!1}}())},[C,o,i,z]);const W=ae.useCallback(async(u,h,p)=>{if(!n)throw N.current(new r_);if(!C)throw N.current(new en,n);return await n.sendTransaction(u,h,p)},[n,C]),U=ae.useMemo(()=>n&&"signTransaction"in n?async u=>{if(!C)throw N.current(new en,n);return await n.signTransaction(u)}:void 0,[n,C]),F=ae.useMemo(()=>n&&"signAllTransactions"in n?async u=>{if(!C)throw N.current(new en,n);return await n.signAllTransactions(u)}:void 0,[n,C]),j=ae.useMemo(()=>n&&"signMessage"in n?async u=>{if(!C)throw N.current(new en,n);return await n.signMessage(u)}:void 0,[n,C]),V=ae.useMemo(()=>n&&"signIn"in n?async u=>await n.signIn(u):void 0,[n]),d=ae.useCallback(async()=>{if(f.current||M.current||z!=null&&z.adapter.connected)return;if(!z)throw N.current(new r_);const{adapter:u,readyState:h}=z;if(!(h===yt.Installed||h===yt.Loadable))throw N.current(new Bl,u);f.current=!0,_(!0);try{await u.connect()}catch(p){throw i(),p}finally{_(!1),f.current=!1}},[i,z]),s=ae.useCallback(async()=>{if(!M.current&&n){M.current=!0,E(!0);try{await n.disconnect()}finally{E(!1),M.current=!1}}},[n]);return fe.createElement(F2.Provider,{value:{autoConnect:!!o,wallets:O,wallet:z,publicKey:A,connected:C,connecting:g,disconnecting:S,select:c,connect:d,disconnect:s,sendTransaction:W,signTransaction:U,signAllTransactions:F,signMessage:j,signIn:V}},t)}let Np;function sP(){var t;return Np===void 0&&(Np=((t=globalThis.navigator)==null?void 0:t.userAgent)??null),Np}function T_(t){const e=sP();return rP({adapters:t,userAgentString:e})===yl.MOBILE_WEB}function aP(){const t=globalThis.location;if(t)return`${t.protocol}//${t.host}`}function lP({children:t,wallets:e,autoConnect:n,localStorageKey:r="walletName",onError:o}){const{connection:i}=U2(),a=eP(e),c=ae.useMemo(()=>{if(!T_(a))return null;const T=a.find(N=>N.name===hh);return T||new k8({addressSelector:C8(),appIdentity:{uri:aP()},authorizationResultCache:O8(),cluster:iP(i==null?void 0:i.rpcEndpoint),onWalletNotFound:L8()})},[a,i==null?void 0:i.rpcEndpoint]),f=ae.useMemo(()=>c==null||a.indexOf(c)!==-1?a:[c,...a],[a,c]),[g,_]=pL(r,null),M=ae.useMemo(()=>f.find(T=>T.name===g)??null,[f,g]),S=ae.useCallback(T=>{g!==T&&(M&&M.name!==hh&&M.disconnect(),_(T))},[M,_,g]);ae.useEffect(()=>{if(!M)return;function T(){k.current||_(null)}return M.on("disconnect",T),()=>{M.off("disconnect",T)}},[M,a,_,g]);const E=ae.useRef(!1),A=ae.useMemo(()=>{if(!(!n||!M))return async()=>{(n===!0||await n(M))&&(E.current?await M.connect():await M.autoConnect())}},[n,M]),k=ae.useRef(!1);ae.useEffect(()=>{if(g===hh&&T_(a)){k.current=!1;return}function T(){k.current=!0}return window.addEventListener("beforeunload",T),()=>{window.removeEventListener("beforeunload",T)}},[a,g]);const C=ae.useCallback(()=>{M&&S(null)},[M,S]),R=ae.useCallback(T=>{E.current=!0,S(T)},[S]);return fe.createElement(oP,{wallets:f,adapter:M,isUnloadingRef:k,onAutoConnectRequest:A,onConnectError:C,onError:o,onSelectWallet:R},t)}const fx={setVisible(t){console.error(hx("call","setVisible"))},visible:!1};Object.defineProperty(fx,"visible",{get(){return console.error(hx("read","visible")),!1}});function hx(t,e){return`You have tried to  ${t} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const dx=ae.createContext(fx);function px(){return ae.useContext(dx)}function uP({onSelectWallet:t}){const{connect:e,connected:n,connecting:r,disconnect:o,disconnecting:i,publicKey:a,select:c,wallet:f,wallets:g}=s0();let _;r?_="connecting":n?_="connected":i?_="disconnecting":f?_="has-wallet":_="no-wallet";const M=ae.useCallback(()=>{e().catch(()=>{})},[e]),S=ae.useCallback(()=>{o().catch(()=>{})},[o]),E=ae.useCallback(()=>{t({onSelectWallet:c,wallets:g})},[t,c,g]);return{buttonState:_,onConnect:_==="has-wallet"?M:void 0,onDisconnect:_!=="disconnecting"&&_!=="no-wallet"?S:void 0,onSelectWallet:E,publicKey:a??void 0,walletIcon:f==null?void 0:f.adapter.icon,walletName:f==null?void 0:f.adapter.name}}const mx=t=>fe.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&fe.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&fe.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),gx=({wallet:t,...e})=>t&&fe.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e});function cP({walletIcon:t,walletName:e,...n}){return fe.createElement(mx,{...n,className:"wallet-adapter-button-trigger",startIcon:t&&e?fe.createElement(gx,{wallet:{adapter:{icon:t,name:e}}}):void 0})}function fP({children:t,labels:e,...n}){const{setVisible:r}=px(),{buttonState:o,onConnect:i,onDisconnect:a,publicKey:c,walletIcon:f,walletName:g}=uP({onSelectWallet(){r(!0)}}),[_,M]=ae.useState(!1),[S,E]=ae.useState(!1),A=ae.useRef(null);ae.useEffect(()=>{const C=R=>{const T=A.current;!T||T.contains(R.target)||E(!1)};return document.addEventListener("mousedown",C),document.addEventListener("touchstart",C),()=>{document.removeEventListener("mousedown",C),document.removeEventListener("touchstart",C)}},[]);const k=ae.useMemo(()=>{if(t)return t;if(c){const C=c.toBase58();return C.slice(0,4)+".."+C.slice(-4)}else return o==="connecting"||o==="has-wallet"?e[o]:e["no-wallet"]},[o,t,e,c]);return fe.createElement("div",{className:"wallet-adapter-dropdown"},fe.createElement(cP,{...n,"aria-expanded":S,style:{pointerEvents:S?"none":"auto",...n.style},onClick:()=>{switch(o){case"no-wallet":r(!0);break;case"has-wallet":i&&i();break;case"connected":E(!0);break}},walletIcon:f,walletName:g},k),fe.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${S&&"wallet-adapter-dropdown-list-active"}`,ref:A,role:"menu"},c?fe.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(c.toBase58()),M(!0),setTimeout(()=>M(!1),400)},role:"menuitem"},_?e.copied:e["copy-address"]):null,fe.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{r(!0),E(!1)},role:"menuitem"},e["change-wallet"]),a?fe.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{a(),E(!1)},role:"menuitem"},e.disconnect):null))}const k_=({id:t,children:e,expanded:n=!1})=>{const r=ae.useRef(null),o=ae.useRef(!0),i="height 250ms ease-out",a=()=>{const f=r.current;f&&requestAnimationFrame(()=>{f.style.height=f.scrollHeight+"px"})},c=()=>{const f=r.current;f&&requestAnimationFrame(()=>{f.style.height=f.offsetHeight+"px",f.style.overflow="hidden",requestAnimationFrame(()=>{f.style.height="0"})})};return ae.useLayoutEffect(()=>{n?a():c()},[n]),ae.useLayoutEffect(()=>{const f=r.current;if(!f)return;function g(){f&&(f.style.overflow=n?"initial":"hidden",n&&(f.style.height="auto"))}function _(M){f&&M.target===f&&M.propertyName==="height"&&g()}return o.current&&(g(),o.current=!1),f.addEventListener("transitionend",_),()=>f.removeEventListener("transitionend",_)},[n]),fe.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:r,role:"region",style:{height:0,transition:o.current?void 0:i}},e)},Tp=({handleClick:t,tabIndex:e,wallet:n})=>fe.createElement("li",null,fe.createElement(mx,{onClick:t,startIcon:fe.createElement(gx,{wallet:n}),tabIndex:e},n.adapter.name,n.readyState===yt.Installed&&fe.createElement("span",null,"Detected"))),hP=()=>fe.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},fe.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),fe.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),fe.createElement("g",{clipPath:"url(#clip0_880_5115)"},fe.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),fe.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),fe.createElement("defs",null,fe.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},fe.createElement("stop",{stopColor:"#9945FF"}),fe.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),fe.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),fe.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),fe.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),fe.createElement("stop",{offset:"1",stopColor:"#00D18C"})),fe.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},fe.createElement("stop",{stopColor:"#9945FF"}),fe.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),fe.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),fe.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),fe.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),fe.createElement("stop",{offset:"1",stopColor:"#00D18C"})),fe.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},fe.createElement("stop",{stopColor:"#9945FF"}),fe.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),fe.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),fe.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),fe.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),fe.createElement("stop",{offset:"1",stopColor:"#00D18C"})),fe.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},fe.createElement("stop",{stopColor:"#9945FF"}),fe.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),fe.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),fe.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),fe.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),fe.createElement("stop",{offset:"1",stopColor:"#00D18C"})),fe.createElement("clipPath",{id:"clip0_880_5115"},fe.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),dP=({className:t="",container:e="body"})=>{const n=ae.useRef(null),{wallets:r,select:o}=s0(),{setVisible:i}=px(),[a,c]=ae.useState(!1),[f,g]=ae.useState(!1),[_,M]=ae.useState(null),[S,E]=ae.useMemo(()=>{const N=[],O=[];for(const D of r)D.readyState===yt.Installed?N.push(D):O.push(D);return N.length?[N,O]:[O,[]]},[r]),A=ae.useCallback(()=>{g(!1),setTimeout(()=>i(!1),150)},[i]),k=ae.useCallback(N=>{N.preventDefault(),A()},[A]),C=ae.useCallback((N,O)=>{o(O),k(N)},[o,k]),R=ae.useCallback(()=>c(!a),[a]),T=ae.useCallback(N=>{const O=n.current;if(!O)return;const D=O.querySelectorAll("button"),z=D[0],P=D[D.length-1];N.shiftKey?document.activeElement===z&&(P.focus(),N.preventDefault()):document.activeElement===P&&(z.focus(),N.preventDefault())},[n]);return ae.useLayoutEffect(()=>{const N=D=>{D.key==="Escape"?A():D.key==="Tab"&&T(D)},{overflow:O}=window.getComputedStyle(document.body);return setTimeout(()=>g(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",N,!1),()=>{document.body.style.overflow=O,window.removeEventListener("keydown",N,!1)}},[A,T]),ae.useLayoutEffect(()=>M(document.querySelector(e)),[e]),_&&FS.createPortal(fe.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${f&&"wallet-adapter-modal-fade-in"} ${t}`,ref:n,role:"dialog"},fe.createElement("div",{className:"wallet-adapter-modal-container"},fe.createElement("div",{className:"wallet-adapter-modal-wrapper"},fe.createElement("button",{onClick:k,className:"wallet-adapter-modal-button-close"},fe.createElement("svg",{width:"14",height:"14"},fe.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),S.length?fe.createElement(fe.Fragment,null,fe.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),fe.createElement("ul",{className:"wallet-adapter-modal-list"},S.map(N=>fe.createElement(Tp,{key:N.adapter.name,handleClick:O=>C(O,N.adapter.name),wallet:N})),E.length?fe.createElement(k_,{expanded:a,id:"wallet-adapter-modal-collapse"},E.map(N=>fe.createElement(Tp,{key:N.adapter.name,handleClick:O=>C(O,N.adapter.name),tabIndex:a?0:-1,wallet:N}))):null),E.length?fe.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:R,tabIndex:0},fe.createElement("span",null,a?"Less ":"More ","options"),fe.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${a?"wallet-adapter-modal-list-more-icon-rotate":""}`},fe.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):fe.createElement(fe.Fragment,null,fe.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),fe.createElement("div",{className:"wallet-adapter-modal-middle"},fe.createElement(hP,null)),E.length?fe.createElement(fe.Fragment,null,fe.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:R,tabIndex:0},fe.createElement("span",null,a?"Hide ":"Already have a wallet? View ","options"),fe.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${a?"wallet-adapter-modal-list-more-icon-rotate":""}`},fe.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),fe.createElement(k_,{expanded:a,id:"wallet-adapter-modal-collapse"},fe.createElement("ul",{className:"wallet-adapter-modal-list"},E.map(N=>fe.createElement(Tp,{key:N.adapter.name,handleClick:O=>C(O,N.adapter.name),tabIndex:a?0:-1,wallet:N}))))):null))),fe.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:k})),_)},pP=({children:t,...e})=>{const[n,r]=ae.useState(!1);return fe.createElement(dx.Provider,{value:{visible:n,setVisible:r}},t,n&&fe.createElement(dP,{...e}))},mP={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function C_(t){return fe.createElement(fP,{...t,labels:mP})}const gP="modulepreload",yP=function(t){return"/"+t},O_={},yx=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));o=Promise.allSettled(n.map(f=>{if(f=yP(f),f in O_)return;O_[f]=!0;const g=f.endsWith(".css"),_=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${_}`))return;const M=document.createElement("link");if(M.rel=g?"stylesheet":gP,g||(M.as="script"),M.crossOrigin="",M.href=f,c&&M.setAttribute("nonce",c),document.head.appendChild(M),g)return new Promise((S,E)=>{M.addEventListener("load",S),M.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return o.then(a=>{for(const c of a||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})},wP="Phantom";class vP extends i0{constructor(e={}){super(),this.name=wP,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?yt.Unsupported:yt.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),n.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new t0),this.emit("disconnect"))},this._accountChanged=n=>{const r=this._publicKey;if(r){try{n=new re(n.toBytes())}catch(o){this.emit("error",new Pl(o==null?void 0:o.message,o));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==yt.Unsupported&&(Jh()?(this._readyState=yt.Loadable,this.emit("readyStateChange",this._readyState)):Cw(()=>{var n,r,o;return(r=(n=window.phantom)==null?void 0:n.solana)!=null&&r.isPhantom||(o=window.solana)!=null&&o.isPhantom?(this._readyState=yt.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===yt.Installed&&await this.connect()}async connect(){var e;try{if(this.connected||this.connecting)return;if(this.readyState===yt.Loadable){const o=encodeURIComponent(window.location.href),i=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${o}?ref=${i}`;return}if(this.readyState!==yt.Installed)throw new Bl;this._connecting=!0;const n=((e=window.phantom)==null?void 0:e.solana)||window.solana;if(!n.isConnected)try{await n.connect()}catch(o){throw new dc(o==null?void 0:o.message,o)}if(!n.publicKey)throw new ns;let r;try{r=new re(n.publicKey.toBytes())}catch(o){throw new Pl(o==null?void 0:o.message,o)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new n0(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const o=this._wallet;if(!o)throw new en;try{const{signers:i,...a}=r;Fi(e)?i!=null&&i.length&&e.sign(i):(e=await this.prepareTransaction(e,n,a),i!=null&&i.length&&e.partialSign(...i)),a.preflightCommitment=a.preflightCommitment||n.commitment;const{signature:c}=await o.signAndSendTransaction(e,a);return c}catch(i){throw i instanceof Ht?i:new bo(i==null?void 0:i.message,i)}}catch(o){throw this.emit("error",o),o}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new en;try{return await n.signTransaction(e)||e}catch(r){throw new bi(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new en;try{return await n.signAllTransactions(e)||e}catch(r){throw new bi(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new en;try{const{signature:r}=await n.signMessage(e);return r}catch(r){throw new r0(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const _P="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var Et=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},EP=function(t,e,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n},gh,ta,Bg,Pg,Dg,Un,Ug,wx,vx,zg,jg,Wg,Fg,$g;class bP{constructor(){gh.add(this),ta.set(this,{}),Bg.set(this,"1.0.0"),Pg.set(this,"MetaMask"),Dg.set(this,_P),Un.set(this,null),Ug.set(this,(e,n)=>{var r;return(r=Et(this,ta,"f")[e])!=null&&r.push(n)||(Et(this,ta,"f")[e]=[n]),()=>Et(this,gh,"m",vx).call(this,e,n)}),zg.set(this,async()=>{if(!Et(this,Un,"f")){let e;try{e=(await yx(async()=>{const{default:n}=await import("./index-g76HCg-u.js");return{default:n}},[])).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}EP(this,Un,new e,"f"),Et(this,Un,"f").on("standard_change",n=>Et(this,gh,"m",wx).call(this,"change",n))}return this.accounts.length||await Et(this,Un,"f").connect(),{accounts:this.accounts}}),jg.set(this,async()=>{Et(this,Un,"f")&&await Et(this,Un,"f").disconnect()}),Wg.set(this,async(...e)=>{if(!Et(this,Un,"f"))throw new en;return await Et(this,Un,"f").standardSignAndSendTransaction(...e)}),Fg.set(this,async(...e)=>{if(!Et(this,Un,"f"))throw new en;return await Et(this,Un,"f").standardSignTransaction(...e)}),$g.set(this,async(...e)=>{if(!Et(this,Un,"f"))throw new en;return await Et(this,Un,"f").standardSignMessage(...e)})}get version(){return Et(this,Bg,"f")}get name(){return Et(this,Pg,"f")}get icon(){return Et(this,Dg,"f")}get chains(){return[br.SOLANA_MAINNET_CHAIN,br.SOLANA_DEVNET_CHAIN,br.SOLANA_TESTNET_CHAIN]}get features(){return{[kc]:{version:"1.0.0",connect:Et(this,zg,"f")},[pc]:{version:"1.0.0",disconnect:Et(this,jg,"f")},[Cc]:{version:"1.0.0",on:Et(this,Ug,"f")},[Wi]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Et(this,Wg,"f")},[un]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:Et(this,Fg,"f")},[js]:{version:"1.0.0",signMessage:Et(this,$g,"f")}}}get accounts(){return Et(this,Un,"f")?Et(this,Un,"f").standardAccounts:[]}}ta=new WeakMap,Bg=new WeakMap,Pg=new WeakMap,Dg=new WeakMap,Un=new WeakMap,Ug=new WeakMap,zg=new WeakMap,jg=new WeakMap,Wg=new WeakMap,Fg=new WeakMap,$g=new WeakMap,gh=new WeakSet,wx=function(e,...n){var r;(r=Et(this,ta,"f")[e])==null||r.forEach(o=>o.apply(null,n))},vx=function(e,n){var r;Et(this,ta,"f")[e]=(r=Et(this,ta,"f")[e])==null?void 0:r.filter(o=>n!==o)};let L_=!1;function SP(){L_||(D8(new bP),L_=!0)}async function MP(){const t="solflare-detect-metamask";function e(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:t,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function n(r){var i,a;const o=r.data;(o==null?void 0:o.target)==="metamask-inpage"&&((i=o.data)==null?void 0:i.name)==="metamask-provider"&&(((a=o.data.data)==null?void 0:a.id)===t?(window.removeEventListener("message",n),o.data.data.error||SP()):e())}window.addEventListener("message",n),window.setTimeout(()=>window.removeEventListener("message",n),5e3),e()}const AP="Solflare";class xP extends i0{constructor(e={}){super(),this.name=AP,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJTIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiMwMjA1MGE7c3Ryb2tlOiNmZmVmNDY7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOi41cHg7fS5jbHMtMntmaWxsOiNmZmVmNDY7fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJjbHMtMiIgeD0iMCIgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiByeD0iMTIiIHJ5PSIxMiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTI0LjIzLDI2LjQybDIuNDYtMi4zOCw0LjU5LDEuNWMzLjAxLDEsNC41MSwyLjg0LDQuNTEsNS40MywwLDEuOTYtLjc1LDMuMjYtMi4yNSw0LjkzbC0uNDYuNS4xNy0xLjE3Yy42Ny00LjI2LS41OC02LjA5LTQuNzItNy40M2wtNC4zLTEuMzhoMFpNMTguMDUsMTEuODVsMTIuNTIsNC4xNy0yLjcxLDIuNTktNi41MS0yLjE3Yy0yLjI1LS43NS0zLjAxLTEuOTYtMy4zLTQuNTF2LS4wOGgwWk0xNy4zLDMzLjA2bDIuODQtMi43MSw1LjM0LDEuNzVjMi44LjkyLDMuNzYsMi4xMywzLjQ2LDUuMThsLTExLjY1LTQuMjJoMFpNMTMuNzEsMjAuOTVjMC0uNzkuNDItMS41NCwxLjEzLTIuMTcuNzUsMS4wOSwyLjA1LDIuMDUsNC4wOSwyLjcxbDQuNDIsMS40Ni0yLjQ2LDIuMzgtNC4zNC0xLjQyYy0yLS42Ny0yLjg0LTEuNjctMi44NC0yLjk2TTI2LjgyLDQyLjg3YzkuMTgtNi4wOSwxNC4xMS0xMC4yMywxNC4xMS0xNS4zMiwwLTMuMzgtMi01LjI2LTYuNDMtNi43MmwtMy4zNC0xLjEzLDkuMTQtOC43Ny0xLjg0LTEuOTYtMi43MSwyLjM4LTEyLjgxLTQuMjJjLTMuOTcsMS4yOS04Ljk3LDUuMDktOC45Nyw4Ljg5LDAsLjQyLjA0LjgzLjE3LDEuMjktMy4zLDEuODgtNC42MywzLjYzLTQuNjMsNS44LDAsMi4wNSwxLjA5LDQuMDksNC41NSw1LjIybDIuNzUuOTItOS41Miw5LjE0LDEuODQsMS45NiwyLjk2LTIuNzEsMTQuNzMsNS4yMmgwWiIvPjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?yt.Unsupported:yt.Loadable,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new t0),this.emit("disconnect"))},this._accountChanged=n=>{if(!n)return;const r=this._publicKey;if(r){try{n=new re(n.toBytes())}catch(o){this.emit("error",new Pl(o==null?void 0:o.message,o));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==yt.Unsupported&&(Cw(()=>{var n;return(n=window.solflare)!=null&&n.isSolflare||window.SolflareApp?(this._readyState=yt.Installed,this.emit("readyStateChange",this._readyState),!0):!1}),MP())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.connected)}get readyState(){return this._readyState}async autoConnect(){this.readyState===yt.Loadable&&Jh()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==yt.Loadable&&this._readyState!==yt.Installed)throw new Bl;if(this.readyState===yt.Loadable&&Jh()){const o=encodeURIComponent(window.location.href),i=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${o}?ref=${i}`;return}let e;try{e=(await yx(async()=>{const{default:o}=await import("./index-xvcJ7Y1u.js");return{default:o}},[])).default}catch(o){throw new z2(o==null?void 0:o.message,o)}let n;try{n=new e({network:this._config.network})}catch(o){throw new Zs(o==null?void 0:o.message,o)}if(this._connecting=!0,!n.connected)try{await n.connect()}catch(o){throw new dc(o==null?void 0:o.message,o)}if(!n.publicKey)throw new dc;let r;try{r=new re(n.publicKey.toBytes())}catch(o){throw new Pl(o==null?void 0:o.message,o)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new n0(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const o=this._wallet;if(!o)throw new en;try{const{signers:i,...a}=r;return Fi(e)?i!=null&&i.length&&e.sign(i):(e=await this.prepareTransaction(e,n,a),i!=null&&i.length&&e.partialSign(...i)),a.preflightCommitment=a.preflightCommitment||n.commitment,await o.signAndSendTransaction(e,a)}catch(i){throw i instanceof Ht?i:new bo(i==null?void 0:i.message,i)}}catch(o){throw this.emit("error",o),o}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new en;try{return await n.signTransaction(e)||e}catch(r){throw new bi(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new en;try{return await n.signAllTransactions(e)||e}catch(r){throw new bi(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new en;try{return await n.signMessage(e,"utf8")}catch(r){throw new r0(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const RP=({children:t})=>{const e=ed.Devnet,n=ae.useMemo(()=>{const o=P2(e);return console.log("Solana endpoint:",o),o},[e]),r=ae.useMemo(()=>{try{const o=[new vP,new xP];return console.log("Initialized wallet adapters:",o.map(i=>i.name)),o}catch(o){return console.error("Error initializing wallet adapters:",o),[]}},[]);return console.log("SolanaProvider rendering with:",{network:e,endpoint:n,walletCount:r.length}),te.jsx(eL,{endpoint:n,children:te.jsx(lP,{wallets:r,autoConnect:!0,children:te.jsx(pP,{children:t})})})},IP=()=>{const{connected:t}=s0();return te.jsx("div",{className:"flex items-center space-x-4",children:t?te.jsxs("div",{className:"flex items-center space-x-2",children:[te.jsx("span",{className:"text-sm text-gray-600",children:"Wallet Connected"}),te.jsx(C_,{className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg"})]}):te.jsx(C_,{className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg"})})};var Zw={exports:{}};Zw.exports;(function(t){(function(e,n){function r(d,s){if(!d)throw new Error(s||"Assertion failed")}function o(d,s){d.super_=s;var u=function(){};u.prototype=s.prototype,d.prototype=new u,d.prototype.constructor=d}function i(d,s,u){if(i.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&((s==="le"||s==="be")&&(u=s,s=10),this._init(d||0,s||10,u||"be"))}typeof e=="object"?e.exports=i:n.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=zd.Buffer}catch{}i.isBN=function(s){return s instanceof i?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===i.wordSize&&Array.isArray(s.words)},i.max=function(s,u){return s.cmp(u)>0?s:u},i.min=function(s,u){return s.cmp(u)<0?s:u},i.prototype._init=function(s,u,h){if(typeof s=="number")return this._initNumber(s,u,h);if(typeof s=="object")return this._initArray(s,u,h);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),s=s.toString().replace(/\s+/g,"");var p=0;s[0]==="-"&&(p++,this.negative=1),p<s.length&&(u===16?this._parseHex(s,p,h):(this._parseBase(s,u,p),h==="le"&&this._initArray(this.toArray(),u,h)))},i.prototype._initNumber=function(s,u,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(r(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},i.prototype._initArray=function(s,u,h){if(r(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var y,v,b=0;if(h==="be")for(p=s.length-1,y=0;p>=0;p-=3)v=s[p]|s[p-1]<<8|s[p-2]<<16,this.words[y]|=v<<b&67108863,this.words[y+1]=v>>>26-b&67108863,b+=24,b>=26&&(b-=26,y++);else if(h==="le")for(p=0,y=0;p<s.length;p+=3)v=s[p]|s[p+1]<<8|s[p+2]<<16,this.words[y]|=v<<b&67108863,this.words[y+1]=v>>>26-b&67108863,b+=24,b>=26&&(b-=26,y++);return this._strip()};function c(d,s){var u=d.charCodeAt(s);if(u>=48&&u<=57)return u-48;if(u>=65&&u<=70)return u-55;if(u>=97&&u<=102)return u-87;r(!1,"Invalid character in "+d)}function f(d,s,u){var h=c(d,u);return u-1>=s&&(h|=c(d,u-1)<<4),h}i.prototype._parseHex=function(s,u,h){this.length=Math.ceil((s.length-u)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var y=0,v=0,b;if(h==="be")for(p=s.length-1;p>=u;p-=2)b=f(s,u,p)<<y,this.words[v]|=b&67108863,y>=18?(y-=18,v+=1,this.words[v]|=b>>>26):y+=8;else{var m=s.length-u;for(p=m%2===0?u+1:u;p<s.length;p+=2)b=f(s,u,p)<<y,this.words[v]|=b&67108863,y>=18?(y-=18,v+=1,this.words[v]|=b>>>26):y+=8}this._strip()};function g(d,s,u,h){for(var p=0,y=0,v=Math.min(d.length,u),b=s;b<v;b++){var m=d.charCodeAt(b)-48;p*=h,m>=49?y=m-49+10:m>=17?y=m-17+10:y=m,r(m>=0&&y<h,"Invalid character"),p+=y}return p}i.prototype._parseBase=function(s,u,h){this.words=[0],this.length=1;for(var p=0,y=1;y<=67108863;y*=u)p++;p--,y=y/u|0;for(var v=s.length-h,b=v%p,m=Math.min(v,v-b)+h,l=0,w=h;w<m;w+=p)l=g(s,w,w+p,u),this.imuln(y),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(b!==0){var K=1;for(l=g(s,w,s.length,u),w=0;w<b;w++)K*=u;this.imuln(K),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},i.prototype.copy=function(s){s.words=new Array(this.length);for(var u=0;u<this.length;u++)s.words[u]=this.words[u];s.length=this.length,s.negative=this.negative,s.red=this.red};function _(d,s){d.words=s.words,d.length=s.length,d.negative=s.negative,d.red=s.red}if(i.prototype._move=function(s){_(s,this)},i.prototype.clone=function(){var s=new i(null);return this.copy(s),s},i.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=M}catch{i.prototype.inspect=M}else i.prototype.inspect=M;function M(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(s,u){s=s||10,u=u|0||1;var h;if(s===16||s==="hex"){h="";for(var p=0,y=0,v=0;v<this.length;v++){var b=this.words[v],m=((b<<p|y)&16777215).toString(16);y=b>>>24-p&16777215,p+=2,p>=26&&(p-=26,v--),y!==0||v!==this.length-1?h=S[6-m.length]+m+h:h=m+h}for(y!==0&&(h=y.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(s===(s|0)&&s>=2&&s<=36){var l=E[s],w=A[s];h="";var K=this.clone();for(K.negative=0;!K.isZero();){var $=K.modrn(w).toString(s);K=K.idivn(w),K.isZero()?h=$+h:h=S[l-$.length]+$+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},i.prototype.toJSON=function(){return this.toString(16,2)},a&&(i.prototype.toBuffer=function(s,u){return this.toArrayLike(a,s,u)}),i.prototype.toArray=function(s,u){return this.toArrayLike(Array,s,u)};var k=function(s,u){return s.allocUnsafe?s.allocUnsafe(u):new s(u)};i.prototype.toArrayLike=function(s,u,h){this._strip();var p=this.byteLength(),y=h||Math.max(1,p);r(p<=y,"byte array longer than desired length"),r(y>0,"Requested array length <= 0");var v=k(s,y),b=u==="le"?"LE":"BE";return this["_toArrayLike"+b](v,p),v},i.prototype._toArrayLikeLE=function(s,u){for(var h=0,p=0,y=0,v=0;y<this.length;y++){var b=this.words[y]<<v|p;s[h++]=b&255,h<s.length&&(s[h++]=b>>8&255),h<s.length&&(s[h++]=b>>16&255),v===6?(h<s.length&&(s[h++]=b>>24&255),p=0,v=0):(p=b>>>24,v+=2)}if(h<s.length)for(s[h++]=p;h<s.length;)s[h++]=0},i.prototype._toArrayLikeBE=function(s,u){for(var h=s.length-1,p=0,y=0,v=0;y<this.length;y++){var b=this.words[y]<<v|p;s[h--]=b&255,h>=0&&(s[h--]=b>>8&255),h>=0&&(s[h--]=b>>16&255),v===6?(h>=0&&(s[h--]=b>>24&255),p=0,v=0):(p=b>>>24,v+=2)}if(h>=0)for(s[h--]=p;h>=0;)s[h--]=0},Math.clz32?i.prototype._countBits=function(s){return 32-Math.clz32(s)}:i.prototype._countBits=function(s){var u=s,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},i.prototype._zeroBits=function(s){if(s===0)return 26;var u=s,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},i.prototype.bitLength=function(){var s=this.words[this.length-1],u=this._countBits(s);return(this.length-1)*26+u};function C(d){for(var s=new Array(d.bitLength()),u=0;u<s.length;u++){var h=u/26|0,p=u%26;s[u]=d.words[h]>>>p&1}return s}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(s+=h,h!==26)break}return s},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},i.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var u=0;u<s.length;u++)this.words[u]=this.words[u]|s.words[u];return this._strip()},i.prototype.ior=function(s){return r((this.negative|s.negative)===0),this.iuor(s)},i.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},i.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},i.prototype.iuand=function(s){var u;this.length>s.length?u=s:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=u.length,this._strip()},i.prototype.iand=function(s){return r((this.negative|s.negative)===0),this.iuand(s)},i.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},i.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},i.prototype.iuxor=function(s){var u,h;this.length>s.length?(u=this,h=s):(u=s,h=this);for(var p=0;p<h.length;p++)this.words[p]=u.words[p]^h.words[p];if(this!==u)for(;p<u.length;p++)this.words[p]=u.words[p];return this.length=u.length,this._strip()},i.prototype.ixor=function(s){return r((this.negative|s.negative)===0),this.iuxor(s)},i.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},i.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},i.prototype.inotn=function(s){r(typeof s=="number"&&s>=0);var u=Math.ceil(s/26)|0,h=s%26;this._expand(u),h>0&&u--;for(var p=0;p<u;p++)this.words[p]=~this.words[p]&67108863;return h>0&&(this.words[p]=~this.words[p]&67108863>>26-h),this._strip()},i.prototype.notn=function(s){return this.clone().inotn(s)},i.prototype.setn=function(s,u){r(typeof s=="number"&&s>=0);var h=s/26|0,p=s%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<p:this.words[h]=this.words[h]&~(1<<p),this._strip()},i.prototype.iadd=function(s){var u;if(this.negative!==0&&s.negative===0)return this.negative=0,u=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,u=this.isub(s),s.negative=1,u._normSign();var h,p;this.length>s.length?(h=this,p=s):(h=s,p=this);for(var y=0,v=0;v<p.length;v++)u=(h.words[v]|0)+(p.words[v]|0)+y,this.words[v]=u&67108863,y=u>>>26;for(;y!==0&&v<h.length;v++)u=(h.words[v]|0)+y,this.words[v]=u&67108863,y=u>>>26;if(this.length=h.length,y!==0)this.words[this.length]=y,this.length++;else if(h!==this)for(;v<h.length;v++)this.words[v]=h.words[v];return this},i.prototype.add=function(s){var u;return s.negative!==0&&this.negative===0?(s.negative=0,u=this.sub(s),s.negative^=1,u):s.negative===0&&this.negative!==0?(this.negative=0,u=s.sub(this),this.negative=1,u):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},i.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var u=this.iadd(s);return s.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var h=this.cmp(s);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,y;h>0?(p=this,y=s):(p=s,y=this);for(var v=0,b=0;b<y.length;b++)u=(p.words[b]|0)-(y.words[b]|0)+v,v=u>>26,this.words[b]=u&67108863;for(;v!==0&&b<p.length;b++)u=(p.words[b]|0)+v,v=u>>26,this.words[b]=u&67108863;if(v===0&&b<p.length&&p!==this)for(;b<p.length;b++)this.words[b]=p.words[b];return this.length=Math.max(this.length,b),p!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(s){return this.clone().isub(s)};function R(d,s,u){u.negative=s.negative^d.negative;var h=d.length+s.length|0;u.length=h,h=h-1|0;var p=d.words[0]|0,y=s.words[0]|0,v=p*y,b=v&67108863,m=v/67108864|0;u.words[0]=b;for(var l=1;l<h;l++){for(var w=m>>>26,K=m&67108863,$=Math.min(l,s.length-1),q=Math.max(0,l-d.length+1);q<=$;q++){var ue=l-q|0;p=d.words[ue]|0,y=s.words[q]|0,v=p*y+K,w+=v/67108864|0,K=v&67108863}u.words[l]=K|0,m=w|0}return m!==0?u.words[l]=m|0:u.length--,u._strip()}var T=function(s,u,h){var p=s.words,y=u.words,v=h.words,b=0,m,l,w,K=p[0]|0,$=K&8191,q=K>>>13,ue=p[1]|0,Y=ue&8191,ne=ue>>>13,ct=p[2]|0,ce=ct&8191,de=ct>>>13,Yt=p[3]|0,pe=Yt&8191,ve=Yt>>>13,kr=p[4]|0,ge=kr&8191,_e=kr>>>13,Cr=p[5]|0,we=Cr&8191,me=Cr>>>13,Kt=p[6]|0,ye=Kt&8191,Ee=Kt>>>13,tn=p[7]|0,be=tn&8191,L=tn>>>13,I=p[8]|0,x=I&8191,B=I>>>13,G=p[9]|0,H=G&8191,Z=G>>>13,et=y[0]|0,se=et&8191,oe=et>>>13,ft=y[1]|0,ie=ft&8191,Ae=ft>>>13,ai=y[2]|0,xe=ai&8191,Re=ai>>>13,li=y[3]|0,Ie=li&8191,Ne=li>>>13,ui=y[4]|0,Te=ui&8191,ke=ui>>>13,ci=y[5]|0,Ce=ci&8191,Oe=ci>>>13,fi=y[6]|0,Le=fi&8191,Be=fi>>>13,hi=y[7]|0,Pe=hi&8191,De=hi>>>13,di=y[8]|0,Ue=di&8191,ze=di>>>13,pi=y[9]|0,je=pi&8191,We=pi>>>13;h.negative=s.negative^u.negative,h.length=19,m=Math.imul($,se),l=Math.imul($,oe),l=l+Math.imul(q,se)|0,w=Math.imul(q,oe);var Fn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,m=Math.imul(Y,se),l=Math.imul(Y,oe),l=l+Math.imul(ne,se)|0,w=Math.imul(ne,oe),m=m+Math.imul($,ie)|0,l=l+Math.imul($,Ae)|0,l=l+Math.imul(q,ie)|0,w=w+Math.imul(q,Ae)|0;var $n=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+($n>>>26)|0,$n&=67108863,m=Math.imul(ce,se),l=Math.imul(ce,oe),l=l+Math.imul(de,se)|0,w=Math.imul(de,oe),m=m+Math.imul(Y,ie)|0,l=l+Math.imul(Y,Ae)|0,l=l+Math.imul(ne,ie)|0,w=w+Math.imul(ne,Ae)|0,m=m+Math.imul($,xe)|0,l=l+Math.imul($,Re)|0,l=l+Math.imul(q,xe)|0,w=w+Math.imul(q,Re)|0;var Hn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,m=Math.imul(pe,se),l=Math.imul(pe,oe),l=l+Math.imul(ve,se)|0,w=Math.imul(ve,oe),m=m+Math.imul(ce,ie)|0,l=l+Math.imul(ce,Ae)|0,l=l+Math.imul(de,ie)|0,w=w+Math.imul(de,Ae)|0,m=m+Math.imul(Y,xe)|0,l=l+Math.imul(Y,Re)|0,l=l+Math.imul(ne,xe)|0,w=w+Math.imul(ne,Re)|0,m=m+Math.imul($,Ie)|0,l=l+Math.imul($,Ne)|0,l=l+Math.imul(q,Ie)|0,w=w+Math.imul(q,Ne)|0;var Kn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,m=Math.imul(ge,se),l=Math.imul(ge,oe),l=l+Math.imul(_e,se)|0,w=Math.imul(_e,oe),m=m+Math.imul(pe,ie)|0,l=l+Math.imul(pe,Ae)|0,l=l+Math.imul(ve,ie)|0,w=w+Math.imul(ve,Ae)|0,m=m+Math.imul(ce,xe)|0,l=l+Math.imul(ce,Re)|0,l=l+Math.imul(de,xe)|0,w=w+Math.imul(de,Re)|0,m=m+Math.imul(Y,Ie)|0,l=l+Math.imul(Y,Ne)|0,l=l+Math.imul(ne,Ie)|0,w=w+Math.imul(ne,Ne)|0,m=m+Math.imul($,Te)|0,l=l+Math.imul($,ke)|0,l=l+Math.imul(q,Te)|0,w=w+Math.imul(q,ke)|0;var Vn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,m=Math.imul(we,se),l=Math.imul(we,oe),l=l+Math.imul(me,se)|0,w=Math.imul(me,oe),m=m+Math.imul(ge,ie)|0,l=l+Math.imul(ge,Ae)|0,l=l+Math.imul(_e,ie)|0,w=w+Math.imul(_e,Ae)|0,m=m+Math.imul(pe,xe)|0,l=l+Math.imul(pe,Re)|0,l=l+Math.imul(ve,xe)|0,w=w+Math.imul(ve,Re)|0,m=m+Math.imul(ce,Ie)|0,l=l+Math.imul(ce,Ne)|0,l=l+Math.imul(de,Ie)|0,w=w+Math.imul(de,Ne)|0,m=m+Math.imul(Y,Te)|0,l=l+Math.imul(Y,ke)|0,l=l+Math.imul(ne,Te)|0,w=w+Math.imul(ne,ke)|0,m=m+Math.imul($,Ce)|0,l=l+Math.imul($,Oe)|0,l=l+Math.imul(q,Ce)|0,w=w+Math.imul(q,Oe)|0;var qn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(qn>>>26)|0,qn&=67108863,m=Math.imul(ye,se),l=Math.imul(ye,oe),l=l+Math.imul(Ee,se)|0,w=Math.imul(Ee,oe),m=m+Math.imul(we,ie)|0,l=l+Math.imul(we,Ae)|0,l=l+Math.imul(me,ie)|0,w=w+Math.imul(me,Ae)|0,m=m+Math.imul(ge,xe)|0,l=l+Math.imul(ge,Re)|0,l=l+Math.imul(_e,xe)|0,w=w+Math.imul(_e,Re)|0,m=m+Math.imul(pe,Ie)|0,l=l+Math.imul(pe,Ne)|0,l=l+Math.imul(ve,Ie)|0,w=w+Math.imul(ve,Ne)|0,m=m+Math.imul(ce,Te)|0,l=l+Math.imul(ce,ke)|0,l=l+Math.imul(de,Te)|0,w=w+Math.imul(de,ke)|0,m=m+Math.imul(Y,Ce)|0,l=l+Math.imul(Y,Oe)|0,l=l+Math.imul(ne,Ce)|0,w=w+Math.imul(ne,Oe)|0,m=m+Math.imul($,Le)|0,l=l+Math.imul($,Be)|0,l=l+Math.imul(q,Le)|0,w=w+Math.imul(q,Be)|0;var Gn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,m=Math.imul(be,se),l=Math.imul(be,oe),l=l+Math.imul(L,se)|0,w=Math.imul(L,oe),m=m+Math.imul(ye,ie)|0,l=l+Math.imul(ye,Ae)|0,l=l+Math.imul(Ee,ie)|0,w=w+Math.imul(Ee,Ae)|0,m=m+Math.imul(we,xe)|0,l=l+Math.imul(we,Re)|0,l=l+Math.imul(me,xe)|0,w=w+Math.imul(me,Re)|0,m=m+Math.imul(ge,Ie)|0,l=l+Math.imul(ge,Ne)|0,l=l+Math.imul(_e,Ie)|0,w=w+Math.imul(_e,Ne)|0,m=m+Math.imul(pe,Te)|0,l=l+Math.imul(pe,ke)|0,l=l+Math.imul(ve,Te)|0,w=w+Math.imul(ve,ke)|0,m=m+Math.imul(ce,Ce)|0,l=l+Math.imul(ce,Oe)|0,l=l+Math.imul(de,Ce)|0,w=w+Math.imul(de,Oe)|0,m=m+Math.imul(Y,Le)|0,l=l+Math.imul(Y,Be)|0,l=l+Math.imul(ne,Le)|0,w=w+Math.imul(ne,Be)|0,m=m+Math.imul($,Pe)|0,l=l+Math.imul($,De)|0,l=l+Math.imul(q,Pe)|0,w=w+Math.imul(q,De)|0;var Zn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,m=Math.imul(x,se),l=Math.imul(x,oe),l=l+Math.imul(B,se)|0,w=Math.imul(B,oe),m=m+Math.imul(be,ie)|0,l=l+Math.imul(be,Ae)|0,l=l+Math.imul(L,ie)|0,w=w+Math.imul(L,Ae)|0,m=m+Math.imul(ye,xe)|0,l=l+Math.imul(ye,Re)|0,l=l+Math.imul(Ee,xe)|0,w=w+Math.imul(Ee,Re)|0,m=m+Math.imul(we,Ie)|0,l=l+Math.imul(we,Ne)|0,l=l+Math.imul(me,Ie)|0,w=w+Math.imul(me,Ne)|0,m=m+Math.imul(ge,Te)|0,l=l+Math.imul(ge,ke)|0,l=l+Math.imul(_e,Te)|0,w=w+Math.imul(_e,ke)|0,m=m+Math.imul(pe,Ce)|0,l=l+Math.imul(pe,Oe)|0,l=l+Math.imul(ve,Ce)|0,w=w+Math.imul(ve,Oe)|0,m=m+Math.imul(ce,Le)|0,l=l+Math.imul(ce,Be)|0,l=l+Math.imul(de,Le)|0,w=w+Math.imul(de,Be)|0,m=m+Math.imul(Y,Pe)|0,l=l+Math.imul(Y,De)|0,l=l+Math.imul(ne,Pe)|0,w=w+Math.imul(ne,De)|0,m=m+Math.imul($,Ue)|0,l=l+Math.imul($,ze)|0,l=l+Math.imul(q,Ue)|0,w=w+Math.imul(q,ze)|0;var Yn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,m=Math.imul(H,se),l=Math.imul(H,oe),l=l+Math.imul(Z,se)|0,w=Math.imul(Z,oe),m=m+Math.imul(x,ie)|0,l=l+Math.imul(x,Ae)|0,l=l+Math.imul(B,ie)|0,w=w+Math.imul(B,Ae)|0,m=m+Math.imul(be,xe)|0,l=l+Math.imul(be,Re)|0,l=l+Math.imul(L,xe)|0,w=w+Math.imul(L,Re)|0,m=m+Math.imul(ye,Ie)|0,l=l+Math.imul(ye,Ne)|0,l=l+Math.imul(Ee,Ie)|0,w=w+Math.imul(Ee,Ne)|0,m=m+Math.imul(we,Te)|0,l=l+Math.imul(we,ke)|0,l=l+Math.imul(me,Te)|0,w=w+Math.imul(me,ke)|0,m=m+Math.imul(ge,Ce)|0,l=l+Math.imul(ge,Oe)|0,l=l+Math.imul(_e,Ce)|0,w=w+Math.imul(_e,Oe)|0,m=m+Math.imul(pe,Le)|0,l=l+Math.imul(pe,Be)|0,l=l+Math.imul(ve,Le)|0,w=w+Math.imul(ve,Be)|0,m=m+Math.imul(ce,Pe)|0,l=l+Math.imul(ce,De)|0,l=l+Math.imul(de,Pe)|0,w=w+Math.imul(de,De)|0,m=m+Math.imul(Y,Ue)|0,l=l+Math.imul(Y,ze)|0,l=l+Math.imul(ne,Ue)|0,w=w+Math.imul(ne,ze)|0,m=m+Math.imul($,je)|0,l=l+Math.imul($,We)|0,l=l+Math.imul(q,je)|0,w=w+Math.imul(q,We)|0;var Qn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,m=Math.imul(H,ie),l=Math.imul(H,Ae),l=l+Math.imul(Z,ie)|0,w=Math.imul(Z,Ae),m=m+Math.imul(x,xe)|0,l=l+Math.imul(x,Re)|0,l=l+Math.imul(B,xe)|0,w=w+Math.imul(B,Re)|0,m=m+Math.imul(be,Ie)|0,l=l+Math.imul(be,Ne)|0,l=l+Math.imul(L,Ie)|0,w=w+Math.imul(L,Ne)|0,m=m+Math.imul(ye,Te)|0,l=l+Math.imul(ye,ke)|0,l=l+Math.imul(Ee,Te)|0,w=w+Math.imul(Ee,ke)|0,m=m+Math.imul(we,Ce)|0,l=l+Math.imul(we,Oe)|0,l=l+Math.imul(me,Ce)|0,w=w+Math.imul(me,Oe)|0,m=m+Math.imul(ge,Le)|0,l=l+Math.imul(ge,Be)|0,l=l+Math.imul(_e,Le)|0,w=w+Math.imul(_e,Be)|0,m=m+Math.imul(pe,Pe)|0,l=l+Math.imul(pe,De)|0,l=l+Math.imul(ve,Pe)|0,w=w+Math.imul(ve,De)|0,m=m+Math.imul(ce,Ue)|0,l=l+Math.imul(ce,ze)|0,l=l+Math.imul(de,Ue)|0,w=w+Math.imul(de,ze)|0,m=m+Math.imul(Y,je)|0,l=l+Math.imul(Y,We)|0,l=l+Math.imul(ne,je)|0,w=w+Math.imul(ne,We)|0;var Xn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,m=Math.imul(H,xe),l=Math.imul(H,Re),l=l+Math.imul(Z,xe)|0,w=Math.imul(Z,Re),m=m+Math.imul(x,Ie)|0,l=l+Math.imul(x,Ne)|0,l=l+Math.imul(B,Ie)|0,w=w+Math.imul(B,Ne)|0,m=m+Math.imul(be,Te)|0,l=l+Math.imul(be,ke)|0,l=l+Math.imul(L,Te)|0,w=w+Math.imul(L,ke)|0,m=m+Math.imul(ye,Ce)|0,l=l+Math.imul(ye,Oe)|0,l=l+Math.imul(Ee,Ce)|0,w=w+Math.imul(Ee,Oe)|0,m=m+Math.imul(we,Le)|0,l=l+Math.imul(we,Be)|0,l=l+Math.imul(me,Le)|0,w=w+Math.imul(me,Be)|0,m=m+Math.imul(ge,Pe)|0,l=l+Math.imul(ge,De)|0,l=l+Math.imul(_e,Pe)|0,w=w+Math.imul(_e,De)|0,m=m+Math.imul(pe,Ue)|0,l=l+Math.imul(pe,ze)|0,l=l+Math.imul(ve,Ue)|0,w=w+Math.imul(ve,ze)|0,m=m+Math.imul(ce,je)|0,l=l+Math.imul(ce,We)|0,l=l+Math.imul(de,je)|0,w=w+Math.imul(de,We)|0;var Jn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,m=Math.imul(H,Ie),l=Math.imul(H,Ne),l=l+Math.imul(Z,Ie)|0,w=Math.imul(Z,Ne),m=m+Math.imul(x,Te)|0,l=l+Math.imul(x,ke)|0,l=l+Math.imul(B,Te)|0,w=w+Math.imul(B,ke)|0,m=m+Math.imul(be,Ce)|0,l=l+Math.imul(be,Oe)|0,l=l+Math.imul(L,Ce)|0,w=w+Math.imul(L,Oe)|0,m=m+Math.imul(ye,Le)|0,l=l+Math.imul(ye,Be)|0,l=l+Math.imul(Ee,Le)|0,w=w+Math.imul(Ee,Be)|0,m=m+Math.imul(we,Pe)|0,l=l+Math.imul(we,De)|0,l=l+Math.imul(me,Pe)|0,w=w+Math.imul(me,De)|0,m=m+Math.imul(ge,Ue)|0,l=l+Math.imul(ge,ze)|0,l=l+Math.imul(_e,Ue)|0,w=w+Math.imul(_e,ze)|0,m=m+Math.imul(pe,je)|0,l=l+Math.imul(pe,We)|0,l=l+Math.imul(ve,je)|0,w=w+Math.imul(ve,We)|0;var er=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(er>>>26)|0,er&=67108863,m=Math.imul(H,Te),l=Math.imul(H,ke),l=l+Math.imul(Z,Te)|0,w=Math.imul(Z,ke),m=m+Math.imul(x,Ce)|0,l=l+Math.imul(x,Oe)|0,l=l+Math.imul(B,Ce)|0,w=w+Math.imul(B,Oe)|0,m=m+Math.imul(be,Le)|0,l=l+Math.imul(be,Be)|0,l=l+Math.imul(L,Le)|0,w=w+Math.imul(L,Be)|0,m=m+Math.imul(ye,Pe)|0,l=l+Math.imul(ye,De)|0,l=l+Math.imul(Ee,Pe)|0,w=w+Math.imul(Ee,De)|0,m=m+Math.imul(we,Ue)|0,l=l+Math.imul(we,ze)|0,l=l+Math.imul(me,Ue)|0,w=w+Math.imul(me,ze)|0,m=m+Math.imul(ge,je)|0,l=l+Math.imul(ge,We)|0,l=l+Math.imul(_e,je)|0,w=w+Math.imul(_e,We)|0;var tr=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(tr>>>26)|0,tr&=67108863,m=Math.imul(H,Ce),l=Math.imul(H,Oe),l=l+Math.imul(Z,Ce)|0,w=Math.imul(Z,Oe),m=m+Math.imul(x,Le)|0,l=l+Math.imul(x,Be)|0,l=l+Math.imul(B,Le)|0,w=w+Math.imul(B,Be)|0,m=m+Math.imul(be,Pe)|0,l=l+Math.imul(be,De)|0,l=l+Math.imul(L,Pe)|0,w=w+Math.imul(L,De)|0,m=m+Math.imul(ye,Ue)|0,l=l+Math.imul(ye,ze)|0,l=l+Math.imul(Ee,Ue)|0,w=w+Math.imul(Ee,ze)|0,m=m+Math.imul(we,je)|0,l=l+Math.imul(we,We)|0,l=l+Math.imul(me,je)|0,w=w+Math.imul(me,We)|0;var nr=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(nr>>>26)|0,nr&=67108863,m=Math.imul(H,Le),l=Math.imul(H,Be),l=l+Math.imul(Z,Le)|0,w=Math.imul(Z,Be),m=m+Math.imul(x,Pe)|0,l=l+Math.imul(x,De)|0,l=l+Math.imul(B,Pe)|0,w=w+Math.imul(B,De)|0,m=m+Math.imul(be,Ue)|0,l=l+Math.imul(be,ze)|0,l=l+Math.imul(L,Ue)|0,w=w+Math.imul(L,ze)|0,m=m+Math.imul(ye,je)|0,l=l+Math.imul(ye,We)|0,l=l+Math.imul(Ee,je)|0,w=w+Math.imul(Ee,We)|0;var rr=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(rr>>>26)|0,rr&=67108863,m=Math.imul(H,Pe),l=Math.imul(H,De),l=l+Math.imul(Z,Pe)|0,w=Math.imul(Z,De),m=m+Math.imul(x,Ue)|0,l=l+Math.imul(x,ze)|0,l=l+Math.imul(B,Ue)|0,w=w+Math.imul(B,ze)|0,m=m+Math.imul(be,je)|0,l=l+Math.imul(be,We)|0,l=l+Math.imul(L,je)|0,w=w+Math.imul(L,We)|0;var ir=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(ir>>>26)|0,ir&=67108863,m=Math.imul(H,Ue),l=Math.imul(H,ze),l=l+Math.imul(Z,Ue)|0,w=Math.imul(Z,ze),m=m+Math.imul(x,je)|0,l=l+Math.imul(x,We)|0,l=l+Math.imul(B,je)|0,w=w+Math.imul(B,We)|0;var or=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(or>>>26)|0,or&=67108863,m=Math.imul(H,je),l=Math.imul(H,We),l=l+Math.imul(Z,je)|0,w=Math.imul(Z,We);var sr=(b+m|0)+((l&8191)<<13)|0;return b=(w+(l>>>13)|0)+(sr>>>26)|0,sr&=67108863,v[0]=Fn,v[1]=$n,v[2]=Hn,v[3]=Kn,v[4]=Vn,v[5]=qn,v[6]=Gn,v[7]=Zn,v[8]=Yn,v[9]=Qn,v[10]=Xn,v[11]=Jn,v[12]=er,v[13]=tr,v[14]=nr,v[15]=rr,v[16]=ir,v[17]=or,v[18]=sr,b!==0&&(v[19]=b,h.length++),h};Math.imul||(T=R);function N(d,s,u){u.negative=s.negative^d.negative,u.length=d.length+s.length;for(var h=0,p=0,y=0;y<u.length-1;y++){var v=p;p=0;for(var b=h&67108863,m=Math.min(y,s.length-1),l=Math.max(0,y-d.length+1);l<=m;l++){var w=y-l,K=d.words[w]|0,$=s.words[l]|0,q=K*$,ue=q&67108863;v=v+(q/67108864|0)|0,ue=ue+b|0,b=ue&67108863,v=v+(ue>>>26)|0,p+=v>>>26,v&=67108863}u.words[y]=b,h=v,v=p}return h!==0?u.words[y]=h:u.length--,u._strip()}function O(d,s,u){return N(d,s,u)}i.prototype.mulTo=function(s,u){var h,p=this.length+s.length;return this.length===10&&s.length===10?h=T(this,s,u):p<63?h=R(this,s,u):p<1024?h=N(this,s,u):h=O(this,s,u),h},i.prototype.mul=function(s){var u=new i(null);return u.words=new Array(this.length+s.length),this.mulTo(s,u)},i.prototype.mulf=function(s){var u=new i(null);return u.words=new Array(this.length+s.length),O(this,s,u)},i.prototype.imul=function(s){return this.clone().mulTo(s,this)},i.prototype.imuln=function(s){var u=s<0;u&&(s=-s),r(typeof s=="number"),r(s<67108864);for(var h=0,p=0;p<this.length;p++){var y=(this.words[p]|0)*s,v=(y&67108863)+(h&67108863);h>>=26,h+=y/67108864|0,h+=v>>>26,this.words[p]=v&67108863}return h!==0&&(this.words[p]=h,this.length++),this.length=s===0?1:this.length,u?this.ineg():this},i.prototype.muln=function(s){return this.clone().imuln(s)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(s){var u=C(s);if(u.length===0)return new i(1);for(var h=this,p=0;p<u.length&&u[p]===0;p++,h=h.sqr());if(++p<u.length)for(var y=h.sqr();p<u.length;p++,y=y.sqr())u[p]!==0&&(h=h.mul(y));return h},i.prototype.iushln=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,p=67108863>>>26-u<<26-u,y;if(u!==0){var v=0;for(y=0;y<this.length;y++){var b=this.words[y]&p,m=(this.words[y]|0)-b<<u;this.words[y]=m|v,v=b>>>26-u}v&&(this.words[y]=v,this.length++)}if(h!==0){for(y=this.length-1;y>=0;y--)this.words[y+h]=this.words[y];for(y=0;y<h;y++)this.words[y]=0;this.length+=h}return this._strip()},i.prototype.ishln=function(s){return r(this.negative===0),this.iushln(s)},i.prototype.iushrn=function(s,u,h){r(typeof s=="number"&&s>=0);var p;u?p=(u-u%26)/26:p=0;var y=s%26,v=Math.min((s-y)/26,this.length),b=67108863^67108863>>>y<<y,m=h;if(p-=v,p=Math.max(0,p),m){for(var l=0;l<v;l++)m.words[l]=this.words[l];m.length=v}if(v!==0)if(this.length>v)for(this.length-=v,l=0;l<this.length;l++)this.words[l]=this.words[l+v];else this.words[0]=0,this.length=1;var w=0;for(l=this.length-1;l>=0&&(w!==0||l>=p);l--){var K=this.words[l]|0;this.words[l]=w<<26-y|K>>>y,w=K&b}return m&&w!==0&&(m.words[m.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(s,u,h){return r(this.negative===0),this.iushrn(s,u,h)},i.prototype.shln=function(s){return this.clone().ishln(s)},i.prototype.ushln=function(s){return this.clone().iushln(s)},i.prototype.shrn=function(s){return this.clone().ishrn(s)},i.prototype.ushrn=function(s){return this.clone().iushrn(s)},i.prototype.testn=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,p=1<<u;if(this.length<=h)return!1;var y=this.words[h];return!!(y&p)},i.prototype.imaskn=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var p=67108863^67108863>>>u<<u;this.words[this.length-1]&=p}return this._strip()},i.prototype.maskn=function(s){return this.clone().imaskn(s)},i.prototype.iaddn=function(s){return r(typeof s=="number"),r(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},i.prototype._iaddn=function(s){this.words[0]+=s;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(s){if(r(typeof s=="number"),r(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},i.prototype.addn=function(s){return this.clone().iaddn(s)},i.prototype.subn=function(s){return this.clone().isubn(s)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(s,u,h){var p=s.length+h,y;this._expand(p);var v,b=0;for(y=0;y<s.length;y++){v=(this.words[y+h]|0)+b;var m=(s.words[y]|0)*u;v-=m&67108863,b=(v>>26)-(m/67108864|0),this.words[y+h]=v&67108863}for(;y<this.length-h;y++)v=(this.words[y+h]|0)+b,b=v>>26,this.words[y+h]=v&67108863;if(b===0)return this._strip();for(r(b===-1),b=0,y=0;y<this.length;y++)v=-(this.words[y]|0)+b,b=v>>26,this.words[y]=v&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(s,u){var h=this.length-s.length,p=this.clone(),y=s,v=y.words[y.length-1]|0,b=this._countBits(v);h=26-b,h!==0&&(y=y.ushln(h),p.iushln(h),v=y.words[y.length-1]|0);var m=p.length-y.length,l;if(u!=="mod"){l=new i(null),l.length=m+1,l.words=new Array(l.length);for(var w=0;w<l.length;w++)l.words[w]=0}var K=p.clone()._ishlnsubmul(y,1,m);K.negative===0&&(p=K,l&&(l.words[m]=1));for(var $=m-1;$>=0;$--){var q=(p.words[y.length+$]|0)*67108864+(p.words[y.length+$-1]|0);for(q=Math.min(q/v|0,67108863),p._ishlnsubmul(y,q,$);p.negative!==0;)q--,p.negative=0,p._ishlnsubmul(y,1,$),p.isZero()||(p.negative^=1);l&&(l.words[$]=q)}return l&&l._strip(),p._strip(),u!=="div"&&h!==0&&p.iushrn(h),{div:l||null,mod:p}},i.prototype.divmod=function(s,u,h){if(r(!s.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var p,y,v;return this.negative!==0&&s.negative===0?(v=this.neg().divmod(s,u),u!=="mod"&&(p=v.div.neg()),u!=="div"&&(y=v.mod.neg(),h&&y.negative!==0&&y.iadd(s)),{div:p,mod:y}):this.negative===0&&s.negative!==0?(v=this.divmod(s.neg(),u),u!=="mod"&&(p=v.div.neg()),{div:p,mod:v.mod}):this.negative&s.negative?(v=this.neg().divmod(s.neg(),u),u!=="div"&&(y=v.mod.neg(),h&&y.negative!==0&&y.isub(s)),{div:v.div,mod:y}):s.length>this.length||this.cmp(s)<0?{div:new i(0),mod:this}:s.length===1?u==="div"?{div:this.divn(s.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new i(this.modrn(s.words[0]))}:this._wordDiv(s,u)},i.prototype.div=function(s){return this.divmod(s,"div",!1).div},i.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},i.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},i.prototype.divRound=function(s){var u=this.divmod(s);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(s):u.mod,p=s.ushrn(1),y=s.andln(1),v=h.cmp(p);return v<0||y===1&&v===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modrn=function(s){var u=s<0;u&&(s=-s),r(s<=67108863);for(var h=(1<<26)%s,p=0,y=this.length-1;y>=0;y--)p=(h*p+(this.words[y]|0))%s;return u?-p:p},i.prototype.modn=function(s){return this.modrn(s)},i.prototype.idivn=function(s){var u=s<0;u&&(s=-s),r(s<=67108863);for(var h=0,p=this.length-1;p>=0;p--){var y=(this.words[p]|0)+h*67108864;this.words[p]=y/s|0,h=y%s}return this._strip(),u?this.ineg():this},i.prototype.divn=function(s){return this.clone().idivn(s)},i.prototype.egcd=function(s){r(s.negative===0),r(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var p=new i(1),y=new i(0),v=new i(0),b=new i(1),m=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++m;for(var l=h.clone(),w=u.clone();!u.isZero();){for(var K=0,$=1;!(u.words[0]&$)&&K<26;++K,$<<=1);if(K>0)for(u.iushrn(K);K-- >0;)(p.isOdd()||y.isOdd())&&(p.iadd(l),y.isub(w)),p.iushrn(1),y.iushrn(1);for(var q=0,ue=1;!(h.words[0]&ue)&&q<26;++q,ue<<=1);if(q>0)for(h.iushrn(q);q-- >0;)(v.isOdd()||b.isOdd())&&(v.iadd(l),b.isub(w)),v.iushrn(1),b.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(v),y.isub(b)):(h.isub(u),v.isub(p),b.isub(y))}return{a:v,b,gcd:h.iushln(m)}},i.prototype._invmp=function(s){r(s.negative===0),r(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var p=new i(1),y=new i(0),v=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var b=0,m=1;!(u.words[0]&m)&&b<26;++b,m<<=1);if(b>0)for(u.iushrn(b);b-- >0;)p.isOdd()&&p.iadd(v),p.iushrn(1);for(var l=0,w=1;!(h.words[0]&w)&&l<26;++l,w<<=1);if(l>0)for(h.iushrn(l);l-- >0;)y.isOdd()&&y.iadd(v),y.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(y)):(h.isub(u),y.isub(p))}var K;return u.cmpn(1)===0?K=p:K=y,K.cmpn(0)<0&&K.iadd(s),K},i.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var u=this.clone(),h=s.clone();u.negative=0,h.negative=0;for(var p=0;u.isEven()&&h.isEven();p++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var y=u.cmp(h);if(y<0){var v=u;u=h,h=v}else if(y===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(p)},i.prototype.invm=function(s){return this.egcd(s).a.umod(s)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(s){return this.words[0]&s},i.prototype.bincn=function(s){r(typeof s=="number");var u=s%26,h=(s-u)/26,p=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=p,this;for(var y=p,v=h;y!==0&&v<this.length;v++){var b=this.words[v]|0;b+=y,y=b>>>26,b&=67108863,this.words[v]=b}return y!==0&&(this.words[v]=y,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(s){var u=s<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var h;if(this.length>1)h=1;else{u&&(s=-s),r(s<=67108863,"Number is too big");var p=this.words[0]|0;h=p===s?0:p<s?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var u=this.ucmp(s);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var p=this.words[h]|0,y=s.words[h]|0;if(p!==y){p<y?u=-1:p>y&&(u=1);break}}return u},i.prototype.gtn=function(s){return this.cmpn(s)===1},i.prototype.gt=function(s){return this.cmp(s)===1},i.prototype.gten=function(s){return this.cmpn(s)>=0},i.prototype.gte=function(s){return this.cmp(s)>=0},i.prototype.ltn=function(s){return this.cmpn(s)===-1},i.prototype.lt=function(s){return this.cmp(s)===-1},i.prototype.lten=function(s){return this.cmpn(s)<=0},i.prototype.lte=function(s){return this.cmp(s)<=0},i.prototype.eqn=function(s){return this.cmpn(s)===0},i.prototype.eq=function(s){return this.cmp(s)===0},i.red=function(s){return new j(s)},i.prototype.toRed=function(s){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(s){return this.red=s,this},i.prototype.forceRed=function(s){return r(!this.red,"Already a number in reduction context"),this._forceRed(s)},i.prototype.redAdd=function(s){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},i.prototype.redIAdd=function(s){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},i.prototype.redSub=function(s){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},i.prototype.redISub=function(s){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},i.prototype.redShl=function(s){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},i.prototype.redMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},i.prototype.redIMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(s){return r(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var D={k256:null,p224:null,p192:null,p25519:null};function z(d,s){this.name=d,this.p=new i(s,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}z.prototype._tmp=function(){var s=new i(null);return s.words=new Array(Math.ceil(this.n/13)),s},z.prototype.ireduce=function(s){var u=s,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var p=h<this.n?-1:u.ucmp(this.p);return p===0?(u.words[0]=0,u.length=1):p>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},z.prototype.split=function(s,u){s.iushrn(this.n,0,u)},z.prototype.imulK=function(s){return s.imul(this.k)};function P(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(P,z),P.prototype.split=function(s,u){for(var h=4194303,p=Math.min(s.length,9),y=0;y<p;y++)u.words[y]=s.words[y];if(u.length=p,s.length<=9){s.words[0]=0,s.length=1;return}var v=s.words[9];for(u.words[u.length++]=v&h,y=10;y<s.length;y++){var b=s.words[y]|0;s.words[y-10]=(b&h)<<4|v>>>22,v=b}v>>>=22,s.words[y-10]=v,v===0&&s.length>10?s.length-=10:s.length-=9},P.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var u=0,h=0;h<s.length;h++){var p=s.words[h]|0;u+=p*977,s.words[h]=u&67108863,u=p*64+(u/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function W(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(W,z);function U(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(U,z);function F(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(F,z),F.prototype.imulK=function(s){for(var u=0,h=0;h<s.length;h++){var p=(s.words[h]|0)*19+u,y=p&67108863;p>>>=26,s.words[h]=y,u=p}return u!==0&&(s.words[s.length++]=u),s},i._prime=function(s){if(D[s])return D[s];var u;if(s==="k256")u=new P;else if(s==="p224")u=new W;else if(s==="p192")u=new U;else if(s==="p25519")u=new F;else throw new Error("Unknown prime "+s);return D[s]=u,u};function j(d){if(typeof d=="string"){var s=i._prime(d);this.m=s.p,this.prime=s}else r(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}j.prototype._verify1=function(s){r(s.negative===0,"red works only with positives"),r(s.red,"red works only with red numbers")},j.prototype._verify2=function(s,u){r((s.negative|u.negative)===0,"red works only with positives"),r(s.red&&s.red===u.red,"red works only with red numbers")},j.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(_(s,s.umod(this.m)._forceRed(this)),s)},j.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},j.prototype.add=function(s,u){this._verify2(s,u);var h=s.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},j.prototype.iadd=function(s,u){this._verify2(s,u);var h=s.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},j.prototype.sub=function(s,u){this._verify2(s,u);var h=s.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},j.prototype.isub=function(s,u){this._verify2(s,u);var h=s.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},j.prototype.shl=function(s,u){return this._verify1(s),this.imod(s.ushln(u))},j.prototype.imul=function(s,u){return this._verify2(s,u),this.imod(s.imul(u))},j.prototype.mul=function(s,u){return this._verify2(s,u),this.imod(s.mul(u))},j.prototype.isqr=function(s){return this.imul(s,s.clone())},j.prototype.sqr=function(s){return this.mul(s,s)},j.prototype.sqrt=function(s){if(s.isZero())return s.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(s,h)}for(var p=this.m.subn(1),y=0;!p.isZero()&&p.andln(1)===0;)y++,p.iushrn(1);r(!p.isZero());var v=new i(1).toRed(this),b=v.redNeg(),m=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);this.pow(l,m).cmp(b)!==0;)l.redIAdd(b);for(var w=this.pow(l,p),K=this.pow(s,p.addn(1).iushrn(1)),$=this.pow(s,p),q=y;$.cmp(v)!==0;){for(var ue=$,Y=0;ue.cmp(v)!==0;Y++)ue=ue.redSqr();r(Y<q);var ne=this.pow(w,new i(1).iushln(q-Y-1));K=K.redMul(ne),w=ne.redSqr(),$=$.redMul(w),q=Y}return K},j.prototype.invm=function(s){var u=s._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},j.prototype.pow=function(s,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return s.clone();var h=4,p=new Array(1<<h);p[0]=new i(1).toRed(this),p[1]=s;for(var y=2;y<p.length;y++)p[y]=this.mul(p[y-1],s);var v=p[0],b=0,m=0,l=u.bitLength()%26;for(l===0&&(l=26),y=u.length-1;y>=0;y--){for(var w=u.words[y],K=l-1;K>=0;K--){var $=w>>K&1;if(v!==p[0]&&(v=this.sqr(v)),$===0&&b===0){m=0;continue}b<<=1,b|=$,m++,!(m!==h&&(y!==0||K!==0))&&(v=this.mul(v,p[b]),m=0,b=0)}l=26}return v},j.prototype.convertTo=function(s){var u=s.umod(this.m);return u===s?u.clone():u},j.prototype.convertFrom=function(s){var u=s.clone();return u.red=null,u},i.mont=function(s){return new V(s)};function V(d){j.call(this,d),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(V,j),V.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},V.prototype.convertFrom=function(s){var u=this.imod(s.mul(this.rinv));return u.red=null,u},V.prototype.imul=function(s,u){if(s.isZero()||u.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(p).iushrn(this.shift),v=y;return y.cmp(this.m)>=0?v=y.isub(this.m):y.cmpn(0)<0&&(v=y.iadd(this.m)),v._forceRed(this)},V.prototype.mul=function(s,u){if(s.isZero()||u.isZero())return new i(0)._forceRed(this);var h=s.mul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(p).iushrn(this.shift),v=y;return y.cmp(this.m)>=0?v=y.isub(this.m):y.cmpn(0)<0&&(v=y.iadd(this.m)),v._forceRed(this)},V.prototype.invm=function(s){var u=this.imod(s._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(t,jn)})(Zw);var NP=Zw.exports;const Jr=Yi(NP);var wf=nw.Buffer;function TP(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var o=t.charAt(r),i=o.charCodeAt(0);if(e[i]!==255)throw new TypeError(o+" is ambiguous");e[i]=r}var a=t.length,c=t.charAt(0),f=Math.log(a)/Math.log(256),g=Math.log(256)/Math.log(a);function _(E){if((Array.isArray(E)||E instanceof Uint8Array)&&(E=wf.from(E)),!wf.isBuffer(E))throw new TypeError("Expected Buffer");if(E.length===0)return"";for(var A=0,k=0,C=0,R=E.length;C!==R&&E[C]===0;)C++,A++;for(var T=(R-C)*g+1>>>0,N=new Uint8Array(T);C!==R;){for(var O=E[C],D=0,z=T-1;(O!==0||D<k)&&z!==-1;z--,D++)O+=256*N[z]>>>0,N[z]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");k=D,C++}for(var P=T-k;P!==T&&N[P]===0;)P++;for(var W=c.repeat(A);P<T;++P)W+=t.charAt(N[P]);return W}function M(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return wf.alloc(0);for(var A=0,k=0,C=0;E[A]===c;)k++,A++;for(var R=(E.length-A)*f+1>>>0,T=new Uint8Array(R);A<E.length;){var N=E.charCodeAt(A);if(N>255)return;var O=e[N];if(O===255)return;for(var D=0,z=R-1;(O!==0||D<C)&&z!==-1;z--,D++)O+=a*T[z]>>>0,T[z]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");C=D,A++}for(var P=R-C;P!==R&&T[P]===0;)P++;var W=wf.allocUnsafe(k+(R-P));W.fill(0,0,k);for(var U=k;P!==R;)W[U++]=T[P++];return W}function S(E){var A=M(E);if(A)return A;throw new Error("Non-base"+a+" character")}return{encode:_,decodeUnsafe:M,decode:S}}var kP=TP,CP=kP,OP="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",LP=CP(OP);const Yw=Yi(LP);var Qw={exports:{}};const BP=/[\p{Lu}]/u,PP=/[\p{Ll}]/u,B_=/^[\p{Lu}](?![\p{Lu}])/gu,_x=/([\p{Alpha}\p{N}_]|$)/u,Ex=/[_.\- ]+/,DP=new RegExp("^"+Ex.source),P_=new RegExp(Ex.source+_x.source,"gu"),D_=new RegExp("\\d+"+_x.source,"gu"),UP=(t,e,n)=>{let r=!1,o=!1,i=!1;for(let a=0;a<t.length;a++){const c=t[a];r&&BP.test(c)?(t=t.slice(0,a)+"-"+t.slice(a),r=!1,i=o,o=!0,a++):o&&i&&PP.test(c)?(t=t.slice(0,a-1)+"-"+t.slice(a-1),i=o,o=!1,r=!0):(r=e(c)===c&&n(c)!==c,i=o,o=n(c)===c&&e(c)!==c)}return t},zP=(t,e)=>(B_.lastIndex=0,t.replace(B_,n=>e(n))),jP=(t,e)=>(P_.lastIndex=0,D_.lastIndex=0,t.replace(P_,(n,r)=>e(r)).replace(D_,n=>e(n))),bx=(t,e)=>{if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(t)?t=t.map(i=>i.trim()).filter(i=>i.length).join("-"):t=t.trim(),t.length===0)return"";const n=e.locale===!1?i=>i.toLowerCase():i=>i.toLocaleLowerCase(e.locale),r=e.locale===!1?i=>i.toUpperCase():i=>i.toLocaleUpperCase(e.locale);return t.length===1?e.pascalCase?r(t):n(t):(t!==n(t)&&(t=UP(t,n,r)),t=t.replace(DP,""),e.preserveConsecutiveUppercase?t=zP(t,n):t=n(t),e.pascalCase&&(t=r(t.charAt(0))+t.slice(1)),jP(t,r))};Qw.exports=bx;Qw.exports.default=bx;var WP=Qw.exports;const FP=Yi(WP);var rt={},qe={};let At=class{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}decode(e,n){throw new Error("Layout is abstract")}encode(e,n,r){throw new Error("Layout is abstract")}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}};qe.Layout=At;function Xw(t,e){return e.property?t+"["+e.property+"]":t}qe.nameWithProperty=Xw;function $P(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof At))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value:function(n,r){return e.decode(n,r)},writable:!0})}qe.bindConstructorLayout=$P;let Sr=class extends At{isCount(){throw new Error("ExternalLayout is abstract")}};class Sx extends Sr{constructor(e,n){if(e===void 0&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n){n===void 0&&(n=0);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}let Jw=class extends Sr{constructor(e,n,r){if(!(e instanceof At))throw new TypeError("layout must be a Layout");if(n===void 0)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof ro||this.layout instanceof Co}decode(e,n){return n===void 0&&(n=0),this.layout.decode(e,n+this.offset)}encode(e,n,r){return r===void 0&&(r=0),this.layout.encode(e,n,r+this.offset)}},ro=class extends At{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntLE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntLE(e,r,this.span),this.span}},Co=class extends At{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntBE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntBE(e,r,this.span),this.span}};class Sa extends At{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readIntLE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeIntLE(e,r,this.span),this.span}}class Xl extends At{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readIntBE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeIntBE(e,r,this.span),this.span}}const Hg=Math.pow(2,32);function d0(t){const e=Math.floor(t/Hg),n=t-e*Hg;return{hi32:e,lo32:n}}function p0(t,e){return t*Hg+e}let HP=class extends At{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),o=e.readUInt32LE(n+4);return p0(o,r)}encode(e,n,r){r===void 0&&(r=0);const o=d0(e);return n.writeUInt32LE(o.lo32,r),n.writeUInt32LE(o.hi32,r+4),8}};class KP extends At{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32BE(n),o=e.readUInt32BE(n+4);return p0(r,o)}encode(e,n,r){r===void 0&&(r=0);const o=d0(e);return n.writeUInt32BE(o.hi32,r),n.writeUInt32BE(o.lo32,r+4),8}}let VP=class extends At{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),o=e.readInt32LE(n+4);return p0(o,r)}encode(e,n,r){r===void 0&&(r=0);const o=d0(e);return n.writeUInt32LE(o.lo32,r),n.writeInt32LE(o.hi32,r+4),8}};class qP extends At{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readInt32BE(n),o=e.readUInt32BE(n+4);return p0(r,o)}encode(e,n,r){r===void 0&&(r=0);const o=d0(e);return n.writeInt32BE(o.hi32,r),n.writeUInt32BE(o.lo32,r+4),8}}class Mx extends At{constructor(e){super(4,e)}decode(e,n){return n===void 0&&(n=0),e.readFloatLE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeFloatLE(e,r),4}}class Ax extends At{constructor(e){super(4,e)}decode(e,n){return n===void 0&&(n=0),e.readFloatBE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeFloatBE(e,r),4}}class xx extends At{constructor(e){super(8,e)}decode(e,n){return n===void 0&&(n=0),e.readDoubleLE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeDoubleLE(e,r),8}}class Rx extends At{constructor(e){super(8,e)}decode(e,n){return n===void 0&&(n=0),e.readDoubleBE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeDoubleBE(e,r),8}}class Ix extends At{constructor(e,n,r){if(!(e instanceof At))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof Sr&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(n instanceof Sr)&&0<e.span&&(o=n*e.span),super(o,r),this.elementLayout=e,this.count=n}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0,o=this.count;if(o instanceof Sr&&(o=o.decode(e,n)),0<this.elementLayout.span)r=o*this.elementLayout.span;else{let i=0;for(;i<o;)r+=this.elementLayout.getSpan(e,n+r),++i}return r}decode(e,n){n===void 0&&(n=0);const r=[];let o=0,i=this.count;for(i instanceof Sr&&(i=i.decode(e,n));o<i;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),o+=1;return r}encode(e,n,r){r===void 0&&(r=0);const o=this.elementLayout,i=e.reduce((a,c)=>a+o.encode(c,n,r+a),0);return this.count instanceof Sr&&this.count.encode(e.length,n,r),i}}let Nx=class extends At{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((i,a)=>i&&a instanceof At,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((i,a)=>i+a.getSpan(),0)}catch{}super(o,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;try{r=this.fields.reduce((o,i)=>{const a=i.getSpan(e,n);return n+=a,o+a},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n){n===void 0&&(n=0);const r=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(r[o.property]=o.decode(e,n)),n+=o.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r){r===void 0&&(r=0);const o=r;let i=0,a=0;for(const c of this.fields){let f=c.span;if(a=0<f?f:0,c.property!==void 0){const g=e[c.property];g!==void 0&&(a=c.encode(g,n,r),0>f&&(f=c.getSpan(n,r)))}i=r,r+=f}return i+a-o}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}},e1=class{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}},dd=class extends e1{constructor(e,n){if(!(e instanceof Sr&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}},t1=class extends At{constructor(e,n,r){const o=e instanceof ro||e instanceof Co;if(o)e=new dd(new Jw(e));else if(e instanceof Sr&&e.isCount())e=new dd(e);else if(!(e instanceof e1))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof At))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let i=-1;n&&(i=n.span,0<=i&&o&&(i+=e.layout.span)),super(i,r),this.discriminator=e,this.usesPrefixDiscriminator=o,this.defaultLayout=n,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return a(c)},this.configGetSourceVariant=function(c){a=c.bind(this)}}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||e.hasOwnProperty(n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,n){n===void 0&&(n=0);let r;const o=this.discriminator,i=o.decode(e,n);let a=this.registry[i];if(a===void 0){let c=0;a=this.defaultLayout,this.usesPrefixDiscriminator&&(c=o.layout.span),r=this.makeDestinationObject(),r[o.property]=i,r[a.property]=this.defaultLayout.decode(e,n+c)}else r=a.decode(e,n);return r}encode(e,n,r){r===void 0&&(r=0);const o=this.getSourceVariant(e);if(o===void 0){const i=this.discriminator,a=this.defaultLayout;let c=0;return this.usesPrefixDiscriminator&&(c=i.layout.span),i.encode(e[i.property],n,r),c+a.encode(e[a.property],n,r+c)}return o.encode(e,n,r)}addVariant(e,n,r){const o=new Tx(this,e,n,r);return this.registry[e]=o,o}getVariant(e,n){let r=e;return Buffer.isBuffer(e)&&(n===void 0&&(n=0),r=this.discriminator.decode(e,n)),this.registry[r]}},Tx=class extends At{constructor(e,n,r,o){if(!(e instanceof t1))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&o===void 0&&(o=r,r=null),r){if(!(r instanceof At))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,o),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,n+r)}decode(e,n){const r=this.makeDestinationObject();if(n===void 0&&(n=0),this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+o):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r){r===void 0&&(r=0);let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let i=o;if(this.layout&&(this.layout.encode(e[this.property],n,r+o),i+=this.layout.getSpan(n,r+o),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};function $a(t){return 0>t&&(t+=4294967296),t}class n1 extends At{constructor(e,n,r){if(!(e instanceof ro||e instanceof Co))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let o=0;this._packedSetValue=function(i){return o=$a(i),this},this._packedGetValue=function(){return o}}decode(e,n){const r=this.makeDestinationObject();n===void 0&&(n=0);const o=this.word.decode(e,n);this._packedSetValue(o);for(const i of this.fields)i.property!==void 0&&(r[i.property]=i.decode(o));return r}encode(e,n,r){r===void 0&&(r=0);const o=this.word.decode(n,r);this._packedSetValue(o);for(const i of this.fields)if(i.property!==void 0){const a=e[i.property];a!==void 0&&i.encode(a)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new $u(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new kx(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}class $u{constructor(e,n,r){if(!(e instanceof n1))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const o=8*e.span,i=e.fields.reduce((a,c)=>a+c.bits,0);if(n+i>o)throw new Error("bits too long for span remainder ("+(o-i)+" of "+o+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=o-i-n),this.wordMask=$a(this.valueMask<<this.start),this.property=r}decode(){const e=this.container._packedGetValue();return $a(e&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==$a(e&this.valueMask))throw new TypeError(Xw("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=$a(e<<this.start);this.container._packedSetValue($a(n&~this.wordMask)|r)}}let kx=class extends $u{constructor(e,n){super(e,1,n)}decode(e,n){return!!$u.prototype.decode.call(this,e,n)}encode(e){return typeof e=="boolean"&&(e=+e),$u.prototype.encode.call(this,e)}},Cx=class extends At{constructor(e,n){if(!(e instanceof Sr&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Sr||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n){n===void 0&&(n=0);let r=this.span;return 0>r&&(r=this.length.decode(e,n)),e.slice(n,n+r)}encode(e,n,r){let o=this.length;if(this.length instanceof Sr&&(o=e.length),!(Buffer.isBuffer(e)&&o===e.length))throw new TypeError(Xw("Blob.encode",this)+" requires (length "+o+") Buffer as src");if(r+o>n.length)throw new RangeError("encoding overruns Buffer");return n.write(e.toString("hex"),r,o,"hex"),this.length instanceof Sr&&this.length.encode(o,n,r),o}};class Ox extends At{constructor(e){super(-1,e)}getSpan(e,n){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");n===void 0&&(n=0);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n,r){n===void 0&&(n=0);let o=this.getSpan(e,n);return e.slice(n,n+o-1).toString("utf-8")}encode(e,n,r){r===void 0&&(r=0),typeof e!="string"&&(e=e.toString());const o=new Buffer(e,"utf8"),i=o.length;if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return o.copy(n,r),n[r+i]=0,i+1}}class Lx extends At{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return n===void 0&&(n=0),e.length-n}decode(e,n,r){n===void 0&&(n=0);let o=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");return e.slice(n,n+o).toString("utf-8")}encode(e,n,r){r===void 0&&(r=0),typeof e!="string"&&(e=e.toString());const o=new Buffer(e,"utf8"),i=o.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return o.copy(n,r),i}}class Bx extends At{constructor(e,n){super(0,n),this.value=e}decode(e,n,r){return this.value}encode(e,n,r){return 0}}qe.ExternalLayout=Sr;qe.GreedyCount=Sx;qe.OffsetLayout=Jw;qe.UInt=ro;qe.UIntBE=Co;qe.Int=Sa;qe.IntBE=Xl;qe.Float=Mx;qe.FloatBE=Ax;qe.Double=xx;qe.DoubleBE=Rx;qe.Sequence=Ix;qe.Structure=Nx;qe.UnionDiscriminator=e1;qe.UnionLayoutDiscriminator=dd;qe.Union=t1;qe.VariantLayout=Tx;qe.BitStructure=n1;qe.BitField=$u;qe.Boolean=kx;qe.Blob=Cx;qe.CString=Ox;qe.UTF8=Lx;qe.Constant=Bx;qe.greedy=(t,e)=>new Sx(t,e);qe.offset=(t,e,n)=>new Jw(t,e,n);qe.u8=t=>new ro(1,t);qe.u16=t=>new ro(2,t);qe.u24=t=>new ro(3,t);qe.u32=t=>new ro(4,t);qe.u40=t=>new ro(5,t);qe.u48=t=>new ro(6,t);qe.nu64=t=>new HP(t);qe.u16be=t=>new Co(2,t);qe.u24be=t=>new Co(3,t);qe.u32be=t=>new Co(4,t);qe.u40be=t=>new Co(5,t);qe.u48be=t=>new Co(6,t);qe.nu64be=t=>new KP(t);qe.s8=t=>new Sa(1,t);qe.s16=t=>new Sa(2,t);qe.s24=t=>new Sa(3,t);qe.s32=t=>new Sa(4,t);qe.s40=t=>new Sa(5,t);qe.s48=t=>new Sa(6,t);qe.ns64=t=>new VP(t);qe.s16be=t=>new Xl(2,t);qe.s24be=t=>new Xl(3,t);qe.s32be=t=>new Xl(4,t);qe.s40be=t=>new Xl(5,t);qe.s48be=t=>new Xl(6,t);qe.ns64be=t=>new qP(t);qe.f32=t=>new Mx(t);qe.f32be=t=>new Ax(t);qe.f64=t=>new xx(t);qe.f64be=t=>new Rx(t);qe.struct=(t,e,n)=>new Nx(t,e,n);qe.bits=(t,e,n)=>new n1(t,e,n);qe.seq=(t,e,n)=>new Ix(t,e,n);qe.union=(t,e,n)=>new t1(t,e,n);qe.unionLayoutDiscriminator=(t,e)=>new dd(t,e);qe.blob=(t,e)=>new Cx(t,e);qe.cstr=t=>new Ox(t);qe.utf8=(t,e)=>new Lx(t,e);qe.const=(t,e)=>new Bx(t,e);var r1={exports:{}};r1.exports;(function(t){(function(e,n){function r(d,s){if(!d)throw new Error(s||"Assertion failed")}function o(d,s){d.super_=s;var u=function(){};u.prototype=s.prototype,d.prototype=new u,d.prototype.constructor=d}function i(d,s,u){if(i.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&((s==="le"||s==="be")&&(u=s,s=10),this._init(d||0,s||10,u||"be"))}typeof e=="object"?e.exports=i:n.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=zd.Buffer}catch{}i.isBN=function(s){return s instanceof i?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===i.wordSize&&Array.isArray(s.words)},i.max=function(s,u){return s.cmp(u)>0?s:u},i.min=function(s,u){return s.cmp(u)<0?s:u},i.prototype._init=function(s,u,h){if(typeof s=="number")return this._initNumber(s,u,h);if(typeof s=="object")return this._initArray(s,u,h);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),s=s.toString().replace(/\s+/g,"");var p=0;s[0]==="-"&&(p++,this.negative=1),p<s.length&&(u===16?this._parseHex(s,p,h):(this._parseBase(s,u,p),h==="le"&&this._initArray(this.toArray(),u,h)))},i.prototype._initNumber=function(s,u,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(r(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},i.prototype._initArray=function(s,u,h){if(r(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var y,v,b=0;if(h==="be")for(p=s.length-1,y=0;p>=0;p-=3)v=s[p]|s[p-1]<<8|s[p-2]<<16,this.words[y]|=v<<b&67108863,this.words[y+1]=v>>>26-b&67108863,b+=24,b>=26&&(b-=26,y++);else if(h==="le")for(p=0,y=0;p<s.length;p+=3)v=s[p]|s[p+1]<<8|s[p+2]<<16,this.words[y]|=v<<b&67108863,this.words[y+1]=v>>>26-b&67108863,b+=24,b>=26&&(b-=26,y++);return this._strip()};function c(d,s){var u=d.charCodeAt(s);if(u>=48&&u<=57)return u-48;if(u>=65&&u<=70)return u-55;if(u>=97&&u<=102)return u-87;r(!1,"Invalid character in "+d)}function f(d,s,u){var h=c(d,u);return u-1>=s&&(h|=c(d,u-1)<<4),h}i.prototype._parseHex=function(s,u,h){this.length=Math.ceil((s.length-u)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var y=0,v=0,b;if(h==="be")for(p=s.length-1;p>=u;p-=2)b=f(s,u,p)<<y,this.words[v]|=b&67108863,y>=18?(y-=18,v+=1,this.words[v]|=b>>>26):y+=8;else{var m=s.length-u;for(p=m%2===0?u+1:u;p<s.length;p+=2)b=f(s,u,p)<<y,this.words[v]|=b&67108863,y>=18?(y-=18,v+=1,this.words[v]|=b>>>26):y+=8}this._strip()};function g(d,s,u,h){for(var p=0,y=0,v=Math.min(d.length,u),b=s;b<v;b++){var m=d.charCodeAt(b)-48;p*=h,m>=49?y=m-49+10:m>=17?y=m-17+10:y=m,r(m>=0&&y<h,"Invalid character"),p+=y}return p}i.prototype._parseBase=function(s,u,h){this.words=[0],this.length=1;for(var p=0,y=1;y<=67108863;y*=u)p++;p--,y=y/u|0;for(var v=s.length-h,b=v%p,m=Math.min(v,v-b)+h,l=0,w=h;w<m;w+=p)l=g(s,w,w+p,u),this.imuln(y),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(b!==0){var K=1;for(l=g(s,w,s.length,u),w=0;w<b;w++)K*=u;this.imuln(K),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},i.prototype.copy=function(s){s.words=new Array(this.length);for(var u=0;u<this.length;u++)s.words[u]=this.words[u];s.length=this.length,s.negative=this.negative,s.red=this.red};function _(d,s){d.words=s.words,d.length=s.length,d.negative=s.negative,d.red=s.red}if(i.prototype._move=function(s){_(s,this)},i.prototype.clone=function(){var s=new i(null);return this.copy(s),s},i.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=M}catch{i.prototype.inspect=M}else i.prototype.inspect=M;function M(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(s,u){s=s||10,u=u|0||1;var h;if(s===16||s==="hex"){h="";for(var p=0,y=0,v=0;v<this.length;v++){var b=this.words[v],m=((b<<p|y)&16777215).toString(16);y=b>>>24-p&16777215,p+=2,p>=26&&(p-=26,v--),y!==0||v!==this.length-1?h=S[6-m.length]+m+h:h=m+h}for(y!==0&&(h=y.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(s===(s|0)&&s>=2&&s<=36){var l=E[s],w=A[s];h="";var K=this.clone();for(K.negative=0;!K.isZero();){var $=K.modrn(w).toString(s);K=K.idivn(w),K.isZero()?h=$+h:h=S[l-$.length]+$+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},i.prototype.toJSON=function(){return this.toString(16,2)},a&&(i.prototype.toBuffer=function(s,u){return this.toArrayLike(a,s,u)}),i.prototype.toArray=function(s,u){return this.toArrayLike(Array,s,u)};var k=function(s,u){return s.allocUnsafe?s.allocUnsafe(u):new s(u)};i.prototype.toArrayLike=function(s,u,h){this._strip();var p=this.byteLength(),y=h||Math.max(1,p);r(p<=y,"byte array longer than desired length"),r(y>0,"Requested array length <= 0");var v=k(s,y),b=u==="le"?"LE":"BE";return this["_toArrayLike"+b](v,p),v},i.prototype._toArrayLikeLE=function(s,u){for(var h=0,p=0,y=0,v=0;y<this.length;y++){var b=this.words[y]<<v|p;s[h++]=b&255,h<s.length&&(s[h++]=b>>8&255),h<s.length&&(s[h++]=b>>16&255),v===6?(h<s.length&&(s[h++]=b>>24&255),p=0,v=0):(p=b>>>24,v+=2)}if(h<s.length)for(s[h++]=p;h<s.length;)s[h++]=0},i.prototype._toArrayLikeBE=function(s,u){for(var h=s.length-1,p=0,y=0,v=0;y<this.length;y++){var b=this.words[y]<<v|p;s[h--]=b&255,h>=0&&(s[h--]=b>>8&255),h>=0&&(s[h--]=b>>16&255),v===6?(h>=0&&(s[h--]=b>>24&255),p=0,v=0):(p=b>>>24,v+=2)}if(h>=0)for(s[h--]=p;h>=0;)s[h--]=0},Math.clz32?i.prototype._countBits=function(s){return 32-Math.clz32(s)}:i.prototype._countBits=function(s){var u=s,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},i.prototype._zeroBits=function(s){if(s===0)return 26;var u=s,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},i.prototype.bitLength=function(){var s=this.words[this.length-1],u=this._countBits(s);return(this.length-1)*26+u};function C(d){for(var s=new Array(d.bitLength()),u=0;u<s.length;u++){var h=u/26|0,p=u%26;s[u]=d.words[h]>>>p&1}return s}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(s+=h,h!==26)break}return s},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},i.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var u=0;u<s.length;u++)this.words[u]=this.words[u]|s.words[u];return this._strip()},i.prototype.ior=function(s){return r((this.negative|s.negative)===0),this.iuor(s)},i.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},i.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},i.prototype.iuand=function(s){var u;this.length>s.length?u=s:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=u.length,this._strip()},i.prototype.iand=function(s){return r((this.negative|s.negative)===0),this.iuand(s)},i.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},i.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},i.prototype.iuxor=function(s){var u,h;this.length>s.length?(u=this,h=s):(u=s,h=this);for(var p=0;p<h.length;p++)this.words[p]=u.words[p]^h.words[p];if(this!==u)for(;p<u.length;p++)this.words[p]=u.words[p];return this.length=u.length,this._strip()},i.prototype.ixor=function(s){return r((this.negative|s.negative)===0),this.iuxor(s)},i.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},i.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},i.prototype.inotn=function(s){r(typeof s=="number"&&s>=0);var u=Math.ceil(s/26)|0,h=s%26;this._expand(u),h>0&&u--;for(var p=0;p<u;p++)this.words[p]=~this.words[p]&67108863;return h>0&&(this.words[p]=~this.words[p]&67108863>>26-h),this._strip()},i.prototype.notn=function(s){return this.clone().inotn(s)},i.prototype.setn=function(s,u){r(typeof s=="number"&&s>=0);var h=s/26|0,p=s%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<p:this.words[h]=this.words[h]&~(1<<p),this._strip()},i.prototype.iadd=function(s){var u;if(this.negative!==0&&s.negative===0)return this.negative=0,u=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,u=this.isub(s),s.negative=1,u._normSign();var h,p;this.length>s.length?(h=this,p=s):(h=s,p=this);for(var y=0,v=0;v<p.length;v++)u=(h.words[v]|0)+(p.words[v]|0)+y,this.words[v]=u&67108863,y=u>>>26;for(;y!==0&&v<h.length;v++)u=(h.words[v]|0)+y,this.words[v]=u&67108863,y=u>>>26;if(this.length=h.length,y!==0)this.words[this.length]=y,this.length++;else if(h!==this)for(;v<h.length;v++)this.words[v]=h.words[v];return this},i.prototype.add=function(s){var u;return s.negative!==0&&this.negative===0?(s.negative=0,u=this.sub(s),s.negative^=1,u):s.negative===0&&this.negative!==0?(this.negative=0,u=s.sub(this),this.negative=1,u):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},i.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var u=this.iadd(s);return s.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var h=this.cmp(s);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,y;h>0?(p=this,y=s):(p=s,y=this);for(var v=0,b=0;b<y.length;b++)u=(p.words[b]|0)-(y.words[b]|0)+v,v=u>>26,this.words[b]=u&67108863;for(;v!==0&&b<p.length;b++)u=(p.words[b]|0)+v,v=u>>26,this.words[b]=u&67108863;if(v===0&&b<p.length&&p!==this)for(;b<p.length;b++)this.words[b]=p.words[b];return this.length=Math.max(this.length,b),p!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(s){return this.clone().isub(s)};function R(d,s,u){u.negative=s.negative^d.negative;var h=d.length+s.length|0;u.length=h,h=h-1|0;var p=d.words[0]|0,y=s.words[0]|0,v=p*y,b=v&67108863,m=v/67108864|0;u.words[0]=b;for(var l=1;l<h;l++){for(var w=m>>>26,K=m&67108863,$=Math.min(l,s.length-1),q=Math.max(0,l-d.length+1);q<=$;q++){var ue=l-q|0;p=d.words[ue]|0,y=s.words[q]|0,v=p*y+K,w+=v/67108864|0,K=v&67108863}u.words[l]=K|0,m=w|0}return m!==0?u.words[l]=m|0:u.length--,u._strip()}var T=function(s,u,h){var p=s.words,y=u.words,v=h.words,b=0,m,l,w,K=p[0]|0,$=K&8191,q=K>>>13,ue=p[1]|0,Y=ue&8191,ne=ue>>>13,ct=p[2]|0,ce=ct&8191,de=ct>>>13,Yt=p[3]|0,pe=Yt&8191,ve=Yt>>>13,kr=p[4]|0,ge=kr&8191,_e=kr>>>13,Cr=p[5]|0,we=Cr&8191,me=Cr>>>13,Kt=p[6]|0,ye=Kt&8191,Ee=Kt>>>13,tn=p[7]|0,be=tn&8191,L=tn>>>13,I=p[8]|0,x=I&8191,B=I>>>13,G=p[9]|0,H=G&8191,Z=G>>>13,et=y[0]|0,se=et&8191,oe=et>>>13,ft=y[1]|0,ie=ft&8191,Ae=ft>>>13,ai=y[2]|0,xe=ai&8191,Re=ai>>>13,li=y[3]|0,Ie=li&8191,Ne=li>>>13,ui=y[4]|0,Te=ui&8191,ke=ui>>>13,ci=y[5]|0,Ce=ci&8191,Oe=ci>>>13,fi=y[6]|0,Le=fi&8191,Be=fi>>>13,hi=y[7]|0,Pe=hi&8191,De=hi>>>13,di=y[8]|0,Ue=di&8191,ze=di>>>13,pi=y[9]|0,je=pi&8191,We=pi>>>13;h.negative=s.negative^u.negative,h.length=19,m=Math.imul($,se),l=Math.imul($,oe),l=l+Math.imul(q,se)|0,w=Math.imul(q,oe);var Fn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,m=Math.imul(Y,se),l=Math.imul(Y,oe),l=l+Math.imul(ne,se)|0,w=Math.imul(ne,oe),m=m+Math.imul($,ie)|0,l=l+Math.imul($,Ae)|0,l=l+Math.imul(q,ie)|0,w=w+Math.imul(q,Ae)|0;var $n=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+($n>>>26)|0,$n&=67108863,m=Math.imul(ce,se),l=Math.imul(ce,oe),l=l+Math.imul(de,se)|0,w=Math.imul(de,oe),m=m+Math.imul(Y,ie)|0,l=l+Math.imul(Y,Ae)|0,l=l+Math.imul(ne,ie)|0,w=w+Math.imul(ne,Ae)|0,m=m+Math.imul($,xe)|0,l=l+Math.imul($,Re)|0,l=l+Math.imul(q,xe)|0,w=w+Math.imul(q,Re)|0;var Hn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,m=Math.imul(pe,se),l=Math.imul(pe,oe),l=l+Math.imul(ve,se)|0,w=Math.imul(ve,oe),m=m+Math.imul(ce,ie)|0,l=l+Math.imul(ce,Ae)|0,l=l+Math.imul(de,ie)|0,w=w+Math.imul(de,Ae)|0,m=m+Math.imul(Y,xe)|0,l=l+Math.imul(Y,Re)|0,l=l+Math.imul(ne,xe)|0,w=w+Math.imul(ne,Re)|0,m=m+Math.imul($,Ie)|0,l=l+Math.imul($,Ne)|0,l=l+Math.imul(q,Ie)|0,w=w+Math.imul(q,Ne)|0;var Kn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,m=Math.imul(ge,se),l=Math.imul(ge,oe),l=l+Math.imul(_e,se)|0,w=Math.imul(_e,oe),m=m+Math.imul(pe,ie)|0,l=l+Math.imul(pe,Ae)|0,l=l+Math.imul(ve,ie)|0,w=w+Math.imul(ve,Ae)|0,m=m+Math.imul(ce,xe)|0,l=l+Math.imul(ce,Re)|0,l=l+Math.imul(de,xe)|0,w=w+Math.imul(de,Re)|0,m=m+Math.imul(Y,Ie)|0,l=l+Math.imul(Y,Ne)|0,l=l+Math.imul(ne,Ie)|0,w=w+Math.imul(ne,Ne)|0,m=m+Math.imul($,Te)|0,l=l+Math.imul($,ke)|0,l=l+Math.imul(q,Te)|0,w=w+Math.imul(q,ke)|0;var Vn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,m=Math.imul(we,se),l=Math.imul(we,oe),l=l+Math.imul(me,se)|0,w=Math.imul(me,oe),m=m+Math.imul(ge,ie)|0,l=l+Math.imul(ge,Ae)|0,l=l+Math.imul(_e,ie)|0,w=w+Math.imul(_e,Ae)|0,m=m+Math.imul(pe,xe)|0,l=l+Math.imul(pe,Re)|0,l=l+Math.imul(ve,xe)|0,w=w+Math.imul(ve,Re)|0,m=m+Math.imul(ce,Ie)|0,l=l+Math.imul(ce,Ne)|0,l=l+Math.imul(de,Ie)|0,w=w+Math.imul(de,Ne)|0,m=m+Math.imul(Y,Te)|0,l=l+Math.imul(Y,ke)|0,l=l+Math.imul(ne,Te)|0,w=w+Math.imul(ne,ke)|0,m=m+Math.imul($,Ce)|0,l=l+Math.imul($,Oe)|0,l=l+Math.imul(q,Ce)|0,w=w+Math.imul(q,Oe)|0;var qn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(qn>>>26)|0,qn&=67108863,m=Math.imul(ye,se),l=Math.imul(ye,oe),l=l+Math.imul(Ee,se)|0,w=Math.imul(Ee,oe),m=m+Math.imul(we,ie)|0,l=l+Math.imul(we,Ae)|0,l=l+Math.imul(me,ie)|0,w=w+Math.imul(me,Ae)|0,m=m+Math.imul(ge,xe)|0,l=l+Math.imul(ge,Re)|0,l=l+Math.imul(_e,xe)|0,w=w+Math.imul(_e,Re)|0,m=m+Math.imul(pe,Ie)|0,l=l+Math.imul(pe,Ne)|0,l=l+Math.imul(ve,Ie)|0,w=w+Math.imul(ve,Ne)|0,m=m+Math.imul(ce,Te)|0,l=l+Math.imul(ce,ke)|0,l=l+Math.imul(de,Te)|0,w=w+Math.imul(de,ke)|0,m=m+Math.imul(Y,Ce)|0,l=l+Math.imul(Y,Oe)|0,l=l+Math.imul(ne,Ce)|0,w=w+Math.imul(ne,Oe)|0,m=m+Math.imul($,Le)|0,l=l+Math.imul($,Be)|0,l=l+Math.imul(q,Le)|0,w=w+Math.imul(q,Be)|0;var Gn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,m=Math.imul(be,se),l=Math.imul(be,oe),l=l+Math.imul(L,se)|0,w=Math.imul(L,oe),m=m+Math.imul(ye,ie)|0,l=l+Math.imul(ye,Ae)|0,l=l+Math.imul(Ee,ie)|0,w=w+Math.imul(Ee,Ae)|0,m=m+Math.imul(we,xe)|0,l=l+Math.imul(we,Re)|0,l=l+Math.imul(me,xe)|0,w=w+Math.imul(me,Re)|0,m=m+Math.imul(ge,Ie)|0,l=l+Math.imul(ge,Ne)|0,l=l+Math.imul(_e,Ie)|0,w=w+Math.imul(_e,Ne)|0,m=m+Math.imul(pe,Te)|0,l=l+Math.imul(pe,ke)|0,l=l+Math.imul(ve,Te)|0,w=w+Math.imul(ve,ke)|0,m=m+Math.imul(ce,Ce)|0,l=l+Math.imul(ce,Oe)|0,l=l+Math.imul(de,Ce)|0,w=w+Math.imul(de,Oe)|0,m=m+Math.imul(Y,Le)|0,l=l+Math.imul(Y,Be)|0,l=l+Math.imul(ne,Le)|0,w=w+Math.imul(ne,Be)|0,m=m+Math.imul($,Pe)|0,l=l+Math.imul($,De)|0,l=l+Math.imul(q,Pe)|0,w=w+Math.imul(q,De)|0;var Zn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,m=Math.imul(x,se),l=Math.imul(x,oe),l=l+Math.imul(B,se)|0,w=Math.imul(B,oe),m=m+Math.imul(be,ie)|0,l=l+Math.imul(be,Ae)|0,l=l+Math.imul(L,ie)|0,w=w+Math.imul(L,Ae)|0,m=m+Math.imul(ye,xe)|0,l=l+Math.imul(ye,Re)|0,l=l+Math.imul(Ee,xe)|0,w=w+Math.imul(Ee,Re)|0,m=m+Math.imul(we,Ie)|0,l=l+Math.imul(we,Ne)|0,l=l+Math.imul(me,Ie)|0,w=w+Math.imul(me,Ne)|0,m=m+Math.imul(ge,Te)|0,l=l+Math.imul(ge,ke)|0,l=l+Math.imul(_e,Te)|0,w=w+Math.imul(_e,ke)|0,m=m+Math.imul(pe,Ce)|0,l=l+Math.imul(pe,Oe)|0,l=l+Math.imul(ve,Ce)|0,w=w+Math.imul(ve,Oe)|0,m=m+Math.imul(ce,Le)|0,l=l+Math.imul(ce,Be)|0,l=l+Math.imul(de,Le)|0,w=w+Math.imul(de,Be)|0,m=m+Math.imul(Y,Pe)|0,l=l+Math.imul(Y,De)|0,l=l+Math.imul(ne,Pe)|0,w=w+Math.imul(ne,De)|0,m=m+Math.imul($,Ue)|0,l=l+Math.imul($,ze)|0,l=l+Math.imul(q,Ue)|0,w=w+Math.imul(q,ze)|0;var Yn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,m=Math.imul(H,se),l=Math.imul(H,oe),l=l+Math.imul(Z,se)|0,w=Math.imul(Z,oe),m=m+Math.imul(x,ie)|0,l=l+Math.imul(x,Ae)|0,l=l+Math.imul(B,ie)|0,w=w+Math.imul(B,Ae)|0,m=m+Math.imul(be,xe)|0,l=l+Math.imul(be,Re)|0,l=l+Math.imul(L,xe)|0,w=w+Math.imul(L,Re)|0,m=m+Math.imul(ye,Ie)|0,l=l+Math.imul(ye,Ne)|0,l=l+Math.imul(Ee,Ie)|0,w=w+Math.imul(Ee,Ne)|0,m=m+Math.imul(we,Te)|0,l=l+Math.imul(we,ke)|0,l=l+Math.imul(me,Te)|0,w=w+Math.imul(me,ke)|0,m=m+Math.imul(ge,Ce)|0,l=l+Math.imul(ge,Oe)|0,l=l+Math.imul(_e,Ce)|0,w=w+Math.imul(_e,Oe)|0,m=m+Math.imul(pe,Le)|0,l=l+Math.imul(pe,Be)|0,l=l+Math.imul(ve,Le)|0,w=w+Math.imul(ve,Be)|0,m=m+Math.imul(ce,Pe)|0,l=l+Math.imul(ce,De)|0,l=l+Math.imul(de,Pe)|0,w=w+Math.imul(de,De)|0,m=m+Math.imul(Y,Ue)|0,l=l+Math.imul(Y,ze)|0,l=l+Math.imul(ne,Ue)|0,w=w+Math.imul(ne,ze)|0,m=m+Math.imul($,je)|0,l=l+Math.imul($,We)|0,l=l+Math.imul(q,je)|0,w=w+Math.imul(q,We)|0;var Qn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,m=Math.imul(H,ie),l=Math.imul(H,Ae),l=l+Math.imul(Z,ie)|0,w=Math.imul(Z,Ae),m=m+Math.imul(x,xe)|0,l=l+Math.imul(x,Re)|0,l=l+Math.imul(B,xe)|0,w=w+Math.imul(B,Re)|0,m=m+Math.imul(be,Ie)|0,l=l+Math.imul(be,Ne)|0,l=l+Math.imul(L,Ie)|0,w=w+Math.imul(L,Ne)|0,m=m+Math.imul(ye,Te)|0,l=l+Math.imul(ye,ke)|0,l=l+Math.imul(Ee,Te)|0,w=w+Math.imul(Ee,ke)|0,m=m+Math.imul(we,Ce)|0,l=l+Math.imul(we,Oe)|0,l=l+Math.imul(me,Ce)|0,w=w+Math.imul(me,Oe)|0,m=m+Math.imul(ge,Le)|0,l=l+Math.imul(ge,Be)|0,l=l+Math.imul(_e,Le)|0,w=w+Math.imul(_e,Be)|0,m=m+Math.imul(pe,Pe)|0,l=l+Math.imul(pe,De)|0,l=l+Math.imul(ve,Pe)|0,w=w+Math.imul(ve,De)|0,m=m+Math.imul(ce,Ue)|0,l=l+Math.imul(ce,ze)|0,l=l+Math.imul(de,Ue)|0,w=w+Math.imul(de,ze)|0,m=m+Math.imul(Y,je)|0,l=l+Math.imul(Y,We)|0,l=l+Math.imul(ne,je)|0,w=w+Math.imul(ne,We)|0;var Xn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,m=Math.imul(H,xe),l=Math.imul(H,Re),l=l+Math.imul(Z,xe)|0,w=Math.imul(Z,Re),m=m+Math.imul(x,Ie)|0,l=l+Math.imul(x,Ne)|0,l=l+Math.imul(B,Ie)|0,w=w+Math.imul(B,Ne)|0,m=m+Math.imul(be,Te)|0,l=l+Math.imul(be,ke)|0,l=l+Math.imul(L,Te)|0,w=w+Math.imul(L,ke)|0,m=m+Math.imul(ye,Ce)|0,l=l+Math.imul(ye,Oe)|0,l=l+Math.imul(Ee,Ce)|0,w=w+Math.imul(Ee,Oe)|0,m=m+Math.imul(we,Le)|0,l=l+Math.imul(we,Be)|0,l=l+Math.imul(me,Le)|0,w=w+Math.imul(me,Be)|0,m=m+Math.imul(ge,Pe)|0,l=l+Math.imul(ge,De)|0,l=l+Math.imul(_e,Pe)|0,w=w+Math.imul(_e,De)|0,m=m+Math.imul(pe,Ue)|0,l=l+Math.imul(pe,ze)|0,l=l+Math.imul(ve,Ue)|0,w=w+Math.imul(ve,ze)|0,m=m+Math.imul(ce,je)|0,l=l+Math.imul(ce,We)|0,l=l+Math.imul(de,je)|0,w=w+Math.imul(de,We)|0;var Jn=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,m=Math.imul(H,Ie),l=Math.imul(H,Ne),l=l+Math.imul(Z,Ie)|0,w=Math.imul(Z,Ne),m=m+Math.imul(x,Te)|0,l=l+Math.imul(x,ke)|0,l=l+Math.imul(B,Te)|0,w=w+Math.imul(B,ke)|0,m=m+Math.imul(be,Ce)|0,l=l+Math.imul(be,Oe)|0,l=l+Math.imul(L,Ce)|0,w=w+Math.imul(L,Oe)|0,m=m+Math.imul(ye,Le)|0,l=l+Math.imul(ye,Be)|0,l=l+Math.imul(Ee,Le)|0,w=w+Math.imul(Ee,Be)|0,m=m+Math.imul(we,Pe)|0,l=l+Math.imul(we,De)|0,l=l+Math.imul(me,Pe)|0,w=w+Math.imul(me,De)|0,m=m+Math.imul(ge,Ue)|0,l=l+Math.imul(ge,ze)|0,l=l+Math.imul(_e,Ue)|0,w=w+Math.imul(_e,ze)|0,m=m+Math.imul(pe,je)|0,l=l+Math.imul(pe,We)|0,l=l+Math.imul(ve,je)|0,w=w+Math.imul(ve,We)|0;var er=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(er>>>26)|0,er&=67108863,m=Math.imul(H,Te),l=Math.imul(H,ke),l=l+Math.imul(Z,Te)|0,w=Math.imul(Z,ke),m=m+Math.imul(x,Ce)|0,l=l+Math.imul(x,Oe)|0,l=l+Math.imul(B,Ce)|0,w=w+Math.imul(B,Oe)|0,m=m+Math.imul(be,Le)|0,l=l+Math.imul(be,Be)|0,l=l+Math.imul(L,Le)|0,w=w+Math.imul(L,Be)|0,m=m+Math.imul(ye,Pe)|0,l=l+Math.imul(ye,De)|0,l=l+Math.imul(Ee,Pe)|0,w=w+Math.imul(Ee,De)|0,m=m+Math.imul(we,Ue)|0,l=l+Math.imul(we,ze)|0,l=l+Math.imul(me,Ue)|0,w=w+Math.imul(me,ze)|0,m=m+Math.imul(ge,je)|0,l=l+Math.imul(ge,We)|0,l=l+Math.imul(_e,je)|0,w=w+Math.imul(_e,We)|0;var tr=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(tr>>>26)|0,tr&=67108863,m=Math.imul(H,Ce),l=Math.imul(H,Oe),l=l+Math.imul(Z,Ce)|0,w=Math.imul(Z,Oe),m=m+Math.imul(x,Le)|0,l=l+Math.imul(x,Be)|0,l=l+Math.imul(B,Le)|0,w=w+Math.imul(B,Be)|0,m=m+Math.imul(be,Pe)|0,l=l+Math.imul(be,De)|0,l=l+Math.imul(L,Pe)|0,w=w+Math.imul(L,De)|0,m=m+Math.imul(ye,Ue)|0,l=l+Math.imul(ye,ze)|0,l=l+Math.imul(Ee,Ue)|0,w=w+Math.imul(Ee,ze)|0,m=m+Math.imul(we,je)|0,l=l+Math.imul(we,We)|0,l=l+Math.imul(me,je)|0,w=w+Math.imul(me,We)|0;var nr=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(nr>>>26)|0,nr&=67108863,m=Math.imul(H,Le),l=Math.imul(H,Be),l=l+Math.imul(Z,Le)|0,w=Math.imul(Z,Be),m=m+Math.imul(x,Pe)|0,l=l+Math.imul(x,De)|0,l=l+Math.imul(B,Pe)|0,w=w+Math.imul(B,De)|0,m=m+Math.imul(be,Ue)|0,l=l+Math.imul(be,ze)|0,l=l+Math.imul(L,Ue)|0,w=w+Math.imul(L,ze)|0,m=m+Math.imul(ye,je)|0,l=l+Math.imul(ye,We)|0,l=l+Math.imul(Ee,je)|0,w=w+Math.imul(Ee,We)|0;var rr=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(rr>>>26)|0,rr&=67108863,m=Math.imul(H,Pe),l=Math.imul(H,De),l=l+Math.imul(Z,Pe)|0,w=Math.imul(Z,De),m=m+Math.imul(x,Ue)|0,l=l+Math.imul(x,ze)|0,l=l+Math.imul(B,Ue)|0,w=w+Math.imul(B,ze)|0,m=m+Math.imul(be,je)|0,l=l+Math.imul(be,We)|0,l=l+Math.imul(L,je)|0,w=w+Math.imul(L,We)|0;var ir=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(ir>>>26)|0,ir&=67108863,m=Math.imul(H,Ue),l=Math.imul(H,ze),l=l+Math.imul(Z,Ue)|0,w=Math.imul(Z,ze),m=m+Math.imul(x,je)|0,l=l+Math.imul(x,We)|0,l=l+Math.imul(B,je)|0,w=w+Math.imul(B,We)|0;var or=(b+m|0)+((l&8191)<<13)|0;b=(w+(l>>>13)|0)+(or>>>26)|0,or&=67108863,m=Math.imul(H,je),l=Math.imul(H,We),l=l+Math.imul(Z,je)|0,w=Math.imul(Z,We);var sr=(b+m|0)+((l&8191)<<13)|0;return b=(w+(l>>>13)|0)+(sr>>>26)|0,sr&=67108863,v[0]=Fn,v[1]=$n,v[2]=Hn,v[3]=Kn,v[4]=Vn,v[5]=qn,v[6]=Gn,v[7]=Zn,v[8]=Yn,v[9]=Qn,v[10]=Xn,v[11]=Jn,v[12]=er,v[13]=tr,v[14]=nr,v[15]=rr,v[16]=ir,v[17]=or,v[18]=sr,b!==0&&(v[19]=b,h.length++),h};Math.imul||(T=R);function N(d,s,u){u.negative=s.negative^d.negative,u.length=d.length+s.length;for(var h=0,p=0,y=0;y<u.length-1;y++){var v=p;p=0;for(var b=h&67108863,m=Math.min(y,s.length-1),l=Math.max(0,y-d.length+1);l<=m;l++){var w=y-l,K=d.words[w]|0,$=s.words[l]|0,q=K*$,ue=q&67108863;v=v+(q/67108864|0)|0,ue=ue+b|0,b=ue&67108863,v=v+(ue>>>26)|0,p+=v>>>26,v&=67108863}u.words[y]=b,h=v,v=p}return h!==0?u.words[y]=h:u.length--,u._strip()}function O(d,s,u){return N(d,s,u)}i.prototype.mulTo=function(s,u){var h,p=this.length+s.length;return this.length===10&&s.length===10?h=T(this,s,u):p<63?h=R(this,s,u):p<1024?h=N(this,s,u):h=O(this,s,u),h},i.prototype.mul=function(s){var u=new i(null);return u.words=new Array(this.length+s.length),this.mulTo(s,u)},i.prototype.mulf=function(s){var u=new i(null);return u.words=new Array(this.length+s.length),O(this,s,u)},i.prototype.imul=function(s){return this.clone().mulTo(s,this)},i.prototype.imuln=function(s){var u=s<0;u&&(s=-s),r(typeof s=="number"),r(s<67108864);for(var h=0,p=0;p<this.length;p++){var y=(this.words[p]|0)*s,v=(y&67108863)+(h&67108863);h>>=26,h+=y/67108864|0,h+=v>>>26,this.words[p]=v&67108863}return h!==0&&(this.words[p]=h,this.length++),this.length=s===0?1:this.length,u?this.ineg():this},i.prototype.muln=function(s){return this.clone().imuln(s)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(s){var u=C(s);if(u.length===0)return new i(1);for(var h=this,p=0;p<u.length&&u[p]===0;p++,h=h.sqr());if(++p<u.length)for(var y=h.sqr();p<u.length;p++,y=y.sqr())u[p]!==0&&(h=h.mul(y));return h},i.prototype.iushln=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,p=67108863>>>26-u<<26-u,y;if(u!==0){var v=0;for(y=0;y<this.length;y++){var b=this.words[y]&p,m=(this.words[y]|0)-b<<u;this.words[y]=m|v,v=b>>>26-u}v&&(this.words[y]=v,this.length++)}if(h!==0){for(y=this.length-1;y>=0;y--)this.words[y+h]=this.words[y];for(y=0;y<h;y++)this.words[y]=0;this.length+=h}return this._strip()},i.prototype.ishln=function(s){return r(this.negative===0),this.iushln(s)},i.prototype.iushrn=function(s,u,h){r(typeof s=="number"&&s>=0);var p;u?p=(u-u%26)/26:p=0;var y=s%26,v=Math.min((s-y)/26,this.length),b=67108863^67108863>>>y<<y,m=h;if(p-=v,p=Math.max(0,p),m){for(var l=0;l<v;l++)m.words[l]=this.words[l];m.length=v}if(v!==0)if(this.length>v)for(this.length-=v,l=0;l<this.length;l++)this.words[l]=this.words[l+v];else this.words[0]=0,this.length=1;var w=0;for(l=this.length-1;l>=0&&(w!==0||l>=p);l--){var K=this.words[l]|0;this.words[l]=w<<26-y|K>>>y,w=K&b}return m&&w!==0&&(m.words[m.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(s,u,h){return r(this.negative===0),this.iushrn(s,u,h)},i.prototype.shln=function(s){return this.clone().ishln(s)},i.prototype.ushln=function(s){return this.clone().iushln(s)},i.prototype.shrn=function(s){return this.clone().ishrn(s)},i.prototype.ushrn=function(s){return this.clone().iushrn(s)},i.prototype.testn=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,p=1<<u;if(this.length<=h)return!1;var y=this.words[h];return!!(y&p)},i.prototype.imaskn=function(s){r(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var p=67108863^67108863>>>u<<u;this.words[this.length-1]&=p}return this._strip()},i.prototype.maskn=function(s){return this.clone().imaskn(s)},i.prototype.iaddn=function(s){return r(typeof s=="number"),r(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},i.prototype._iaddn=function(s){this.words[0]+=s;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(s){if(r(typeof s=="number"),r(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},i.prototype.addn=function(s){return this.clone().iaddn(s)},i.prototype.subn=function(s){return this.clone().isubn(s)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(s,u,h){var p=s.length+h,y;this._expand(p);var v,b=0;for(y=0;y<s.length;y++){v=(this.words[y+h]|0)+b;var m=(s.words[y]|0)*u;v-=m&67108863,b=(v>>26)-(m/67108864|0),this.words[y+h]=v&67108863}for(;y<this.length-h;y++)v=(this.words[y+h]|0)+b,b=v>>26,this.words[y+h]=v&67108863;if(b===0)return this._strip();for(r(b===-1),b=0,y=0;y<this.length;y++)v=-(this.words[y]|0)+b,b=v>>26,this.words[y]=v&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(s,u){var h=this.length-s.length,p=this.clone(),y=s,v=y.words[y.length-1]|0,b=this._countBits(v);h=26-b,h!==0&&(y=y.ushln(h),p.iushln(h),v=y.words[y.length-1]|0);var m=p.length-y.length,l;if(u!=="mod"){l=new i(null),l.length=m+1,l.words=new Array(l.length);for(var w=0;w<l.length;w++)l.words[w]=0}var K=p.clone()._ishlnsubmul(y,1,m);K.negative===0&&(p=K,l&&(l.words[m]=1));for(var $=m-1;$>=0;$--){var q=(p.words[y.length+$]|0)*67108864+(p.words[y.length+$-1]|0);for(q=Math.min(q/v|0,67108863),p._ishlnsubmul(y,q,$);p.negative!==0;)q--,p.negative=0,p._ishlnsubmul(y,1,$),p.isZero()||(p.negative^=1);l&&(l.words[$]=q)}return l&&l._strip(),p._strip(),u!=="div"&&h!==0&&p.iushrn(h),{div:l||null,mod:p}},i.prototype.divmod=function(s,u,h){if(r(!s.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var p,y,v;return this.negative!==0&&s.negative===0?(v=this.neg().divmod(s,u),u!=="mod"&&(p=v.div.neg()),u!=="div"&&(y=v.mod.neg(),h&&y.negative!==0&&y.iadd(s)),{div:p,mod:y}):this.negative===0&&s.negative!==0?(v=this.divmod(s.neg(),u),u!=="mod"&&(p=v.div.neg()),{div:p,mod:v.mod}):this.negative&s.negative?(v=this.neg().divmod(s.neg(),u),u!=="div"&&(y=v.mod.neg(),h&&y.negative!==0&&y.isub(s)),{div:v.div,mod:y}):s.length>this.length||this.cmp(s)<0?{div:new i(0),mod:this}:s.length===1?u==="div"?{div:this.divn(s.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new i(this.modrn(s.words[0]))}:this._wordDiv(s,u)},i.prototype.div=function(s){return this.divmod(s,"div",!1).div},i.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},i.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},i.prototype.divRound=function(s){var u=this.divmod(s);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(s):u.mod,p=s.ushrn(1),y=s.andln(1),v=h.cmp(p);return v<0||y===1&&v===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modrn=function(s){var u=s<0;u&&(s=-s),r(s<=67108863);for(var h=(1<<26)%s,p=0,y=this.length-1;y>=0;y--)p=(h*p+(this.words[y]|0))%s;return u?-p:p},i.prototype.modn=function(s){return this.modrn(s)},i.prototype.idivn=function(s){var u=s<0;u&&(s=-s),r(s<=67108863);for(var h=0,p=this.length-1;p>=0;p--){var y=(this.words[p]|0)+h*67108864;this.words[p]=y/s|0,h=y%s}return this._strip(),u?this.ineg():this},i.prototype.divn=function(s){return this.clone().idivn(s)},i.prototype.egcd=function(s){r(s.negative===0),r(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var p=new i(1),y=new i(0),v=new i(0),b=new i(1),m=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++m;for(var l=h.clone(),w=u.clone();!u.isZero();){for(var K=0,$=1;!(u.words[0]&$)&&K<26;++K,$<<=1);if(K>0)for(u.iushrn(K);K-- >0;)(p.isOdd()||y.isOdd())&&(p.iadd(l),y.isub(w)),p.iushrn(1),y.iushrn(1);for(var q=0,ue=1;!(h.words[0]&ue)&&q<26;++q,ue<<=1);if(q>0)for(h.iushrn(q);q-- >0;)(v.isOdd()||b.isOdd())&&(v.iadd(l),b.isub(w)),v.iushrn(1),b.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(v),y.isub(b)):(h.isub(u),v.isub(p),b.isub(y))}return{a:v,b,gcd:h.iushln(m)}},i.prototype._invmp=function(s){r(s.negative===0),r(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var p=new i(1),y=new i(0),v=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var b=0,m=1;!(u.words[0]&m)&&b<26;++b,m<<=1);if(b>0)for(u.iushrn(b);b-- >0;)p.isOdd()&&p.iadd(v),p.iushrn(1);for(var l=0,w=1;!(h.words[0]&w)&&l<26;++l,w<<=1);if(l>0)for(h.iushrn(l);l-- >0;)y.isOdd()&&y.iadd(v),y.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(y)):(h.isub(u),y.isub(p))}var K;return u.cmpn(1)===0?K=p:K=y,K.cmpn(0)<0&&K.iadd(s),K},i.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var u=this.clone(),h=s.clone();u.negative=0,h.negative=0;for(var p=0;u.isEven()&&h.isEven();p++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var y=u.cmp(h);if(y<0){var v=u;u=h,h=v}else if(y===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(p)},i.prototype.invm=function(s){return this.egcd(s).a.umod(s)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(s){return this.words[0]&s},i.prototype.bincn=function(s){r(typeof s=="number");var u=s%26,h=(s-u)/26,p=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=p,this;for(var y=p,v=h;y!==0&&v<this.length;v++){var b=this.words[v]|0;b+=y,y=b>>>26,b&=67108863,this.words[v]=b}return y!==0&&(this.words[v]=y,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(s){var u=s<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var h;if(this.length>1)h=1;else{u&&(s=-s),r(s<=67108863,"Number is too big");var p=this.words[0]|0;h=p===s?0:p<s?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var u=this.ucmp(s);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var p=this.words[h]|0,y=s.words[h]|0;if(p!==y){p<y?u=-1:p>y&&(u=1);break}}return u},i.prototype.gtn=function(s){return this.cmpn(s)===1},i.prototype.gt=function(s){return this.cmp(s)===1},i.prototype.gten=function(s){return this.cmpn(s)>=0},i.prototype.gte=function(s){return this.cmp(s)>=0},i.prototype.ltn=function(s){return this.cmpn(s)===-1},i.prototype.lt=function(s){return this.cmp(s)===-1},i.prototype.lten=function(s){return this.cmpn(s)<=0},i.prototype.lte=function(s){return this.cmp(s)<=0},i.prototype.eqn=function(s){return this.cmpn(s)===0},i.prototype.eq=function(s){return this.cmp(s)===0},i.red=function(s){return new j(s)},i.prototype.toRed=function(s){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(s){return this.red=s,this},i.prototype.forceRed=function(s){return r(!this.red,"Already a number in reduction context"),this._forceRed(s)},i.prototype.redAdd=function(s){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},i.prototype.redIAdd=function(s){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},i.prototype.redSub=function(s){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},i.prototype.redISub=function(s){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},i.prototype.redShl=function(s){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},i.prototype.redMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},i.prototype.redIMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(s){return r(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var D={k256:null,p224:null,p192:null,p25519:null};function z(d,s){this.name=d,this.p=new i(s,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}z.prototype._tmp=function(){var s=new i(null);return s.words=new Array(Math.ceil(this.n/13)),s},z.prototype.ireduce=function(s){var u=s,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var p=h<this.n?-1:u.ucmp(this.p);return p===0?(u.words[0]=0,u.length=1):p>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},z.prototype.split=function(s,u){s.iushrn(this.n,0,u)},z.prototype.imulK=function(s){return s.imul(this.k)};function P(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(P,z),P.prototype.split=function(s,u){for(var h=4194303,p=Math.min(s.length,9),y=0;y<p;y++)u.words[y]=s.words[y];if(u.length=p,s.length<=9){s.words[0]=0,s.length=1;return}var v=s.words[9];for(u.words[u.length++]=v&h,y=10;y<s.length;y++){var b=s.words[y]|0;s.words[y-10]=(b&h)<<4|v>>>22,v=b}v>>>=22,s.words[y-10]=v,v===0&&s.length>10?s.length-=10:s.length-=9},P.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var u=0,h=0;h<s.length;h++){var p=s.words[h]|0;u+=p*977,s.words[h]=u&67108863,u=p*64+(u/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function W(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(W,z);function U(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(U,z);function F(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(F,z),F.prototype.imulK=function(s){for(var u=0,h=0;h<s.length;h++){var p=(s.words[h]|0)*19+u,y=p&67108863;p>>>=26,s.words[h]=y,u=p}return u!==0&&(s.words[s.length++]=u),s},i._prime=function(s){if(D[s])return D[s];var u;if(s==="k256")u=new P;else if(s==="p224")u=new W;else if(s==="p192")u=new U;else if(s==="p25519")u=new F;else throw new Error("Unknown prime "+s);return D[s]=u,u};function j(d){if(typeof d=="string"){var s=i._prime(d);this.m=s.p,this.prime=s}else r(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}j.prototype._verify1=function(s){r(s.negative===0,"red works only with positives"),r(s.red,"red works only with red numbers")},j.prototype._verify2=function(s,u){r((s.negative|u.negative)===0,"red works only with positives"),r(s.red&&s.red===u.red,"red works only with red numbers")},j.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(_(s,s.umod(this.m)._forceRed(this)),s)},j.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},j.prototype.add=function(s,u){this._verify2(s,u);var h=s.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},j.prototype.iadd=function(s,u){this._verify2(s,u);var h=s.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},j.prototype.sub=function(s,u){this._verify2(s,u);var h=s.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},j.prototype.isub=function(s,u){this._verify2(s,u);var h=s.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},j.prototype.shl=function(s,u){return this._verify1(s),this.imod(s.ushln(u))},j.prototype.imul=function(s,u){return this._verify2(s,u),this.imod(s.imul(u))},j.prototype.mul=function(s,u){return this._verify2(s,u),this.imod(s.mul(u))},j.prototype.isqr=function(s){return this.imul(s,s.clone())},j.prototype.sqr=function(s){return this.mul(s,s)},j.prototype.sqrt=function(s){if(s.isZero())return s.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(s,h)}for(var p=this.m.subn(1),y=0;!p.isZero()&&p.andln(1)===0;)y++,p.iushrn(1);r(!p.isZero());var v=new i(1).toRed(this),b=v.redNeg(),m=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);this.pow(l,m).cmp(b)!==0;)l.redIAdd(b);for(var w=this.pow(l,p),K=this.pow(s,p.addn(1).iushrn(1)),$=this.pow(s,p),q=y;$.cmp(v)!==0;){for(var ue=$,Y=0;ue.cmp(v)!==0;Y++)ue=ue.redSqr();r(Y<q);var ne=this.pow(w,new i(1).iushln(q-Y-1));K=K.redMul(ne),w=ne.redSqr(),$=$.redMul(w),q=Y}return K},j.prototype.invm=function(s){var u=s._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},j.prototype.pow=function(s,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return s.clone();var h=4,p=new Array(1<<h);p[0]=new i(1).toRed(this),p[1]=s;for(var y=2;y<p.length;y++)p[y]=this.mul(p[y-1],s);var v=p[0],b=0,m=0,l=u.bitLength()%26;for(l===0&&(l=26),y=u.length-1;y>=0;y--){for(var w=u.words[y],K=l-1;K>=0;K--){var $=w>>K&1;if(v!==p[0]&&(v=this.sqr(v)),$===0&&b===0){m=0;continue}b<<=1,b|=$,m++,!(m!==h&&(y!==0||K!==0))&&(v=this.mul(v,p[b]),m=0,b=0)}l=26}return v},j.prototype.convertTo=function(s){var u=s.umod(this.m);return u===s?u.clone():u},j.prototype.convertFrom=function(s){var u=s.clone();return u.red=null,u},i.mont=function(s){return new V(s)};function V(d){j.call(this,d),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(V,j),V.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},V.prototype.convertFrom=function(s){var u=this.imod(s.mul(this.rinv));return u.red=null,u},V.prototype.imul=function(s,u){if(s.isZero()||u.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(p).iushrn(this.shift),v=y;return y.cmp(this.m)>=0?v=y.isub(this.m):y.cmpn(0)<0&&(v=y.iadd(this.m)),v._forceRed(this)},V.prototype.mul=function(s,u){if(s.isZero()||u.isZero())return new i(0)._forceRed(this);var h=s.mul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(p).iushrn(this.shift),v=y;return y.cmp(this.m)>=0?v=y.isub(this.m):y.cmpn(0)<0&&(v=y.iadd(this.m)),v._forceRed(this)},V.prototype.invm=function(s){var u=this.imod(s._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(t,jn)})(r1);var GP=r1.exports;(function(t){var e=jn&&jn.__importDefault||function(V){return V&&V.__esModule?V:{default:V}};Object.defineProperty(t,"__esModule",{value:!0}),t.struct=t.f64=t.f32=t.i32=t.u32=t.i16=t.u16=t.i8=t.u8=void 0,t.u64=c,t.i64=f,t.u128=g,t.i128=_,t.u256=M,t.i256=S,t.publicKey=A,t.option=C,t.bool=R,t.vec=O,t.tagged=D,t.vecU8=z,t.str=P,t.rustEnum=W,t.array=U,t.map=j;const n=qe,r=Ow,o=e(GP);var i=qe;Object.defineProperty(t,"u8",{enumerable:!0,get:function(){return i.u8}}),Object.defineProperty(t,"i8",{enumerable:!0,get:function(){return i.s8}}),Object.defineProperty(t,"u16",{enumerable:!0,get:function(){return i.u16}}),Object.defineProperty(t,"i16",{enumerable:!0,get:function(){return i.s16}}),Object.defineProperty(t,"u32",{enumerable:!0,get:function(){return i.u32}}),Object.defineProperty(t,"i32",{enumerable:!0,get:function(){return i.s32}}),Object.defineProperty(t,"f32",{enumerable:!0,get:function(){return i.f32}}),Object.defineProperty(t,"f64",{enumerable:!0,get:function(){return i.f64}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return i.struct}});class a extends n.Layout{constructor(d,s,u){super(d,u),this.blob=(0,n.blob)(d),this.signed=s}decode(d,s=0){const u=new o.default(this.blob.decode(d,s),10,"le");return this.signed?u.fromTwos(this.span*8).clone():u}encode(d,s,u=0){return this.signed&&(d=d.toTwos(this.span*8)),this.blob.encode(d.toArrayLike(Buffer,"le",this.span),s,u)}}function c(V){return new a(8,!1,V)}function f(V){return new a(8,!0,V)}function g(V){return new a(16,!1,V)}function _(V){return new a(16,!0,V)}function M(V){return new a(32,!1,V)}function S(V){return new a(32,!0,V)}class E extends n.Layout{constructor(d,s,u,h){super(d.span,h),this.layout=d,this.decoder=s,this.encoder=u}decode(d,s){return this.decoder(this.layout.decode(d,s))}encode(d,s,u){return this.layout.encode(this.encoder(d),s,u)}getSpan(d,s){return this.layout.getSpan(d,s)}}function A(V){return new E((0,n.blob)(32),d=>new r.PublicKey(d),d=>d.toBuffer(),V)}class k extends n.Layout{constructor(d,s){super(-1,s),this.layout=d,this.discriminator=(0,n.u8)()}encode(d,s,u=0){return d==null?this.discriminator.encode(0,s,u):(this.discriminator.encode(1,s,u),this.layout.encode(d,s,u+1)+1)}decode(d,s=0){const u=this.discriminator.decode(d,s);if(u===0)return null;if(u===1)return this.layout.decode(d,s+1);throw new Error("Invalid option "+this.property)}getSpan(d,s=0){const u=this.discriminator.decode(d,s);if(u===0)return 1;if(u===1)return this.layout.getSpan(d,s+1)+1;throw new Error("Invalid option "+this.property)}}function C(V,d){return new k(V,d)}function R(V){return new E((0,n.u8)(),T,N,V)}function T(V){if(V===0)return!1;if(V===1)return!0;throw new Error("Invalid bool: "+V)}function N(V){return V?1:0}function O(V,d){const s=(0,n.u32)("length"),u=(0,n.struct)([s,(0,n.seq)(V,(0,n.offset)(s,-s.span),"values")]);return new E(u,({values:h})=>h,h=>({values:h}),d)}function D(V,d,s){const u=(0,n.struct)([c("tag"),d.replicate("data")]);function h({tag:p,data:y}){if(!p.eq(V))throw new Error("Invalid tag, expected: "+V.toString("hex")+", got: "+p.toString("hex"));return y}return new E(u,h,p=>({tag:V,data:p}),s)}function z(V){const d=(0,n.u32)("length"),s=(0,n.struct)([d,(0,n.blob)((0,n.offset)(d,-d.span),"data")]);return new E(s,({data:u})=>u,u=>({data:u}),V)}function P(V){return new E(z(),d=>d.toString("utf-8"),d=>Buffer.from(d,"utf-8"),V)}function W(V,d,s){const u=(0,n.union)(s??(0,n.u8)(),d);return V.forEach((h,p)=>u.addVariant(p,h,h.property)),u}function U(V,d,s){const u=(0,n.struct)([(0,n.seq)(V,d,"values")]);return new E(u,({values:h})=>h,h=>({values:h}),s)}class F extends n.Layout{constructor(d,s,u){super(d.span+s.span,u),this.keyLayout=d,this.valueLayout=s}decode(d,s){s=s||0;const u=this.keyLayout.decode(d,s),h=this.valueLayout.decode(d,s+this.keyLayout.getSpan(d,s));return[u,h]}encode(d,s,u){u=u||0;const h=this.keyLayout.encode(d[0],s,u),p=this.valueLayout.encode(d[1],s,u+h);return h+p}getSpan(d,s){return this.keyLayout.getSpan(d,s)+this.valueLayout.getSpan(d,s)}}function j(V,d,s){const u=(0,n.u32)("length"),h=(0,n.struct)([u,(0,n.seq)(new F(V,d),(0,n.offset)(u,-u.span),"values")]);return new E(h,({values:p})=>new Map(p),p=>({values:Array.from(p.entries())}),s)}})(rt);function Jl(t){let e=t.length;for(;--e>=0;)t[e]=0}const ZP=3,YP=258,Px=29,QP=256,XP=QP+1+Px,Dx=30,JP=512,eD=new Array((XP+2)*2);Jl(eD);const tD=new Array(Dx*2);Jl(tD);const nD=new Array(JP);Jl(nD);const rD=new Array(YP-ZP+1);Jl(rD);const iD=new Array(Px);Jl(iD);const oD=new Array(Dx);Jl(oD);const sD=(t,e,n,r)=>{let o=t&65535|0,i=t>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do o=o+e[r++]|0,i=i+o|0;while(--a);o%=65521,i%=65521}return o|i<<16|0};var Kg=sD;const aD=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},lD=new Uint32Array(aD()),uD=(t,e,n,r)=>{const o=lD,i=r+n;t^=-1;for(let a=r;a<i;a++)t=t>>>8^o[(t^e[a])&255];return t^-1};var Oi=uD,Vg={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ux={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const cD=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var fD=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)cD(n,r)&&(t[r]=n[r])}}return t},hD=t=>{let e=0;for(let r=0,o=t.length;r<o;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,o=0,i=t.length;r<i;r++){let a=t[r];n.set(a,o),o+=a.length}return n},zx={assign:fD,flattenChunks:hD};let jx=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{jx=!1}const yc=new Uint8Array(256);for(let t=0;t<256;t++)yc[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;yc[254]=yc[254]=1;var dD=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,o,i,a=t.length,c=0;for(o=0;o<a;o++)n=t.charCodeAt(o),(n&64512)===55296&&o+1<a&&(r=t.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),c+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(c),i=0,o=0;i<c;o++)n=t.charCodeAt(o),(n&64512)===55296&&o+1<a&&(r=t.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),n<128?e[i++]=n:n<2048?(e[i++]=192|n>>>6,e[i++]=128|n&63):n<65536?(e[i++]=224|n>>>12,e[i++]=128|n>>>6&63,e[i++]=128|n&63):(e[i++]=240|n>>>18,e[i++]=128|n>>>12&63,e[i++]=128|n>>>6&63,e[i++]=128|n&63);return e};const pD=(t,e)=>{if(e<65534&&t.subarray&&jx)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var mD=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,o;const i=new Array(n*2);for(o=0,r=0;r<n;){let a=t[r++];if(a<128){i[o++]=a;continue}let c=yc[a];if(c>4){i[o++]=65533,r+=c-1;continue}for(a&=c===2?31:c===3?15:7;c>1&&r<n;)a=a<<6|t[r++]&63,c--;if(c>1){i[o++]=65533;continue}a<65536?i[o++]=a:(a-=65536,i[o++]=55296|a>>10&1023,i[o++]=56320|a&1023)}return pD(i,o)},gD=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+yc[t[n]]>e?n:e},qg={string2buf:dD,buf2string:mD,utf8border:gD};function yD(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var wD=yD;const vf=16209,vD=16191;var _D=function(e,n){let r,o,i,a,c,f,g,_,M,S,E,A,k,C,R,T,N,O,D,z,P,W,U,F;const j=e.state;r=e.next_in,U=e.input,o=r+(e.avail_in-5),i=e.next_out,F=e.output,a=i-(n-e.avail_out),c=i+(e.avail_out-257),f=j.dmax,g=j.wsize,_=j.whave,M=j.wnext,S=j.window,E=j.hold,A=j.bits,k=j.lencode,C=j.distcode,R=(1<<j.lenbits)-1,T=(1<<j.distbits)-1;e:do{A<15&&(E+=U[r++]<<A,A+=8,E+=U[r++]<<A,A+=8),N=k[E&R];t:for(;;){if(O=N>>>24,E>>>=O,A-=O,O=N>>>16&255,O===0)F[i++]=N&65535;else if(O&16){D=N&65535,O&=15,O&&(A<O&&(E+=U[r++]<<A,A+=8),D+=E&(1<<O)-1,E>>>=O,A-=O),A<15&&(E+=U[r++]<<A,A+=8,E+=U[r++]<<A,A+=8),N=C[E&T];n:for(;;){if(O=N>>>24,E>>>=O,A-=O,O=N>>>16&255,O&16){if(z=N&65535,O&=15,A<O&&(E+=U[r++]<<A,A+=8,A<O&&(E+=U[r++]<<A,A+=8)),z+=E&(1<<O)-1,z>f){e.msg="invalid distance too far back",j.mode=vf;break e}if(E>>>=O,A-=O,O=i-a,z>O){if(O=z-O,O>_&&j.sane){e.msg="invalid distance too far back",j.mode=vf;break e}if(P=0,W=S,M===0){if(P+=g-O,O<D){D-=O;do F[i++]=S[P++];while(--O);P=i-z,W=F}}else if(M<O){if(P+=g+M-O,O-=M,O<D){D-=O;do F[i++]=S[P++];while(--O);if(P=0,M<D){O=M,D-=O;do F[i++]=S[P++];while(--O);P=i-z,W=F}}}else if(P+=M-O,O<D){D-=O;do F[i++]=S[P++];while(--O);P=i-z,W=F}for(;D>2;)F[i++]=W[P++],F[i++]=W[P++],F[i++]=W[P++],D-=3;D&&(F[i++]=W[P++],D>1&&(F[i++]=W[P++]))}else{P=i-z;do F[i++]=F[P++],F[i++]=F[P++],F[i++]=F[P++],D-=3;while(D>2);D&&(F[i++]=F[P++],D>1&&(F[i++]=F[P++]))}}else if(O&64){e.msg="invalid distance code",j.mode=vf;break e}else{N=C[(N&65535)+(E&(1<<O)-1)];continue n}break}}else if(O&64)if(O&32){j.mode=vD;break e}else{e.msg="invalid literal/length code",j.mode=vf;break e}else{N=k[(N&65535)+(E&(1<<O)-1)];continue t}break}}while(r<o&&i<c);D=A>>3,r-=D,A-=D<<3,E&=(1<<A)-1,e.next_in=r,e.next_out=i,e.avail_in=r<o?5+(o-r):5-(r-o),e.avail_out=i<c?257+(c-i):257-(i-c),j.hold=E,j.bits=A};const ka=15,U_=852,z_=592,j_=0,kp=1,W_=2,ED=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),bD=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),SD=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),MD=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),AD=(t,e,n,r,o,i,a,c)=>{const f=c.bits;let g=0,_=0,M=0,S=0,E=0,A=0,k=0,C=0,R=0,T=0,N,O,D,z,P,W=null,U;const F=new Uint16Array(ka+1),j=new Uint16Array(ka+1);let V=null,d,s,u;for(g=0;g<=ka;g++)F[g]=0;for(_=0;_<r;_++)F[e[n+_]]++;for(E=f,S=ka;S>=1&&F[S]===0;S--);if(E>S&&(E=S),S===0)return o[i++]=1<<24|64<<16|0,o[i++]=1<<24|64<<16|0,c.bits=1,0;for(M=1;M<S&&F[M]===0;M++);for(E<M&&(E=M),C=1,g=1;g<=ka;g++)if(C<<=1,C-=F[g],C<0)return-1;if(C>0&&(t===j_||S!==1))return-1;for(j[1]=0,g=1;g<ka;g++)j[g+1]=j[g]+F[g];for(_=0;_<r;_++)e[n+_]!==0&&(a[j[e[n+_]]++]=_);if(t===j_?(W=V=a,U=20):t===kp?(W=ED,V=bD,U=257):(W=SD,V=MD,U=0),T=0,_=0,g=M,P=i,A=E,k=0,D=-1,R=1<<E,z=R-1,t===kp&&R>U_||t===W_&&R>z_)return 1;for(;;){d=g-k,a[_]+1<U?(s=0,u=a[_]):a[_]>=U?(s=V[a[_]-U],u=W[a[_]-U]):(s=96,u=0),N=1<<g-k,O=1<<A,M=O;do O-=N,o[P+(T>>k)+O]=d<<24|s<<16|u|0;while(O!==0);for(N=1<<g-1;T&N;)N>>=1;if(N!==0?(T&=N-1,T+=N):T=0,_++,--F[g]===0){if(g===S)break;g=e[n+a[_]]}if(g>E&&(T&z)!==D){for(k===0&&(k=E),P+=M,A=g-k,C=1<<A;A+k<S&&(C-=F[A+k],!(C<=0));)A++,C<<=1;if(R+=1<<A,t===kp&&R>U_||t===W_&&R>z_)return 1;D=T&z,o[D]=E<<24|A<<16|P-i|0}}return T!==0&&(o[P+T]=g-k<<24|64<<16|0),c.bits=E,0};var Hu=AD;const xD=0,Wx=1,Fx=2,{Z_FINISH:F_,Z_BLOCK:RD,Z_TREES:_f,Z_OK:pa,Z_STREAM_END:ID,Z_NEED_DICT:ND,Z_STREAM_ERROR:oi,Z_DATA_ERROR:$x,Z_MEM_ERROR:Hx,Z_BUF_ERROR:TD,Z_DEFLATED:$_}=Ux,m0=16180,H_=16181,K_=16182,V_=16183,q_=16184,G_=16185,Z_=16186,Y_=16187,Q_=16188,X_=16189,pd=16190,so=16191,Cp=16192,J_=16193,Op=16194,eE=16195,tE=16196,nE=16197,rE=16198,Ef=16199,bf=16200,iE=16201,oE=16202,sE=16203,aE=16204,lE=16205,Lp=16206,uE=16207,cE=16208,Bt=16209,Kx=16210,Vx=16211,kD=852,CD=592,OD=15,LD=OD,fE=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function BD(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ma=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<m0||e.mode>Vx?1:0},qx=t=>{if(Ma(t))return oi;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=m0,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(kD),e.distcode=e.distdyn=new Int32Array(CD),e.sane=1,e.back=-1,pa},Gx=t=>{if(Ma(t))return oi;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,qx(t)},Zx=(t,e)=>{let n;if(Ma(t))return oi;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?oi:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,Gx(t))},Yx=(t,e)=>{if(!t)return oi;const n=new BD;t.state=n,n.strm=t,n.window=null,n.mode=m0;const r=Zx(t,e);return r!==pa&&(t.state=null),r},PD=t=>Yx(t,LD);let hE=!0,Bp,Pp;const DD=t=>{if(hE){Bp=new Int32Array(512),Pp=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Hu(Wx,t.lens,0,288,Bp,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Hu(Fx,t.lens,0,32,Pp,0,t.work,{bits:5}),hE=!1}t.lencode=Bp,t.lenbits=9,t.distcode=Pp,t.distbits=5},Qx=(t,e,n,r)=>{let o;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(e.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(o=i.wsize-i.wnext,o>r&&(o=r),i.window.set(e.subarray(n-r,n-r+o),i.wnext),r-=o,r?(i.window.set(e.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0},UD=(t,e)=>{let n,r,o,i,a,c,f,g,_,M,S,E,A,k,C=0,R,T,N,O,D,z,P,W;const U=new Uint8Array(4);let F,j;const V=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ma(t)||!t.output||!t.input&&t.avail_in!==0)return oi;n=t.state,n.mode===so&&(n.mode=Cp),a=t.next_out,o=t.output,f=t.avail_out,i=t.next_in,r=t.input,c=t.avail_in,g=n.hold,_=n.bits,M=c,S=f,W=pa;e:for(;;)switch(n.mode){case m0:if(n.wrap===0){n.mode=Cp;break}for(;_<16;){if(c===0)break e;c--,g+=r[i++]<<_,_+=8}if(n.wrap&2&&g===35615){n.wbits===0&&(n.wbits=15),n.check=0,U[0]=g&255,U[1]=g>>>8&255,n.check=Oi(n.check,U,2,0),g=0,_=0,n.mode=H_;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((g&255)<<8)+(g>>8))%31){t.msg="incorrect header check",n.mode=Bt;break}if((g&15)!==$_){t.msg="unknown compression method",n.mode=Bt;break}if(g>>>=4,_-=4,P=(g&15)+8,n.wbits===0&&(n.wbits=P),P>15||P>n.wbits){t.msg="invalid window size",n.mode=Bt;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=g&512?X_:so,g=0,_=0;break;case H_:for(;_<16;){if(c===0)break e;c--,g+=r[i++]<<_,_+=8}if(n.flags=g,(n.flags&255)!==$_){t.msg="unknown compression method",n.mode=Bt;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Bt;break}n.head&&(n.head.text=g>>8&1),n.flags&512&&n.wrap&4&&(U[0]=g&255,U[1]=g>>>8&255,n.check=Oi(n.check,U,2,0)),g=0,_=0,n.mode=K_;case K_:for(;_<32;){if(c===0)break e;c--,g+=r[i++]<<_,_+=8}n.head&&(n.head.time=g),n.flags&512&&n.wrap&4&&(U[0]=g&255,U[1]=g>>>8&255,U[2]=g>>>16&255,U[3]=g>>>24&255,n.check=Oi(n.check,U,4,0)),g=0,_=0,n.mode=V_;case V_:for(;_<16;){if(c===0)break e;c--,g+=r[i++]<<_,_+=8}n.head&&(n.head.xflags=g&255,n.head.os=g>>8),n.flags&512&&n.wrap&4&&(U[0]=g&255,U[1]=g>>>8&255,n.check=Oi(n.check,U,2,0)),g=0,_=0,n.mode=q_;case q_:if(n.flags&1024){for(;_<16;){if(c===0)break e;c--,g+=r[i++]<<_,_+=8}n.length=g,n.head&&(n.head.extra_len=g),n.flags&512&&n.wrap&4&&(U[0]=g&255,U[1]=g>>>8&255,n.check=Oi(n.check,U,2,0)),g=0,_=0}else n.head&&(n.head.extra=null);n.mode=G_;case G_:if(n.flags&1024&&(E=n.length,E>c&&(E=c),E&&(n.head&&(P=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+E),P)),n.flags&512&&n.wrap&4&&(n.check=Oi(n.check,r,E,i)),c-=E,i+=E,n.length-=E),n.length))break e;n.length=0,n.mode=Z_;case Z_:if(n.flags&2048){if(c===0)break e;E=0;do P=r[i+E++],n.head&&P&&n.length<65536&&(n.head.name+=String.fromCharCode(P));while(P&&E<c);if(n.flags&512&&n.wrap&4&&(n.check=Oi(n.check,r,E,i)),c-=E,i+=E,P)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Y_;case Y_:if(n.flags&4096){if(c===0)break e;E=0;do P=r[i+E++],n.head&&P&&n.length<65536&&(n.head.comment+=String.fromCharCode(P));while(P&&E<c);if(n.flags&512&&n.wrap&4&&(n.check=Oi(n.check,r,E,i)),c-=E,i+=E,P)break e}else n.head&&(n.head.comment=null);n.mode=Q_;case Q_:if(n.flags&512){for(;_<16;){if(c===0)break e;c--,g+=r[i++]<<_,_+=8}if(n.wrap&4&&g!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Bt;break}g=0,_=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=so;break;case X_:for(;_<32;){if(c===0)break e;c--,g+=r[i++]<<_,_+=8}t.adler=n.check=fE(g),g=0,_=0,n.mode=pd;case pd:if(n.havedict===0)return t.next_out=a,t.avail_out=f,t.next_in=i,t.avail_in=c,n.hold=g,n.bits=_,ND;t.adler=n.check=1,n.mode=so;case so:if(e===RD||e===_f)break e;case Cp:if(n.last){g>>>=_&7,_-=_&7,n.mode=Lp;break}for(;_<3;){if(c===0)break e;c--,g+=r[i++]<<_,_+=8}switch(n.last=g&1,g>>>=1,_-=1,g&3){case 0:n.mode=J_;break;case 1:if(DD(n),n.mode=Ef,e===_f){g>>>=2,_-=2;break e}break;case 2:n.mode=tE;break;case 3:t.msg="invalid block type",n.mode=Bt}g>>>=2,_-=2;break;case J_:for(g>>>=_&7,_-=_&7;_<32;){if(c===0)break e;c--,g+=r[i++]<<_,_+=8}if((g&65535)!==(g>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Bt;break}if(n.length=g&65535,g=0,_=0,n.mode=Op,e===_f)break e;case Op:n.mode=eE;case eE:if(E=n.length,E){if(E>c&&(E=c),E>f&&(E=f),E===0)break e;o.set(r.subarray(i,i+E),a),c-=E,i+=E,f-=E,a+=E,n.length-=E;break}n.mode=so;break;case tE:for(;_<14;){if(c===0)break e;c--,g+=r[i++]<<_,_+=8}if(n.nlen=(g&31)+257,g>>>=5,_-=5,n.ndist=(g&31)+1,g>>>=5,_-=5,n.ncode=(g&15)+4,g>>>=4,_-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Bt;break}n.have=0,n.mode=nE;case nE:for(;n.have<n.ncode;){for(;_<3;){if(c===0)break e;c--,g+=r[i++]<<_,_+=8}n.lens[V[n.have++]]=g&7,g>>>=3,_-=3}for(;n.have<19;)n.lens[V[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,F={bits:n.lenbits},W=Hu(xD,n.lens,0,19,n.lencode,0,n.work,F),n.lenbits=F.bits,W){t.msg="invalid code lengths set",n.mode=Bt;break}n.have=0,n.mode=rE;case rE:for(;n.have<n.nlen+n.ndist;){for(;C=n.lencode[g&(1<<n.lenbits)-1],R=C>>>24,T=C>>>16&255,N=C&65535,!(R<=_);){if(c===0)break e;c--,g+=r[i++]<<_,_+=8}if(N<16)g>>>=R,_-=R,n.lens[n.have++]=N;else{if(N===16){for(j=R+2;_<j;){if(c===0)break e;c--,g+=r[i++]<<_,_+=8}if(g>>>=R,_-=R,n.have===0){t.msg="invalid bit length repeat",n.mode=Bt;break}P=n.lens[n.have-1],E=3+(g&3),g>>>=2,_-=2}else if(N===17){for(j=R+3;_<j;){if(c===0)break e;c--,g+=r[i++]<<_,_+=8}g>>>=R,_-=R,P=0,E=3+(g&7),g>>>=3,_-=3}else{for(j=R+7;_<j;){if(c===0)break e;c--,g+=r[i++]<<_,_+=8}g>>>=R,_-=R,P=0,E=11+(g&127),g>>>=7,_-=7}if(n.have+E>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Bt;break}for(;E--;)n.lens[n.have++]=P}}if(n.mode===Bt)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Bt;break}if(n.lenbits=9,F={bits:n.lenbits},W=Hu(Wx,n.lens,0,n.nlen,n.lencode,0,n.work,F),n.lenbits=F.bits,W){t.msg="invalid literal/lengths set",n.mode=Bt;break}if(n.distbits=6,n.distcode=n.distdyn,F={bits:n.distbits},W=Hu(Fx,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,F),n.distbits=F.bits,W){t.msg="invalid distances set",n.mode=Bt;break}if(n.mode=Ef,e===_f)break e;case Ef:n.mode=bf;case bf:if(c>=6&&f>=258){t.next_out=a,t.avail_out=f,t.next_in=i,t.avail_in=c,n.hold=g,n.bits=_,_D(t,S),a=t.next_out,o=t.output,f=t.avail_out,i=t.next_in,r=t.input,c=t.avail_in,g=n.hold,_=n.bits,n.mode===so&&(n.back=-1);break}for(n.back=0;C=n.lencode[g&(1<<n.lenbits)-1],R=C>>>24,T=C>>>16&255,N=C&65535,!(R<=_);){if(c===0)break e;c--,g+=r[i++]<<_,_+=8}if(T&&!(T&240)){for(O=R,D=T,z=N;C=n.lencode[z+((g&(1<<O+D)-1)>>O)],R=C>>>24,T=C>>>16&255,N=C&65535,!(O+R<=_);){if(c===0)break e;c--,g+=r[i++]<<_,_+=8}g>>>=O,_-=O,n.back+=O}if(g>>>=R,_-=R,n.back+=R,n.length=N,T===0){n.mode=lE;break}if(T&32){n.back=-1,n.mode=so;break}if(T&64){t.msg="invalid literal/length code",n.mode=Bt;break}n.extra=T&15,n.mode=iE;case iE:if(n.extra){for(j=n.extra;_<j;){if(c===0)break e;c--,g+=r[i++]<<_,_+=8}n.length+=g&(1<<n.extra)-1,g>>>=n.extra,_-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=oE;case oE:for(;C=n.distcode[g&(1<<n.distbits)-1],R=C>>>24,T=C>>>16&255,N=C&65535,!(R<=_);){if(c===0)break e;c--,g+=r[i++]<<_,_+=8}if(!(T&240)){for(O=R,D=T,z=N;C=n.distcode[z+((g&(1<<O+D)-1)>>O)],R=C>>>24,T=C>>>16&255,N=C&65535,!(O+R<=_);){if(c===0)break e;c--,g+=r[i++]<<_,_+=8}g>>>=O,_-=O,n.back+=O}if(g>>>=R,_-=R,n.back+=R,T&64){t.msg="invalid distance code",n.mode=Bt;break}n.offset=N,n.extra=T&15,n.mode=sE;case sE:if(n.extra){for(j=n.extra;_<j;){if(c===0)break e;c--,g+=r[i++]<<_,_+=8}n.offset+=g&(1<<n.extra)-1,g>>>=n.extra,_-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Bt;break}n.mode=aE;case aE:if(f===0)break e;if(E=S-f,n.offset>E){if(E=n.offset-E,E>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Bt;break}E>n.wnext?(E-=n.wnext,A=n.wsize-E):A=n.wnext-E,E>n.length&&(E=n.length),k=n.window}else k=o,A=a-n.offset,E=n.length;E>f&&(E=f),f-=E,n.length-=E;do o[a++]=k[A++];while(--E);n.length===0&&(n.mode=bf);break;case lE:if(f===0)break e;o[a++]=n.length,f--,n.mode=bf;break;case Lp:if(n.wrap){for(;_<32;){if(c===0)break e;c--,g|=r[i++]<<_,_+=8}if(S-=f,t.total_out+=S,n.total+=S,n.wrap&4&&S&&(t.adler=n.check=n.flags?Oi(n.check,o,S,a-S):Kg(n.check,o,S,a-S)),S=f,n.wrap&4&&(n.flags?g:fE(g))!==n.check){t.msg="incorrect data check",n.mode=Bt;break}g=0,_=0}n.mode=uE;case uE:if(n.wrap&&n.flags){for(;_<32;){if(c===0)break e;c--,g+=r[i++]<<_,_+=8}if(n.wrap&4&&g!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Bt;break}g=0,_=0}n.mode=cE;case cE:W=ID;break e;case Bt:W=$x;break e;case Kx:return Hx;case Vx:default:return oi}return t.next_out=a,t.avail_out=f,t.next_in=i,t.avail_in=c,n.hold=g,n.bits=_,(n.wsize||S!==t.avail_out&&n.mode<Bt&&(n.mode<Lp||e!==F_))&&Qx(t,t.output,t.next_out,S-t.avail_out),M-=t.avail_in,S-=t.avail_out,t.total_in+=M,t.total_out+=S,n.total+=S,n.wrap&4&&S&&(t.adler=n.check=n.flags?Oi(n.check,o,S,t.next_out-S):Kg(n.check,o,S,t.next_out-S)),t.data_type=n.bits+(n.last?64:0)+(n.mode===so?128:0)+(n.mode===Ef||n.mode===Op?256:0),(M===0&&S===0||e===F_)&&W===pa&&(W=TD),W},zD=t=>{if(Ma(t))return oi;let e=t.state;return e.window&&(e.window=null),t.state=null,pa},jD=(t,e)=>{if(Ma(t))return oi;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,pa):oi},WD=(t,e)=>{const n=e.length;let r,o,i;return Ma(t)||(r=t.state,r.wrap!==0&&r.mode!==pd)?oi:r.mode===pd&&(o=1,o=Kg(o,e,n,0),o!==r.check)?$x:(i=Qx(t,e,n,n),i?(r.mode=Kx,Hx):(r.havedict=1,pa))};var FD=Gx,$D=Zx,HD=qx,KD=PD,VD=Yx,qD=UD,GD=zD,ZD=jD,YD=WD,QD="pako inflate (from Nodeca project)",po={inflateReset:FD,inflateReset2:$D,inflateResetKeep:HD,inflateInit:KD,inflateInit2:VD,inflate:qD,inflateEnd:GD,inflateGetHeader:ZD,inflateSetDictionary:YD,inflateInfo:QD};function XD(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var JD=XD;const Xx=Object.prototype.toString,{Z_NO_FLUSH:eU,Z_FINISH:tU,Z_OK:wc,Z_STREAM_END:Dp,Z_NEED_DICT:Up,Z_STREAM_ERROR:nU,Z_DATA_ERROR:dE,Z_MEM_ERROR:rU}=Ux;function g0(t){this.options=zx.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new wD,this.strm.avail_out=0;let n=po.inflateInit2(this.strm,e.windowBits);if(n!==wc)throw new Error(Vg[n]);if(this.header=new JD,po.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=qg.string2buf(e.dictionary):Xx.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=po.inflateSetDictionary(this.strm,e.dictionary),n!==wc)))throw new Error(Vg[n])}g0.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,o=this.options.dictionary;let i,a,c;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?tU:eU,Xx.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=po.inflate(n,a),i===Up&&o&&(i=po.inflateSetDictionary(n,o),i===wc?i=po.inflate(n,a):i===dE&&(i=Up));n.avail_in>0&&i===Dp&&n.state.wrap>0&&t[n.next_in]!==0;)po.inflateReset(n),i=po.inflate(n,a);switch(i){case nU:case dE:case Up:case rU:return this.onEnd(i),this.ended=!0,!1}if(c=n.avail_out,n.next_out&&(n.avail_out===0||i===Dp))if(this.options.to==="string"){let f=qg.utf8border(n.output,n.next_out),g=n.next_out-f,_=qg.buf2string(n.output,f);n.next_out=g,n.avail_out=r-g,g&&n.output.set(n.output.subarray(f,f+g),0),this.onData(_)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===wc&&c===0)){if(i===Dp)return i=po.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};g0.prototype.onData=function(t){this.chunks.push(t)};g0.prototype.onEnd=function(t){t===wc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=zx.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function iU(t,e){const n=new g0(e);if(n.push(t),n.err)throw n.msg||Vg[n.err];return n.result}var oU=iU,sU={inflate:oU};const{inflate:aU}=sU;var lU=aU,Jx={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function o(f,g,_){this.fn=f,this.context=g,this.once=_||!1}function i(f,g,_,M,S){if(typeof _!="function")throw new TypeError("The listener must be a function");var E=new o(_,M||f,S),A=n?n+g:g;return f._events[A]?f._events[A].fn?f._events[A]=[f._events[A],E]:f._events[A].push(E):(f._events[A]=E,f._eventsCount++),f}function a(f,g){--f._eventsCount===0?f._events=new r:delete f._events[g]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var g=[],_,M;if(this._eventsCount===0)return g;for(M in _=this._events)e.call(_,M)&&g.push(n?M.slice(1):M);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(_)):g},c.prototype.listeners=function(g){var _=n?n+g:g,M=this._events[_];if(!M)return[];if(M.fn)return[M.fn];for(var S=0,E=M.length,A=new Array(E);S<E;S++)A[S]=M[S].fn;return A},c.prototype.listenerCount=function(g){var _=n?n+g:g,M=this._events[_];return M?M.fn?1:M.length:0},c.prototype.emit=function(g,_,M,S,E,A){var k=n?n+g:g;if(!this._events[k])return!1;var C=this._events[k],R=arguments.length,T,N;if(C.fn){switch(C.once&&this.removeListener(g,C.fn,void 0,!0),R){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,_),!0;case 3:return C.fn.call(C.context,_,M),!0;case 4:return C.fn.call(C.context,_,M,S),!0;case 5:return C.fn.call(C.context,_,M,S,E),!0;case 6:return C.fn.call(C.context,_,M,S,E,A),!0}for(N=1,T=new Array(R-1);N<R;N++)T[N-1]=arguments[N];C.fn.apply(C.context,T)}else{var O=C.length,D;for(N=0;N<O;N++)switch(C[N].once&&this.removeListener(g,C[N].fn,void 0,!0),R){case 1:C[N].fn.call(C[N].context);break;case 2:C[N].fn.call(C[N].context,_);break;case 3:C[N].fn.call(C[N].context,_,M);break;case 4:C[N].fn.call(C[N].context,_,M,S);break;default:if(!T)for(D=1,T=new Array(R-1);D<R;D++)T[D-1]=arguments[D];C[N].fn.apply(C[N].context,T)}}return!0},c.prototype.on=function(g,_,M){return i(this,g,_,M,!1)},c.prototype.once=function(g,_,M){return i(this,g,_,M,!0)},c.prototype.removeListener=function(g,_,M,S){var E=n?n+g:g;if(!this._events[E])return this;if(!_)return a(this,E),this;var A=this._events[E];if(A.fn)A.fn===_&&(!S||A.once)&&(!M||A.context===M)&&a(this,E);else{for(var k=0,C=[],R=A.length;k<R;k++)(A[k].fn!==_||S&&!A[k].once||M&&A[k].context!==M)&&C.push(A[k]);C.length?this._events[E]=C.length===1?C[0]:C:a(this,E)}return this},c.prototype.removeAllListeners=function(g){var _;return g?(_=n?n+g:g,this._events[_]&&a(this,_)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(Jx);var uU=Jx.exports;const cU=Yi(uU);function fU(t,e){return Array.apply(0,new Array(Math.ceil(t.length/e))).map((n,r)=>t.slice(r*e,(r+1)*e))}const ks=t=>"version"in t;function hU(t){return new TextDecoder("utf-8").decode(t)}function pE(t){return Yw.encode(t)}function eR(t){return Ze.Buffer.from(t,"base64")}function Go(t){return"accounts"in t}async function dU(t){const e=(await re.findProgramAddress([],t))[0];return await re.createWithSeed(e,pU(),t)}function pU(){return"anchor:idl"}const mU=rt.struct([rt.publicKey("authority"),rt.vecU8("data")]);function gU(t){return mU.decode(t)}function yU(t){const e=["name","path","account","relations","generic"],n=i=>i.split(".").map(FP).join("."),r=i=>{for(const a in i){const c=i[a];e.includes(a)?i[a]=Array.isArray(c)?c.map(n):n(c):typeof c=="object"&&r(c)}},o=structuredClone(t);return r(o),o}function sl(t,e,n,r){return t!=null&&t.length?t[0].name?n(t):r(t):e()}function wU(t){const e=new Map;return t.errors&&t.errors.forEach(n=>{var r;let o=(r=n.msg)!==null&&r!==void 0?r:n.name;e.set(n.code,o)}),e}function vU(t,...e){if(t.args.length!=e.length)throw new Error("Invalid argument length");const n={};let r=0;return t.args.forEach(o=>{n[o.name]=e[r],r+=1}),n}function tR(t,e={}){t.forEach(n=>{if(Go(n))tR(n.accounts,e[n.name]);else if(!e[n.name])throw new Error(`Account \`${n.name}\` not provided.`)})}function Si(t){return t instanceof re?t:new re(t)}class _U extends TypeError{constructor(e,n){let r;const{message:o,...i}=e,{path:a}=e,c=a.length===0?o:"At path: "+a.join(".")+" -- "+o;super(c),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var f;return(f=r)!=null?f:r=[e,...n()]}}}function EU(t){return wl(t)&&typeof t[Symbol.iterator]=="function"}function wl(t){return typeof t=="object"&&t!=null}function bs(t){return typeof t=="string"?JSON.stringify(t):""+t}function bU(t){const{done:e,value:n}=t.next();return e?void 0:n}function SU(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:o,branch:i}=e,{type:a}=n,{refinement:c,message:f="Expected a value of type `"+a+"`"+(c?" with refinement `"+c+"`":"")+", but received: `"+bs(r)+"`"}=t;return{value:r,type:a,refinement:c,key:o[o.length-1],path:o,branch:i,...t,message:f}}function*mE(t,e,n,r){EU(t)||(t=[t]);for(const o of t){const i=SU(o,e,n,r);i&&(yield i)}}function*i1(t,e,n){n===void 0&&(n={});const{path:r=[],branch:o=[t],coerce:i=!1,mask:a=!1}=n,c={path:r,branch:o};if(i&&(t=e.coercer(t,c),a&&e.type!=="type"&&wl(e.schema)&&wl(t)&&!Array.isArray(t)))for(const g in t)e.schema[g]===void 0&&delete t[g];let f=!0;for(const g of e.validator(t,c))f=!1,yield[g,void 0];for(let[g,_,M]of e.entries(t,c)){const S=i1(_,M,{path:g===void 0?r:[...r,g],branch:g===void 0?o:[...o,_],coerce:i,mask:a});for(const E of S)E[0]?(f=!1,yield[E[0],void 0]):i&&(_=E[1],g===void 0?t=_:t instanceof Map?t.set(g,_):t instanceof Set?t.add(_):wl(t)&&(t[g]=_))}if(f)for(const g of e.refiner(t,c))f=!1,yield[g,void 0];f&&(yield[void 0,t])}class Ts{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:n,schema:r,validator:o,refiner:i,coercer:a=f=>f,entries:c=function*(){}}=e;this.type=n,this.schema=r,this.entries=c,this.coercer=a,o?this.validator=(f,g)=>{const _=o(f,g);return mE(_,g,this,f)}:this.validator=()=>[],i?this.refiner=(f,g)=>{const _=i(f,g);return mE(_,g,this,f)}:this.refiner=()=>[]}assert(e){return MU(e,this)}create(e){return o1(e,this)}is(e){return nR(e,this)}mask(e){return AU(e,this)}validate(e,n){return n===void 0&&(n={}),Pc(e,this,n)}}function MU(t,e){const n=Pc(t,e);if(n[0])throw n[0]}function o1(t,e){const n=Pc(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function AU(t,e){const n=Pc(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function nR(t,e){return!Pc(t,e)[0]}function Pc(t,e,n){n===void 0&&(n={});const r=i1(t,e,n),o=bU(r);return o[0]?[new _U(o[0],function*(){for(const a of r)a[0]&&(yield a[0])}),void 0]:[void 0,o[1]]}function Dc(t,e){return new Ts({type:t,schema:null,validator:e})}function xU(){return Dc("any",()=>!0)}function zp(t){return new Ts({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+bs(e)}})}function RU(){return Dc("boolean",t=>typeof t=="boolean")}function gE(t){const e=bs(t);return new Ts({type:"literal",schema:t,validator(n){return n===t||"Expected the literal `"+e+"`, but received: "+bs(n)}})}function Sf(t){return new Ts({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function yh(){return Dc("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+bs(t))}function wh(t){return new Ts({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function na(){return Dc("string",t=>typeof t=="string"||"Expected a string, but received: "+bs(t))}function gs(t){const e=Object.keys(t);return new Ts({type:"type",schema:t,*entries(n){if(wl(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return wl(n)||"Expected an object, but received: "+bs(n)}})}function rR(t){const e=t.map(n=>n.type).join(" | ");return new Ts({type:"union",schema:null,coercer(n,r){return(t.find(i=>{const[a]=i.validate(n,{coerce:!0});return!a})||s1()).coercer(n,r)},validator(n,r){const o=[];for(const i of t){const[...a]=i1(n,i,r),[c]=a;if(c[0])for(const[f]of a)f&&o.push(f);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+bs(n),...o]}})}function s1(){return Dc("unknown",()=>!0)}function IU(t,e,n){return new Ts({...t,coercer:(r,o)=>nR(r,e)?t.coercer(n(r,o),o):t.coercer(r,o)})}const yE=99;async function NU(t,e,n){if(e.length<=yE)return await wE(t,e,n);{const r=fU(e,yE);return(await Promise.all(r.map(i=>wE(t,i,n)))).flat()}}async function wE(t,e,n){const r=n??t.commitment,{value:o,context:i}=await t.getMultipleAccountsInfoAndContext(e,r);return o.map((c,f)=>c===null?null:{publicKey:e[f],account:c,context:i})}async function TU(t,e,n,r,o){var i;n&&n.length>0&&e.sign(...n);const a=e._compile(),c=a.serialize(),g=e._serialize(c).toString("base64"),_={encoding:"base64",commitment:r??t.commitment};if(o){const A=(Array.isArray(o)?o:a.nonProgramIds()).map(k=>k.toBase58());_.accounts={encoding:"base64",addresses:A}}n&&n.length>0&&(_.sigVerify=!0);const M=[g,_],S=await t._rpcRequest("simulateTransaction",M),E=o1(S,LU);if("error"in E){let A;if("data"in E.error&&(A=(i=E.error.data)===null||i===void 0?void 0:i.logs,A&&Array.isArray(A))){const k=`
    `,C=k+A.join(k);console.error(E.error.message,C)}throw new Es("failed to simulate transaction: "+E.error.message,A)}return E.result}function kU(t){return IU(iR(t),CU,e=>"error"in e?e:{...e,result:o1(e.result,t)})}const CU=iR(s1());function iR(t){return rR([gs({jsonrpc:gE("2.0"),id:na(),result:t}),gs({jsonrpc:gE("2.0"),id:na(),error:gs({code:s1(),message:na(),data:wh(xU())})})])}function OU(t){return kU(gs({context:gs({slot:yh()}),value:t}))}const LU=OU(gs({err:Sf(rR([gs({}),na()])),logs:Sf(zp(na())),accounts:wh(Sf(zp(Sf(gs({executable:RU(),owner:na(),lamports:yh(),data:zp(na()),rentEpoch:wh(yh())}))))),unitsConsumed:wh(yh())}));class vc{constructor(e,n,r=vc.defaultOptions()){this.connection=e,this.wallet=n,this.opts=r,this.publicKey=n==null?void 0:n.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,n=vc.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,n,r){var o,i,a,c;if(r===void 0&&(r=this.opts),ks(e))n&&e.sign(n);else if(e.feePayer=(o=e.feePayer)!==null&&o!==void 0?o:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(r.preflightCommitment)).blockhash,n)for(const g of n)e.partialSign(g);e=await this.wallet.signTransaction(e);const f=e.serialize();try{return await vE(this.connection,f,r)}catch(g){if(g instanceof Gg){const _=pE(ks(e)?((i=e.signatures)===null||i===void 0?void 0:i[0])||new Uint8Array:(a=e.signature)!==null&&a!==void 0?a:new Uint8Array),M=ks(e)?0:void 0,S=await this.connection.getTransaction(_,{commitment:"confirmed",maxSupportedTransactionVersion:M});if(S){const E=(c=S.meta)===null||c===void 0?void 0:c.logMessages;throw E?new Es(g.message,E):g}else throw g}else throw g}}async sendAll(e,n){var r,o,i;n===void 0&&(n=this.opts);const a=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash;let c=e.map(_=>{var M,S;if(ks(_.tx)){let E=_.tx;return _.signers&&E.sign(_.signers),E}else{let E=_.tx,A=(M=_.signers)!==null&&M!==void 0?M:[];return E.feePayer=(S=E.feePayer)!==null&&S!==void 0?S:this.wallet.publicKey,E.recentBlockhash=a,A.forEach(k=>{E.partialSign(k)}),E}});const f=await this.wallet.signAllTransactions(c),g=[];for(let _=0;_<c.length;_+=1){const M=f[_],S=M.serialize();try{g.push(await vE(this.connection,S,n))}catch(E){if(E instanceof Gg){const A=pE(ks(M)?((r=M.signatures)===null||r===void 0?void 0:r[0])||new Uint8Array:(o=M.signature)!==null&&o!==void 0?o:new Uint8Array),k=ks(M)?0:void 0,C=await this.connection.getTransaction(A,{commitment:"confirmed",maxSupportedTransactionVersion:k});if(C){const R=(i=C.meta)===null||i===void 0?void 0:i.logMessages;throw R?new Es(E.message,R):E}else throw E}else throw E}}return g}async simulate(e,n,r,o){let i=(await this.connection.getLatestBlockhash(r??this.connection.commitment)).blockhash,a;if(ks(e)?(n&&n.length>0&&(e.sign(n),e=await this.wallet.signTransaction(e)),a=await this.connection.simulateTransaction(e,{commitment:r})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=i,n&&n.length>0&&(e=await this.wallet.signTransaction(e)),a=await TU(this.connection,e,n,r,o)),a.value.err)throw new BU(a.value);return a.value}}class BU extends Error{constructor(e,n){super(n),this.simulationResponse=e}}async function vE(t,e,n){const r=n?{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot}:{};let o;const i=Date.now();for(;Date.now()-i<6e4;)try{const a=await t.sendRawTransaction(e,r);if(n!=null&&n.blockhash)if(r.maxRetries===0){const c=AbortSignal.timeout(15e3);o=(await t.confirmTransaction({abortSignal:c,signature:a,...n.blockhash},n&&n.commitment)).value}else o=(await t.confirmTransaction({signature:a,...n.blockhash},n&&n.commitment)).value;else o=(await t.confirmTransaction(a,n&&n.commitment)).value;if(o.err)throw new Gg(`Raw transaction ${a} failed (${JSON.stringify(o)})`);return a}catch(a){if(a.name==="TimeoutError")continue;throw a}throw Error("Transaction failed to confirm in 60s")}class Gg extends Error{constructor(e){super(e)}}function Zg(){return vc.local()}var PU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},J={};Object.defineProperty(J,"__esModule",{value:!0});var oR=J.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=tI=J.ANCHOR_ERROR__REQUIRE_VIOLATED=eI=J.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=JR=J.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=XR=J.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=QR=J.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=YR=J.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=ZR=J.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=GR=J.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=qR=J.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=VR=J.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=KR=J.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=HR=J.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=$R=J.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=FR=J.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=WR=J.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=jR=J.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=zR=J.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=UR=J.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=DR=J.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=PR=J.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=BR=J.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=LR=J.ANCHOR_ERROR__CONSTRAINT_SPACE=OR=J.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=CR=J.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=kR=J.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=TR=J.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=NR=J.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=IR=J.ANCHOR_ERROR__CONSTRAINT_ZERO=RR=J.ANCHOR_ERROR__CONSTRAINT_ADDRESS=xR=J.ANCHOR_ERROR__CONSTRAINT_CLOSE=AR=J.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=MR=J.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=SR=J.ANCHOR_ERROR__CONSTRAINT_STATE=bR=J.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=ER=J.ANCHOR_ERROR__CONSTRAINT_SEEDS=_R=J.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=vR=J.ANCHOR_ERROR__CONSTRAINT_OWNER=wR=J.ANCHOR_ERROR__CONSTRAINT_RAW=yR=J.ANCHOR_ERROR__CONSTRAINT_SIGNER=gR=J.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=mR=J.ANCHOR_ERROR__CONSTRAINT_MUT=pR=J.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=dR=J.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=hR=J.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=fR=J.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=cR=J.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=uR=J.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=lR=J.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=aR=J.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,sR=J.ANCHOR_ERROR__DEPRECATED=RI=J.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=xI=J.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=AI=J.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=MI=J.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=SI=J.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=bI=J.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=EI=J.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=_I=J.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=vI=J.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=wI=J.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=yI=J.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=gI=J.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=mI=J.ANCHOR_ERROR__INVALID_PROGRAM_ID=pI=J.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=dI=J.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=hI=J.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=fI=J.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=cI=J.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=uI=J.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=lI=J.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=aI=J.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=sI=J.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=oI=J.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=iI=J.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=rI=J.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=nI=J.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,aR=J.ANCHOR_ERROR__INSTRUCTION_MISSING=100,lR=J.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,uR=J.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,cR=J.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,fR=J.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,hR=J.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,dR=J.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,pR=J.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,mR=J.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,gR=J.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,yR=J.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,wR=J.ANCHOR_ERROR__CONSTRAINT_RAW=2003,vR=J.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,_R=J.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,ER=J.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,bR=J.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,SR=J.ANCHOR_ERROR__CONSTRAINT_STATE=2008,MR=J.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,AR=J.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,xR=J.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,RR=J.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,IR=J.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,NR=J.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,TR=J.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,kR=J.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,CR=J.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,OR=J.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,LR=J.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,BR=J.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,PR=J.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,DR=J.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,UR=J.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,zR=J.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,jR=J.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,WR=J.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,FR=J.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,$R=J.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,HR=J.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,KR=J.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,VR=J.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,qR=J.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,GR=J.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,ZR=J.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,YR=J.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,QR=J.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,XR=J.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,JR=J.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,eI=J.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,tI=J.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;oR=J.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var nI=J.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,rI=J.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,iI=J.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,oI=J.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,sI=J.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,aI=J.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,lI=J.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,uI=J.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,cI=J.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,fI=J.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,hI=J.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,dI=J.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,pI=J.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,mI=J.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,gI=J.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,yI=J.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,wI=J.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,vI=J.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,_I=J.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,EI=J.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,bI=J.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,SI=J.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,MI=J.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,AI=J.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,xI=J.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,RI=J.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;sR=J.ANCHOR_ERROR__DEPRECATED=5e3;const DU=new Map;function II(t){return DU.get(t)!==void 0}class Ho extends Error{constructor(e){super(e),this.name="IdlError"}}class Uc{constructor(e){this.stack=e}static parse(e){var n;const r=/^Program (\w*) invoke/,o=/^Program \w* success/,i=[];for(let a=0;a<e.length;a++){if(o.exec(e[a])){i.pop();continue}const c=(n=r.exec(e[a]))===null||n===void 0?void 0:n[1];c&&i.push(new re(c))}return new Uc(i)}}class Ku extends Error{constructor(e,n,r,o,i,a){super(r.join(`
`).replace("Program log: ","")),this.errorLogs=r,this.logs=o,this.error={errorCode:e,errorMessage:n,comparedValues:a,origin:i},this._programErrorStack=Uc.parse(o)}static parse(e){if(!e)return null;const n=e.findIndex(S=>S.startsWith("Program log: AnchorError"));if(n===-1)return null;const r=e[n],o=[r];let i;if(n+1<e.length){if(e[n+1]==="Program log: Left:"){const S=/^Program log: (.*)$/,E=S.exec(e[n+2])[1],A=S.exec(e[n+4])[1];i=[new re(E),new re(A)],o.push(...e.slice(n+1,n+5))}else if(e[n+1].startsWith("Program log: Left:")){const S=/^Program log: (Left|Right): (.*)$/,E=S.exec(e[n+1])[2],A=S.exec(e[n+2])[2];o.push(...e.slice(n+1,n+3)),i=[E,A]}}const c=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),g=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),M=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r);if(c){const[S,E,A]=c.slice(1,4),k={code:S,number:parseInt(E)};return new Ku(k,A,o,e,void 0,i)}else if(g){const[S,E,A,k,C]=g.slice(1,6),R={code:A,number:parseInt(k)},T={file:S,line:parseInt(E)};return new Ku(R,C,o,e,T,i)}else if(M){const[S,E,A,k]=M.slice(1,5),C=S,R={code:E,number:parseInt(A)};return new Ku(R,k,o,e,C,i)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class md extends Error{constructor(e,n,r){super(),this.code=e,this.msg=n,this.logs=r,r&&(this._programErrorStack=Uc.parse(r))}static parse(e,n){const r=e.toString();let o;if(r.includes("custom program error:")){let c=r.split("custom program error: ");if(c.length!==2)return null;o=c[1]}else{const c=r.match(/"Custom":([0-9]+)}/g);if(!c||c.length>1)return null;o=c[0].match(/([0-9]+)/g)[0]}let i;try{i=parseInt(o)}catch{return null}let a=n.get(i);return a!==void 0?new md(i,a,e.logs):(a=UU.get(i),a!==void 0?new md(i,a,e.logs):null)}get program(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack}toString(){return this.msg}}function NI(t,e){II("debug-logs")&&console.log("Translating error:",t);const n=Ku.parse(t.logs);if(n)return n;const r=md.parse(t,e);if(r)return r;if(t.logs){const o={get:function(i,a){return a==="programErrorStack"?i.programErrorStack.stack:a==="program"?i.programErrorStack.stack[t.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return t.programErrorStack=Uc.parse(t.logs),new Proxy(t,o)}return t}const $e={InstructionMissing:aR,InstructionFallbackNotFound:lR,InstructionDidNotDeserialize:uR,InstructionDidNotSerialize:cR,IdlInstructionStub:fR,IdlInstructionInvalidProgram:hR,IdlAccountNotEmpty:dR,EventInstructionStub:pR,ConstraintMut:mR,ConstraintHasOne:gR,ConstraintSigner:yR,ConstraintRaw:wR,ConstraintOwner:vR,ConstraintRentExempt:_R,ConstraintSeeds:ER,ConstraintExecutable:bR,ConstraintState:SR,ConstraintAssociated:MR,ConstraintAssociatedInit:AR,ConstraintClose:xR,ConstraintAddress:RR,ConstraintZero:IR,ConstraintTokenMint:NR,ConstraintTokenOwner:TR,ConstraintMintMintAuthority:kR,ConstraintMintFreezeAuthority:CR,ConstraintMintDecimals:OR,ConstraintSpace:LR,ConstraintAccountIsNone:BR,ConstraintTokenTokenProgram:PR,ConstraintMintTokenProgram:DR,ConstraintAssociatedTokenTokenProgram:UR,ConstraintMintGroupPointerExtension:zR,ConstraintMintGroupPointerExtensionAuthority:jR,ConstraintMintGroupPointerExtensionGroupAddress:WR,ConstraintMintGroupMemberPointerExtension:FR,ConstraintMintGroupMemberPointerExtensionAuthority:$R,ConstraintMintGroupMemberPointerExtensionMemberAddress:HR,ConstraintMintMetadataPointerExtension:KR,ConstraintMintMetadataPointerExtensionAuthority:VR,ConstraintMintMetadataPointerExtensionMetadataAddress:qR,ConstraintMintCloseAuthorityExtension:GR,ConstraintMintCloseAuthorityExtensionAuthority:ZR,ConstraintMintPermanentDelegateExtension:YR,ConstraintMintPermanentDelegateExtensionDelegate:QR,ConstraintMintTransferHookExtension:XR,ConstraintMintTransferHookExtensionAuthority:JR,ConstraintMintTransferHookExtensionProgramId:eI,RequireViolated:tI,RequireEqViolated:oR,RequireKeysEqViolated:nI,RequireNeqViolated:rI,RequireKeysNeqViolated:iI,RequireGtViolated:oI,RequireGteViolated:sI,AccountDiscriminatorAlreadySet:aI,AccountDiscriminatorNotFound:lI,AccountDiscriminatorMismatch:uI,AccountDidNotDeserialize:cI,AccountDidNotSerialize:fI,AccountNotEnoughKeys:hI,AccountNotMutable:dI,AccountOwnedByWrongProgram:pI,InvalidProgramId:mI,InvalidProgramExecutable:gI,AccountNotSigner:yI,AccountNotSystemOwned:wI,AccountNotInitialized:vI,AccountNotProgramData:_I,AccountNotAssociatedTokenAccount:EI,AccountSysvarMismatch:bI,AccountReallocExceedsLimit:SI,AccountDuplicateReallocs:MI,DeclaredProgramIdMismatch:AI,TryingToInitPayerAsProgramAccount:xI,InvalidNumericConversion:RI,Deprecated:sR},UU=new Map([[$e.InstructionMissing,"Instruction discriminator not provided"],[$e.InstructionFallbackNotFound,"Fallback functions are not supported"],[$e.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[$e.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[$e.IdlInstructionStub,"The program was compiled without idl instructions"],[$e.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[$e.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[$e.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[$e.ConstraintMut,"A mut constraint was violated"],[$e.ConstraintHasOne,"A has one constraint was violated"],[$e.ConstraintSigner,"A signer constraint was violated"],[$e.ConstraintRaw,"A raw constraint was violated"],[$e.ConstraintOwner,"An owner constraint was violated"],[$e.ConstraintRentExempt,"A rent exemption constraint was violated"],[$e.ConstraintSeeds,"A seeds constraint was violated"],[$e.ConstraintExecutable,"An executable constraint was violated"],[$e.ConstraintState,"Deprecated Error, feel free to replace with something else"],[$e.ConstraintAssociated,"An associated constraint was violated"],[$e.ConstraintAssociatedInit,"An associated init constraint was violated"],[$e.ConstraintClose,"A close constraint was violated"],[$e.ConstraintAddress,"An address constraint was violated"],[$e.ConstraintZero,"Expected zero account discriminant"],[$e.ConstraintTokenMint,"A token mint constraint was violated"],[$e.ConstraintTokenOwner,"A token owner constraint was violated"],[$e.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[$e.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[$e.ConstraintMintDecimals,"A mint decimals constraint was violated"],[$e.ConstraintSpace,"A space constraint was violated"],[$e.ConstraintAccountIsNone,"A required account for the constraint is None"],[$e.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[$e.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[$e.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[$e.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[$e.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[$e.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[$e.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[$e.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[$e.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[$e.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[$e.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[$e.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[$e.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[$e.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[$e.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[$e.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[$e.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[$e.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[$e.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[$e.RequireViolated,"A require expression was violated"],[$e.RequireEqViolated,"A require_eq expression was violated"],[$e.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[$e.RequireNeqViolated,"A require_neq expression was violated"],[$e.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[$e.RequireGtViolated,"A require_gt expression was violated"],[$e.RequireGteViolated,"A require_gte expression was violated"],[$e.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[$e.AccountDiscriminatorNotFound,"No discriminator was found on the account"],[$e.AccountDiscriminatorMismatch,"Account discriminator did not match what was expected"],[$e.AccountDidNotDeserialize,"Failed to deserialize the account"],[$e.AccountDidNotSerialize,"Failed to serialize the account"],[$e.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[$e.AccountNotMutable,"The given account is not mutable"],[$e.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[$e.InvalidProgramId,"Program ID was not as expected"],[$e.InvalidProgramExecutable,"Program account is not executable"],[$e.AccountNotSigner,"The given account did not sign"],[$e.AccountNotSystemOwned,"The given account is not owned by the system program"],[$e.AccountNotInitialized,"The program expected this account to be already initialized"],[$e.AccountNotProgramData,"The given account is not a program data account"],[$e.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[$e.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[$e.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[$e.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[$e.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[$e.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[$e.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[$e.Deprecated,"The API being used is deprecated and should no longer be used"]]);class ht{static fieldLayout(e,n=[],r){const o=e.name;switch(e.type){case"bool":return rt.bool(o);case"u8":return rt.u8(o);case"i8":return rt.i8(o);case"u16":return rt.u16(o);case"i16":return rt.i16(o);case"u32":return rt.u32(o);case"i32":return rt.i32(o);case"f32":return rt.f32(o);case"u64":return rt.u64(o);case"i64":return rt.i64(o);case"f64":return rt.f64(o);case"u128":return rt.u128(o);case"i128":return rt.i128(o);case"u256":return rt.u256(o);case"i256":return rt.i256(o);case"bytes":return rt.vecU8(o);case"string":return rt.str(o);case"pubkey":return rt.publicKey(o);default:{if("option"in e.type)return rt.option(ht.fieldLayout({type:e.type.option},n,r),o);if("vec"in e.type)return rt.vec(ht.fieldLayout({type:e.type.vec},n,r),o);if("array"in e.type){let[i,a]=e.type.array;return a=ht.resolveArrayLen(a,r),rt.array(ht.fieldLayout({type:i},n,r),a,o)}if("defined"in e.type){if(!n)throw new Ho("User defined types not provided");const i=e.type.defined.name,a=n.find(c=>c.name===i);if(!a)throw new Ho(`Type not found: ${e.name}`);return ht.typeDefLayout({typeDef:a,types:n,genericArgs:r??e.type.defined.generics,name:o})}if("generic"in e.type){const i=r==null?void 0:r.at(0);if((i==null?void 0:i.kind)!=="type")throw new Ho(`Invalid generic field: ${e.name}`);return ht.fieldLayout({...e,type:i.type},n)}throw new Ho(`Not yet implemented: ${JSON.stringify(e.type)}`)}}}static typeDefLayout({typeDef:e,types:n,name:r,genericArgs:o}){switch(e.type.kind){case"struct":{const i=sl(e.type.fields,()=>[],a=>a.map(c=>{const f=o&&ht.resolveGenericArgs({type:c.type,typeDef:e,genericArgs:o});return ht.fieldLayout(c,n,f)}),a=>a.map((c,f)=>{const g=o&&ht.resolveGenericArgs({type:c,typeDef:e,genericArgs:o});return ht.fieldLayout({name:f.toString(),type:c},n,g)}));return rt.struct(i,r)}case"enum":{const i=e.type.variants.map(a=>{const c=sl(a.fields,()=>[],f=>f.map(g=>{const _=o&&ht.resolveGenericArgs({type:g.type,typeDef:e,genericArgs:o});return ht.fieldLayout(g,n,_)}),f=>f.map((g,_)=>{const M=o&&ht.resolveGenericArgs({type:g,typeDef:e,genericArgs:o});return ht.fieldLayout({name:_.toString(),type:g},n,M)}));return rt.struct(c,a.name)});return r!==void 0?rt.rustEnum(i).replicate(r):rt.rustEnum(i,r)}case"type":return ht.fieldLayout({type:e.type.alias,name:r},n)}}static typeSize(e,n,r){var o;switch(e){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"pubkey":return 32;default:if("option"in e)return 1+ht.typeSize(e.option,n,r);if("coption"in e)return 4+ht.typeSize(e.coption,n,r);if("vec"in e)return 1;if("array"in e){let[i,a]=e.array;return a=ht.resolveArrayLen(a,r),ht.typeSize(i,n,r)*a}if("defined"in e){const i=(o=n.types)===null||o===void 0?void 0:o.find(c=>c.name===e.defined.name);if(!i)throw new Ho(`Type not found: ${JSON.stringify(e)}`);const a=c=>{const f=r??e.defined.generics,g=f&&ht.resolveGenericArgs({type:c,typeDef:i,genericArgs:f});return ht.typeSize(c,n,g)};switch(i.type.kind){case"struct":return sl(i.type.fields,()=>[0],c=>c.map(f=>a(f.type)),c=>c.map(f=>a(f))).reduce((c,f)=>c+f,0);case"enum":{const c=i.type.variants.map(f=>sl(f.fields,()=>[0],g=>g.map(_=>a(_.type)),g=>g.map(_=>a(_))).reduce((g,_)=>g+_,0));return Math.max(...c)+1}case"type":return ht.typeSize(i.type.alias,n,r)}}if("generic"in e){const i=r==null?void 0:r.at(0);if((i==null?void 0:i.kind)!=="type")throw new Ho(`Invalid generic: ${e.generic}`);return ht.typeSize(i.type,n,r)}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}static resolveArrayLen(e,n){if(typeof e=="number")return e;if(n){const r=n.find(o=>o.kind==="const");(r==null?void 0:r.kind)==="const"&&(e=+r.value)}if(typeof e!="number")throw new Ho("Generic array length did not resolve");return e}static resolveGenericArgs({type:e,typeDef:n,genericArgs:r,isDefined:o}){if(typeof e!="object")return null;for(const i in n.generics){const a=n.generics[i];if("generic"in e&&a.name===e.generic)return[r[i]];if("option"in e){const c=ht.resolveGenericArgs({type:e.option,typeDef:n,genericArgs:r,isDefined:o});if(!c||!o)return c;if(c[0].kind==="type")return[{kind:"type",type:{option:c[0].type}}]}if("vec"in e){const c=ht.resolveGenericArgs({type:e.vec,typeDef:n,genericArgs:r,isDefined:o});if(!c||!o)return c;if(c[0].kind==="type")return[{kind:"type",type:{vec:c[0].type}}]}if("array"in e){const[c,f]=e.array,g=typeof f=="object",_=ht.resolveGenericArgs({type:c,typeDef:n,genericArgs:r,isDefined:o})||[];if(g){const M=n.generics.findIndex(S=>S.name===f.generic);M!==-1&&_.push(r[M])}if(_.length>0){if(!o)return _;if(_[0].kind==="type"&&_[1].kind==="const")return[{kind:"type",type:{array:[_[0].type,+_[1].value]}}]}if(g&&a.name===f.generic){const M=r[i];return o?[{kind:"type",type:{array:[c,+M.value]}}]:[M]}return null}if("defined"in e)return e.defined.generics?e.defined.generics.flatMap(c=>{switch(c.kind){case"type":return ht.resolveGenericArgs({type:c.type,typeDef:n,genericArgs:r,isDefined:!0});case"const":return[c]}}).filter(c=>c!==null):null}return null}}class zU{constructor(e){this.idl=e;const n=e.instructions.map(r=>{const o=r.name,i=r.args.map(c=>ht.fieldLayout(c,e.types)),a=rt.struct(i,o);return[o,{discriminator:r.discriminator,layout:a}]});this.ixLayouts=new Map(n)}encode(e,n){const r=Ze.Buffer.alloc(1e3),o=this.ixLayouts.get(e);if(!o)throw new Error(`Unknown method: ${e}`);const i=o.layout.encode(n,r),a=r.slice(0,i);return Ze.Buffer.concat([Ze.Buffer.from(o.discriminator),a])}decode(e,n="hex"){typeof e=="string"&&(e=n==="hex"?Ze.Buffer.from(e,"hex"):Yw.decode(e));for(const[r,o]of this.ixLayouts){const i=e.subarray(0,o.discriminator.length);if(i.equals(Ze.Buffer.from(o.discriminator)))return{name:r,data:o.layout.decode(e.subarray(i.length))}}return null}format(e,n){return Or.format(e,n,this.idl)}}class Or{static format(e,n,r){const o=r.instructions.find(f=>e.name===f.name);if(!o)return console.error("Invalid instruction given"),null;const i=o.args.map(f=>({name:f.name,type:Or.formatIdlType(f.type),data:Or.formatIdlData(f,e.data[f.name],r.types)})),a=Or.flattenIdlAccounts(o.accounts),c=n.map((f,g)=>g<a.length?{name:a[g].name,...f}:{name:void 0,...f});return{args:i,accounts:c}}static formatIdlType(e){if(typeof e=="string")return e;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("coption"in e)return`COption<${this.formatIdlType(e.coption)}>`;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;if("defined"in e){const n=e.defined.name;if(e.defined.generics){const r=e.defined.generics.map(o=>{switch(o.kind){case"type":return Or.formatIdlType(o.type);case"const":return o.value}}).join(", ");return`${n}<${r}>`}return n}throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,n,r){if(typeof e.type=="string")return n.toString();if("vec"in e.type)return"["+n.map(o=>this.formatIdlData({name:"",type:e.type.vec},o,r)).join(", ")+"]";if("option"in e.type)return n===null?"null":this.formatIdlData({name:"",type:e.type.option},n,r);if("defined"in e.type){if(!r)throw new Error("User defined types not provided");const o=e.type.defined.name,i=r.find(a=>a.name===o);if(!i)throw new Error(`Type not found: ${o}`);return Or.formatIdlDataDefined(i,n,r)}return"unknown"}static formatIdlDataDefined(e,n,r){switch(e.type.kind){case"struct":return"{ "+sl(e.type.fields,()=>"",o=>Object.entries(n).map(([i,a])=>{const c=o.find(f=>f.name===i);if(!c)throw new Error(`Field not found: ${i}`);return i+": "+Or.formatIdlData(c,a,r)}).join(", "),o=>Object.entries(n).map(([i,a])=>i+": "+Or.formatIdlData({name:"",type:o[i]},a,r)).join(", "))+" }";case"enum":{const o=Object.keys(n)[0],i=e.type.variants.find(c=>c.name===o);if(!i)throw new Error(`Unable to find variant: ${o}`);const a=n[o];return sl(i.fields,()=>o,c=>{const f=Object.keys(a).map(g=>{const _=a[g],M=c.find(S=>S.name===g);if(!M)throw new Error(`Field not found: ${g}`);return g+": "+Or.formatIdlData(M,_,r)}).join(", ");return`${o} { ${f} }`},c=>{const f=Object.entries(a).map(([g,_])=>g+": "+Or.formatIdlData({name:"",type:c[g]},_,r)).join(", ");return`${o} { ${f} }`})}case"type":return Or.formatIdlType(e.type.alias)}}static flattenIdlAccounts(e,n){return e.map(r=>{const o=jU(r.name);if(r.hasOwnProperty("accounts")){const i=n?`${n} > ${o}`:o;return Or.flattenIdlAccounts(r.accounts,i)}else return{...r,name:n?`${n} > ${o}`:o}}).flat()}}function jU(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}class WU{constructor(e){if(this.idl=e,!e.accounts){this.accountLayouts=new Map;return}const n=e.types;if(!n)throw new Error("Accounts require `idl.types`");const r=e.accounts.map(o=>{const i=n.find(a=>a.name===o.name);if(!i)throw new Error(`Account not found: ${o.name}`);return[o.name,{discriminator:o.discriminator,layout:ht.typeDefLayout({typeDef:i,types:n})}]});this.accountLayouts=new Map(r)}async encode(e,n){const r=Ze.Buffer.alloc(1e3),o=this.accountLayouts.get(e);if(!o)throw new Error(`Unknown account: ${e}`);const i=o.layout.encode(n,r),a=r.slice(0,i),c=this.accountDiscriminator(e);return Ze.Buffer.concat([c,a])}decode(e,n){const r=this.accountDiscriminator(e);if(r.compare(n.slice(0,r.length)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,n)}decodeAny(e){for(const[n,r]of this.accountLayouts)if(e.subarray(0,r.discriminator.length).equals(Ze.Buffer.from(r.discriminator)))return this.decodeUnchecked(n,e);throw new Error("Account not found")}decodeUnchecked(e,n){const r=this.accountDiscriminator(e),o=n.subarray(r.length),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);return i.layout.decode(o)}memcmp(e,n){const r=this.accountDiscriminator(e);return{offset:0,bytes:Yw.encode(n?Ze.Buffer.concat([r,n]):r)}}size(e){return this.accountDiscriminator(e).length+ht.typeSize({defined:{name:e}},this.idl)}accountDiscriminator(e){var n;const r=(n=this.idl.accounts)===null||n===void 0?void 0:n.find(o=>o.name===e);if(!r)throw new Error(`Account not found: ${e}`);return Ze.Buffer.from(r.discriminator)}}class FU{constructor(e){if(!e.events){this.layouts=new Map;return}const n=e.types;if(!n)throw new Error("Events require `idl.types`");const r=e.events.map(o=>{const i=n.find(a=>a.name===o.name);if(!i)throw new Error(`Event not found: ${o.name}`);return[o.name,{discriminator:o.discriminator,layout:ht.typeDefLayout({typeDef:i,types:n})}]});this.layouts=new Map(r)}decode(e){let n;try{n=eR(e)}catch{return null}for(const[r,o]of this.layouts){const i=n.subarray(0,o.discriminator.length);if(i.equals(Ze.Buffer.from(o.discriminator)))return{name:r,data:o.layout.decode(n.subarray(i.length))}}return null}}class $U{constructor(e){const n=e.types;if(!n){this.typeLayouts=new Map;return}const r=n.filter(o=>!o.generics).map(o=>[o.name,ht.typeDefLayout({typeDef:o,types:n})]);this.typeLayouts=new Map(r)}encode(e,n){const r=Ze.Buffer.alloc(1e3),o=this.typeLayouts.get(e);if(!o)throw new Error(`Unknown type: ${e}`);const i=o.encode(n,r);return r.slice(0,i)}decode(e,n){const r=this.typeLayouts.get(e);if(!r)throw new Error(`Unknown type: ${e}`);return r.decode(n)}}class TI{constructor(e){this.instruction=new zU(e),this.accounts=new WU(e),this.events=new FU(e),this.types=new $U(e)}}class Tr{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}decode(e,n){throw new Error("Layout is abstract")}encode(e,n,r){throw new Error("Layout is abstract")}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}var y0=Tr;function HU(t,e){return e.property?t+"["+e.property+"]":t}class ra extends Tr{isCount(){throw new Error("ExternalLayout is abstract")}}class kI extends ra{constructor(e,n,r){if(!(e instanceof Tr))throw new TypeError("layout must be a Layout");if(n===void 0)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof w0||this.layout instanceof CI}decode(e,n){return n===void 0&&(n=0),this.layout.decode(e,n+this.offset)}encode(e,n,r){return r===void 0&&(r=0),this.layout.encode(e,n,r+this.offset)}}class w0 extends Tr{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntLE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntLE(e,r,this.span),this.span}}class CI extends Tr{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntBE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntBE(e,r,this.span),this.span}}const Yg=Math.pow(2,32);function OI(t){const e=Math.floor(t/Yg),n=t-e*Yg;return{hi32:e,lo32:n}}function LI(t,e){return t*Yg+e}class KU extends Tr{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),o=e.readUInt32LE(n+4);return LI(o,r)}encode(e,n,r){r===void 0&&(r=0);const o=OI(e);return n.writeUInt32LE(o.lo32,r),n.writeUInt32LE(o.hi32,r+4),8}}class VU extends Tr{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),o=e.readInt32LE(n+4);return LI(o,r)}encode(e,n,r){r===void 0&&(r=0);const o=OI(e);return n.writeUInt32LE(o.lo32,r),n.writeInt32LE(o.hi32,r+4),8}}class qU extends Tr{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((i,a)=>i&&a instanceof Tr,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((i,a)=>i+a.getSpan(),0)}catch{}super(o,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;try{r=this.fields.reduce((o,i)=>{const a=i.getSpan(e,n);return n+=a,o+a},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n){n===void 0&&(n=0);const r=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(r[o.property]=o.decode(e,n)),n+=o.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r){r===void 0&&(r=0);const o=r;let i=0,a=0;for(const c of this.fields){let f=c.span;if(a=0<f?f:0,c.property!==void 0){const g=e[c.property];g!==void 0&&(a=c.encode(g,n,r),0>f&&(f=c.getSpan(n,r)))}i=r,r+=f}return i+a-o}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}class BI{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class _E extends BI{constructor(e,n){if(!(e instanceof ra&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}class PI extends Tr{constructor(e,n,r){const o=e instanceof w0||e instanceof CI;if(o)e=new _E(new kI(e));else if(e instanceof ra&&e.isCount())e=new _E(e);else if(!(e instanceof BI))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Tr))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let i=-1;n&&(i=n.span,0<=i&&o&&(i+=e.layout.span)),super(i,r),this.discriminator=e,this.usesPrefixDiscriminator=o,this.defaultLayout=n,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return a(c)},this.configGetSourceVariant=function(c){a=c.bind(this)}}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||e.hasOwnProperty(n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,n){n===void 0&&(n=0);let r;const o=this.discriminator,i=o.decode(e,n);let a=this.registry[i];if(a===void 0){let c=0;a=this.defaultLayout,this.usesPrefixDiscriminator&&(c=o.layout.span),r=this.makeDestinationObject(),r[o.property]=i,r[a.property]=this.defaultLayout.decode(e,n+c)}else r=a.decode(e,n);return r}encode(e,n,r){r===void 0&&(r=0);const o=this.getSourceVariant(e);if(o===void 0){const i=this.discriminator,a=this.defaultLayout;let c=0;return this.usesPrefixDiscriminator&&(c=i.layout.span),i.encode(e[i.property],n,r),c+a.encode(e[a.property],n,r+c)}return o.encode(e,n,r)}addVariant(e,n,r){const o=new GU(this,e,n,r);return this.registry[e]=o,o}getVariant(e,n){let r=e;return Buffer.isBuffer(e)&&(n===void 0&&(n=0),r=this.discriminator.decode(e,n)),this.registry[r]}}class GU extends Tr{constructor(e,n,r,o){if(!(e instanceof PI))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&o===void 0&&(o=r,r=null),r){if(!(r instanceof Tr))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,o),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,n+r)}decode(e,n){const r=this.makeDestinationObject();if(n===void 0&&(n=0),this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+o):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r){r===void 0&&(r=0);let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let i=o;if(this.layout&&(this.layout.encode(e[this.property],n,r+o),i+=this.layout.getSpan(n,r+o),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class ZU extends Tr{constructor(e,n){if(!(e instanceof ra&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof ra||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n){n===void 0&&(n=0);let r=this.span;return 0>r&&(r=this.length.decode(e,n)),e.slice(n,n+r)}encode(e,n,r){let o=this.length;if(this.length instanceof ra&&(o=e.length),!(Buffer.isBuffer(e)&&o===e.length))throw new TypeError(HU("Blob.encode",this)+" requires (length "+o+") Buffer as src");if(r+o>n.length)throw new RangeError("encoding overruns Buffer");return n.write(e.toString("hex"),r,o,"hex"),this.length instanceof ra&&this.length.encode(o,n,r),o}}var YU=(t,e,n)=>new kI(t,e,n),QU=t=>new w0(1,t),wo=t=>new w0(4,t),XU=t=>new KU(t),No=t=>new VU(t),dn=(t,e,n)=>new qU(t,e,n),DI=(t,e,n)=>new PI(t,e,n),zc=(t,e)=>new ZU(t,e);class JU extends y0{constructor(e){super(-1,e),this.property=e,this.layout=dn([wo("length"),wo("lengthPadding"),zc(YU(wo(),-8),"chars")],this.property)}encode(e,n,r=0){if(e==null)return this.layout.span;const o={chars:Buffer.from(e,"utf8")};return this.layout.encode(o,n,r)}decode(e,n=0){return this.layout.decode(e,n).chars.toString()}getSpan(e,n=0){return wo().span+wo().span+new Jr(new Uint8Array(e).slice(n,n+4),10,"le").toNumber()}}function v0(t){return new JU(t)}function si(t){return zc(32,t)}const Gr=DI(wo("instruction"));Gr.addVariant(0,dn([No("lamports"),No("space"),si("owner")]),"createAccount");Gr.addVariant(1,dn([si("owner")]),"assign");Gr.addVariant(2,dn([No("lamports")]),"transfer");Gr.addVariant(3,dn([si("base"),v0("seed"),No("lamports"),No("space"),si("owner")]),"createAccountWithSeed");Gr.addVariant(4,dn([si("authorized")]),"advanceNonceAccount");Gr.addVariant(5,dn([No("lamports")]),"withdrawNonceAccount");Gr.addVariant(6,dn([si("authorized")]),"initializeNonceAccount");Gr.addVariant(7,dn([si("authorized")]),"authorizeNonceAccount");Gr.addVariant(8,dn([No("space")]),"allocate");Gr.addVariant(9,dn([si("base"),v0("seed"),No("space"),si("owner")]),"allocateWithSeed");Gr.addVariant(10,dn([si("base"),v0("seed"),si("owner")]),"assignWithSeed");Gr.addVariant(11,dn([No("lamports"),v0("seed"),si("owner")]),"transferWithSeed");Math.max(...Object.values(Gr.registry).map(t=>t.span));class ez extends y0{constructor(e,n,r,o){super(e.span,o),this.layout=e,this.decoder=n,this.encoder=r}decode(e,n){return this.decoder(this.layout.decode(e,n))}encode(e,n,r){return this.layout.encode(this.encoder(e),n,r)}getSpan(e,n){return this.layout.getSpan(e,n)}}function EE(t){return new ez(zc(32),e=>new re(e),e=>e.toBuffer(),t)}dn([wo("version"),wo("state"),EE("authorizedPubkey"),EE("nonce"),dn([XU("lamportsPerSignature")],"feeCalculator")]);new re("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new re("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var bE={exports:{}};(function(t,e){var n=typeof self<"u"?self:PU,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(a){var c={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function f(s){return s&&DataView.prototype.isPrototypeOf(s)}if(c.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=ArrayBuffer.isView||function(s){return s&&g.indexOf(Object.prototype.toString.call(s))>-1};function M(s){if(typeof s!="string"&&(s=String(s)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(s))throw new TypeError("Invalid character in header field name");return s.toLowerCase()}function S(s){return typeof s!="string"&&(s=String(s)),s}function E(s){var u={next:function(){var h=s.shift();return{done:h===void 0,value:h}}};return c.iterable&&(u[Symbol.iterator]=function(){return u}),u}function A(s){this.map={},s instanceof A?s.forEach(function(u,h){this.append(h,u)},this):Array.isArray(s)?s.forEach(function(u){this.append(u[0],u[1])},this):s&&Object.getOwnPropertyNames(s).forEach(function(u){this.append(u,s[u])},this)}A.prototype.append=function(s,u){s=M(s),u=S(u);var h=this.map[s];this.map[s]=h?h+", "+u:u},A.prototype.delete=function(s){delete this.map[M(s)]},A.prototype.get=function(s){return s=M(s),this.has(s)?this.map[s]:null},A.prototype.has=function(s){return this.map.hasOwnProperty(M(s))},A.prototype.set=function(s,u){this.map[M(s)]=S(u)},A.prototype.forEach=function(s,u){for(var h in this.map)this.map.hasOwnProperty(h)&&s.call(u,this.map[h],h,this)},A.prototype.keys=function(){var s=[];return this.forEach(function(u,h){s.push(h)}),E(s)},A.prototype.values=function(){var s=[];return this.forEach(function(u){s.push(u)}),E(s)},A.prototype.entries=function(){var s=[];return this.forEach(function(u,h){s.push([h,u])}),E(s)},c.iterable&&(A.prototype[Symbol.iterator]=A.prototype.entries);function k(s){if(s.bodyUsed)return Promise.reject(new TypeError("Already read"));s.bodyUsed=!0}function C(s){return new Promise(function(u,h){s.onload=function(){u(s.result)},s.onerror=function(){h(s.error)}})}function R(s){var u=new FileReader,h=C(u);return u.readAsArrayBuffer(s),h}function T(s){var u=new FileReader,h=C(u);return u.readAsText(s),h}function N(s){for(var u=new Uint8Array(s),h=new Array(u.length),p=0;p<u.length;p++)h[p]=String.fromCharCode(u[p]);return h.join("")}function O(s){if(s.slice)return s.slice(0);var u=new Uint8Array(s.byteLength);return u.set(new Uint8Array(s)),u.buffer}function D(){return this.bodyUsed=!1,this._initBody=function(s){this._bodyInit=s,s?typeof s=="string"?this._bodyText=s:c.blob&&Blob.prototype.isPrototypeOf(s)?this._bodyBlob=s:c.formData&&FormData.prototype.isPrototypeOf(s)?this._bodyFormData=s:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(s)?this._bodyText=s.toString():c.arrayBuffer&&c.blob&&f(s)?(this._bodyArrayBuffer=O(s.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(s)||_(s))?this._bodyArrayBuffer=O(s):this._bodyText=s=Object.prototype.toString.call(s):this._bodyText="",this.headers.get("content-type")||(typeof s=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(s)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var s=k(this);if(s)return s;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?k(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(R)}),this.text=function(){var s=k(this);if(s)return s;if(this._bodyBlob)return T(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(N(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(U)}),this.json=function(){return this.text().then(JSON.parse)},this}var z=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function P(s){var u=s.toUpperCase();return z.indexOf(u)>-1?u:s}function W(s,u){u=u||{};var h=u.body;if(s instanceof W){if(s.bodyUsed)throw new TypeError("Already read");this.url=s.url,this.credentials=s.credentials,u.headers||(this.headers=new A(s.headers)),this.method=s.method,this.mode=s.mode,this.signal=s.signal,!h&&s._bodyInit!=null&&(h=s._bodyInit,s.bodyUsed=!0)}else this.url=String(s);if(this.credentials=u.credentials||this.credentials||"same-origin",(u.headers||!this.headers)&&(this.headers=new A(u.headers)),this.method=P(u.method||this.method||"GET"),this.mode=u.mode||this.mode||null,this.signal=u.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&h)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(h)}W.prototype.clone=function(){return new W(this,{body:this._bodyInit})};function U(s){var u=new FormData;return s.trim().split("&").forEach(function(h){if(h){var p=h.split("="),y=p.shift().replace(/\+/g," "),v=p.join("=").replace(/\+/g," ");u.append(decodeURIComponent(y),decodeURIComponent(v))}}),u}function F(s){var u=new A,h=s.replace(/\r?\n[\t ]+/g," ");return h.split(/\r?\n/).forEach(function(p){var y=p.split(":"),v=y.shift().trim();if(v){var b=y.join(":").trim();u.append(v,b)}}),u}D.call(W.prototype);function j(s,u){u||(u={}),this.type="default",this.status=u.status===void 0?200:u.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in u?u.statusText:"OK",this.headers=new A(u.headers),this.url=u.url||"",this._initBody(s)}D.call(j.prototype),j.prototype.clone=function(){return new j(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new A(this.headers),url:this.url})},j.error=function(){var s=new j(null,{status:0,statusText:""});return s.type="error",s};var V=[301,302,303,307,308];j.redirect=function(s,u){if(V.indexOf(u)===-1)throw new RangeError("Invalid status code");return new j(null,{status:u,headers:{location:s}})},a.DOMException=i.DOMException;try{new a.DOMException}catch{a.DOMException=function(u,h){this.message=u,this.name=h;var p=Error(u);this.stack=p.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function d(s,u){return new Promise(function(h,p){var y=new W(s,u);if(y.signal&&y.signal.aborted)return p(new a.DOMException("Aborted","AbortError"));var v=new XMLHttpRequest;function b(){v.abort()}v.onload=function(){var m={status:v.status,statusText:v.statusText,headers:F(v.getAllResponseHeaders()||"")};m.url="responseURL"in v?v.responseURL:m.headers.get("X-Request-URL");var l="response"in v?v.response:v.responseText;h(new j(l,m))},v.onerror=function(){p(new TypeError("Network request failed"))},v.ontimeout=function(){p(new TypeError("Network request failed"))},v.onabort=function(){p(new a.DOMException("Aborted","AbortError"))},v.open(y.method,y.url,!0),y.credentials==="include"?v.withCredentials=!0:y.credentials==="omit"&&(v.withCredentials=!1),"responseType"in v&&c.blob&&(v.responseType="blob"),y.headers.forEach(function(m,l){v.setRequestHeader(l,m)}),y.signal&&(y.signal.addEventListener("abort",b),v.onreadystatechange=function(){v.readyState===4&&y.signal.removeEventListener("abort",b)}),v.send(typeof y._bodyInit>"u"?null:y._bodyInit)})}return d.polyfill=!0,i.fetch||(i.fetch=d,i.Headers=A,i.Request=W,i.Response=j),a.Headers=A,a.Request=W,a.Response=j,a.fetch=d,Object.defineProperty(a,"__esModule",{value:!0}),a})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var o=r;e=o.fetch,e.default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,t.exports=e})(bE,bE.exports);rt.rustEnum([rt.struct([],"uninitialized"),rt.struct([rt.option(rt.publicKey(),"authorityAddress")],"buffer"),rt.struct([rt.publicKey("programdataAddress")],"program"),rt.struct([rt.u64("slot"),rt.option(rt.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,rt.u32());const Qg="Program log: ",UI="Program data: ",tz=Qg.length,nz=UI.length;class rz{constructor(e,n,r){this._programId=e,this._provider=n,this._eventParser=new zI(e,r),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,n,r){var o;let i=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(e)||this._eventListeners.set(e,[]),this._eventListeners.set(e,((o=this._eventListeners.get(e))!==null&&o!==void 0?o:[]).concat(i)),this._eventCallbacks.set(i,[e,n]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(a,c)=>{if(!a.err)for(const f of this._eventParser.parseLogs(a.logs)){const g=this._eventListeners.get(f.name);g&&g.forEach(_=>{const M=this._eventCallbacks.get(_);if(M){const[,S]=M;S(f.data,c.slot,a.signature)}})}},r)),i}async removeEventListener(e){const n=this._eventCallbacks.get(e);if(!n)throw new Error(`Event listener ${e} doesn't exist!`);const[r]=n;let o=this._eventListeners.get(r);if(!o)throw new Error(`Event listeners don't exist for ${r}!`);if(this._eventCallbacks.delete(e),o=o.filter(i=>i!==e),this._eventListeners.set(r,o),o.length===0&&this._eventListeners.delete(r),this._eventCallbacks.size===0){if(this._eventListeners.size!==0)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class zI{constructor(e,n){this.coder=n,this.programId=e}*parseLogs(e,n=!1){const r=new oz(e),o=new iz;let i=r.next();for(;i!==null;){let[a,c,f]=this.handleLog(o,i,n);a&&(yield a),c&&o.push(c),f&&o.pop(),i=r.next()}}handleLog(e,n,r){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(n,r):[null,...this.handleSystemLog(n)]}handleProgramLog(e,n){if(e.startsWith(Qg)||e.startsWith(UI)){const r=e.startsWith(Qg)?e.slice(tz):e.slice(nz),o=this.coder.events.decode(r);if(n&&o===null)throw new Error(`Unable to decode event ${r}`);return[o,null,!1]}else return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const n=e.split(":")[0];return n.match(/^Program (.*) success/g)!==null?[null,!0]:n.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:n.includes("invoke")?["cpi",!1]:[null,!1]}}class iz{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class oz{constructor(e){this.logs=e}next(){if(this.logs.length===0)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}function _0(t,e){var n,r;let o={};const i=t.args?t.args.length:0;if(e.length>i){if(e.length!==i+1)throw new Error(`provided too many arguments ${e} to instruction ${t==null?void 0:t.name} expecting: ${(r=(n=t.args)===null||n===void 0?void 0:n.map(a=>a.name))!==null&&r!==void 0?r:[]}`);o=e.pop()}return[e,o]}class gd{static build(e,n,r){if(e.name==="_inner")throw new Ho("the _inner name is reserved");const o=(...i)=>{const[a,c]=_0(e,[...i]);tR(e.accounts,c.accounts),sz(e,...i);const f=o.accounts(c.accounts);return c.remainingAccounts!==void 0&&f.push(...c.remainingAccounts),II("debug-logs")&&console.log("Outgoing account metas:",f),new vt({keys:f,programId:r,data:n(e.name,vU(e,...a))})};return o.accounts=i=>gd.accountsArray(i,e.accounts,r,e.name),o}static accountsArray(e,n,r,o){return e?n.map(i=>{if(Go(i)){const _=e[i.name];return gd.accountsArray(_,i.accounts,r,o).flat()}let a;try{a=Si(e[i.name])}catch{throw new Error(`Wrong input type for account "${i.name}" in the instruction accounts object${o!==void 0?' for instruction "'+o+'"':""}. Expected PublicKey or string.`)}const c=i.optional&&a.equals(r),f=!!(i.writable&&!c),g=!!(i.signer&&!c);return{pubkey:a,isWritable:f,isSigner:g}}).flat():[]}}function sz(t,...e){}class az{static build(e,n){return(...o)=>{var i,a,c;const[,f]=_0(e,[...o]),g=new at;if(f.preInstructions&&f.instructions)throw new Error("instructions is deprecated, use preInstructions");return(i=f.preInstructions)===null||i===void 0||i.forEach(_=>g.add(_)),(a=f.instructions)===null||a===void 0||a.forEach(_=>g.add(_)),g.add(n(...o)),(c=f.postInstructions)===null||c===void 0||c.forEach(_=>g.add(_)),g}}}class lz{static build(e,n,r,o){return async(...a)=>{var c;const f=n(...a),[,g]=_0(e,[...a]);if(o.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await o.sendAndConfirm(f,(c=g.signers)!==null&&c!==void 0?c:[],g.options)}catch(_){throw NI(_,r)}}}}class uz{static build(e,n,r,o){var i;return((i=e.accounts)!==null&&i!==void 0?i:[]).reduce((a,c)=>(a[c.name]=new cz(e,c,r,o,n),a),{})}}class cz{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(e,n,r,o,i){this._idlAccount=n,this._programId=r,this._provider=o??Zg(),this._coder=i??new TI(e),this._size=this._coder.accounts.size(n.name)}async fetchNullable(e,n){const{data:r}=await this.fetchNullableAndContext(e,n);return r}async fetchNullableAndContext(e,n){const r=await this.getAccountInfoAndContext(e,n),{value:o,context:i}=r;return{data:o&&o.data.length!==0?this._coder.accounts.decode(this._idlAccount.name,o.data):null,context:i}}async fetch(e,n){const{data:r}=await this.fetchNullableAndContext(e,n);if(r===null)throw new Error(`Account does not exist or has no data ${e.toString()}`);return r}async fetchAndContext(e,n){const{data:r,context:o}=await this.fetchNullableAndContext(e,n);if(r===null)throw new Error(`Account does not exist ${e.toString()}`);return{data:r,context:o}}async fetchMultiple(e,n){return(await this.fetchMultipleAndContext(e,n)).map(o=>o?o.data:null)}async fetchMultipleAndContext(e,n){return(await NU(this._provider.connection,e.map(o=>Si(o)),n)).map(o=>{if(o==null)return null;const{account:i,context:a}=o;return{data:this._coder.accounts.decode(this._idlAccount.name,i.data),context:a}})}async all(e){const n=this.coder.accounts.memcmp(this._idlAccount.name,e instanceof Buffer?e:void 0),r=[];return(n==null?void 0:n.offset)!=null&&(n==null?void 0:n.bytes)!=null&&r.push({memcmp:{offset:n.offset,bytes:n.bytes}}),(n==null?void 0:n.dataSize)!=null&&r.push({dataSize:n.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...r,...Array.isArray(e)?e:[]]})).map(({pubkey:i,account:a})=>({publicKey:i,account:this._coder.accounts.decode(this._idlAccount.name,a.data)}))}subscribe(e,n){const r=fu.get(e.toString());if(r)return r.ee;const o=new cU;e=Si(e);const i=this._provider.connection.onAccountChange(e,a=>{const c=this._coder.accounts.decode(this._idlAccount.name,a.data);o.emit("change",c)},n);return fu.set(e.toString(),{ee:o,listener:i}),o}async unsubscribe(e){let n=fu.get(e.toString());if(!n){console.warn("Address is not subscribed");return}fu&&await this._provider.connection.removeAccountChangeListener(n.listener).then(()=>{fu.delete(e.toString())}).catch(console.error)}async createInstruction(e,n){const r=this.size;if(this._provider.publicKey===void 0)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return Nt.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:e.publicKey,space:n??r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(n??r),programId:this._programId})}async getAccountInfo(e,n){return await this._provider.connection.getAccountInfo(Si(e),n)}async getAccountInfoAndContext(e,n){return await this._provider.connection.getAccountInfoAndContext(Si(e),n)}}const fu=new Map;class fz{static build(e,n,r,o,i,a,c){return async(...g)=>{var _;const M=n(...g),[,S]=_0(e,[...g]);let E;if(o.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{E=await o.simulate(M,S.signers,(_=S.options)===null||_===void 0?void 0:_.commitment)}catch(C){throw NI(C,r)}if(E===void 0)throw new Error("Unable to simulate transaction");const A=E.logs;if(!A)throw new Error("Simulated logs not found");const k=[];if(c.events){let C=new zI(a,i);for(const R of C.parseLogs(A))k.push(R)}return{events:k,raw:A}}}}function jp(t){return new jI(zc(8),e=>dz.fromBuffer(e),e=>e.toBuffer(),t)}function Mf(t){return new jI(zc(32),e=>new re(e),e=>e.toBuffer(),t)}function Wp(t,e){return new hz(t,e)}class jI extends y0{constructor(e,n,r,o){super(e.span,o),this.layout=e,this.decoder=n,this.encoder=r}decode(e,n){return this.decoder(this.layout.decode(e,n))}encode(e,n,r){return this.layout.encode(this.encoder(e),n,r)}getSpan(e,n){return this.layout.getSpan(e,n)}}class hz extends y0{constructor(e,n){super(-1,n),this.layout=e,this.discriminator=wo()}encode(e,n,r=0){return e==null?this.layout.span+this.discriminator.encode(0,n,r):(this.discriminator.encode(1,n,r),this.layout.encode(e,n,r+4)+4)}decode(e,n=0){const r=this.discriminator.decode(e,n);if(r===0)return null;if(r===1)return this.layout.decode(e,n+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,n=0){return this.layout.getSpan(e,n+4)+4}}let dz=class WI extends Jr{toBuffer(){const e=super.toArray().reverse(),n=Buffer.from(e);if(n.length===8)return n;if(n.length>=8)throw new Error("u64 too large");const r=Buffer.alloc(8);return n.copy(r),r}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new WI([...e].reverse().map(n=>`00${n.toString(16)}`.slice(-2)).join(""),16)}};const pz=dn([Mf("mint"),Mf("owner"),jp("amount"),Wp(Mf(),"delegate"),(t=>{const e=DI(QU("discriminator"),null,t);return e.addVariant(0,dn([]),"uninitialized"),e.addVariant(1,dn([]),"initialized"),e.addVariant(2,dn([]),"frozen"),e})("state"),Wp(jp(),"isNative"),jp("delegatedAmount"),Wp(Mf(),"closeAuthority")]);function mz(t){return pz.decode(t)}class gz{constructor(e,n,r,o,i,a,c,f){this._args=e,this._accounts=n,this._provider=r,this._programId=o,this._idlIx=i,this._idlTypes=c,this._customResolver=f,this._accountStore=new yz(r,a,o)}args(e){this._args=e}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let e=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(e++,e===16){const n=a=>Go(a)?a.accounts.some(n):!!(a.address||a.pda||a.relations),r=(a,c=[],f=[])=>{for(const g of a)Go(g)?f.push(...r(g.accounts,[...c,g.name])):f.push([...c,g.name]);return f},o=this._idlIx.accounts.filter(n),i=r(o).filter(a=>!this.get(a)).map(a=>a.reduce((c,f)=>c+"."+f)).map(a=>`\`${a}\``).join(", ");throw new Error(["Reached maximum depth for account resolution.",`Unresolved accounts: ${i}`].join(" "))}}resolveOptionals(e){Object.assign(this._accounts,this.resolveOptionalsHelper(e,this._idlIx.accounts))}get(e){const n=e.reduce((r,o)=>r&&r[o],this._accounts);if(n&&n.toBase58)return n}set(e,n){let r=this._accounts;e.forEach((o,i)=>{var a;i===e.length-1&&(r[o]=n),r[o]=(a=r[o])!==null&&a!==void 0?a:{},r=r[o]})}resolveOptionalsHelper(e,n){const r={};for(const o of n){const i=o.name,a=e[i];a!==void 0&&(FI(a)?Go(o)?r[i]=this.resolveOptionalsHelper(a,o.accounts):r[i]=$I(a):a!==null?r[i]=Si(a):o.optional&&(r[i]=this._programId))}return r}async resolveCustom(){if(this._customResolver){const{accounts:e,resolved:n}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=e,n}return 0}resolveEventCpi(e,n=[]){for(const r in e){const o=e[r];Go(o)&&this.resolveEventCpi(o.accounts,[...n,o.name]);const i=+r+1;if(i===e.length)return;const a=e[r].name,c=e[i].name;if(a==="eventAuthority"&&c==="program"){const f=[...n,a],g=[...n,c];this.get(f)||this.set(f,re.findProgramAddressSync([Buffer.from("__event_authority")],this._programId)[0]),this.get(g)||this.set(g,this._programId);return}}}resolveConst(e,n=[]){for(const r of e){const o=r.name;if(Go(r))this.resolveConst(r.accounts,[...n,o]);else{const i=r;if((i.signer||i.address)&&!this.get([...n,o])){if(i.signer){if(!this._provider.publicKey)throw new Error("This function requires the `Provider` interface implementor to have a `publicKey` field.");this.set([...n,o],this._provider.publicKey)}i.address&&this.set([...n,o],Si(i.address))}}}}async resolvePdasAndRelations(e,n=[]){let r=0;for(const o of e){const i=o.name;if(Go(o))r+=await this.resolvePdasAndRelations(o.accounts,[...n,i]);else{const a=o;if((a.pda||a.relations)&&!this.get([...n,i])){r++;try{if(a.pda){const c=await Promise.all(a.pda.seeds.map(_=>this.toBuffer(_,n)));if(c.some(_=>!_))continue;const f=await this.parseProgramId(a,n),[g]=re.findProgramAddressSync(c,f);this.set([...n,i],g)}}catch{}try{if(a.relations){const c=this.get([...n,a.relations[0]]);if(c){const f=await this._accountStore.fetchAccount({publicKey:c});this.set([...n,i],f[i])}}}catch{}}}}return r}async parseProgramId(e,n=[]){var r;if(!(!((r=e.pda)===null||r===void 0)&&r.program))return this._programId;const o=await this.toBuffer(e.pda.program,n);if(!o)throw new Error(`Program seed not resolved: ${e.name}`);return new re(o)}async toBuffer(e,n=[]){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e,n);default:throw new Error(`Unexpected seed: ${e}`)}}toBufferConst(e){return this.toBufferValue("bytes",e.value)}async toBufferArg(e){const[n,...r]=e.path.split("."),o=this._idlIx.args.findIndex(c=>c.name===n);if(o===-1)throw new Error(`Unable to find argument for seed: ${n}`);const i=r.reduce((c,f)=>(c??{})[f],this._args[o]);if(i===void 0)return;const a=this.getType(this._idlIx.args[o].type,r);return this.toBufferValue(a,i)}async toBufferAccount(e,n=[]){const[r,...o]=e.path.split("."),i=this.get([...n,r]);if(!i)return;if(!o.length)return this.toBufferValue("pubkey",i);if(!e.account)throw new Error(`Seed account is required in order to resolve type: ${e.path}`);let c=await this._accountStore.fetchAccount({publicKey:i,name:e.account}),f=o;for(;f.length>0;)c=c[f[0]],f=f.slice(1);if(c===void 0)return;const g=this.getType({defined:{name:e.account}},o);return this.toBufferValue(g,c)}toBufferValue(e,n){switch(e){case"u8":case"i8":return Buffer.from([n]);case"u16":case"i16":return new Jr(n).toArrayLike(Buffer,"le",2);case"u32":case"i32":return new Jr(n).toArrayLike(Buffer,"le",4);case"u64":case"i64":return new Jr(n).toArrayLike(Buffer,"le",8);case"u128":case"i128":return new Jr(n).toArrayLike(Buffer,"le",16);case"u256":case"i256":return new Jr(n).toArrayLike(Buffer,"le",32);case"string":return Buffer.from(n);case"pubkey":return n.toBuffer();case"bytes":return Buffer.from(n);default:if(e!=null&&e.array)return Buffer.from(n);throw new Error(`Unexpected seed type: ${e}`)}}getType(e,n=[]){var r;const o=(r=e==null?void 0:e.defined)===null||r===void 0?void 0:r.name;if(o){if(o==="tokenAccount")switch(n.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw new Error(`Unknown token account path: ${n}`)}const i=this._idlTypes.find(_=>_.name===o);if(!i)throw new Error(`Type not found: ${o}`);const[a,...c]=n,g=i.type.fields.find(_=>_.name===a);if(!g)throw new Error(`Field not found: ${a}`);return this.getType(g.type,c)}return e}}class yz{constructor(e,n,r){this._provider=e,this._cache=new Map,this._idls={},this._idls[r.toBase58()]=n}async fetchAccount({publicKey:e,name:n}){const r=e.toBase58();if(!this._cache.has(r)){const o=await this._provider.connection.getAccountInfo(e);if(o===null)throw new Error(`Account not found: ${r}`);if(n==="tokenAccount"){const i=mz(o.data);this._cache.set(r,i)}else{const i=await this.getAccountsNs(o.owner);if(i){const a=Object.values(i)[0];if(a){const c=a.coder.accounts.decodeAny(o.data);this._cache.set(r,c)}}}}return this._cache.get(r)}async getAccountsNs(e){const n=e.toBase58();if(!this._idls[n]){const r=await Fl.fetchIdl(e,this._provider);if(r){const o=new Fl(r,this._provider);this._idls[n]=o.account}}return this._idls[n]}}class wz{static build(e,n,r,o,i,a,c,f,g,_,M){return(...S)=>new vz(S,o,i,a,c,f,e,n,r,g,_,M)}}function FI(t){return typeof t=="object"&&t!==null&&!("_bn"in t)}function $I(t,e){const n={};for(const r in t){const o=t[r];if(o===null)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");n[r]=FI(o)?$I(o):Si(o)}return n}class vz{constructor(e,n,r,o,i,a,c,f,g,_,M,S){this._args=e,this._ixFn=n,this._txFn=r,this._rpcFn=o,this._simulateFn=i,this._viewFn=a,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new gz(e,this._accounts,c,f,g,_,M,S)}args(e){this._args=e,this._accountsResolver.args(e)}accounts(e){return this.accountsPartial(e)}accountsPartial(e){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(e),this}accountsStrict(e){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e,n=!1){return n?this._preInstructions=e.concat(this._preInstructions):this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async simulate(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async view(e){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error(["Method does not support views.","The instruction should return a value, and its accounts must be read-only"].join(" "));return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpc(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpcAndKeys(e){return{signature:await this.rpc(e),pubkeys:await this.pubkeys()}}async prepare(){return{instruction:await this.instruction(),signers:this._signers,pubkeys:await this.pubkeys()}}}class _z{static build(e,n,r,o){const i=n.accounts.find(f=>f.writable),a=!!n.returns;return i||!a?void 0:async(...f)=>{let g=await r(...f);const _=`Program return: ${e} `;let M=g.raw.find(k=>k.startsWith(_));if(!M)throw new Error("View expected return log");let S=eR(M.slice(_.length)),E=n.returns;if(!E)throw new Error("View expected return type");return ht.fieldLayout({type:E},o.types).decode(S)}}}class Ez{static build(e,n,r,o,i){const a={},c={},f={},g={},_={},M={},S=wU(e),E=e.accounts?uz.build(e,n,r,o):{};return e.instructions.forEach(A=>{const k=gd.build(A,(z,P)=>n.instruction.encode(z,P),r),C=az.build(A,k),R=lz.build(A,C,S,o),T=fz.build(A,C,S,o,n,r,e),N=_z.build(r,A,T,e),O=wz.build(o,r,A,k,C,R,T,N,E,e.types||[],i==null?void 0:i(A)),D=A.name;c[D]=k,f[D]=C,a[D]=R,g[D]=T,_[D]=O,N&&(M[D]=N)}),[a,c,f,E,g,_,M]}}class Fl{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(e,n=Zg(),r,o){this._idl=yU(e),this._rawIdl=e,this._provider=n,this._programId=Si(e.address),this._coder=r??new TI(this._idl),this._events=new rz(this._programId,n,this._coder);const[i,a,c,f,g,_,M]=Ez.build(this._idl,this._coder,this._programId,n,o);this.rpc=i,this.instruction=a,this.transaction=c,this.account=f,this.simulate=g,this.methods=_,this.views=M}static async at(e,n){const r=Si(e),o=await Fl.fetchIdl(r,n);if(!o)throw new Error(`IDL not found for program: ${e.toString()}`);return new Fl(o,n)}static async fetchIdl(e,n){n=n??Zg();const r=Si(e),o=await dU(r),i=await n.connection.getAccountInfo(o);if(!i)return null;let a=gU(i.data.slice(8));const c=lU(a.data);return JSON.parse(hU(c))}addEventListener(e,n,r){return this._events.addEventListener(e,n,r)}async removeEventListener(e){return await this._events.removeEventListener(e)}}new re("11111111111111111111111111111111");const on=new re("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new re("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");const Ss=new re("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new re("So11111111111111111111111111111111111111112");new re("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");const a1=t=>{const e=t.decode.bind(t),n=t.encode.bind(t);return{decode:e,encode:n}};var jc={};Object.defineProperty(jc,"__esModule",{value:!0});function bz(t){{const e=Buffer.from(t);e.reverse();const n=e.toString("hex");return n.length===0?BigInt(0):BigInt(`0x${n}`)}}var Sz=jc.toBigIntLE=bz;function Mz(t){{const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}jc.toBigIntBE=Mz;function Az(t,e){{const n=t.toString(16),r=Buffer.from(n.padStart(e*2,"0").slice(0,e*2),"hex");return r.reverse(),r}}var xz=jc.toBufferLE=Az;function Rz(t,e){{const n=t.toString(16);return Buffer.from(n.padStart(e*2,"0").slice(0,e*2),"hex")}}jc.toBufferBE=Rz;const Iz=t=>e=>{const n=It(t,e),{encode:r,decode:o}=a1(n),i=n;return i.decode=(a,c)=>{const f=o(a,c);return Sz(Buffer.from(f))},i.encode=(a,c,f)=>{const g=xz(a,t);return r(g,c,f)},i},qi=Iz(8),ma=t=>{const e=nt(t),{encode:n,decode:r}=a1(e),o=e;return o.decode=(i,a)=>!!r(i,a),o.encode=(i,a,c)=>{const f=Number(i);return n(f,a,c)},o},Rt=t=>{const e=It(32,t),{encode:n,decode:r}=a1(e),o=e;return o.decode=(i,a)=>{const c=r(i,a);return new re(c)},o.encode=(i,a,c)=>{const f=i.toBuffer();return n(f,a,c)},o};class Wc extends Error{constructor(e){super(e)}}class Nz extends Wc{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class Tz extends Wc{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}class kz extends Wc{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class SE extends Wc{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class HI extends Wc{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}var yd;(function(t){t[t.InitializeMint=0]="InitializeMint",t[t.InitializeAccount=1]="InitializeAccount",t[t.InitializeMultisig=2]="InitializeMultisig",t[t.Transfer=3]="Transfer",t[t.Approve=4]="Approve",t[t.Revoke=5]="Revoke",t[t.SetAuthority=6]="SetAuthority",t[t.MintTo=7]="MintTo",t[t.Burn=8]="Burn",t[t.CloseAccount=9]="CloseAccount",t[t.FreezeAccount=10]="FreezeAccount",t[t.ThawAccount=11]="ThawAccount",t[t.TransferChecked=12]="TransferChecked",t[t.ApproveChecked=13]="ApproveChecked",t[t.MintToChecked=14]="MintToChecked",t[t.BurnChecked=15]="BurnChecked",t[t.InitializeAccount2=16]="InitializeAccount2",t[t.SyncNative=17]="SyncNative",t[t.InitializeAccount3=18]="InitializeAccount3",t[t.InitializeMultisig2=19]="InitializeMultisig2",t[t.InitializeMint2=20]="InitializeMint2",t[t.GetAccountDataSize=21]="GetAccountDataSize",t[t.InitializeImmutableOwner=22]="InitializeImmutableOwner",t[t.AmountToUiAmount=23]="AmountToUiAmount",t[t.UiAmountToAmount=24]="UiAmountToAmount",t[t.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",t[t.TransferFeeExtension=26]="TransferFeeExtension",t[t.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",t[t.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",t[t.Reallocate=29]="Reallocate",t[t.MemoTransferExtension=30]="MemoTransferExtension",t[t.CreateNativeMint=31]="CreateNativeMint",t[t.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",t[t.InterestBearingMintExtension=33]="InterestBearingMintExtension",t[t.CpiGuardExtension=34]="CpiGuardExtension",t[t.InitializePermanentDelegate=35]="InitializePermanentDelegate",t[t.TransferHookExtension=36]="TransferHookExtension",t[t.MetadataPointerExtension=39]="MetadataPointerExtension"})(yd||(yd={}));function Cz(t,e,n){if(n.length){t.push({pubkey:e,isSigner:!1,isWritable:!1});for(const r of n)t.push({pubkey:r instanceof re?r:r.publicKey,isSigner:!0,isWritable:!1})}else t.push({pubkey:e,isSigner:!0,isWritable:!1});return t}function Oz(t,e){return t instanceof re?[t,e]:[t.publicKey,[t]]}var Xg;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Mint=1]="Mint",t[t.Account=2]="Account"})(Xg||(Xg={}));const KI=1,Lz=Se([nt("m"),nt("n"),ma("isInitialized"),Rt("signer1"),Rt("signer2"),Rt("signer3"),Rt("signer4"),Rt("signer5"),Rt("signer6"),Rt("signer7"),Rt("signer8"),Rt("signer9"),Rt("signer10"),Rt("signer11")]),VI=Lz.span;var wd;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initialized=1]="Initialized",t[t.Frozen=2]="Frozen"})(wd||(wd={}));const qI=Se([Rt("mint"),Rt("owner"),qi("amount"),Ve("delegateOption"),Rt("delegate"),nt("state"),Ve("isNativeOption"),qi("isNative"),qi("delegatedAmount"),Ve("closeAuthorityOption"),Rt("closeAuthority")]),Ha=qI.span;async function Bz(t,e,n,r=on){const o=await t.getAccountInfo(e,n);return Pz(e,o,r)}function Pz(t,e,n=on){if(!e)throw new Nz;if(!e.owner.equals(n))throw new kz;if(e.data.length<Ha)throw new SE;const r=qI.decode(e.data.slice(0,Ha));let o=Buffer.alloc(0);if(e.data.length>Ha){if(e.data.length===VI)throw new SE;if(e.data[Ha]!=Xg.Account)throw new Tz;o=e.data.slice(Ha+KI)}return{address:t,mint:r.mint,owner:r.owner,amount:r.amount,delegate:r.delegateOption?r.delegate:null,delegatedAmount:r.delegatedAmount,isInitialized:r.state!==wd.Uninitialized,isFrozen:r.state===wd.Frozen,isNative:!!r.isNativeOption,rentExemptReserve:r.isNativeOption?r.isNative:null,closeAuthority:r.closeAuthorityOption?r.closeAuthority:null,tlvData:o}}const Dz=Se([Ve("mintAuthorityOption"),Rt("mintAuthority"),qi("supply"),nt("decimals"),ma("isInitialized"),Ve("freezeAuthorityOption"),Rt("freezeAuthority")]),GI=Dz.span;async function Uz(t,e){return await zz(t,[],e)}async function zz(t,e,n){const r=v7(e);return await t.getMinimumBalanceForRentExemption(r,n)}async function Jg(t,e,n=!1,r=on,o=Ss){if(!n&&!re.isOnCurve(e.toBuffer()))throw new HI;const[i]=await re.findProgramAddress([e.toBuffer(),r.toBuffer(),t.toBuffer()],o);return i}function jz(t,e,n=!1,r=on,o=Ss){if(!n&&!re.isOnCurve(e.toBuffer()))throw new HI;const[i]=re.findProgramAddressSync([e.toBuffer(),r.toBuffer(),t.toBuffer()],o);return i}const Wz=Se([ma("lockCpi")]),Fz=Wz.span,$z=Se([nt("state")]),Hz=$z.span,Kz=Se([]),Vz=Kz.span,qz=Se([Rt("rateAuthority"),cr("initializationTimestamp"),Um("preUpdateAverageRate"),cr("lastUpdateTimestamp"),Um("currentRate")]),Gz=qz.span,Zz=Se([ma("requireIncomingTransferMemos")]),Yz=Zz.span,Qz=Se([Rt("authority"),Rt("metadataAddress")]),Xz=Qz.span,Jz=Se([Rt("closeAuthority")]),e7=Jz.span,ZI=Se([]),t7=ZI.span,n7=ZI.span,r7=Se([Rt("delegate")]),i7=r7.span,o7=1e4;BigInt(o7);function ME(t){return Se([qi("epoch"),qi("maximumFee"),Dr("transferFeeBasisPoints")],t)}const s7=Se([Rt("transferFeeConfigAuthority"),Rt("withdrawWithheldAuthority"),qi("withheldAmount"),ME("olderTransferFee"),ME("newerTransferFee")]),a7=s7.span,l7=Se([qi("withheldAmount")]),u7=l7.span,c7=Se([Rt("authority"),Rt("programId")]),f7=c7.span,h7=Se([ma("transferring")]),d7=h7.span,AE=Se([nt("discriminator"),It(32,"addressConfig"),ma("isSigner"),ma("isWritable")]),p7=Se([Ve("count"),_n(AE,$M(AE.span),"extraAccounts")]);Se([qi("instructionDiscriminator"),Ve("length"),p7.replicate("extraAccountsList")]);var Qt;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.TransferFeeConfig=1]="TransferFeeConfig",t[t.TransferFeeAmount=2]="TransferFeeAmount",t[t.MintCloseAuthority=3]="MintCloseAuthority",t[t.ConfidentialTransferMint=4]="ConfidentialTransferMint",t[t.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",t[t.DefaultAccountState=6]="DefaultAccountState",t[t.ImmutableOwner=7]="ImmutableOwner",t[t.MemoTransfer=8]="MemoTransfer",t[t.NonTransferable=9]="NonTransferable",t[t.InterestBearingConfig=10]="InterestBearingConfig",t[t.CpiGuard=11]="CpiGuard",t[t.PermanentDelegate=12]="PermanentDelegate",t[t.NonTransferableAccount=13]="NonTransferableAccount",t[t.TransferHook=14]="TransferHook",t[t.TransferHookAccount=15]="TransferHookAccount",t[t.MetadataPointer=18]="MetadataPointer",t[t.TokenMetadata=19]="TokenMetadata"})(Qt||(Qt={}));const YI=2,m7=2;function xE(t){return t+YI+m7}function g7(t){switch(t){case Qt.TokenMetadata:return!0;default:return!1}}function y7(t){switch(t){case Qt.Uninitialized:return 0;case Qt.TransferFeeConfig:return a7;case Qt.TransferFeeAmount:return u7;case Qt.MintCloseAuthority:return e7;case Qt.ConfidentialTransferMint:return 97;case Qt.ConfidentialTransferAccount:return 286;case Qt.CpiGuard:return Fz;case Qt.DefaultAccountState:return Hz;case Qt.ImmutableOwner:return Vz;case Qt.MemoTransfer:return Yz;case Qt.MetadataPointer:return Xz;case Qt.NonTransferable:return t7;case Qt.InterestBearingConfig:return Gz;case Qt.PermanentDelegate:return i7;case Qt.NonTransferableAccount:return n7;case Qt.TransferHook:return f7;case Qt.TransferHookAccount:return d7;case Qt.TokenMetadata:throw Error(`Cannot get type length for variable extension type: ${t}`);default:throw Error(`Unknown extension type: ${t}`)}}function w7(t,e,n={}){if(t.length===0&&Object.keys(n).length===0)return e;{const r=Ha+KI+t.filter((o,i)=>i===t.indexOf(o)).map(o=>xE(y7(o))).reduce((o,i)=>o+i,0)+Object.entries(n).map(([o,i])=>{if(!g7(Number(o)))throw Error(`Extension ${o} is not variable length`);return xE(i)}).reduce((o,i)=>o+i,0);return r===VI?r+YI:r}}function v7(t,e={}){return w7(t,GI,e)}function QI(t,e,n,r,o=on,i=Ss){return _7(t,e,n,r,Buffer.alloc(0),o,i)}function _7(t,e,n,r,o,i=on,a=Ss){const c=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:Nt.programId,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1}];return new vt({keys:c,programId:a,data:o})}async function E7(t,e,n,r,o,i=on,a=Ss){const c=jz(n,r,!1,i,a),f=new at().add(QI(e.publicKey,c,r,n,i,a));return await Ol(t,f,[e],o),c}const RE=Se([nt("instruction"),nt("decimals"),Rt("mintAuthority"),nt("freezeAuthorityOption"),Rt("freezeAuthority")]);function b7(t,e,n,r,o=on){const i=[{pubkey:t,isSigner:!1,isWritable:!0}],a=Buffer.alloc(RE.span);return RE.encode({instruction:yd.InitializeMint2,decimals:e,mintAuthority:n,freezeAuthorityOption:r?1:0,freezeAuthority:r||new re(0)},a),new vt({keys:i,programId:o,data:a})}async function S7(t,e,n,r,o,i=ms.generate(),a,c=on){const f=await Uz(t),g=new at().add(Nt.createAccount({fromPubkey:e.publicKey,newAccountPubkey:i.publicKey,space:GI,lamports:f,programId:c}),b7(i.publicKey,o,n,r,c));return await Ol(t,g,[e,i],a),i.publicKey}const IE=Se([nt("instruction"),qi("amount")]);function M7(t,e,n,r,o=[],i=on){const a=Cz([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],n,o),c=Buffer.alloc(IE.span);return IE.encode({instruction:yd.MintTo,amount:BigInt(r)},c),new vt({keys:a,programId:i,data:c})}async function A7(t,e,n,r,o,i,a=[],c,f=on){const[g,_]=Oz(o,a),M=new at().add(M7(n,r,g,i,a,f));return await Ol(t,M,[e,..._],c)}const x7="C2jwo1xMeUzb2Pb4xHU72yi4HrSzDdTZKXxtaJH6M5NX",R7={name:"universal_nft",version:"0.1.0",spec:"0.1.0",description:"Created with Anchor"},I7=[{name:"create_mint",docs:["Create a new mint for NFT"],discriminator:[69,44,215,132,253,214,41,45],accounts:[{name:"program_state",writable:!0,pda:{seeds:[{kind:"const",value:[116,101,115,116,95,112,114,111,103,114,97,109,95,115,116,97,116,101]}]}},{name:"mint",writable:!0,signer:!0},{name:"mint_authority",writable:!0,signer:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"rent",address:"SysvarRent111111111111111111111111111111111"}],args:[{name:"decimals",type:"u8"}]},{name:"create_nft_origin",docs:["Create a new NFT origin record"],discriminator:[109,120,239,236,12,217,48,209],accounts:[{name:"program_state",writable:!0,pda:{seeds:[{kind:"const",value:[116,101,115,116,95,112,114,111,103,114,97,109,95,115,116,97,116,101]}]}},{name:"nft_origin",writable:!0},{name:"mint"},{name:"payer",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"_token_id",type:"u64"},{name:"origin_chain",type:"u64"},{name:"origin_token_id",type:"u64"},{name:"metadata_uri",type:"string"}]},{name:"initialize",docs:["Initialize the cross-chain NFT program"],discriminator:[175,175,109,31,13,152,155,237],accounts:[{name:"program_state",writable:!0,pda:{seeds:[{kind:"const",value:[116,101,115,116,95,112,114,111,103,114,97,109,95,115,116,97,116,101]}]}},{name:"payer",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"gateway",type:"pubkey"},{name:"next_token_id",type:"u64"}]},{name:"initiate_cross_chain_transfer",docs:["Initiate cross-chain transfer (burn NFT)"],discriminator:[137,50,17,128,147,41,7,198],accounts:[{name:"program_state",pda:{seeds:[{kind:"const",value:[116,101,115,116,95,112,114,111,103,114,97,109,95,115,116,97,116,101]}]}},{name:"nft_origin"},{name:"mint",writable:!0},{name:"user_token_account",writable:!0},{name:"user",writable:!0,signer:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],args:[{name:"_token_id",type:"u64"},{name:"destination_chain",type:"u64"},{name:"destination_owner",type:{array:["u8",32]}}]},{name:"mint_nft",docs:["Mint a new NFT on Solana"],discriminator:[211,57,6,167,15,219,35,251],accounts:[{name:"program_state",writable:!0,pda:{seeds:[{kind:"const",value:[116,101,115,116,95,112,114,111,103,114,97,109,95,115,116,97,116,101]}]}},{name:"nft_origin",writable:!0},{name:"mint",writable:!0},{name:"token_account",writable:!0},{name:"mint_authority",signer:!0},{name:"payer",writable:!0,signer:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"uri",type:"string"}]},{name:"pause",docs:["Pause the program"],discriminator:[211,22,221,251,74,121,193,47],accounts:[{name:"program_state",writable:!0,pda:{seeds:[{kind:"const",value:[116,101,115,116,95,112,114,111,103,114,97,109,95,115,116,97,116,101]}]}},{name:"admin",signer:!0}],args:[]},{name:"receive_cross_chain_message",docs:["Handle incoming cross-chain message"],discriminator:[237,72,165,133,19,63,202,44],accounts:[{name:"program_state",writable:!0,pda:{seeds:[{kind:"const",value:[116,101,115,116,95,112,114,111,103,114,97,109,95,115,116,97,116,101]}]}},{name:"nft_origin",writable:!0},{name:"mint"},{name:"payer",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"_token_id",type:"u64"},{name:"message",type:"bytes"}]},{name:"unpause",docs:["Unpause the program"],discriminator:[169,144,4,38,10,141,188,255],accounts:[{name:"program_state",writable:!0,pda:{seeds:[{kind:"const",value:[116,101,115,116,95,112,114,111,103,114,97,109,95,115,116,97,116,101]}]}},{name:"admin",signer:!0}],args:[]}],N7=[{name:"NFTOrigin",discriminator:[246,244,84,171,87,164,191,16]},{name:"ProgramState",discriminator:[77,209,137,229,149,67,167,230]}],T7=[{name:"CrossChainMessageReceived",discriminator:[83,91,165,215,175,157,189,144]},{name:"CrossChainTransferInitiated",discriminator:[127,115,45,112,245,231,24,11]},{name:"MintCreated",discriminator:[254,157,196,76,231,48,27,150]},{name:"NFTMinted",discriminator:[229,55,248,184,138,23,199,249]},{name:"NFTOriginCreated",discriminator:[120,23,198,122,225,11,0,116]},{name:"ProgramInitialized",discriminator:[43,70,110,241,199,218,221,245]},{name:"ProgramPaused",discriminator:[247,9,236,38,105,35,112,115]},{name:"ProgramUnpaused",discriminator:[193,183,146,52,180,17,21,26]}],k7=[{code:6e3,name:"ProgramPaused",msg:"Program is currently paused"},{code:6001,name:"Unauthorized",msg:"Unauthorized access"},{code:6002,name:"InvalidCrossChainMessage",msg:"Invalid cross-chain message"},{code:6003,name:"NFTOriginNotFound",msg:"NFT origin not found"},{code:6004,name:"InsufficientTokens",msg:"Insufficient tokens"},{code:6005,name:"TokenIdOverflow",msg:"Token ID overflow"}],C7=[{name:"CrossChainMessageReceived",type:{kind:"struct",fields:[{name:"token_id",type:"u64"},{name:"origin_chain",type:"u64"},{name:"mint",type:"pubkey"},{name:"recipient",type:"pubkey"}]}},{name:"CrossChainTransferInitiated",type:{kind:"struct",fields:[{name:"token_id",type:"u64"},{name:"destination_chain",type:"u64"},{name:"destination_owner",type:{array:["u8",32]}},{name:"mint",type:"pubkey"}]}},{name:"MintCreated",type:{kind:"struct",fields:[{name:"mint",type:"pubkey"},{name:"mint_authority",type:"pubkey"},{name:"decimals",type:"u8"},{name:"token_id",type:"u64"}]}},{name:"NFTMinted",type:{kind:"struct",fields:[{name:"token_id",type:"u64"},{name:"mint",type:"pubkey"},{name:"metadata_uri",type:"string"}]}},{name:"NFTOrigin",type:{kind:"struct",fields:[{name:"token_id",type:"u64"},{name:"origin_chain",type:"u64"},{name:"origin_token_id",type:"u64"},{name:"metadata_uri",type:"string"},{name:"mint",type:"pubkey"},{name:"created_at",type:"i64"},{name:"bump",type:"u8"}]}},{name:"NFTOriginCreated",type:{kind:"struct",fields:[{name:"token_id",type:"u64"},{name:"origin_chain",type:"u64"},{name:"origin_token_id",type:"u64"},{name:"mint",type:"pubkey"},{name:"metadata_uri",type:"string"}]}},{name:"ProgramInitialized",type:{kind:"struct",fields:[{name:"owner",type:"pubkey"},{name:"gateway",type:"pubkey"},{name:"initial_token_id",type:"u64"}]}},{name:"ProgramPaused",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"}]}},{name:"ProgramState",type:{kind:"struct",fields:[{name:"owner",type:"pubkey"},{name:"gateway",type:"pubkey"},{name:"next_token_id",type:"u64"},{name:"paused",type:"bool"},{name:"bump",type:"u8"}]}},{name:"ProgramUnpaused",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"}]}}],O7={address:x7,metadata:R7,instructions:I7,accounts:N7,events:T7,errors:k7,types:C7},hu=new re("C2jwo1xMeUzb2Pb4xHU72yi4HrSzDdTZKXxtaJH6M5NX"),L7={SOLANA_DEVNET:901,ZETACHAIN_TESTNET:7001,ETHEREUM_SEPOLIA:11155111,BSC_TESTNET:97,POLYGON_AMOY:80002,ARBITRUM_SEPOLIA:421614,BITCOIN_TESTNET:18332,SOLANA_MAINNET:0},XI={901:"Solana Devnet",7001:"ZetaChain Testnet (Athens)",11155111:"Ethereum Sepolia Testnet",97:"BSC Testnet",80002:"Polygon Amoy Testnet",421614:"Arbitrum Sepolia Testnet",18332:"Bitcoin Testnet",0:"Solana Mainnet"};function NE(t){return XI[t]||"Unknown Chain"}class Pt{constructor(e,n){Vt(this,"program");Vt(this,"wallet");this.wallet=n;const r=new vc(e,n,{commitment:"confirmed"});this.program=new Fl(O7,r)}static getProgramStatePDA(){return re.findProgramAddressSync([Buffer.from("test_program_state")],hu)}static getNFTOriginPDA(e){const n=this.generateNFTOriginSeed(e);return re.findProgramAddressSync([n],hu)}static generateNFTOriginSeed(e){const n=Buffer.alloc(18);return n.write("nft_origin",0),n.writeBigUInt64LE(BigInt(e),10),n}static getNFTOriginPDAMintNFT(){const e=Buffer.from("nft_origin"),n=Buffer.alloc(10).fill(0);return re.findProgramAddressSync([e,n],hu)}async initialize(e,n){try{const[r]=Pt.getProgramStatePDA();return await this.program.methods.initialize(e,new Jr(n)).accounts({programState:r,payer:this.wallet.publicKey,systemProgram:Nt.programId}).rpc()}catch(r){throw console.error("Error initializing program:",r),r}}async createMint(e){try{console.log("=== CREATE MINT START ==="),console.log("Creating mint with decimals:",e),console.log("Timestamp:",new Date().toISOString()),console.log("Wallet address:",this.wallet.publicKey.toString());const[n]=Pt.getProgramStatePDA();console.log("Program state PDA:",n.toString());const r=await this.getProgramState();if(!r)throw new Error("Failed to get program state");const i=(f=>{try{return f.toNumber()}catch{const _=f.toString(),M=Number(_);return isNaN(M)?(console.warn("Failed to convert BN to number, using 0 as fallback:",_),0):M}})(r.nextTokenId);console.log("Current program state - next token ID:",i);const a=ms.generate();console.log("Generated mint keypair:",a.publicKey.toString()),console.log("Calling program.createMint with accounts:",{programState:n.toString(),mint:a.publicKey.toString(),mintAuthority:this.wallet.publicKey.toString(),tokenProgram:on.toString(),systemProgram:Nt.programId.toString(),rent:_s.toString()});const c=await this.program.methods.createMint(e).accounts({programState:n,mint:a.publicKey,mintAuthority:this.wallet.publicKey,tokenProgram:on,systemProgram:Nt.programId,rent:_s}).signers([a]).rpc();return console.log("Transaction successful:",c),console.log("=== CREATE MINT END ==="),{signature:c,mintAddress:a.publicKey.toString()}}catch(n){throw console.error("=== CREATE MINT ERROR ==="),console.error("Error creating mint:",n),console.error("Error details:",{message:n.message,stack:n.stack,code:n.code,logs:n.logs}),console.error("=== CREATE MINT ERROR END ==="),n}}async mintNFT(e,n,r){try{console.log("=== MINT NFT START ==="),console.log("Minting NFT with URI:",e),console.log("Mint address:",n.toString()),console.log("Token account:",r.toString());const[o]=Pt.getProgramStatePDA(),i=Buffer.concat([Buffer.from("nft_origin"),n.toBuffer().slice(0,10)]),[a]=re.findProgramAddressSync([i],hu);console.log("Generated unique NFT origin PDA:",a.toString()),console.log("Seed components:",{prefix:"nft_origin",mint:n.toString(),seedLength:i.length,mintBytesUsed:n.toBuffer().slice(0,10).toString("hex")});const c=await this.program.methods.mintNft(e).accounts({programState:o,nftOrigin:a,mint:n,tokenAccount:r,mintAuthority:this.wallet.publicKey,payer:this.wallet.publicKey,tokenProgram:on,systemProgram:Nt.programId}).rpc();return console.log("NFT minting successful:",c),console.log("=== MINT NFT END ==="),c}catch(o){throw console.error("=== MINT NFT ERROR ==="),console.error("Error minting NFT:",o),console.error("Error details:",{message:o.message,stack:o.stack,code:o.code,logs:o.logs}),console.error("=== MINT NFT ERROR END ==="),o}}async createNFTOrigin(e,n,r,o,i){try{const[a]=Pt.getProgramStatePDA(),[c]=Pt.getNFTOriginPDA(e);return await this.program.methods.createNftOrigin(new Jr(e),n,new Jr(r),o).accounts({programState:a,nftOrigin:c,mint:i,payer:this.wallet.publicKey,systemProgram:Nt.programId}).rpc()}catch(a){throw console.error("Error creating NFT origin:",a),a}}async initiateCrossChainTransfer(e,n,r){try{const[o]=Pt.getProgramStatePDA(),[i]=Pt.getNFTOriginPDA(e),a=new re("11111111111111111111111111111111"),c=await this.getAssociatedTokenAddress(a);return await this.program.methods.initiateCrossChainTransfer(new Jr(e),n,Array.from(r)).accounts({programState:o,nftOrigin:i,mint:a,userTokenAccount:c,user:this.wallet.publicKey,tokenProgram:on}).rpc()}catch(o){throw console.error("Error initiating cross-chain transfer:",o),o}}async receiveCrossChainMessage(e,n,r){try{const[o]=Pt.getProgramStatePDA(),[i]=Pt.getNFTOriginPDA(e);return await this.program.methods.receiveCrossChainMessage(new Jr(e),Array.from(n)).accounts({programState:o,nftOrigin:i,mint:r,payer:this.wallet.publicKey,systemProgram:Nt.programId}).rpc()}catch(o){throw console.error("Error receiving cross-chain message:",o),o}}async pauseProgram(){try{const[e]=Pt.getProgramStatePDA();return await this.program.methods.pause().accounts({programState:e,admin:this.wallet.publicKey}).rpc()}catch(e){throw console.error("Error pausing program:",e),e}}async unpauseProgram(){try{const[e]=Pt.getProgramStatePDA();return await this.program.methods.unpause().accounts({programState:e,admin:this.wallet.publicKey}).rpc()}catch(e){throw console.error("Error unpausing program:",e),e}}async getProgramState(){try{const[e]=Pt.getProgramStatePDA();return await this.program.account.programState.fetch(e)}catch(e){return console.error("Error fetching program state:",e),null}}async getNFTOrigin(e){try{const[n]=Pt.getNFTOriginPDA(e);return await this.program.account.nftOrigin.fetch(n)}catch(n){return console.error("Error fetching NFT origin:",n),null}}async getAllNFTOrigins(){try{return(await this.program.account.nftOrigin.all()).map(n=>n.account)}catch(e){return console.error("Error fetching all NFT origins:",e),[]}}async getNFTDetails(e){try{console.log("=== GET NFT DETAILS START ==="),console.log("Fetching details for mint:",e.toString());const n=await this.program.account.mint.fetch(e);console.log("Mint account info:",n);const r=await this.getAssociatedTokenAddress(e);let o=null;try{o=await this.program.provider.connection.getAccountInfo(r),console.log("Token account info:",o)}catch{console.log("Token account not found yet")}let i=null;try{const g=Buffer.concat([Buffer.from("nft_origin"),e.toBuffer().slice(0,10)]),[_]=re.findProgramAddressSync([g],hu);i=await this.program.account.nftOrigin.fetch(_),console.log("NFT Origin info:",i)}catch{console.log("NFT Origin not found yet")}const[a]=Pt.getProgramStatePDA(),c=await this.program.account.programState.fetch(a);console.log("Program state:",c);const f={mint:e.toString(),mintInfo:n,tokenAccount:r.toString(),tokenAccountInfo:o,nftOriginInfo:i,programState:c,timestamp:new Date().toISOString()};return console.log("Complete NFT details:",f),console.log("=== GET NFT DETAILS END ==="),f}catch(n){throw console.error("=== GET NFT DETAILS ERROR ==="),console.error("Error fetching NFT details:",n),console.error("Error details:",{message:n.message,stack:n.stack,code:n.code}),console.error("=== GET NFT DETAILS ERROR END ==="),n}}async getNFTDetailsWithChainInfo(e){var n,r,o,i,a,c,f;try{console.log("=== GET ENHANCED NFT DETAILS START ==="),console.log("Fetching enhanced details for mint:",e.toString());const g=await this.getNFTDetails(e),_={...g,originChainName:NE(((n=g.nftOriginInfo)==null?void 0:n.originChain)||901),currentChainName:"Solana Devnet",crossChainInfo:{isCrossChain:((r=g.nftOriginInfo)==null?void 0:r.originChain)!==901,originalChain:NE(((o=g.nftOriginInfo)==null?void 0:o.originChain)||901),originalTokenId:(a=(i=g.nftOriginInfo)==null?void 0:i.originTokenId)==null?void 0:a.toString(),hasBeenTransferred:((c=g.nftOriginInfo)==null?void 0:c.originChain)!==901,chainId:((f=g.nftOriginInfo)==null?void 0:f.originChain)||901},chainMapping:{availableChains:XI,chainIds:L7,currentChain:{id:901,name:"Solana Devnet",alias:"solana_devnet"}}};return console.log("Enhanced NFT details:",_),console.log("=== GET ENHANCED NFT DETAILS END ==="),_}catch(g){throw console.error("=== GET ENHANCED NFT DETAILS ERROR ==="),console.error("Error getting enhanced NFT details:",g),console.error("Error details:",{message:g.message,stack:g.stack,code:g.code}),console.error("=== GET ENHANCED NFT DETAILS ERROR END ==="),g}}async getAllNFTsWithChainInfo(){try{console.log("=== GET ALL NFTS WITH CHAIN INFO START ===");const e=await this.program.provider.connection.getParsedTokenAccountsByOwner(this.wallet.publicKey,{programId:on});console.log("All token accounts found:",e.value.length);const n=[];for(const r of e.value){const o=r.account.data.parsed.info.mint,i=r.account.data.parsed.info.tokenAmount.uiAmount;if(i>0)try{const a=await this.getNFTDetailsWithChainInfo(new re(o));n.push({...a,balance:i,tokenAccount:r.pubkey.toString()})}catch{console.log("Could not fetch details for mint:",o),n.push({mint:o,balance:i,tokenAccount:r.pubkey.toString(),error:"Could not fetch details",chainInfo:{currentChain:"Solana Devnet",chainId:901}})}}return console.log("All NFTs with chain info:",n),console.log("=== GET ALL NFTS WITH CHAIN INFO END ==="),n}catch(e){throw console.error("=== GET ALL NFTS WITH CHAIN INFO ERROR ==="),console.error("Error fetching all NFTs with chain info:",e),console.error("Error details:",{message:e.message,stack:e.stack,code:e.code}),console.error("=== GET ALL NFTS WITH CHAIN INFO ERROR END ==="),e}}async getAssociatedTokenAddress(e){return await re.findProgramAddress([this.wallet.publicKey.toBuffer(),on.toBuffer(),e.toBuffer()],Ss).then(([n])=>n)}}class du{static async createMint(e,n,r,o,i=0){return await S7(e,n,r,o,i,void 0,void 0,on)}static async createAssociatedTokenAccount(e,n,r,o){const i=await Jg(r,o,!1,on,Ss);return await E7(e,n,o,r),i}static async getOrCreateAssociatedTokenAccount(e,n,r,o){try{const i=await Jg(r,o,!1,on,Ss);if(await Bz(e,i))return i}catch{}return await this.createAssociatedTokenAccount(e,n,r,o)}static async mintTokens(e,n,r,o,i,a){return await A7(e,n,r,o,i,a)}static isValidPublicKey(e){try{return new re(e),!0}catch{return!1}}static formatPublicKey(e,n=8){const r=typeof e=="string"?e:e.toString();return r.length<=n*2?r:`${r.slice(0,n)}...${r.slice(-n)}`}static stringToUint8Array(e){return new TextEncoder().encode(e)}static uint8ArrayToString(e){return new TextDecoder().decode(e)}}const B7=()=>{var z;const{connection:t}=U2(),e=s0(),[n,r]=ae.useState(null),[o,i]=ae.useState([]),[a,c]=ae.useState(!1),[f,g]=ae.useState(null),[_,M]=ae.useState(null),S=ae.useCallback(async()=>{if(!(!e.connected||!t))try{c(!0),g(null);const P=new Pt(t,e),W=await P.getProgramState();r(W);const U=await P.getAllNFTOrigins();i(U)}catch(P){console.error("Error loading program data:",P),g(P.message||"Failed to load program data")}finally{c(!1)}},[e.connected,t]),E=ae.useCallback(async(P,W,U)=>{if(!e.connected||!t||!e.publicKey)throw new Error("Wallet not connected");if(!du.isValidPublicKey(P)||!du.isValidPublicKey(W))throw new Error("Invalid public key format");try{c(!0),g(null),M(null);const j=await new Pt(t,e).initialize(new re(W),U);return M(`Program initialized! Signature: ${j}`),setTimeout(S,2e3),j}catch(F){const j=F.message||"Failed to initialize program";throw g(j),new Error(j)}finally{c(!1)}},[e.connected,t,e.publicKey,S]),A=ae.useCallback(async P=>{if(!e.connected||!t||!e.publicKey)throw new Error("Wallet not connected");try{c(!0),g(null),M(null);const W=new Pt(t,e),{signature:U,mintAddress:F}=await W.createMint(P);return M(`Mint account created! Address: ${F} | Signature: ${U}`),setTimeout(S,2e3),{signature:U,mintAddress:F}}catch(W){const U=W.message||"Failed to create mint account";throw g(U),new Error(U)}finally{c(!1)}},[e.connected,t,e.publicKey,S]),k=ae.useCallback(async(P,W)=>{if(!e.connected||!t||!e.publicKey)throw new Error("Wallet not connected");if(!du.isValidPublicKey(W))throw new Error("Invalid mint address format");try{c(!0),g(null),M(null);const U=new Pt(t,e),F=new re(W),j=await Jg(F,e.publicKey);if(!await t.getAccountInfo(j)){console.log("Creating Associated Token Account...");const s=QI(e.publicKey,j,e.publicKey,F),u=new at().add(s),h=await e.sendTransaction(u,t);await t.confirmTransaction(h),console.log("Associated Token Account created:",h)}const d=await U.mintNFT(P,F,j);return M(`NFT minted! Signature: ${d}`),setTimeout(S,2e3),d}catch(U){const F=U.message||"Failed to mint NFT";throw g(F),new Error(F)}finally{c(!1)}},[e.connected,t,e.publicKey,S]),C=ae.useCallback(async(P,W,U,F,j)=>{if(!e.connected||!t||!e.publicKey)throw new Error("Wallet not connected");if(!du.isValidPublicKey(j))throw new Error("Invalid mint address format");try{c(!0),g(null),M(null);const V=new Pt(t,e),d=new re(j),s=await V.createNFTOrigin(P,W,U,F,d);return M(`NFT origin created! Signature: ${s}`),setTimeout(S,2e3),s}catch(V){const d=V.message||"Failed to create NFT origin";throw g(d),new Error(d)}finally{c(!1)}},[e.connected,t,e.publicKey,S]),R=ae.useCallback(async(P,W,U)=>{if(!e.connected||!t||!e.publicKey)throw new Error("Wallet not connected");try{c(!0),g(null),M(null);const F=new Pt(t,e),j=new Uint8Array(32),V=await F.initiateCrossChainTransfer(P,W,j);return M(`Transfer initiated! Signature: ${V}`),setTimeout(S,2e3),V}catch(F){const j=F.message||"Failed to initiate transfer";throw g(j),new Error(j)}finally{c(!1)}},[e.connected,t,e.publicKey,S]),T=ae.useCallback(async(P,W,U)=>{if(!e.connected||!t||!e.publicKey)throw new Error("Wallet not connected");if(!du.isValidPublicKey(U))throw new Error("Invalid mint address format");try{c(!0),g(null),M(null);const F=new Pt(t,e),j=new re(U),V=new TextEncoder().encode(W),d=await F.receiveCrossChainMessage(P,V,j);return M(`Message received! Signature: ${d}`),setTimeout(S,2e3),d}catch(F){const j=F.message||"Failed to receive message";throw g(j),new Error(j)}finally{c(!1)}},[e.connected,t,e.publicKey,S]),N=ae.useCallback(async()=>{if(!e.connected||!t||!e.publicKey)throw new Error("Wallet not connected");try{c(!0),g(null),M(null);const W=await new Pt(t,e).pauseProgram();return M(`Program paused! Signature: ${W}`),setTimeout(S,2e3),W}catch(P){const W=P.message||"Failed to pause program";throw g(W),new Error(W)}finally{c(!1)}},[e.connected,t,e.publicKey,S]),O=ae.useCallback(async()=>{if(!e.connected||!t||!e.publicKey)throw new Error("Wallet not connected");try{c(!0),g(null),M(null);const W=await new Pt(t,e).unpauseProgram();return M(`Program unpaused! Signature: ${W}`),setTimeout(S,2e3),W}catch(P){const W=P.message||"Failed to unpause program";throw g(W),new Error(W)}finally{c(!1)}},[e.connected,t,e.publicKey,S]),D=ae.useCallback(()=>{g(null),M(null)},[]);return ae.useEffect(()=>{e.connected&&t&&S()},[e.connected,t,S]),{programState:n,nftOrigins:o,loading:a,error:f,success:_,initialize:E,createMint:A,mintNFT:k,createNFTOrigin:C,initiateTransfer:R,receiveMessage:T,pauseProgram:N,unpauseProgram:O,clearMessages:D,loadProgramData:S,isConnected:e.connected,wallet:(z=e.publicKey)==null?void 0:z.toString()}},P7=()=>{const{programState:t,nftOrigins:e,loading:n,error:r,success:o,initialize:i,createMint:a,mintNFT:c,createNFTOrigin:f,initiateTransfer:g,receiveMessage:_,pauseProgram:M,unpauseProgram:S,clearMessages:E,isConnected:A}=B7(),[k,C]=ae.useState("overview"),[R,T]=ae.useState({owner:"",gateway:"",nextTokenId:1}),[N,O]=ae.useState({uri:"",mint:""}),[D,z]=ae.useState({decimals:0}),[P,W]=ae.useState(null),[U,F]=ae.useState({tokenId:1,originChain:0,metadataUri:""}),[j,V]=ae.useState({tokenId:1,destinationChain:1}),[d,s]=ae.useState({tokenId:1,message:""}),u=Y=>{try{return Y.toNumber()}catch{const ct=Y.toString(),ce=Number(ct);return isNaN(ce)?(console.warn("Failed to convert BN to number, using 0 as fallback:",ct),0):ce}},h=t?{owner:t.owner.toString(),gateway:t.gateway.toString(),nextTokenId:u(t.nextTokenId),paused:t.paused,bump:t.bump}:null,p=e.map(Y=>({tokenId:u(Y.tokenId),originChain:Y.originChain,originTokenId:u(Y.originTokenId),metadataUri:Y.metadataUri,mint:Y.mint.toString(),createdAt:u(Y.createdAt),bump:Y.bump})),y=async Y=>{Y.preventDefault();try{await i(R.owner,R.gateway,R.nextTokenId)}catch{}},v=async Y=>{Y.preventDefault();try{await c(N.uri,N.mint)}catch{}},b=async Y=>{Y.preventDefault();try{const ne=await a(D.decimals);ne!=null&&ne.mintAddress&&(W(ne.mintAddress),O(ct=>({...ct,mint:ne.mintAddress})))}catch{}},m=async Y=>{Y.preventDefault();try{await f(U.tokenId,U.originChain,U.tokenId,U.metadataUri,"11111111111111111111111111111111")}catch{}},l=async Y=>{Y.preventDefault();try{await g(j.tokenId,j.destinationChain,j.destinationChain)}catch{}},w=async Y=>{Y.preventDefault();try{await _(d.tokenId,d.message,"11111111111111111111111111111111")}catch{}},K=async()=>{try{await M()}catch{}},$=async()=>{try{await S()}catch{}},q=[{id:"overview",label:"Overview"},{id:"initialize",label:"Initialize"},{id:"create-mint",label:"Create Mint"},{id:"mint",label:"Mint NFT"},{id:"create-origin",label:"Create Origin"},{id:"transfer",label:"Cross-Chain Transfer"},{id:"receive",label:"Receive Message"},{id:"admin",label:"Admin"}],ue=()=>{switch(k){case"overview":return te.jsxs("div",{className:"space-y-6",children:[!A&&te.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:te.jsx("p",{className:"text-yellow-800",children:"Please connect your wallet to view program data"})}),n&&te.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:te.jsx("p",{className:"text-blue-800",children:"Loading program data..."})}),r&&te.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[te.jsx("p",{className:"text-red-800",children:r}),te.jsx("button",{onClick:E,className:"mt-2 text-sm text-red-600 hover:text-red-800 underline",children:"Dismiss"})]}),o&&te.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[te.jsx("p",{className:"text-green-800",children:o}),te.jsx("button",{onClick:E,className:"mt-2 text-sm text-green-600 hover:text-green-800 underline",children:"Dismiss"})]}),te.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[te.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[te.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Total NFTs"}),te.jsx("p",{className:"text-3xl font-bold text-blue-600",children:p.length})]}),te.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[te.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Program Status"}),te.jsx("p",{className:`text-3xl font-bold ${h!=null&&h.paused?"text-red-600":"text-green-600"}`,children:h!=null&&h.paused?"Paused":"Active"})]}),te.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[te.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Next Token ID"}),te.jsx("p",{className:"text-3xl font-bold text-purple-600",children:(h==null?void 0:h.nextTokenId)||0})]})]}),h&&te.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[te.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Program Details"}),te.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[te.jsxs("div",{children:[te.jsx("p",{className:"text-sm text-gray-600",children:"Owner"}),te.jsx("p",{className:"text-sm font-mono text-gray-900 break-all",children:h.owner})]}),te.jsxs("div",{children:[te.jsx("p",{className:"text-sm text-gray-600",children:"Gateway"}),te.jsx("p",{className:"text-sm font-mono text-gray-900 break-all",children:h.gateway})]})]})]})]});case"initialize":return te.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 max-w-2xl",children:[te.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Initialize Program"}),te.jsxs("form",{onSubmit:y,className:"space-y-4",children:[te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Owner Address"}),te.jsx("input",{type:"text",value:R.owner,onChange:Y=>T({...R,owner:Y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter owner public key",required:!0})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gateway Address"}),te.jsx("input",{type:"text",value:R.gateway,onChange:Y=>T({...R,gateway:Y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter gateway public key",required:!0})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Initial Token ID"}),te.jsx("input",{type:"number",value:R.nextTokenId,onChange:Y=>T({...R,nextTokenId:parseInt(Y.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",required:!0})]}),te.jsx("button",{type:"submit",disabled:n||!A,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg disabled:cursor-not-allowed",children:n?"Initializing...":"Initialize Program"})]})]});case"create-mint":return te.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 max-w-2xl",children:[te.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create Mint Account"}),te.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[te.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"What happens when you create a mint?"}),te.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[te.jsx("li",{children:"• A new SPL Token mint account is created with the specified decimals"}),te.jsx("li",{children:"• You become the mint authority and freeze authority"}),te.jsx("li",{children:"• An NFT origin record is automatically created"}),te.jsx("li",{children:"• The mint address will be displayed after successful creation"})]})]}),te.jsxs("form",{onSubmit:b,className:"space-y-4",children:[te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Decimals"}),te.jsx("input",{type:"number",value:D.decimals,onChange:Y=>z({...D,decimals:parseInt(Y.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",max:"9",required:!0}),te.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"For NFTs, typically use 0 decimals"})]}),te.jsx("button",{type:"submit",disabled:n||!A,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg disabled:cursor-not-allowed",children:n?"Creating Mint...":"Create Mint Account"})]}),P&&te.jsxs("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:[te.jsx("h4",{className:"text-sm font-medium text-green-800 mb-2",children:"✅ Mint Account Created Successfully!"}),te.jsxs("div",{className:"space-y-2",children:[te.jsx("p",{className:"text-sm text-green-700",children:te.jsx("span",{className:"font-medium",children:"Mint Address:"})}),te.jsx("p",{className:"text-sm font-mono text-green-800 break-all bg-green-100 p-2 rounded",children:P}),te.jsx("p",{className:"text-xs text-green-600",children:"Save this address - you'll need it to mint NFTs or perform other operations."}),te.jsx("button",{onClick:()=>{W(null),z({decimals:0})},className:"mt-3 text-sm bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded-md transition-colors",children:"Create Another Mint"})]})]})]});case"mint":return te.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 max-w-2xl",children:[te.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Mint New NFT"}),te.jsxs("form",{onSubmit:v,className:"space-y-4",children:[te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Metadata URI"}),te.jsx("input",{type:"url",value:N.uri,onChange:Y=>O({...N,uri:Y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://arweave.net/your-metadata",required:!0})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mint Address"}),te.jsx("input",{type:"text",value:N.mint,onChange:Y=>O({...N,mint:Y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter mint public key",required:!0})]}),te.jsx("button",{type:"submit",disabled:n||!A,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg disabled:cursor-not-allowed",children:n?"Minting...":"Mint NFT"})]})]});case"create-origin":return te.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 max-w-2xl",children:[te.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create NFT Origin Record"}),te.jsxs("form",{onSubmit:m,className:"space-y-4",children:[te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Token ID"}),te.jsx("input",{type:"number",value:U.tokenId,onChange:Y=>F({...U,tokenId:parseInt(Y.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",required:!0})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Origin Chain"}),te.jsx("input",{type:"number",value:U.originChain,onChange:Y=>F({...U,originChain:parseInt(Y.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",required:!0})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Metadata URI"}),te.jsx("input",{type:"url",value:U.metadataUri,onChange:Y=>F({...U,metadataUri:Y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://arweave.net/your-metadata",required:!0})]}),te.jsx("button",{type:"submit",disabled:n||!A,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg disabled:cursor-not-allowed",children:n?"Creating...":"Create NFT Origin"})]})]});case"transfer":return te.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 max-w-2xl",children:[te.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Initiate Cross-Chain Transfer"}),te.jsxs("form",{onSubmit:l,className:"space-y-4",children:[te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Token ID"}),te.jsx("input",{type:"number",value:j.tokenId,onChange:Y=>V({...j,tokenId:parseInt(Y.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",required:!0})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Destination Chain"}),te.jsx("input",{type:"number",value:j.destinationChain,onChange:Y=>V({...j,destinationChain:parseInt(Y.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",required:!0})]}),te.jsx("button",{type:"submit",disabled:n||!A,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg disabled:cursor-not-allowed",children:n?"Initiating...":"Initiate Transfer"})]})]});case"receive":return te.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 max-w-2xl",children:[te.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Receive Cross-Chain Message"}),te.jsxs("form",{onSubmit:w,className:"space-y-4",children:[te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Token ID"}),te.jsx("input",{type:"number",value:d.tokenId,onChange:Y=>s({...d,tokenId:parseInt(Y.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",required:!0})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cross-Chain Message"}),te.jsx("textarea",{value:d.message,onChange:Y=>s({...d,message:Y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 h-32 resize-none",placeholder:"Enter cross-chain message",required:!0})]}),te.jsx("button",{type:"submit",disabled:n||!A,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg disabled:cursor-not-allowed",children:n?"Receiving...":"Receive Message"})]})]});case"admin":return te.jsx("div",{className:"space-y-6",children:te.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[te.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Program Control"}),te.jsxs("div",{className:"flex space-x-4",children:[te.jsx("button",{onClick:K,disabled:n||!A||(h==null?void 0:h.paused),className:"bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg disabled:cursor-not-allowed",children:n?"Pausing...":"Pause Program"}),te.jsx("button",{onClick:$,disabled:n||!A||!(h!=null&&h.paused),className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg disabled:cursor-not-allowed",children:n?"Unpausing...":"Unpause Program"})]})]})});default:return null}};return te.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[te.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:te.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:te.jsxs("div",{className:"flex justify-between items-center h-16",children:[te.jsxs("div",{className:"flex items-center space-x-3",children:[te.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:te.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded"})}),te.jsx("h1",{className:"text-xl font-bold text-blue-600",children:"Universal NFT"})]}),te.jsx(IP,{})]})})}),te.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[te.jsx("div",{className:"mb-8",children:te.jsx("nav",{className:"flex space-x-1 bg-white p-1 rounded-xl shadow-sm border border-gray-200",children:q.map(Y=>te.jsx("button",{onClick:()=>C(Y.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 ${k===Y.id?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:Y.label},Y.id))})}),te.jsx("div",{children:ue()})]}),te.jsx("footer",{className:"bg-white border-t border-gray-200 mt-16",children:te.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:te.jsxs("div",{className:"text-center text-gray-600",children:[te.jsx("p",{children:"Universal NFT - Cross-Chain NFT Platform"}),te.jsx("p",{className:"text-sm mt-2",children:"Built with Solana and Anchor Framework"})]})})})]})},D7=()=>te.jsx(RP,{children:te.jsx(P7,{})});Fp.createRoot(document.getElementById("root")).render(te.jsx(fe.StrictMode,{children:te.jsx(D7,{})}));export{Vd as E,re as P,Wi as S,at as T,Cl as V,un as a,js as b,Yi as g};
//# sourceMappingURL=index-CyYWAwB2.js.map
